<?php

namespace app\model\Illuminate;

use Illuminate\Database\Eloquent\Model;

class Opentest extends Model
{

	protected $fillable = ['name', 'enable', 'opentest_id', 'isTest',];
	public $timestamps = false;

//	protected $hidden = array('childs');
//	protected $appends = array('childPaths');
//
//	public function getNodeAttribute() {
//		return $this->childPaths;
//	}

	public function questions()
	{
		return $this->hasMany(Openquestion::class);
	}

	public function opentests()
	{
		return $this->hasMany(Opentest::class);
	}

	public function childs()
	{
		return $this->hasMany(Opentest::class)->with('opentests');
	}

	public function childPaths()
	{
		return $this->hasMany(Opentest::class)->where('isTest', 0)->with('childPaths');
	}

//	public function node()
//	{
//		return $this->childPaths()
//			->with('node');
//	}

	public static function getCorrectAnswers()
	{
		exit(json_encode($_SESSION['correct_answers']));
	}


}

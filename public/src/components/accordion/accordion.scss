@import '../../var';
@import '../../mixin_media';
@import './partials/variables';
// colors, fonts etc...
@import './partials/layout'; // responsive grid and media queries

[accordion] {
  min-width: 160px;
  display: flex;
  flex-flow: column;
  background: darken($color-level-0, 5%);


  a {
    padding: $item-padding-M $item-padding-M+14 $item-padding-M 29px;
    font-size: .8rem;
    min-height: 10px;
    display: flex;
    align-items: center;
    color: #ffffff;
  }

  /* by default hide all sub menus */
  ul {
    max-height: 0;
    overflow: hidden;
    transition: max-height .1s;
  }


  li {
    user-select: none;
    position: relative;
    cursor: pointer;

    &.rotate > .label > .arrow {
      transform: rotate(0deg);
    }

    a { // isTest
      display: flex;

      .img {
        width: 16px;
        height: 16px;
        background: url(./img/cd-icons.svg) no-repeat -48px 0;
        margin: 0 5px;
        flex: 0 0 16px;
      }
    }
  }

  .label {
    padding-top: 12px;
    padding-bottom: 12px;
    padding-right: 12px;
    color: #ffffff;
  }

  & > li > .label, & > li > a {
    display: flex;
    align-items: center;
    padding: 12px 22px 12px 12px;
    color: $color-3;
    font-size: .7rem;

    &:hover {
      background: tint($color-level-0, 3%);
    }

  }

  .current {
    border-left: 4px solid lighten($color-main, 10%);
    color: lighten($color-main, 10%);
  }


  .level-1 {
    background: $color-level-2;


    .label {
      padding-left: 24px;

      &:hover {
        background-color: tint($color-level-2, 3%);

      }
    }
  }


  .level-2 {
    background-color: $color-level-3;

    .label {
      padding-left: 36px;

      &:hover {
        background-color: tint($color-level-3, 3%);

      }
    }
  }

  .level-3 {
    background: $color-level-3;

    &:hover {
      background: tint($color-level-3, 3%);
    }
  }


  .update {
    position: absolute;
    top: 20px;
    transform: translateY(-50%);
    right: 0;
    padding: 8px 3px 8px;
    //background: url("../icons/edit.svg") no-repeat;

    & svg {
      stroke: #ffffff;

      &:hover {
        stroke: $color-main;
      }
    }

    &:after {
      display: none;
    }

  }


  .label {
    display: flex;
    align-items: center;

    .arrow {
      flex: 0 0 17px;
      height: 16px;
      background: url(./img/cd-icons.svg) no-repeat 1px 0;

      transform: rotate(-90deg);
      transition: transform 200ms;
    }

    .img {
      width: 16px;
      height: 16px;
      background: url(./img/cd-icons.svg) no-repeat -16px 0;
      margin: 0 5px;
    }
  }

  > li:last-of-type > label,
  > li:last-of-type > a,
  > li > ul > li:last-of-type label,
  > li > ul > li:last-of-type a {
    box-shadow: none;
  }

  ul ul label,
  ul ul a {
    padding-left: ($item-padding-S * 5) + 40px;
  }

  ul ul ul label,
  ul ul ul a {
    padding-left: ($item-padding-S * 6) + 10px;
  }


  @include MQ(M) {
    .label {
      padding: $item-padding-M $item-padding-M+10 $item-padding-M $item-padding-M;
      font-size: .8rem;
      min-height: 10px;
    }

    a {
      padding: $item-padding-M $item-padding-M+14 $item-padding-M 29px;
      font-size: .8rem;
      min-height: 10px;
      display: flex;
      align-items: center;
      color: #ffffff;
    }

    ul {
      label {
        padding-left: ($item-padding-M ) + 10px;
      }

      a {
        padding-left: ($item-padding-M ) + 25px;
      }
    }

    ul ul label,
    ul ul a {
      padding-left: ($item-padding-M * 5) + 14px;
    }

    ul ul ul label,
    ul ul ul a {
      padding-left: ($item-padding-M * 3) + 40px;
    }
  }

}


.accordion_wrap {
  max-width: 0px;
  transition: max-width 1s;
  margin-bottom: 25px;

  @include _800 {
    min-width: 100%;
  }

  &.open {
    max-width: 200px;
  }
}


.admin-layout__sidebar {
  display: flex;
  flex-flow: column;
  max-width: 160px;
  background: darken($color-admin-sidebar, 5%);

  @include _800 {
    flex: 1 0 140px;
    width: 100%;

  }

  [accordion] svg {
    margin: 0 9px;
    height: 15px;
    flex: 0 0 15px;
  }

  /* arrow icon */
  label {
    &::before {
      left: initial;
      right: 12px;
    }
  }

  .admin-sidebar__logo {
    display: flex;
    padding: 0;
    background-color: darken($color-admin-sidebar, 5%);
    justify-content: center;

    .logo_vitex {
      position: relative;
      align-self: start;
      border-bottom: none;
      height: 89px;
      width: 120px;

      @include _800 {
        width: 110px;
      }
    }
  }

  li, a {
    border-bottom: lighten($color-admin-sidebar, 5%) 1px solid;
    border-top: darken($color-admin-sidebar, 5%) 1px solid;
  }


  .admin-layout__sidebar-tail {
    flex: 1 0 auto;
  }

}
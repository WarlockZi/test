import './test-edit.scss'
import '../components/footer/footer.scss'

import './test-edit-menu.scss'
import '../components/popup.scss'

import './test-update'
import '../Admin/admin'

import {$} from '../common'

import {_openquestion} from "./model/opentest/openquestion"
import sortable from "../components/sortable"

import opentestEditActions from "./opentestEditActions";


let opentestEdit = $('.opentest-edit-wrapper')[0]
if (opentestEdit) {
  sortable('.opentest-edit-wrapper .questions',
    '.opentest-edit-wrapper .question-edit',
    'openquestion')

// при создании нового теста показать пустой вопрос
  if (!_openquestion.questionCnt
    && /\/adminsc\/opentest\/edit/.test(window.location.pathname)) {
    _openquestion.showFirst()
  }

  // debugger

  opentestEdit.addEventListener('click',
    ({target}) => {
      opentestEditActions(target, 'click')
    }
  )
  opentestEdit.addEventListener('change',
    ({target}) => {
      opentestEditActions(target, 'change')
    }
  )


}





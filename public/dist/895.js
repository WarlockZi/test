"use strict";(self.webpackChunkmy_webpack_project=self.webpackChunkmy_webpack_project||[]).push([[895],{9895:(t,e,s)=>{s.d(e,{default:()=>a});var i=s(6584);class a{constructor(t=!1){this.admin=t;let e=(0,i.$)(".utils .search").first(),s=(0,i.$)(".search-panel").first();e&&s&&(this.button=e,this.panel=s,this.text=(0,i.$)(s).find(".text"),this.result=(0,i.$)(s).find(".result"),this.closeBtn=(0,i.$)(s).find(".close"),this.button.onclick=this.showPanel.bind(this),this.panel.onclick=this.closePanel.bind(this),this.debouncedKeyUp=(0,i.sg)(this.find,800),this.text.onkeyup=this.debouncedKeyUp.bind(this),this.closeBtn.onklick=this.closePanel.bind(this))}showPanel(){this.panel.classList.toggle("show"),this.result.innerHTML="",this.text.value=""}closePanel({target:t}){(t.classList.contains("search-panel")||t.classList.contains("close"))&&(this.panel.classList.toggle("show"),this.result.innerHTML="",this.text.value="")}async find({target:t}){this.result.innerHTML="";let e=t.value;if(!e)return!1;let s=await(0,i.bE)("/search",{text:e});s?.arr?.found&&(this.result.style.display="initial",this.makeString(s?.arr?.found))}makeString(t){t.map((t=>{this.result.append(this.createLi(t))}))}composeHref(t){return this.admin?`/adminsc/product/edit/${t.id}`:`/product/${t.slug}`}createLi(t){let e=(0,i.a_)("li"),s=(0,i.a_)("a");s.href=this.composeHref(t),t.deleted_at&&s.classList.add("deleted"),e.appendChild(s);let a=(0,i.a_)("div","name",t.name),n=(0,i.a_)("div","art",t.art),l=(0,i.a_)("img");return l.src=t.mainImage,s.append(n),s.append(a),s.append(l),e.append(s),e}}}}]);
//# sourceMappingURL=895.js.map
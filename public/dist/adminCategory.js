$((function(){function e(e){return{token:$("#token").val(),url:"/adminsc",model:"category",table:"category",action:e||"update",pkey:"id",pkeyVal:"nul",values:{}}}$(".category-update-btn").on("click",(function(){var t=new e("update");t.pkeyVal=$("#id").text(),t.values.name=$("#name").text(),t.values.alias=$("#alias").text(),t.values.title=$("#title").text(),t.values.keywords=$("#keywords").text(),t.values.description=$("#description").text(),t.values.core=$("#core").text(),t.values.text=$("#text").text();var o=$(".properties select option:selected"),n=[];for(let e of o)e.value&&n.push(e.value);n=uniq(n),t.values.props=n.join(","),setTimeout((function(){post(t.url,t)}),800)})),$(".properties.column").on("change",".new-prop",(function(){let t=$(this).find("option:selected").val(),o=$(this).clone(!0);$(this).removeClass("new-prop"),$(o).find("option[value = "+t+"]").remove(),$(".properties.column option[value= "+t+"]").not($(this).find("option:selected")).remove(),$(o).insertBefore($(".add-property"));var n=new e("update");n.pkeyVal=$("#id").text();var l=$(".properties select option:selected"),s=[];for(let e of l)e.value&&s.push(e.value);s=uniq(s),n.values.props=s.join(","),n.values.props=s.join(","),setTimeout((function(){post(n.url,n)}),800)})),$(".properties.column").on("change","select",(function(){var t=new e("update");t.pkeyVal=$("#id").text();var o=$(".properties select option:selected"),n=[];for(let e of o)e.value&&n.push(e.value);n=uniq(n),t.values.props=n.join(","),t.values.props=n.join(","),setTimeout((function(){post(t.url,t)}),800)}))}));
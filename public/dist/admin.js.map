{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://my-webpack-project/./public/src/common.js","webpack://my-webpack-project/./public/src/components/dnd/dnd.js","webpack://my-webpack-project/./public/src/components/error/error.js","webpack://my-webpack-project/webpack/bootstrap","webpack://my-webpack-project/webpack/runtime/define property getters","webpack://my-webpack-project/webpack/runtime/hasOwnProperty shorthand","webpack://my-webpack-project/./public/src/components/accordion/accordion.js","webpack://my-webpack-project/./public/src/components/admin_sidebar.js","webpack://my-webpack-project/./public/src/components/date/date.js","webpack://my-webpack-project/./public/src/Test/Mode/Model.js","webpack://my-webpack-project/./public/src/Test/Mode/Testresult.js","webpack://my-webpack-project/./public/src/Test/test_results/test_results.js","webpack://my-webpack-project/./public/src/Test/model/opentest/openquestion.js","webpack://my-webpack-project/./node_modules/sortablejs/modular/sortable.esm.js","webpack://my-webpack-project/./public/src/components/sortable.js","webpack://my-webpack-project/./public/src/Test/model/opentest/opentest.js","webpack://my-webpack-project/./public/src/Test/model/opentest/openanswer.js","webpack://my-webpack-project/./public/src/Test/test-pagination/test-pagination.js","webpack://my-webpack-project/./public/src/components/pagination/pagination.js","webpack://my-webpack-project/./public/src/Test/opentest-edit.js","webpack://my-webpack-project/./public/src/Test/model/test.js","webpack://my-webpack-project/./public/src/Test/Mode/Answer.js","webpack://my-webpack-project/./public/src/Test/Mode/Question.js","webpack://my-webpack-project/./public/src/Test/test-edit.js","webpack://my-webpack-project/./public/src/Test/do.js","webpack://my-webpack-project/./public/src/Test/open_test.js","webpack://my-webpack-project/./public/src/components/morph/MorphDTO.js","webpack://my-webpack-project/./public/src/components/morph/morph.js","webpack://my-webpack-project/./public/src/components/checkboxes/checkboxes.js","webpack://my-webpack-project/./public/src/components/checkbox/checkbox.js","webpack://my-webpack-project/./public/src/components/select/WDSSelect.js","webpack://my-webpack-project/./public/src/Admin/admin.js","webpack://my-webpack-project/./public/src/components/select/select.js","webpack://my-webpack-project/./public/src/components/radio/radio.js","webpack://my-webpack-project/./public/src/components/multiselect/multiselect.js","webpack://my-webpack-project/./public/src/components/catalog-item/catalog-item.js","webpack://my-webpack-project/./public/src/components/tooltip/tooltip.js","webpack://my-webpack-project/./public/src/components/quill/quill.js","webpack://my-webpack-project/./public/src/components/accordion-show.js","webpack://my-webpack-project/./public/src/Admin/Category/category1.js","webpack://my-webpack-project/./public/src/Admin/Product/product.js"],"sourcesContent":["import './common.scss'\r\n// import './Admin/admin.scss'\r\nimport error from './components/error/error'\r\n\r\n\r\nexport function objAndData2FormData(obj, files, formData = new FormData) {\r\n  // self = {}\r\n  self.formData = formData;\r\n  for (let i = 0; i < files.length; i++) {\r\n    self.formData.append(i, files[i])\r\n  }\r\n  self.createFormData = function (obj, subKeyStr = '') {\r\n    for (let i in obj) {\r\n      let value = obj[i];\r\n      let subKeyStrTrans = subKeyStr ? subKeyStr + '[' + i + ']' : i;\r\n\r\n      if (typeof (value) === 'string' || typeof (value) === 'number') {\r\n        self.formData.append(subKeyStrTrans, value);\r\n      } else if (typeof (value) === 'object') {\r\n        self.createFormData(value, subKeyStrTrans);\r\n      }\r\n    }\r\n  }\r\n  self.createFormData(obj);\r\n  return self.formData;\r\n}\r\n\r\n\r\nconst debounce = (fn, time = 700) => {\r\n  let timeout;\r\n  return function () {\r\n    const functionCall = () => fn.apply(this, arguments);\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(functionCall, time);\r\n  }\r\n}\r\n\r\nfunction IsJson(str) {\r\n  try {\r\n    JSON.parse(str);\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\n\r\nfunction replaceNbsps(str) {\r\n  var re = new RegExp('&nbsp;?', \"g\");\r\n  return str.replace(re, \" \");\r\n}\r\n\r\nfunction replaceNs(str) {\r\n  var re = new RegExp('\\\\n?', \"g\");\r\n  return str.replace(re, \"\");\r\n}\r\n\r\nfunction replaceTs(str) {\r\n  var re = new RegExp('\\\\t?', \"g\");\r\n  return str.replace(re, \"\");\r\n}\r\n\r\nfunction replaceSpace(str) {\r\n  var re = new RegExp('\\s', \"g\");\r\n  return str.replace(re, \"\");\r\n}\r\n\r\nfunction replaceBackSpace(str) {\r\n  return str.trim();\r\n}\r\n\r\nfunction formatDate(date, time) {\r\n  let t = new Date()\r\n  let now = t.now()\r\n  let dateArr = now.split('-')\r\n  debugger\r\n  let formattedDate = dateArr.forEach((s) => {\r\n    if (s === 'yyyy') return t.getFullYear\r\n    if (s === 'm') return t.getMonth\r\n  })\r\n}\r\n\r\nfunction trimStr(str) {\r\n  str = replaceNbsps(str)\r\n  str = replaceNs(str)\r\n  str = replaceTs(str)\r\n  // str = replaceSpace(str)\r\n  str = replaceBackSpace(str)\r\n  return str\r\n}\r\n\r\nfunction setMorph(data) {\r\n  if (!data.model) return\r\n  if (!data.id) return\r\n  if (!data.morph) return\r\n  let url = getMorphUrl(data.model, data.id)\r\n\r\n\r\n}\r\n\r\nfunction getMorphUrl(model, id) {\r\n  return `/adminsc/${model}/createOrUpdate/${id}`\r\n}\r\n\r\nfunction getFieldUrl(model, id) {\r\n  return `/adminsc/${model}/createOrUpdate/${id}`\r\n}\r\n\r\n\r\nfunction cachePage(className) {\r\n  let html = $(className)[0].outerHTML\r\n  return trimStr(html)\r\n}\r\n\r\nlet validate = {\r\n  sort: () => {\r\n    let error = this.nextElementSibling\r\n    let ar = this.value.match(/\\D+/)\r\n    if (ar) {\r\n      error.innerText = 'Только цифры'\r\n      error.style.opacity = '1'\r\n    } else {\r\n      if (error.style.opacity === \"1\") {\r\n        error.style.opacity = '0'\r\n      }\r\n    }\r\n  },\r\n  email: (email) => {\r\n    if (!email) return false\r\n    let text = \"Неправильный формат почты\"\r\n    let re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    let res = re.test(String(email).toLowerCase())\r\n    if (!res) return text\r\n    return false\r\n  },\r\n  password: (password) => {\r\n    if (!password) return false\r\n    let text = \"Пароль может состоять из \\n \" +\r\n      \"- Большие латинские бкувы \\n\" +\r\n      \"- Маленькие латинские буквы \\n\" +\r\n      \"- Цифры \\n\" +\r\n      \"- Должен содержать не менее 6 символов\"\r\n    let res = /^[a-zA-Z\\-0-9]{6,20}$/.test(password)\r\n    if (!res) return text\r\n    return false\r\n  }\r\n}\r\n\r\n\r\n// function up() {\r\n//    var top = Math.max(document.body.scrollTop, document.documentElement.scrollTop);\r\n//    if (top > 0) {\r\n//       window.scrollBy(0, -100);\r\n//       var t = setTimeout('up()', 20);\r\n//    }\r\n//    else\r\n//       clearTimeout(t);\r\n//    return false;\r\n// }\r\n\r\nlet popup = {\r\n\r\n  show: function (txt, callback) {\r\n    let close = this.el('div', 'popup__close')\r\n    close.innerText = 'X'\r\n    let popup__item = this.el('div', 'popup__item')\r\n\r\n    popup__item.innerText = txt\r\n    popup__item.append(close)\r\n    let popup = $('.popup')[0]\r\n    if (!popup) {\r\n      popup = this.el('div', 'popup')\r\n    }\r\n    popup.append(popup__item)\r\n    popup.addEventListener('click', this.close, true)\r\n    document.body.append(popup)\r\n    let hideDelay = 5000;\r\n    setTimeout(() => {\r\n      popup__item.classList.remove('popup__item')\r\n      popup__item.classList.add('popup-hide')\r\n    }, hideDelay)\r\n    let removeDelay = hideDelay + 950;\r\n    setTimeout(() => {\r\n      popup__item.remove()\r\n      if (callback) {\r\n        callback()\r\n      }\r\n    }, removeDelay)\r\n  },\r\n\r\n  close: function (e) {\r\n    if (e.target.classList.contains('popup__close')) {\r\n      let popup = this.closest('.popup').remove()\r\n    }\r\n  },\r\n  el: function (tagName, className) {\r\n    let el = document.createElement(tagName)\r\n    el.classList.add(className)\r\n    return el\r\n  }\r\n}\r\n\r\nasync function get(key) {\r\n  let p = window.location.search;\r\n  p = p.match(new RegExp(key + '=([^&=]+)'));\r\n  return p ? p[1] : false;\r\n}\r\n\r\nasync function post(url, data = {}) {\r\n\r\n  return new Promise(async function (resolve, reject) {\r\n      data.token = document.querySelector('meta[name=\"token\"]').getAttribute('content')\r\n      let req = new XMLHttpRequest();\r\n      req.open('POST', url, true);\r\n      req.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\r\n      if (data instanceof FormData) {\r\n        req.send(data);\r\n      } else {\r\n        req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\r\n        req.send('param=' + JSON.stringify(data));\r\n      }\r\n      req.onerror = function (e) {\r\n        reject(Error(\"Network Error\" + e.message));\r\n      };\r\n      req.onload = function () {\r\n        try {\r\n          const res = JSON.parse(req.response)\r\n          let msg = $('.message')[0]\r\n\r\n          if (res?.popup || res?.arr?.popup) {\r\n\r\n            popup.show(res.popup ?? res?.arr?.popup)\r\n          } else if (res.msg) {\r\n            if (msg) {\r\n              msg.innerHTML = res.msg\r\n              msg.innerHTML = res.msg\r\n              $(msg).removeClass('success')\r\n              $(msg).removeClass('error')\r\n            }\r\n          } else if (res.success) {\r\n            if (msg) {\r\n              msg.innerHTML = res.success\r\n              $(msg).addClass('success')\r\n              $(msg).removeClass('error')\r\n            }\r\n          } else if (res.error) {\r\n            error(res.error)\r\n          }\r\n          resolve(res);\r\n        } catch (e) {\r\n          console.log('////////////********* REQUEST ERROR ***********//////////////////////')\r\n          console.log(req.response)\r\n          return false\r\n        }\r\n      }\r\n    }\r\n  )\r\n\r\n}\r\n\r\nclass ElementCollection extends Array {\r\n\r\n  on(event, cbOrSelector, cb) {\r\n    if (typeof cbOrSelector === 'function') {\r\n      this.forEach(e => e.addEventListener(event, cbOrSelector))\r\n    } else {\r\n      let elems = this[0].querySelectorAll(cbOrSelector)\r\n      elems.forEach(elem => {\r\n        elem.addEventListener(event, cb)\r\n      })\r\n    }\r\n  }\r\n\r\n  value = function () {\r\n    return this[0].getAttribute('value')\r\n  }\r\n  first = function () {\r\n    return this[0]\r\n  }\r\n  attr = function (attrName, attrVal) {\r\n    if (attrVal) {\r\n      this[0].setAttribute(attrName, attrVal)\r\n    }\r\n    return this[0].getAttribute(attrName)\r\n  }\r\n  selectedIndexValue = function () {\r\n    if (this.length)\r\n      return this[0].selectedOptions[0].value\r\n  }\r\n  options = function () {\r\n    if (this.length) return this[0].options\r\n  }\r\n  count = function () {\r\n    return this.length\r\n  }\r\n  text = function () {\r\n    if (this.length) return this[0].innerText\r\n  }\r\n  checked = function () {\r\n    if (this.length) return this[0].checked\r\n  }\r\n  getWithStyle = function (attr, val) {\r\n    let arr = []\r\n    this.forEach((s) => {\r\n      if (s.style[attr] === val) {\r\n        arr.push(s)\r\n      }\r\n    })\r\n    return arr\r\n  }\r\n  addClass = function (className) {\r\n    this.forEach((s) => {\r\n      s.classList.add(className)\r\n    })\r\n  }\r\n  removeClass = function (className) {\r\n    this.forEach((s) => {\r\n      s.classList.remove(className)\r\n    })\r\n  }\r\n  hasClass = function (className) {\r\n    if (this.classList.contains(className)) return true\r\n  }\r\n  append = function (el) {\r\n    this[0].appendChild(el)\r\n  }\r\n  find = function (item) {\r\n    if (typeof item === 'string') {\r\n      return this[0].querySelector(item)\r\n    } else {\r\n      let filtered = this[0].filter((el) => {\r\n        return el === item\r\n      })\r\n      return filtered[0]\r\n    }\r\n  }\r\n  findAll = function (item) {\r\n    if (typeof item === 'string') {\r\n      return this[0].querySelectorAll(item)\r\n    }\r\n  }\r\n\r\n\r\n  css = function (attr, val) {\r\n    if (!val) {\r\n      return this[0].style[attr]\r\n    }\r\n    this.forEach((s) => {\r\n      s.style[attr] = val\r\n    })\r\n  }\r\n\r\n  ready(cb) {\r\n    const isReady = this.some(e => {\r\n      return e.readyState != null && e.readyState != 'loading'\r\n    })\r\n    if (isReady) {\r\n      cb()\r\n    } else {\r\n      document.addEventListener('DOMContentLoaded', cb)\r\n    }\r\n  }\r\n}\r\n\r\n\r\nfunction $(selector) {\r\n  if (typeof selector === 'string' || selector instanceof String) {\r\n    return new ElementCollection(...document.querySelectorAll(selector))\r\n  } else {\r\n    return new ElementCollection(selector)\r\n  }\r\n}\r\n\r\nexport function fragmentDate(date, order, y, m, d, glue) {\r\n  let o = new Date(date)\r\n\r\n  let monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n    \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\r\n  ];\r\n  let dayNames = [\"Понедельник\", \"Вторник\", \"Среда\", \"Четверг\", \"Пятница\", \"Суббота\", \"Воскресенье\"];\r\n\r\n  let yyyy = o.getFullYear()\r\n  let mm = o.getMonth() + 1\r\n  let dd = o.getDate()\r\n  let M = monthNames[o.getMonth()]\r\n  let D = o.getDay()\r\n  let wd = dayNames[o.getDay()]\r\n\r\n  if (dd < 10) dd = '0' + dd;\r\n  if (mm < 10) mm = '0' + mm;\r\n  return {yyyy, mm, dd, M, D, wd}\r\n}\r\n\r\nfunction addTooltip(args) {\r\n\r\n  [].forEach.call(args, (el) => {\r\n    el.onmouseenter = function () {\r\n      let tip = document.createElement('div')\r\n      tip.classList.add('tip')\r\n      tip.innerText = args.message\r\n\r\n      el.append(tip)\r\n      let remove = () => tip.remove()\r\n      tip.addEventListener('mousemove', remove.bind(tip), true)\r\n    }.bind(args)\r\n\r\n    el.onmouseleave = () => {\r\n      let tip = el.querySelector('.tip')\r\n      tip.remove()\r\n    }\r\n  })\r\n}\r\n\r\n\r\nexport {\r\n  cachePage,\r\n  trimStr,\r\n  addTooltip,\r\n  popup,\r\n  debounce,\r\n  IsJson,\r\n  post, get,\r\n  validate, $,\r\n  formatDate\r\n}\r\n","// import './dnd.scss'\r\nimport {$} from '../../common'\r\n\r\nexport function Dnd(cb, holderClass = '[dnd]') {\r\n  let holders = $(holderClass);\r\n  if(!holders) return false;\r\n\r\n  // debugger\r\n  [].forEach.call(holders, function (h) {\r\n\r\n    h.ondragenter = function (e) {\r\n      e.preventDefault()\r\n      this.classList.toggle('hover')\r\n      return false\r\n    }\r\n    h.ondragleave = function (e) {\r\n      e.preventDefault()\r\n      this.classList.toggle('hover')\r\n      return false\r\n    }\r\n    h.ondragover = function (e) {//без ondragover не работает drop\r\n      e.preventDefault()\r\n      return false;\r\n    }\r\n    h.ondrop = function (e) {\r\n      e.preventDefault()\r\n      // debugger\r\n      cb(e.dataTransfer.files, e.target)\r\n    }\r\n  })\r\n\r\n}","import './error.scss'\r\nimport {$} from '../../common'\r\n\r\nexport default function error(message) {\r\n  // debugger\r\n  let adm_content = $('.adm-content')[0]\r\n  if (!adm_content) return\r\n\r\n  let div = document.createElement('div')\r\n  div.classList.add('message')\r\n  div.classList.add('error')\r\n  div.innerText = message\r\n  adm_content.prepend(div)\r\n  setTimeout(errorHide.bind(this), 3000)\r\n\r\n  function errorHide() {\r\n    function errorRemove() {\r\n      div.remove()\r\n    }\r\n\r\n    div.style.scale = 0\r\n    setTimeout(errorRemove.bind(this), 500)\r\n  }\r\n}\r\n\r\n\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","import './accordion.scss'\r\nimport {$} from '../../common'\r\n\r\nlet accordions = $('[accordion]')\r\nif (accordions) {\r\n  $('[accordion]').on('click', handle)\r\n}\r\n\r\nfunction handle({target}) {\r\n  let li = target.closest('li')\r\n  // debugger\r\n  if (!li) return\r\n\r\n  let ul = $(li).find('ul')\r\n  if (!ul) {\r\n    rotateArrow(li)\r\n  } else {\r\n    if (ul.classList.contains('open')) {\r\n      close(ul, li)\r\n    } else {\r\n      let parentUl = getParentUl(li)\r\n      closeSiblings(parentUl)\r\n      parent = getParent(li)\r\n      open(ul, li, parent)\r\n    }\r\n  }\r\n}\r\nfunction rotateArrow(li) {\r\n  let arrow = $(li).find('.arrow')\r\n  if (!arrow) return\r\n  arrow.classList.toggle('rotate')\r\n}\r\n\r\nfunction getParent(li) {\r\n  let parent = li.parentNode.closest('.open')\r\n  if (parent) {\r\n    return parent.closest('ul')\r\n  } else {\r\n    return null\r\n  }\r\n}\r\n\r\nfunction getParentUl(li) {\r\n  let parent = li.closest('.open')\r\n  return parent ?? null\r\n}\r\n\r\n\r\n\r\nfunction closeSiblings(parent) {\r\n  if (!parent) return\r\n  let open = $(parent).find('.open')\r\n  if (open) {\r\n    let li = open.closest('li')\r\n    close(open, li)\r\n  }\r\n}\r\n\r\nfunction close(ul, li) {\r\n  ul.style.maxHeight = 0 + \"px\";\r\n  ul.classList.toggle('open')\r\n  rotateArrow(li)\r\n  closeChild(ul)\r\n}\r\n\r\nfunction closeChild(ul) {\r\n  let openedChild = ul.querySelector('.open')\r\n  if (openedChild) {\r\n    openedChild.style.maxHeight = 0 + \"px\";\r\n  }\r\n}\r\n\r\nfunction open(ul, li, parent) {\r\n  if (parent) {\r\n    parent.style.maxHeight = ul.scrollHeight + parent.scrollHeight + \"px\";\r\n  }\r\n  ul.style.maxHeight = ul.scrollHeight + \"px\";\r\n  ul.classList.toggle('open')\r\n  li.querySelector('.arrow').classList.toggle('rotate')\r\n}\r\n\r\n// let checkboxes = $(`[accordion] [type='checkbox']`)\r\n// if (checkboxes) {\r\n//   [...checkboxes].filter(ch => {\r\n//     ch.checked = false\r\n//   })\r\n// }","import {$} from '../common'\r\nlet sidebar = $('.admin_sidebar')[0]\r\nif (sidebar) {\r\n  $('svg#burger').on('click', function () {\r\n    let accordion = $('.admin_sidebar [accordion]')[0]\r\n    accordion.classList.toggle('show')\r\n  })\r\n}\r\n\r\n","import {$, fragmentDate} from '../../common'\r\nimport './date.scss'\r\n\r\nlet dates = $('[custom-date]')\r\n\r\nif (dates){\r\n  for (let date of dates) {\r\n    date.onchange = function ({target}) {\r\n      let {yyyy,mm,dd} = fragmentDate(target.value)\r\n\r\n      let formated = `${yyyy}-${mm}-${dd}`\r\n      let d = target.value\r\n      target.setAttribute('data-value',formated)\r\n    }\r\n\r\n  }\r\n}\r\n","import {$, post} from \"../../common\";\r\n\r\nexport default class Model {\r\n\r\n  constructor(props) {\r\n    this.id = 0\r\n  }\r\n\r\n  get empty() {\r\n    return $(this.emptySelector)[0].cloneNode(true)\r\n  }\r\n\r\n  getElById(id) {\r\n    if (!id) return false\r\n    return $(this.className).filter(\r\n      (el) => {\r\n        return el.dataset.id === id\r\n      })[0];\r\n  }\r\n\r\n  getEl() {\r\n    return this.target.closest(this.className)\r\n  }\r\n\r\n  getId() {\r\n    return this.getEl().dataset.id\r\n  }\r\n\r\n  getUrlUpdateOrCreate() {\r\n    return `/adminsc/${this.name}/updateOrCreate`\r\n  }\r\n\r\n  updateOrCreate() {\r\n    return post(this.getUrlUpdateOrCreate(), this.model)\r\n  }\r\n\r\n  delServer() {\r\n    return post(`/adminsc/${this.name}/delete`, {id: this.id})\r\n  }\r\n\r\n  delDom() {\r\n    let selector = this.delDomSelector;\r\n    [].map.call($(selector), function (i) {\r\n        i.remove()\r\n      }\r\n    )\r\n  }\r\n\r\n  async delete() {\r\n    if (!confirm('Удалить?')) return false\r\n    this.id = this.getId()\r\n    if (await this.delServer()) {\r\n      this.delDom()\r\n    }\r\n\r\n  }\r\n\r\n}","import Model from \"./Model\";\r\n\r\nexport default class Testresult extends Model{\r\n\r\n  constructor(){\r\n    super()\r\n    this.name = 'testresult'\r\n    this.id = 0\r\n  }\r\n\r\n  get delDomSelector(){\r\n    return `[data-row = '${this.id}']`\r\n  }\r\n\r\n}","import './test-results.scss'\r\nimport {$} from '../../common'\r\nimport Testresult from \"../Mode/Testresult\";\r\n\r\nlet testResults = $('.test-results__table')[0]\r\nif (testResults) {\r\n  $(testResults).on('click', handleClick)\r\n}\r\n\r\nfunction handleClick({target}) {\r\n  if (!!target.closest('.del-btn')) {\r\n    let testresult = new Testresult()\r\n    let id = target.closest('.del-btn').dataset.row\r\n    testresult.delete(id)\r\n  }\r\n}\r\n","import {$, popup, post, addTooltip} from \"../../../common\"\r\n\r\nclass openquestion {\r\n\r\n  model = 'openquestion'\r\n  questions = $('.questions>.question-edit')\r\n  testId = +$('.questions')[0]?.dataset.testId ?? null\r\n  questionCnt = $('.questions>.question-edit').length ?? null\r\n\r\n  async create(target) {\r\n    let id = 0\r\n    let opentest_id = this.testId\r\n    let sort = this.questionCnt + 1\r\n    let res = await post(`/adminsc/${this.model}/updateOrCreate`,\r\n      {id, opentest_id, sort})\r\n    if (res.arr.id) {\r\n      let clone = this.cloneEmptyModel()\r\n      // let addBtn = target.closest('.question__create-button')\r\n\r\n      clone.querySelector('.sort').innerText = this.questionCnt + 1\r\n      clone.querySelector('.text').innerText = ''\r\n      clone.dataset.id = res.arr.id\r\n      target.before(clone)\r\n    }\r\n  }\r\n\r\n  cloneEmptyModel() {\r\n    let question = $('.questions .question-edit')[0]\r\n    if (question) {\r\n      let q = question.cloneNode(true)\r\n      let ans = q.querySelectorAll('.row .answer');\r\n      [].forEach.call(ans, function (answer) {\r\n        answer.remove()\r\n      })\r\n      return q\r\n    }\r\n  }\r\n\r\n  async sort(upToQestionNumber) {\r\n\r\n    let questionsEls = this.questions.filter(function (el, i) {\r\n        if (i + 1 < upToQestionNumber) return el\r\n      }\r\n    )\r\n    let toChange = questionsEls.map((el) => {\r\n      return el.dataset.id\r\n    })\r\n    let res = await post(`/${this.model}/sort`, {toChange})\r\n\r\n    questionsEls.map((el, i) => {\r\n      $(el).find('.sort').innerText = i + 1\r\n\r\n    })\r\n  }\r\n\r\n\r\n  async changeParent(target) {\r\n\r\n    let opt = target.options[target.selectedIndex]\r\n    let test_id = +opt.value\r\n    if (!test_id) return\r\n\r\n    let question = target.closest('.question-edit')\r\n    let id = question.dataset.id\r\n\r\n\r\n    let test_name = target.innerText\r\n\r\n    let res = await post(`/adminsc/${this.model}/changeParent`,\r\n      {id, test_id})\r\n\r\n    if (res) {\r\n      question.remove()\r\n      popup.show('Перемещен в ' + test_name)\r\n    }\r\n  }\r\n\r\n  showAnswers(target) {\r\n    let row = target.closest('.question-edit')\r\n    let answers = $(row).find('.question__answers')\r\n    answers.classList.toggle('height')\r\n    answers.classList.toggle('scale')\r\n    target.classList.toggle('rotate')\r\n  }\r\n\r\n  async del(target) {\r\n    if (confirm(\"Удалить вопрос со всеми его ответами?\")) {\r\n      let question = target.closest('.question-edit')\r\n      let id = question.dataset.id\r\n\r\n      let res = await post(`/adminsc/${this.model}/delete`, {id})\r\n      if (res) {\r\n        question.remove()\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport const _openquestion = new openquestion()","/**!\n * Sortable 1.15.0\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar version = \"1.15.0\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !! /*@__PURE__*/navigator.userAgent.match(pattern);\n  }\n}\n\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\n\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction matches(\n/**HTMLElement*/\nel,\n/**String*/\nselector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n\n  return false;\n}\n\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\n\nfunction closest(\n/**HTMLElement*/\nel,\n/**String*/\nselector,\n/**HTMLElement*/\nctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n\n  return null;\n}\n\nvar R_SPACE = /\\s+/g;\n\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\n\nfunction css(el, prop, val) {\n  var style = el && el.style;\n\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\n\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n\n    } while (!selfOnly && (el = el.parentNode));\n  }\n\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n\n  return matrixFn && new matrixFn(appliedTransforms);\n}\n\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n        i = 0,\n        n = list.length;\n\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n\n    return list;\n  }\n\n  return [];\n}\n\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n/**\n * Returns the \"bounding client rect\" of given element\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\n * @param  {[HTMLElement]} container              The parent the element will be placed in\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\n */\n\n\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n\n  if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n\n      } while (container = container.parentNode);\n    }\n  }\n\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n        scaleX = elMatrix && elMatrix.a,\n        scaleY = elMatrix && elMatrix.d;\n\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n/**\n * Checks if a side of an element is scrolled past a side of its parents\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\n */\n\n\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n      elSideVal = getRect(el)[elSide];\n  /* jshint boss:true */\n\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n        visible = void 0;\n\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n\n  return false;\n}\n/**\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n * and non-draggable elements\n * @param  {HTMLElement} el       The parent element\n * @param  {Number} childNum      The index of the child\n * @param  {Object} options       Parent Sortable's options\n * @return {HTMLElement}          The child at index childNum, or null if not found\n */\n\n\nfunction getChild(el, childNum, options, includeDragEl) {\n  var currentChild = 0,\n      i = 0,\n      children = el.children;\n\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && (includeDragEl || children[i] !== Sortable.dragged) && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n\n      currentChild++;\n    }\n\n    i++;\n  }\n\n  return null;\n}\n/**\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n * @param  {HTMLElement} el       Parent element\n * @param  {selector} selector    Any other elements that should be ignored\n * @return {HTMLElement}          The last child, ignoring ghostEl\n */\n\n\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n\n  return last || null;\n}\n/**\n * Returns the index of an element within its parent for a selected set of\n * elements\n * @param  {HTMLElement} el\n * @param  {selector} selector\n * @return {number}\n */\n\n\nfunction index(el, selector) {\n  var index = 0;\n\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n  /* jshint boss:true */\n\n\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n\n  return index;\n}\n/**\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n * The value is returned in real pixels.\n * @param  {HTMLElement} el\n * @return {Array}             Offsets in the format of [left, top]\n */\n\n\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n      offsetTop = 0,\n      winScroller = getWindowScrollingElement();\n\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n          scaleX = elMatrix.a,\n          scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n\n  return [offsetLeft, offsetTop];\n}\n/**\n * Returns the index of the object within the given array\n * @param  {Array} arr   Array that may or may not hold the object\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\n * @return {Number}      The index of the object in the array, or -1\n */\n\n\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n\n  return -1;\n}\n\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n\n  } while (elem = elem.parentNode);\n\n  return getWindowScrollingElement();\n}\n\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n\n  return dst;\n}\n\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\n\nvar _throttleTimeout;\n\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n          _this = this;\n\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\n\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\n\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\n\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\n\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\n\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\n\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n      animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n\n        var fromRect = _objectSpread2({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n\n      var animating = false,\n          animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n            target = state.target,\n            fromRect = target.fromRect,\n            toRect = getRect(target),\n            prevFromRect = target.prevFromRect,\n            prevToRect = target.prevToRect,\n            animatingRect = state.rect,\n            targetMatrix = matrix(target, true);\n\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n\n        target.toRect = toRect;\n\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        } // if fromRect != toRect: animate\n\n\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n\n          if (!time) {\n            time = _this.options.animation;\n          }\n\n          _this.animate(target, animatingRect, toRect, time);\n        }\n\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d,\n            translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n            translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        this.forRepaintDummy = repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\n\nfunction repaint(target) {\n  return target.offsetWidth;\n}\n\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n\n    plugins.forEach(function (p) {\n      if (p.pluginName === plugin.pluginName) {\n        throw \"Sortable: Cannot mount plugin \".concat(plugin.pluginName, \" more than once\");\n      }\n    });\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n\n    this.eventCanceled = false;\n\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      } // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n\n\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized; // Add default options from plugin\n\n      _extends(defaults, initialized.defaults);\n    });\n\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n      rootEl = _ref.rootEl,\n      name = _ref.name,\n      targetEl = _ref.targetEl,\n      cloneEl = _ref.cloneEl,\n      toEl = _ref.toEl,\n      fromEl = _ref.fromEl,\n      oldIndex = _ref.oldIndex,\n      newIndex = _ref.newIndex,\n      oldDraggableIndex = _ref.oldDraggableIndex,\n      newDraggableIndex = _ref.newDraggableIndex,\n      originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n      options = sortable.options,\n      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n  var allEventProperties = _objectSpread2(_objectSpread2({}, extraEventProperties), PluginManager.getEventProperties(name, sortable));\n\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar _excluded = [\"evt\"];\n\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      originalEvent = _ref.evt,\n      data = _objectWithoutProperties(_ref, _excluded);\n\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread2({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\n\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread2({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\n\nvar dragEl,\n    parentEl,\n    ghostEl,\n    rootEl,\n    nextEl,\n    lastDownEl,\n    cloneEl,\n    cloneHidden,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    activeGroup,\n    putSortable,\n    awaitingDragStarted = false,\n    ignoreNextClick = false,\n    sortables = [],\n    tapEvt,\n    touchEvt,\n    lastDx,\n    lastDy,\n    tapDistanceLeft,\n    tapDistanceTop,\n    moved,\n    lastTarget,\n    lastDirection,\n    pastFirstInvertThresh = false,\n    isCircumstantialInvert = false,\n    targetMoveDistance,\n    // For positioning ghost absolutely\nghostRelativeParent,\n    ghostRelativeParentInitialScroll = [],\n    // (left, top)\n_silent = false,\n    savedInputChecked = [];\n/** @const */\n\nvar documentExists = typeof document !== 'undefined',\n    PositionGhostAbsolutely = IOS,\n    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n    // This will not pass for IE9, because IE9 DnD only works on anchors\nsupportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n    supportCssPointerEvents = function () {\n  if (!documentExists) return; // false when <= IE11\n\n  if (IE11OrLess) {\n    return false;\n  }\n\n  var el = document.createElement('x');\n  el.style.cssText = 'pointer-events:auto';\n  return el.style.pointerEvents === 'auto';\n}(),\n    _detectDirection = function _detectDirection(el, options) {\n  var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n  if (elCSS.display === 'flex') {\n    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n  }\n\n  if (elCSS.display === 'grid') {\n    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n  }\n\n  if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n    var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n  }\n\n  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n},\n    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n},\n\n/**\r\n * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\r\n * @param  {Number} x      X position\r\n * @param  {Number} y      Y position\r\n * @return {HTMLElement}   Element of the first found nearest Sortable\r\n */\n_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n  var ret;\n  sortables.some(function (sortable) {\n    var threshold = sortable[expando].options.emptyInsertThreshold;\n    if (!threshold || lastChild(sortable)) return;\n    var rect = getRect(sortable),\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n    if (insideHorizontally && insideVertically) {\n      return ret = sortable;\n    }\n  });\n  return ret;\n},\n    _prepareGroup = function _prepareGroup(options) {\n  function toFn(value, pull) {\n    return function (to, from, dragEl, evt) {\n      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n      if (value == null && (pull || sameGroup)) {\n        // Default pull value\n        // Default pull and put value if same group\n        return true;\n      } else if (value == null || value === false) {\n        return false;\n      } else if (pull && value === 'clone') {\n        return value;\n      } else if (typeof value === 'function') {\n        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n      } else {\n        var otherGroup = (pull ? to : from).options.group.name;\n        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n      }\n    };\n  }\n\n  var group = {};\n  var originalGroup = options.group;\n\n  if (!originalGroup || _typeof(originalGroup) != 'object') {\n    originalGroup = {\n      name: originalGroup\n    };\n  }\n\n  group.name = originalGroup.name;\n  group.checkPull = toFn(originalGroup.pull, true);\n  group.checkPut = toFn(originalGroup.put);\n  group.revertClone = originalGroup.revertClone;\n  options.group = group;\n},\n    _hideGhostForTarget = function _hideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', 'none');\n  }\n},\n    _unhideGhostForTarget = function _unhideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', '');\n  }\n}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\nif (documentExists && !ChromeForAndroid) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\n\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\n\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n/**\r\n * @class  Sortable\r\n * @param  {HTMLElement}  el\r\n * @param  {Object}       [options]\r\n */\n\n\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n\n  this.el = el; // root element\n\n  this.options = options = _extends({}, options); // Export instance\n\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window && !Safari,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n\n  _prepareGroup(options); // Bind all private methods\n\n\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  } // Setup drag mode\n\n\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  } // Bind events\n\n\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n\n  sortables.push(this.el); // Restore sorting\n\n  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n  _extends(this, AnimationStateManager());\n}\n\nSortable.prototype =\n/** @lends Sortable.prototype */\n{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart(\n  /** Event|TouchEvent */\n  evt) {\n    if (!evt.cancelable) return;\n\n    var _this = this,\n        el = this.el,\n        options = this.options,\n        preventOnFilter = options.preventOnFilter,\n        type = evt.type,\n        touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n        target = (touch || evt).target,\n        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n        filter = options.filter;\n\n    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n    if (dragEl) {\n      return;\n    }\n\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    } // cancel dnd if original target is content editable\n\n\n    if (originalTarget.isContentEditable) {\n      return;\n    } // Safari ignores further event handling after mousedown\n\n\n    if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\n      return;\n    }\n\n    target = closest(target, options.draggable, el, false);\n\n    if (target && target.animated) {\n      return;\n    }\n\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    } // Get the index of the dragged element within its parent\n\n\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable); // Check filter\n\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n\n      if (filter) {\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    } // Prepare `dragstart`\n\n\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch,\n  /** HTMLElement */\n  target) {\n    var _this = this,\n        el = _this.el,\n        options = _this.options,\n        ownerDocument = el.ownerDocument,\n        dragStartFn;\n\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n\n          return;\n        } // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n\n\n        _this._disableDelayedDragEvents();\n\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        } // Bind the events: dragstart/dragend\n\n\n        _this._triggerDragStart(evt, touch); // Drag start event\n\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        }); // Chosen item\n\n\n        toggleClass(dragEl, options.chosenClass, true);\n      }; // Disable \"draggable\"\n\n\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mouseup', _this._onDrop);\n      on(ownerDocument, 'touchend', _this._onDrop);\n      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n\n      pluginEvent('delayStart', this, {\n        evt: evt\n      }); // Delay is impossible for native DnD in Edge or IE\n\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n\n          return;\n        } // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n\n\n        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n  /** TouchEvent|PointerEvent **/\n  e) {\n    var touch = e.touches ? e.touches[0] : e;\n\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n\n    try {\n      if (document.selection) {\n        // Timeout neccessary for IE9\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n\n    awaitingDragStarted = false;\n\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n\n      var options = this.options; // Apply effect\n\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost(); // Drag start event\n\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n\n      _hideGhostForTarget();\n\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n\n          target = parent; // store last element\n        }\n        /* jshint boss:true */\n        while (parent = parent.parentNode);\n      }\n\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove(\n  /**TouchEvent*/\n  evt) {\n    if (tapEvt) {\n      var options = this.options,\n          fallbackTolerance = options.fallbackTolerance,\n          fallbackOffset = options.fallbackOffset,\n          touch = evt.touches ? evt.touches[0] : evt,\n          ghostMatrix = ghostEl && matrix(ghostEl, true),\n          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n\n        this._onDragStart(evt, true);\n      }\n\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n          options = this.options; // Position absolutely\n\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl); // Set transform-origin\n\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart(\n  /**Event*/\n  evt,\n  /**boolean*/\n  fallback) {\n    var _this = this;\n\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n\n      return;\n    }\n\n    pluginEvent('setupClone', this);\n\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.removeAttribute(\"id\");\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n\n      this._hideClone();\n\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    } // #1143: IFrame support workaround\n\n\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n\n      _this._hideClone();\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n\n      on(document, 'drop', _this); // #1276 fix:\n\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        target = evt.target,\n        dragRect,\n        targetRect,\n        revert,\n        options = this.options,\n        group = options.group,\n        activeSortable = Sortable.active,\n        isOwner = activeGroup === group,\n        canSort = options.sort,\n        fromSortable = putSortable || activeSortable,\n        vertical,\n        _this = this,\n        completedFired = false;\n\n    if (_silent) return;\n\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread2({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    } // Capture animation state\n\n\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n\n      _this.captureAnimationState();\n\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    } // Return invocation when dragEl is inserted (or completed)\n\n\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        } // Animation\n\n\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      } // Null lastTarget if it is not inside a previously swapped element\n\n\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      } // no bubbling and not fallback\n\n\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    } // Call when dragEl has been inserted\n\n\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n\n    ignoreNextClick = false;\n\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = parentEl !== rootEl) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (revert) {\n        parentEl = rootEl; // actualization\n\n        capture();\n\n        this._hideClone();\n\n        dragOverEvent('revert');\n\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n\n        return completed(true);\n      }\n\n      var elLastChild = lastChild(el, options.draggable);\n\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // Insert to end of list\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        } // if there is a last element, it is the target\n\n\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n\n        if (target) {\n          targetRect = getRect(target);\n        }\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n\n          if (elLastChild && elLastChild.nextSibling) {\n            // the last draggable element is not the last node\n            el.insertBefore(dragEl, elLastChild.nextSibling);\n          } else {\n            el.appendChild(dragEl);\n          }\n\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (elLastChild && _ghostIsFirst(evt, vertical, this)) {\n        // Insert to start of list\n        var firstChild = getChild(el, 0, options, true);\n\n        if (firstChild === dragEl) {\n          return completed(false);\n        }\n\n        target = firstChild;\n        targetRect = getRect(target);\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, false) !== false) {\n          capture();\n          el.insertBefore(dragEl, firstChild);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n            targetBeforeFirstSwap,\n            differentLevel = dragEl.parentNode !== el,\n            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n            side1 = vertical ? 'top' : 'left',\n            scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        } // If dragEl is already beside target: Do not insert\n\n\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n            after = false;\n        after = direction === 1;\n\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n\n          parentEl = dragEl.parentNode; // actualization\n          // must be done before animation\n\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n\n          changed();\n          return completed(true);\n        }\n      }\n\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        options = this.options; // Get the index of the dragged element within its parent\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n\n    if (Sortable.eventCanceled) {\n      this._nulling();\n\n      return;\n    }\n\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n\n    _cancelNextTick(this.cloneId);\n\n    _cancelNextTick(this._dragStartId); // Unbind events\n\n\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n\n    this._offMoveEvents();\n\n    this._offUpEvents();\n\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n\n    css(dragEl, 'transform', '');\n\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n\n        _disableDraggable(dragEl);\n\n        dragEl.style['will-change'] = ''; // Remove classes\n        // ghostClass is added in dragStarted\n\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n\n        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            }); // Remove event\n\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // drag from one list and drop into another\n\n\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          }); // Save sorting\n\n\n          this.save();\n        }\n      }\n    }\n\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent(\n  /**Event*/\n  evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n\n        break;\n\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n\n          _globalDragOver(evt);\n        }\n\n        break;\n\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n\n  /**\r\n   * Serializes the item into an array of string.\r\n   * @returns {String[]}\r\n   */\n  toArray: function toArray() {\n    var order = [],\n        el,\n        children = this.el.children,\n        i = 0,\n        n = children.length,\n        options = this.options;\n\n    for (; i < n; i++) {\n      el = children[i];\n\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n\n    return order;\n  },\n\n  /**\r\n   * Sorts the elements according to the array.\r\n   * @param  {String[]}  order  order of the items\r\n   */\n  sort: function sort(order, useAnimation) {\n    var items = {},\n        rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    useAnimation && this.captureAnimationState();\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n    useAnimation && this.animateAll();\n  },\n\n  /**\r\n   * Save the current sorting\r\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n\n  /**\r\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\r\n   * @param   {HTMLElement}  el\r\n   * @param   {String}       [selector]  default: `options.draggable`\r\n   * @returns {HTMLElement|null}\r\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n\n  /**\r\n   * Set/get option\r\n   * @param   {string} name\r\n   * @param   {*}      [value]\r\n   * @returns {*}\r\n   */\n  option: function option(name, value) {\n    var options = this.options;\n\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n\n  /**\r\n   * Destroy\r\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    } // Remove draggable attributes\n\n\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n\n    this._onDrop();\n\n    this._disableDelayedDragEvents();\n\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n\n      return;\n    }\n\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n      if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\n\nfunction _globalDragOver(\n/**Event*/\nevt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n\n  evt.cancelable && evt.preventDefault();\n}\n\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n      sortable = fromEl[expando],\n      onMoveFn = sortable.options.onMove,\n      retVal; // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n\n  return retVal;\n}\n\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\n\nfunction _unsilent() {\n  _silent = false;\n}\n\nfunction _ghostIsFirst(evt, vertical, sortable) {\n  var rect = getRect(getChild(sortable.el, 0, sortable.options, true));\n  var spacer = 10;\n  return vertical ? evt.clientX < rect.left - spacer || evt.clientY < rect.top && evt.clientX < rect.right : evt.clientY < rect.top - spacer || evt.clientY < rect.bottom && evt.clientX < rect.left;\n}\n\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var spacer = 10;\n  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n}\n\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n      targetLength = vertical ? targetRect.height : targetRect.width,\n      targetS1 = vertical ? targetRect.top : targetRect.left,\n      targetS2 = vertical ? targetRect.bottom : targetRect.right,\n      invert = false;\n\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n\n  invert = invert || invertSwap;\n\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n/**\r\n * Gets the direction dragEl must be swapped relative to target in order to make it\r\n * seem that dragEl has been \"inserted\" into that element's position\r\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\r\n * @return {Number}                   Direction dragEl must be swapped\r\n */\n\n\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n/**\r\n * Generate id\r\n * @param   {HTMLElement} el\r\n * @returns {String}\r\n * @private\r\n */\n\n\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n      i = str.length,\n      sum = 0;\n\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum.toString(36);\n}\n\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\n\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\n\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n} // Fixed #973:\n\n\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n} // Export utils\n\n\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild\n};\n/**\r\n * Get the Sortable instance of an element\r\n * @param  {HTMLElement} element The element\r\n * @return {Sortable|undefined}         The instance of Sortable\r\n */\n\nSortable.get = function (element) {\n  return element[expando];\n};\n/**\r\n * Mount a plugin to Sortable\r\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\r\n */\n\n\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n\n    if (plugin.utils) Sortable.utils = _objectSpread2(_objectSpread2({}, Sortable.utils), plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n/**\r\n * Create sortable instance\r\n * @param {HTMLElement}  el\r\n * @param {Object}      [options]\r\n */\n\n\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n}; // Export\n\n\nSortable.version = version;\n\nvar autoScrolls = [],\n    scrollEl,\n    scrollRootEl,\n    scrolling = false,\n    lastAutoScrollX,\n    lastAutoScrollY,\n    touchEvt$1,\n    pointerElemChangedInterval;\n\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      forceAutoScrollFallback: false,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    }; // Bind all private methods\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n\n      if (fallback || this.options.forceAutoScrollFallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\n\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\n\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\n\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n      y = (evt.touches ? evt.touches[0] : evt).clientY,\n      sens = options.scrollSensitivity,\n      speed = options.scrollSpeed,\n      winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n      scrollCustomFn; // New scroll root, set scrollEl\n\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n\n  var layersOut = 0;\n  var currentParent = scrollEl;\n\n  do {\n    var el = currentParent,\n        rect = getRect(el),\n        top = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right,\n        width = rect.width,\n        height = rect.height,\n        canScrollX = void 0,\n        canScrollY = void 0,\n        scrollWidth = el.scrollWidth,\n        scrollHeight = el.scrollHeight,\n        elCSS = css(el),\n        scrollPosX = el.scrollLeft,\n        scrollPosY = el.scrollTop;\n\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n          }\n\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      dragEl = _ref.dragEl,\n      activeSortable = _ref.activeSortable,\n      dispatchSortableEvent = _ref.dispatchSortableEvent,\n      hideGhostForTarget = _ref.hideGhostForTarget,\n      unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\n\nfunction Revert() {}\n\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n        putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n\n    this.sortable.animateAll();\n\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\n\nfunction Remove() {}\n\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n        putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar lastSwapEl;\n\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n          target = _ref2.target,\n          onMove = _ref2.onMove,\n          activeSortable = _ref2.activeSortable,\n          changed = _ref2.changed,\n          cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n          options = this.options;\n\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n          putSortable = _ref3.putSortable,\n          dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\n\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n      p2 = n2.parentNode,\n      i1,\n      i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n    multiDragClones = [],\n    lastMultiDragSelect,\n    // for selection with modifier key down (SHIFT)\nmultiDragSortable,\n    initialFolding = false,\n    // Initial multi-drag fold when drag started\nfolding = false,\n    // Folding any other time\ndragStarted = false,\n    dragEl$1,\n    clonesFromRect,\n    clonesHidden;\n\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n\n    if (!sortable.options.avoidImplicitDeselect) {\n      if (sortable.options.supportPointer) {\n        on(document, 'pointerup', this._deselectMultiDrag);\n      } else {\n        on(document, 'mouseup', this._deselectMultiDrag);\n        on(document, 'touchend', this._deselectMultiDrag);\n      }\n    }\n\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      avoidImplicitDeselect: false,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n          cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n\n      sortable._hideClone();\n\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n          rootEl = _ref3.rootEl,\n          dispatchSortableEvent = _ref3.dispatchSortableEvent,\n          cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n          rootEl = _ref4.rootEl,\n          cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n\n      var sortable = _ref5.sortable,\n          cloneNowHidden = _ref5.cloneNowHidden,\n          cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      }); // Sort multi-drag elements\n\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n        sortable.captureAnimationState();\n\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        } // Remove all auxiliary multidrag items from el, if sorting enabled\n\n\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n          completed = _ref8.completed,\n          cancel = _ref8.cancel;\n\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n          rootEl = _ref9.rootEl,\n          sortable = _ref9.sortable,\n          dragRect = _ref9.dragRect;\n\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n          isOwner = _ref10.isOwner,\n          insertion = _ref10.insertion,\n          activeSortable = _ref10.activeSortable,\n          parentEl = _ref10.parentEl,\n          putSortable = _ref10.putSortable;\n      var options = this.options;\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n\n        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\n\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n\n            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n\n\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n          isOwner = _ref11.isOwner,\n          activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n          rootEl = _ref12.rootEl,\n          parentEl = _ref12.parentEl,\n          sortable = _ref12.sortable,\n          dispatchSortableEvent = _ref12.dispatchSortableEvent,\n          oldIndex = _ref12.oldIndex,\n          putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n          children = parentEl.children; // Multi-drag selection\n\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvent: evt\n          }); // Modifier activated, select from last to dragEl\n\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n                currentIndex = index(dragEl$1);\n\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n              // (but previous selection existed)\n              var n, i;\n\n              if (currentIndex > lastIndex) {\n                i = lastIndex;\n                n = currentIndex;\n              } else {\n                i = currentIndex;\n                n = lastIndex + 1;\n              }\n\n              for (; i < n; i++) {\n                if (~multiDragElements.indexOf(children[i])) continue;\n                toggleClass(children[i], options.selectedClass, true);\n                multiDragElements.push(children[i]);\n                dispatchEvent({\n                  sortable: sortable,\n                  rootEl: rootEl,\n                  name: 'select',\n                  targetEl: children[i],\n                  originalEvent: evt\n                });\n              }\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvent: evt\n          });\n        }\n      } // Multi-drag drop\n\n\n      if (dragStarted && this.isMultiDrag) {\n        folding = false; // Do not \"unfold\" after around dragEl if reverted\n\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect; // Prepare unfold animation\n\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n\n\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n\n              multiDragIndex++;\n            }); // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n\n              if (update) {\n                dispatchSortableEvent('update');\n              }\n            }\n          } // Must be done after capturing individual rects (scroll bar)\n\n\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n\n        multiDragSortable = toSortable;\n      } // Remove clones if necessary\n\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return; // Only deselect if selection is in this sortable\n\n      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n\n      if (evt && evt.button !== 0) return;\n\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvent: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\r\n       * Selects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be selected\r\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n\n          multiDragSortable = sortable;\n        }\n\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n\n      /**\r\n       * Deselects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be deselected\r\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n            index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n\n      var oldIndicies = [],\n          newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        }); // multiDragElements will already be sorted if folding\n\n        var newIndex;\n\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n\n        return key;\n      }\n    }\n  });\n}\n\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n/**\r\n * Insert multi-drag clones\r\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\r\n * @param  {HTMLElement} rootEl\r\n */\n\n\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\n\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nSortable.mount(new AutoScrollPlugin());\nSortable.mount(Remove, Revert);\n\nexport default Sortable;\nexport { MultiDragPlugin as MultiDrag, Sortable, SwapPlugin as Swap };\n","import Sortable from 'sortablejs'\r\nimport {$, popup, post} from '../common'\r\n\r\nexport default function sortable(containerSelector, elSelector, model) {\r\n\r\n  let container = $(containerSelector)[0];\r\n  if (container) {\r\n\r\n    let sortable = Sortable.create(container, {\r\n      animation: 150,\r\n      onEnd: function (evt) {\r\n        let oldI = evt.oldIndex\r\n        let newI = evt.newIndex\r\n        if (oldI > newI) {\r\n          sort(oldI)\r\n        } else {\r\n          sort(newI)\r\n        }\r\n\r\n        async function sort(upToQestionNumber) {\r\n          let els = $(elSelector);\r\n          els.length = upToQestionNumber-1\r\n\r\n          let toChange = els.map((el) => {\r\n            return el.dataset.id\r\n          })\r\n\r\n          let res = await post(`/adminsc/${model}/sort`, {toChange})\r\n          els.map((el, i) => {\r\n            $(el).find('.sort').innerText = i + 1\r\n          })\r\n        }\r\n      },\r\n    })\r\n\r\n  }\r\n}","import {$, popup, post} from '../../../common'\r\n\r\nexport default class _test {\r\n\r\n  constructor() {\r\n    this.model = 'opentest'\r\n  }\r\n\r\n  async create() {\r\n    let test = _test.serverModel()\r\n    test.id = 0\r\n    test.isTest = 1\r\n    debugger\r\n    let url = `/${this.model}/updateOrCreate`\r\n    let res = await post(url, test)\r\n    if (res) {\r\n      window.location.href = `/adminsc/${model}/edit/${res.id}`\r\n    }\r\n  }\r\n\r\n  id() {\r\n    return id ?? $('.test-name')[0].dataset.testid\r\n  }\r\n\r\n  children() {\r\n    let childrenLenght = $('.children').length\r\n    if (childrenLenght)\r\n      return childrenLenght\r\n    return false\r\n  }\r\n\r\n  async path_create() {\r\n    let test_path = _test.serverModel()\r\n    test_path.id = 0\r\n    test_path.isTest = 0\r\n    let url = `/adminsc/${model}/create`\r\n    let res = await post(url, test_path)\r\n    if (res) {\r\n      window.location.href = `/adminsc/${model}/edit/${res.id - 1}`\r\n    }\r\n  }\r\n\r\n  name() {\r\n    return $('.test-name')[0].innerText\r\n  }\r\n\r\n  async update() {\r\n    let model = _test.serverModel()\r\n    let url = `/adminsc/${model}/update/${model.id}`\r\n    let res = await post(url, model)\r\n    if (res) {\r\n      window.location.href = `/adminsc/${model}/edit/${model.id}`\r\n    }\r\n  }\r\n\r\n  async del() {\r\n    if (_test.children()) {\r\n      popup.show('Сначала удалите все тесты из папки')\r\n      return false\r\n    }\r\n\r\n    let id = _test.id()\r\n    let res = await post('/adminsc/${model}/delete', {id})\r\n    if (res.notAdmin) {\r\n      popup.show('Видимость теста скрыта. Чтобы удалить полностью - обратитесь к ГД')\r\n      setTimeout(() => {\r\n        window.location = `/adminsc/${model}/edit/400`\r\n      }, 4000)\r\n    } else {\r\n      window.location = `/adminsc/${model}/edit/400`\r\n    }\r\n\r\n  }\r\n\r\n}","import {$, popup, post} from '../../../common'\r\n\r\nexport let _answer = {\r\n\r\n  async create(button) {\r\n\r\n    let question = button.closest('.question-edit')\r\n    let openquestion_id = question.dataset.id\r\n    let sort = question.querySelectorAll('.answer').length + 1\r\n    let res = await post('/adminsc/openanswer/updateOrCreate',\r\n      {openquestion_id, sort})\r\n    let html = res.arr.html\r\n    if (html) {\r\n      button.insertAdjacentHTML(\"beforebegin\", html)\r\n    } else {\r\n      popup.show('Сохранено')\r\n    }\r\n  },\r\n\r\n  async del(target) {\r\n    let del_button = target.closest('.delete')\r\n    if (!del_button) return false\r\n    if (confirm(\"Удалить этот ответ?\")) {\r\n      let answer = del_button.closest('.answer')\r\n      let id = +answer.dataset['answerId']\r\n      let res = await post('/adminsc/openanswer/delete', {id})\r\n\r\n      if (res) {\r\n        answer.remove()\r\n      }\r\n    }\r\n  },\r\n}\r\n","import './test-pagination.scss'\r\nimport {$} from \"../../common\";\r\n\r\nexport default class Pagination {\r\n\r\n  constructor(props) {\r\n\r\n    this.pClass = props.pClass ?? ''\r\n    this.pActiveClass = props.pActiveClass ?? ''\r\n\r\n    this.pageClass = props.pageClass ?? ''\r\n    this.pageActiveClass = props.pageActiveClass ?? ''\r\n\r\n    this.prevBttnId = props.prevBttnId ?? null\r\n    this.nextBttnId = props.nextBttnId ?? null\r\n\r\n    this.paginations = $(this.pClass)\r\n    this.activePClass =  `${this.pClass}.${this.pActiveClass}`\r\n    this.activePageClass =  `.${this.pageClass}.${this.pageActiveClass}`\r\n\r\n    if (this.paginations.length) {\r\n      this.navInit()\r\n      $(this.pClass).on('click', this.handleClick.bind(this))\r\n\r\n      if (this.prevBttnId) {\r\n        $(this.prevBttnId).on('click', this.handleNextPrev.bind(this))\r\n        $(this.nextBttnId).on('click', this.handleNextPrev.bind(this))\r\n      }\r\n    }\r\n  }\r\n\r\n  navInit() {\r\n    [].map.call(this.paginations, (nav) => {\r\n      nav.classList.remove(this.pActiveClass)\r\n    })\r\n    this.paginations[0].classList.add(this.pActiveClass)\r\n  }\r\n\r\n  handleNextPrev({target}) {\r\n    // debugger\r\n    let activePage = $(this.activePageClass)[0]\r\n    let activeP = $(this.activePClass)[0]\r\n    let i = this.paginations.indexOf(activeP)\r\n    if (target === this.prevBttnId) {\r\n      handlePrevClick.call(this)\r\n    } else if (target === this.nextBttnId) {\r\n      handleNextClick.call(this)\r\n    }\r\n\r\n    function handlePrevClick() {\r\n      if (i < 1) return false\r\n      let aimPagination = this.paginations[i - 1]\r\n      this.togglePage(aimPagination, activePage).bind(this)\r\n      this.toggleNav(aimPagination, activeP)\r\n    }\r\n\r\n    function handleNextClick() {\r\n      if (i > this.paginations.length - 2) return false\r\n      let aimPagination = this.paginations[i + 1]\r\n      this.togglePage(aimPagination, activePage).bind(this)\r\n      this.toggleNav(aimPagination, activeP)\r\n    }\r\n  }\r\n\r\n  toggleNav(aimP, activeP) {\r\n    activeP.classList.toggle(this.pActiveClass)\r\n    aimP.classList.toggle(this.pActiveClass)\r\n  }\r\n\r\n  togglePage(aimPId, activePage) {\r\n    let aimPageId = aimPId.dataset.pagination\r\n    let aimPage = $(`.${this.pageClass}[data-id='${aimPageId}']`)[0]\r\n    aimPage.classList.toggle(this.pageActiveClass)\r\n    activePage.classList.toggle(this.pageActiveClass)\r\n  }\r\n\r\n  handleClick({target}) {\r\n    if (!target.dataset.pagination) return;\r\n    if (target.classList.contains(this.pActiveClass)) return\r\n    let active_btn = $(this.activePClass)[0]\r\n    active_btn.classList.remove(this.pActiveClass)\r\n    target.classList.add(this.pActiveClass)\r\n\r\n    let id_to_hide = active_btn.dataset['pagination']\r\n    $(`.${this.pageClass}[data-id=\"${id_to_hide}\"]`).removeClass(this.pageActiveClass)\r\n\r\n    let id_to_show = target.dataset['pagination']\r\n    $(`.${this.pageClass}[data-id=\"${id_to_show}\"]`).addClass(this.pageActiveClass)\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import {$} from \"../../common\";\r\nimport Pagination from \"../../Test/test-pagination/test-pagination\";\r\n\r\nexport default function () {\r\n  return new Pagination({\r\n    'pClass': '[data-pagination]',\r\n    'pActiveClass': 'active',\r\n    'pageClass': 'question',\r\n    'pageActiveClass': 'show',\r\n    'prevBttnId': '#prev',\r\n    'nextBttnId': '#next',\r\n  })\r\n}\r\n","import './test-edit.scss'\r\nimport './test-edit-menu.scss'\r\nimport '../components/popup.scss'\r\n\r\nimport './test-update'\r\nimport '../Admin/admin'\r\n\r\nimport {$, debounce, post} from '../common'\r\n\r\nimport {_openquestion} from \"./model/opentest/openquestion\"\r\nimport sortable from \"../components/sortable\"\r\nimport _test from \"./model/opentest/opentest\";\r\nimport {_answer} from \"./model/opentest/openanswer\";\r\nimport pagination from \"../components/pagination/pagination\";\r\n\r\n// debugger\r\nlet opentestEdit = $('.opentest-edit-wrapper')[0]\r\nif (opentestEdit) {\r\n\r\n  pagination()\r\n\r\n  sortable('.opentest-edit-wrapper .questions',\r\n    '.opentest-edit-wrapper .question-edit',\r\n    'openquestion')\r\n\r\n  $(opentestEdit).on('change', handleChange)\r\n\r\n  $(opentestEdit).on('click', ({target}) => {\r\n      const test = new _test()\r\n\r\n      if (target.classList.contains('test-path__create')) {\r\n        test.path_create()\r\n      } else if (target.classList.contains('test__create')) {\r\n        test.create()\r\n      } else if (!!target.closest('.question__show-answers')) {\r\n        _openquestion.showAnswers(target)\r\n      } else if (!!target.closest('.question__delete')) {\r\n        _openquestion.del(target)\r\n      } else if (target.classList.contains('question__create-button')) {\r\n        _openquestion.create(target)\r\n      } else if (!!target.closest('.delete')) {\r\n        _answer.del(target)\r\n      } else if (target.classList.contains('answer__create-button')) {\r\n        _answer.create(target)\r\n      } else if (target.classList.contains('led')) {\r\n        target.classList.toggle('animated')\r\n      }\r\n    }\r\n  )\r\n\r\n  let handleKeyup = async function ({target}) {\r\n    if (target.classList.contains('text')) {\r\n      let answer = target.closest('.answer')\r\n      let quest = target.closest('.question-edit')\r\n      if (answer) {\r\n        saveAnswer(answer)\r\n      } else if (quest) {\r\n        let id = quest.dataset.id\r\n        let question = target.innerText\r\n        let res = await post('/adminsc/openquestion/updateOrCreate',\r\n          {id, question})\r\n      }\r\n    }\r\n  }\r\n\r\n  let debouncedInput = debounce(handleKeyup)\r\n  $(opentestEdit).on('keyup', debouncedInput)\r\n\r\n}\r\n\r\n\r\nasync function saveAnswer(el) {\r\n  let id = el.dataset.answerId\r\n  let is_correct = +el.querySelector('input').checked\r\n  let openquestion_id = el.closest('.question-edit').dataset.id\r\n  let answer = el.querySelector('.text').innerText\r\n  let res = await post('/adminsc/openanswer/updateOrCreate',\r\n    {id, answer, openquestion_id, is_correct})\r\n\r\n}\r\n\r\nasync function handleChange({target}) {\r\n  let answer = target.closest('.answer')\r\n  let parentSelect = target.closest('.question-edit__parent-select')\r\n\r\n  if (answer) {\r\n    saveAnswer(answer)\r\n  }else if (parentSelect){\r\n    _openquestion.changeParent(target)\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n","import {$, popup, post} from '../../common'\r\n\r\nexport const _test = {\r\n\r\n\r\n  viewModel: () => {\r\n    return {\r\n      id: +window.location.href.split('/').pop(),\r\n      name: $('#test_name').text(),\r\n      enable: $('#enable')[0],\r\n      parent: $('select').selectedIndexValue(),\r\n    }\r\n  },\r\n\r\n  children: () => {\r\n    let childrenLenght = $('.children').length\r\n    if (childrenLenght)\r\n      return childrenLenght\r\n    return false\r\n  },\r\n\r\n  path_create: async () => {\r\n    let test_path = _test.serverModel()\r\n    test_path.id = 0\r\n    test_path.isTest = 0\r\n    let url = `/adminsc/test/updateOrCreate`\r\n    let res = await post(url, test_path)\r\n    if (res) {\r\n      window.location.href = `/adminsc/test/edit/${res.arr.id }`\r\n    }\r\n  },\r\n\r\n  id: (id) => {\r\n    return id ?? $('.test-name')[0].dataset.testid\r\n  },\r\n  name: () => {\r\n    return $('.test-name')[0].innerText\r\n  },\r\n\r\n  create: async () => {\r\n    let test = _test.serverModel()\r\n    test.id = 0\r\n    test.isTest = 1\r\n    let url = `/test/updateOrCreate`\r\n    let res = await post(url, test)\r\n    debugger\r\n    if (res) {\r\n      window.location.href = `/adminsc/test/edit/${res.arr.id}`\r\n    }\r\n  },\r\n\r\n\r\n  serverModel: () => {\r\n    let id = !!+window.location.href.split('/').pop()\r\n    id = id ? id : 0\r\n    let model = {\r\n      id,\r\n      name: $('#name.field')[0].value,\r\n      isTest: +$('[isTest]')[0].getAttribute('isTest'),\r\n    }\r\n    // debugger\r\n    let fields = $('[custom-select]');\r\n    [].forEach.call(fields, function (field) {\r\n      model[field.dataset['field']] = field.dataset['id']\r\n    })\r\n    return model\r\n  },\r\n\r\n  update: async () => {\r\n    let model = _test.serverModel()\r\n    let url = `/adminsc/test/update/${model.id}`\r\n    let res = await post(url, model)\r\n    if (res) {\r\n      window.location.href = `/adminsc/test/edit/${model.id}`\r\n    }\r\n  },\r\n\r\n  delete: async function () {\r\n\r\n    if (_test.children()) {\r\n      popup.show('Сначала удалите все тесты из папки')\r\n      return false\r\n    }\r\n\r\n    let id = _test.id()\r\n    let res = await post('/adminsc/test/delete', {id})\r\n    if (res.notAdmin) {\r\n      popup.show('Видимость теста скрыта. Чтобы удалить полностью - обратитесь к ГД')\r\n      setTimeout(() => {\r\n        window.location = '/adminsc/test/edit/400'\r\n      }, 4000)\r\n    } else {\r\n      window.location = '/adminsc/test/edit/400'\r\n    }\r\n\r\n  },\r\n\r\n}\r\n","import {$} from '../../common'\r\nimport Model from \"./Model\";\r\n\r\nclass Answer extends Model {\r\n\r\n  constructor(target) {\r\n    super()\r\n\r\n    this.name = 'answer'\r\n    this.className = '.answer'\r\n    this.emptySelector = '.empty .answer'\r\n    this.questionSelector = '.question-edit'\r\n    this.questionsSelector = '.questions'\r\n\r\n    this.answerSelector = '.text'\r\n    this.correct_answerSelector = 'input'\r\n    this.sortSelector = '.sort'\r\n    this.picaSelector = ''\r\n\r\n    this.model = {}\r\n    this.row =\r\n      target.closest(this.className) ??\r\n      target.closest(this.questionsSelector).querySelector(this.emptySelector)\r\n\r\n    this.target = target\r\n    this.fullfill(this.row)\r\n\r\n    return this\r\n  }\r\n\r\n  fullfill(target) {\r\n    let el = target.closest(this.className)??null\r\n    this.model.id = el.dataset.id ?? 0\r\n    this.model.answer = $(el).find(this.answerSelector).innerText.trim()?? ''\r\n    this.model.question_id = this.getQuestion_id() ?? null\r\n    this.model.correct_answer = +$(el).find(this.correct_answerSelector).checked ?? 0\r\n    this.model.pica = null\r\n  }\r\n\r\n\r\n  find(id) {\r\n    debugger\r\n    let el = this.getElById(id)\r\n    this.model.id = id;\r\n    this.model.answer = $(el).find(this.answerSelector).innerText\r\n    this.model.question_id = this.question.dataset.id\r\n    this.model.correct_answer = +$(el).find(this.correct_answerSelector).checked\r\n    this.model.pica = null\r\n    return this\r\n  }\r\n\r\n  get delDomSelector() {\r\n    return `.answer[data-id='${this.id}']`\r\n  }\r\n\r\n  get sort() {\r\n    return this.question.querySelectorAll(this.className).length + 1 ?? null\r\n  }\r\n\r\n  get question() {\r\n    if (this.target) return this.target.closest(this.questionSelector)\r\n    return null\r\n  }\r\n\r\n  getQuestion_id() {\r\n    return this.target.closest(this.questionSelector).dataset.id\r\n  }\r\n\r\n  async create() {\r\n    await this.createOnServer()\r\n    this.render()\r\n\r\n  }\r\n\r\n  async createOnServer() {\r\n    let res = await super.updateOrCreate()\r\n    this.id = res.arr.id\r\n  }\r\n\r\n  render() {\r\n    let empty = this.empty\r\n    $(empty).find('.sort').innerText = this.sort\r\n    empty.dataset.id = this.id\r\n    this.target.before(empty)\r\n  }\r\n\r\n  async update() {\r\n    let answer = this.getEl()\r\n    let res = await super.updateOrCreate(answer.model)\r\n  }\r\n\r\n}\r\n\r\nexport default function answer(target) {\r\n  return new Answer(target)\r\n}","import {$} from '../../common'\r\nimport Model from \"./Model\";\r\n\r\nclass Question extends Model {\r\n\r\n  constructor(target = null) {\r\n    super()\r\n\r\n    this.name = 'question'\r\n    this.className = '.question-edit'\r\n    this.emptySelector = '.empty .question-edit'\r\n\r\n    this.testSelector = '.questions[data-test-id]'\r\n    this.sortSelector = '.sort'\r\n    this.textSelector = '.text'\r\n    this.picqSelector = ''\r\n\r\n    this.model = {}\r\n    this.row =\r\n      target.closest(this.className)??\r\n      target.parentNode.querySelector(this.emptySelector)\r\n    // debugger\r\n    this.fullfill(this.row)\r\n    this.target = target\r\n    return this\r\n  }\r\n\r\n  async changeParent() {\r\n    this.model.id = this.getId()\r\n    let opt = this.target.options[this.target.selectedIndex]\r\n    this.model.test_id = opt.dataset['questionParentId']\r\n\r\n    let res = await this.updateOrCreate(this.model)\r\n    if (res) {\r\n      this.row.remove()\r\n    }\r\n  }\r\n\r\n  showAnswers() {\r\n    let answers = $(this.row).find('.question__answers')\r\n    answers.classList.toggle('height')\r\n    answers.classList.toggle('scale')\r\n    this.target.classList.toggle('rotate')\r\n  }\r\n\r\n  find(id) {\r\n    this.fullfill(this.getElById(id))\r\n  }\r\n\r\n  fullfill(target){\r\n    let el = this.target = target.closest(this.className)??null\r\n    let sort = +$(el).find(this.sortSelector).innerText>0\r\n      ?+$(el).find(this.sortSelector).innerText\r\n      :this.sort\r\n    this.model.id = el.dataset.id??null\r\n    this.model.sort = sort\r\n    this.model.qustion = $(el).find(this.textSelector).innerText.trim()??null\r\n    this.model.test_id = this.getTest_id()??null\r\n    this.model.picq = null\r\n  }\r\n\r\n  get delDomSelector() {\r\n    return `${this.className}[data-id='${this.id}']`\r\n  }\r\n\r\n  get test() {\r\n    if (this.target) return this.target.closest(this.testSelector)\r\n    return null\r\n  }\r\n\r\n  get sort() {\r\n    return this.test.querySelectorAll(this.className).length ?? null\r\n  }\r\n\r\n  getTest_id() {\r\n    if (this.target) return this.target.closest(this.testSelector).dataset.testId\r\n    return null\r\n  }\r\n\r\n  async create() {\r\n    debugger\r\n    await this.createOnServer()\r\n    this.render()\r\n  }\r\n\r\n  async createOnServer() {\r\n    let res = await super.updateOrCreate(this.model)\r\n    this.id = res.arr.id\r\n  }\r\n\r\n  render() {\r\n    let empty = this.empty\r\n    $(empty).find('.sort').innerText = this.model.sort\r\n    empty.dataset.id = this.id\r\n    this.target.before(empty)\r\n  }\r\n\r\n  async update() {\r\n    let res = await super.updateOrCreate(this.model)\r\n  }\r\n}\r\n\r\nexport default function question(target) {return new Question(target)}","import './test-edit.scss'\r\nimport '../components/footer/footer.scss'\r\n\r\nimport './test-edit-menu.scss'\r\nimport './test-update'\r\n\r\nimport {$, debounce} from '../common'\r\n\r\nimport {_test} from \"./model/test\";\r\n\r\nimport sortable from \"../components/sortable\"\r\nimport pagination from \"../components/pagination/pagination\";\r\n\r\nimport answer from \"./Mode/Answer\";\r\nimport question from \"./Mode/Question\";\r\n\r\n\r\nexport default function testEdit() {\r\n\r\n  // debugger\r\n  let testEdit = $('.test-edit__cont')[0]\r\n  if (testEdit) {\r\n\r\n    pagination()\r\n    sortable('.test-edit__cont .questions',\r\n      '.questions>.question-edit',\r\n      'question')\r\n\r\n    $(testEdit).on('keyup', debouncedHandleKeyup)\r\n    $(testEdit).on('change', handleChange)\r\n    $(testEdit).on('click', handleClick)\r\n  }\r\n}\r\n\r\nfunction handleClick({target}) {\r\n  // debugger\r\n  if (['test-path__update', 'test__update', 'test__save'].includes(target.classList)) {\r\n    _test.update()\r\n  } else if (target.classList.contains('test__delete')) {\r\n    _test.delete()\r\n  } else if (target.classList.contains('test__create')) {\r\n    _test.create()\r\n  } else if (target.classList.contains('test-path__create')) {\r\n    _test.path_create()\r\n\r\n  } else if (!!target.closest('.question__delete')) {\r\n    question(target).delete()\r\n  } else if (target.classList.contains('question__create-button')) {\r\n    question(target).create()\r\n  } else if (!!target.closest('.question__show-answers')) {\r\n    question(target).showAnswers()\r\n\r\n  } else if (!!target.closest('.delete')) {\r\n    answer(target).delete()\r\n  } else if (target.classList.contains('answer__create-button')) {\r\n    answer(target).create()\r\n  } else if (target.classList.contains('correct')) {\r\n    answer(target).update()\r\n  }\r\n}\r\n\r\nlet debouncedHandleKeyup = debounce(handleKeyup)\r\n\r\nasync function handleKeyup({target}) {\r\n  if (target.classList.contains('text')) {\r\n    let answerEl = target.closest('.answer')\r\n    if (answerEl) {\r\n      // debugger\r\n      answer(target).update()\r\n    } else {\r\n      question(target).update()\r\n    }\r\n  }\r\n}\r\n\r\nasync function handleChange({target}) {\r\n  if (!!target.closest('.question-edit__parent-select')) {\r\n   question(target).changeParent()\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import './do.scss'\r\nimport {post, $, cachePage} from '../common'\r\nimport pagination from \"../components/pagination/pagination\";\r\n\r\n\r\nlet testDo = $('.test-do .content')[0]\r\nif (testDo) {\r\n  pagination()\r\n  showFirstQuest()\r\n  finishBtnInit()\r\n  testDo.addEventListener('click', handleClick)\r\n}\r\n\r\nfunction handleClick({target}) {\r\n  // if (target.classList.contains('accordion-open')) return\r\n  let currQuest = $('.question.show')[0] ?? ''\r\n  if (!currQuest) return\r\n  let id = +currQuest?.dataset.id ?? ''\r\n  let navs = $('[data-pagination]') ?? ''\r\n  let navIndex = navs.findIndex(el => el.classList.contains('active')) ?? ''\r\n\r\n  if (target.type === \"checkbox\") {\r\n    let answer = target.labels[0]\r\n    answer.classList.toggle('pushed')\r\n  } else if (target.id === 'prev') {\r\n    prevQ()\r\n  } else if (target.id === 'next') {\r\n    nextQ()\r\n  } else if (target.classList.contains('test-do__finish-btn')) {\r\n    finishTest(target)\r\n  }\r\n\r\n  function prevQ() {\r\n    if (navIndex < 1) return false\r\n    let aimId = +navs[navIndex - 1].dataset.pagination\r\n    pushNav(id, aimId)\r\n    pushQ(aimId)\r\n  }\r\n\r\n  function nextQ() {\r\n    if (navIndex === navs.length - 1) return false\r\n    let aimId = +navs[navIndex + 1].dataset.pagination\r\n\r\n    pushNav(id, aimId)\r\n    pushQ(aimId)\r\n  }\r\n\r\n  function pushNav(currentId, aimNavId) {\r\n    let currNavEl = $(`[data-pagination=\"${currentId}\"]`)[0]\r\n    currNavEl.classList.toggle('active')\r\n\r\n    let NavEl = $(`[data-pagination=\"${aimNavId}\"]`)[0]\r\n    NavEl.classList.toggle('active')\r\n  }\r\n\r\n  function pushQ(aimId) {\r\n    currQuest.classList.toggle('show')\r\n    let aimQuestion = $(`.question[data-id=\"${aimId}\"]`)[0]\r\n    aimQuestion.classList.toggle('show')\r\n  }\r\n}\r\n\r\nasync function finishTest(target) {\r\n\r\n  if (target.innerText === \"ПРОЙТИ ТЕСТ ЗАНОВО\") {\r\n    location.reload();\r\n    return;\r\n  }\r\n  target.innerText = \"ПРОЙТИ ТЕСТ ЗАНОВО\"\r\n  target.classList.add('inactive')\r\n\r\n  let corrAnswers = await post('/adminsc/test/getCorrectAnswers', {})\r\n  colorView(corrAnswers.arr)\r\n  let errorCnt = $('.redShadow').length\r\n\r\n  let data = objToServer(errorCnt)\r\n  let res = await post('/adminsc/testresult/create', data)\r\n  if (res) {\r\n    target.href = location.href\r\n    target.innerText = \"ПРОЙТИ ТЕСТ ЗАНОВО\"\r\n  }\r\n}\r\n\r\nfunction objToServer(errorCnt) {\r\n  return {\r\n    questionCnt: $('.question').length,\r\n    errorCnt: errorCnt,\r\n    html: cachePage('.test-do .content'),\r\n    testid: $('[data-test-id]')[0].dataset.testId,\r\n    testname: $('.test-name')[0].innerText,\r\n    user: $('.user-menu .fio')[0].innerText,\r\n  }\r\n}\r\n\r\n\r\nfunction colorView(correctAnswers) {\r\n  let questions = $('.question');\r\n  [].map.call(questions, (question) => {\r\n    let errors = colorQuestions(question, correctAnswers)\r\n    colorPgination(question, errors)\r\n  })\r\n}\r\n\r\nfunction colorPgination(question, errors) {\r\n  let id = question.dataset['id']\r\n  let paginItem = $(`.pagination [data-pagination='${+id}']`)[0]\r\n  if (errors.length) {\r\n    $(paginItem).addClass('redShadow')\r\n  } else {\r\n    $(paginItem).addClass('greenShadow')\r\n  }\r\n}\r\n\r\nfunction colorQuestions(question, correctAnswers) {\r\n  let answers = question.querySelectorAll('.a');\r\n  let errors = [];\r\n  [].map.call(answers, (answer) => {\r\n    let input = $(answer).find('input')\r\n    let id = answer.dataset.id\r\n    let error = checkCorrectAnswers(id, correctAnswers, input, answer)\r\n    if (error) errors.push(true)\r\n  })\r\n  return errors\r\n}\r\n\r\nfunction checkCorrectAnswers(id, correctAnswers, input, answer) {\r\n  let correctAnser = correctAnswers.indexOf(+id) !== -1\r\n  let checked = input.checked\r\n  let error = false\r\n\r\n  if (checked && correctAnser) {// checkbox нажат. а в correct answer нету. в correct_answers есть, его всегда подсвечиваем зеленым\r\n    answer.classList.add('done'); //green check зеленый значек\r\n  } else if (checked && !correctAnser) {// checkbox нажат,и есть в correct answer. в correct_answers нет, кнопка не нажата\r\n    error = true\r\n  } else if (!checked && correctAnser) {// кнопка не нажата, в correct_answers есть\r\n    answer.classList.add('done'); //green check зеленый значек\r\n    error = true\r\n  } else if (!checked && !correctAnser) {// кнопка не нажата, в correct_answers нет\r\n  }\r\n  return error\r\n}\r\n\r\nfunction finishBtnInit() {\r\n  let button = $('.test-do__finish-btn')[0]\r\n  if (button) {\r\n    if (window.location.pathname.match('^/test/result/.?')) {\r\n      button.classList.add('inactive')\r\n    }\r\n  }\r\n}\r\n\r\nfunction showFirstQuest() {\r\n  $('.question').removeClass(\"show\")\r\n  $('.question:first-child').addClass(\"show\")\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import './open_test.scss'\r\nimport {$, post, cachePage} from \"../common\";\r\n\r\nimport '../components/accordion-show';\r\nimport pagination from \"../components/pagination/pagination\";\r\n\r\n\r\nlet openTest = $('.opentest-do')[0]\r\nif (openTest) {\r\n  pagination()\r\n  showFirstQuest()\r\n  $(openTest).on('click', handleClick)\r\n  $(openTest).on('keyup', handleKeyup)\r\n}\r\n\r\nfunction showFirstQuest() {\r\n  let firstQuest = $('.question')[0]\r\n  if (firstQuest) firstQuest.classList.add('show')\r\n}\r\n\r\n\r\nfunction handleKeyup({target}) {\r\n  if (target.classList.contains('textarea')) {\r\n    let activePagination = $('[data-pagination].active')[0]\r\n    if (!target.innerText) {\r\n      activePagination.classList.remove('filled')\r\n    } else {\r\n      activePagination.classList.add('filled')\r\n    }\r\n  }\r\n}\r\n\r\nasync function handleClick({target}) {\r\n  let id = target.dataset.id\r\n  let activeQuestion = $('.question.show')[0]\r\n\r\n  if (target.id === 'finish') {\r\n    finish(target)\r\n  }\r\n\r\n  async function finish(target) {\r\n    if (target.innerText === \"ПРОЙТИ ТЕСТ ЗАНОВО\") {\r\n      location.reload();\r\n      return;\r\n    }\r\n    let questions = await post('/adminsc/opentestresult/getanswers', {id})\r\n    let correctAnswers = correctCount(questions.arr)\r\n    let obj = objToServ(correctAnswers)\r\n    let res = await post('/adminsc/opentestresult/finish', obj)\r\n    if (res) {\r\n      target.innerText = \"ПРОЙТИ ТЕСТ ЗАНОВО\"\r\n      target.classList.add('inactive')\r\n    }\r\n  }\r\n\r\n  function objToServ(rightAnswers) {\r\n    $('.buttons')[0].remove()\r\n    return {\r\n      id,\r\n      questionCnt: $('[data-pagination]').length,\r\n      html: cachePage('.test'),\r\n      testname: $('.test-name')[0].innerText,\r\n      username: $('.user-menu .fio')[0].innerText,\r\n      rightAnswers,\r\n    }\r\n  }\r\n}\r\n\r\nfunction correctCount(questions) {\r\n  let correct = 0;\r\n  [].forEach.call(questions, (q) => {\r\n    let q_id = q.id\r\n    let q_el = $(`.question[data-id='${q_id}']`)[0]\r\n    let textarea = $(q_el).find('.textarea')\r\n    if (!q.Openanswer) return\r\n    let word = ''\r\n    q.Openanswer.forEach((a) => {\r\n      word += `(${a.answer})?`\r\n    })\r\n    correct += hilite(`${word}`, textarea, q_id)\r\n\r\n\r\n  })\r\n  return correct\r\n}\r\n\r\nfunction hilitePagination(id) {\r\n  let pagination = $(`[data-pagination=\"${id}\"]`)\r\n  if (pagination) {\r\n    pagination.css('backgroundColor', 'green')\r\n  }\r\n}\r\n\r\nfunction hilite(word, element, q_id) {\r\n  let text = element.innerHTML\r\n  let rgxp = new RegExp(word, 'g');\r\n  let arr = text.match(rgxp)\r\n  let correct = 0\r\n\r\n  arr.forEach((w) => {\r\n    if (!w) return\r\n    correct = 1\r\n    let r = new RegExp(w, 'g')\r\n    let repl = `<span style='color:limegreen;'>` + w + '</span>';\r\n    element.innerHTML = element.innerHTML.replace(r, repl);\r\n    hilitePagination(q_id)\r\n  })\r\n  return correct\r\n}\r\n\r\n\r\n\r\n","class MorphDTOClass {\r\n\r\n  constructor(target) {\r\n    let morphEl = target.parentNode\r\n    this._morph = {}\r\n    this._morph.relation = morphEl.dataset.morphRelation\r\n    this._morph.oneormany = morphEl.dataset.morphOneormany\r\n    this._morph.slug = morphEl.dataset.morphSlug\r\n    this._morph.path = target.dataset.path??''\r\n    return this\r\n  }\r\n\r\n  get morph(){\r\n    return this._morph\r\n  }\r\n\r\n  set morph(morph){\r\n    this._morph = morph\r\n  }\r\n}\r\n\r\nexport default function MorphDTO(target) {\r\n  return new MorphDTOClass(target).morph\r\n}","import {$, objAndData2FormData, post} from \"../../common\";\r\nimport {Dnd} from \"../dnd/dnd\";\r\nimport MorphDTO from \"./MorphDTO\";\r\n\r\nclass Morph {\r\n  constructor(morphEl) {\r\n    this.model = morphEl.closest('.item_wrap').dataset.model\r\n    this.id = +morphEl.closest('.item_wrap').dataset.id\r\n\r\n    morphEl.onclick = this.handleClick.bind(this)\r\n\r\n    new Dnd(this.attach.bind(this))\r\n  }\r\n\r\n  handleClick({target}) {\r\n    if (target.hasAttribute('data-detach')) {\r\n      this.detach(target, this)\r\n    }\r\n  }\r\n\r\n\r\n  async attach(files, target) {\r\n    this.dnd = target\r\n    this.morph = new MorphDTO(target)\r\n    let url = `/adminsc/${this.model}/attach`\r\n    let param = {model: this.model, id: this.id, morph: this.morph}\r\n\r\n    let res = await post(url, objAndData2FormData(param, files))\r\n    if (res.arr) {\r\n      Morph.appendTo(this, res.arr)\r\n    }\r\n  }\r\n\r\n  async detach(target, self) {\r\n    let url = `/adminsc/${this.model}/detach`\r\n    let data = self\r\n    data.morphId = target.dataset.id\r\n    data.relation = target.closest('[data-morph-relation]').dataset.morphRelation\r\n\r\n    let res = await post(url, data)\r\n    if (res.success) {\r\n      target.closest('.wrap').remove()\r\n    }\r\n  }\r\n\r\n  static appendTo(self, images) {\r\n    if (self.dnd) {\r\n      if (self.morph.oneormany === 'many') {\r\n        Morph.appendManyImages(self.dnd.parentNode, images)\r\n      } else {\r\n        Morph.appendOneImage(self.dnd.parentNode, images[0])\r\n      }\r\n    }\r\n  }\r\n\r\n  static appendOneImage(appendTo, image) {\r\n    let img = $(appendTo)[0].querySelector('img')\r\n    if (!img) {\r\n      Morph.renderImage(appendTo, image)\r\n    } else {\r\n      img.src = image?.src\r\n    }\r\n  }\r\n\r\n  static appendManyImages(appendTo, srcArr) {\r\n    srcArr.forEach((image) => {\r\n      Morph.renderImage(appendTo, image)\r\n    })\r\n  }\r\n\r\n  static renderImage(appendTo, image) {\r\n    let holder = $(appendTo)[0]\r\n    let img = document.createElement('img')\r\n    img.src = image.src\r\n    let del = document.createElement('div')\r\n    del.setAttribute('data-detach', '')\r\n    del.dataset.id = image.id\r\n    del.innerText = 'x'\r\n    let item = document.createElement('div')\r\n    item.classList.add('item')\r\n    item.appendChild(img)\r\n    let wrap = document.createElement('div')\r\n    wrap.classList.add('wrap')\r\n    wrap.appendChild(item)\r\n    wrap.appendChild(del)\r\n    holder.appendChild(wrap)\r\n  }\r\n\r\n}\r\n\r\nexport default function morph() {\r\n  let morphs = $('[data-morph-relation]')\r\n  if (morphs) {\r\n    morphs.forEach((morph) => {\r\n      new Morph(morph)\r\n    })\r\n  }\r\n}","import {$} from '../../common'\r\n\r\nclass Checkboxes {\r\n  constructor(container, context) {\r\n    this.container = $(container).first()\r\n    if (!this.container)return null\r\n    this.data = {}\r\n    this.setContext(context)\r\n    return this\r\n  }\r\n\r\n  getValue() {\r\n    let values = [...$(`input[type='checkbox']`)]\r\n      .filter((input,) => {\r\n        return input.checked\r\n      })\r\n      .map((input) => {\r\n        return input.dataset.id\r\n      })\r\n\r\n\r\n    if (values) return values.join(',')\r\n  }\r\n\r\n  setContext(ctx) {\r\n    this.model = ctx.model\r\n    this.data.id = ctx.id\r\n    return this\r\n  }\r\n\r\n  onChange(callback) {\r\n    // debugger\r\n    if (!this.container) return\r\n    this.container.onchange = function () {\r\n      let value = this.getValue()\r\n      this.container.dataset.value = value\r\n      this.data[this.container.dataset.field] = value\r\n\r\n      callback.call(this)\r\n    }.bind(this)\r\n  }\r\n}\r\n\r\nexport default function checkboxes() {\r\n  return new Checkboxes(...arguments)\r\n}","import {$, post} from '../../common'\r\n\r\nclass Checkbox {\r\n  constructor(context, e) {\r\n    $('[my-checkbox]').on('change', this.changeHandle.bind(context))\r\n  }\r\n\r\n  async changeHandle({target}) {\r\n    let field = target?.dataset.field\r\n\r\n    let data = {\r\n      id:this.id,\r\n      [field]:+target.checked\r\n    }\r\n    let res = await post(`/adminsc/${this.model}/updateOrCreate`,data)\r\n  }\r\n}\r\n\r\nexport default function checkbox() {\r\n  return new Checkbox(...arguments)\r\n}","import './WDSSelect.scss'\r\nimport '../del/customSelect.scss'\r\nimport {post} from \"../../common\";\r\n\r\nexport default class WDSSelect {\r\n\r\n  constructor(el) {\r\n    // debugger\r\n    if (!el) return\r\n    if (el.multiple) return\r\n\r\n    this.title = el.title ?? ''\r\n    this.field = el.dataset.field\r\n    this.model = el.closest('.item_wrap')?.dataset.model\r\n    this.modelId = el.closest('.item_wrap')?.dataset.id\r\n\r\n    this.options = getFormattedOptions(el.querySelectorAll(\"option\"))\r\n\r\n    this.sel = document.createElement(\"div\")\r\n    this.sel.setAttribute(\"custom-select\", '')\r\n    // debugger\r\n    if (el.dataset.morphFunction) {\r\n      this.sel.dataset.morphFunction = el.dataset.morphFunction\r\n      this.sel.dataset.morphSlug = el.dataset.morphSlug ?? ''\r\n      this.sel.dataset.morphDetach = el.dataset.morphDetach ?? ''\r\n      this.sel.dataset.morphOneormany = el.dataset.morphOneormany ?? ''\r\n    }\r\n    // debugger\r\n    if (el.dataset.belongstoModel) {\r\n      this.sel.dataset.belongstoModel = el.dataset.belongstoModel\r\n      this.sel.dataset.belongstoId = el.dataset.belongstoId\r\n    }\r\n    if (el.dataset.field) {\r\n      this.sel.dataset.field = el.dataset.field\r\n    }\r\n\r\n    if (el.className) this.sel.classList.add(el.className)\r\n\r\n    this.label = document.createElement(\"span\")\r\n    this.arrow = document.createElement(\"div\")\r\n    this.space = document.createElement(\"div\")\r\n\r\n    this.ul = document.createElement(\"ul\")\r\n    setup(this)\r\n    el.after(this.sel)\r\n    el.remove()\r\n  }\r\n\r\n  get selectedOption() {\r\n    return this.options.find(option => option.selected)\r\n  }\r\n\r\n  get selectedOptionIndex() {\r\n    return this.options.indexOf(this.selectedOption)\r\n  }\r\n\r\n  selectValue(value) {\r\n    // debugger\r\n    const next = this.options.find(option => {\r\n      return option.value === value\r\n    })\r\n    const prev = this.selectedOption\r\n    prev.selected = false\r\n\r\n    next.selected = true\r\n\r\n    this.space.innerText = next.label\r\n    // this.label.closest('[custom-select]').dataset['id'] = next.value\r\n    this.label.closest('[custom-select]').dataset['value'] = next.value\r\n    this.ul\r\n      .querySelector(`[data-value=\"${prev.value}\"]`)\r\n      .classList.remove(\"selected\")\r\n    const newCustomElement = this.ul.querySelector(\r\n      `[data-value=\"${next.value}\"]`\r\n    )\r\n    newCustomElement.classList.add(\"selected\")\r\n    newCustomElement.scrollIntoView({block: \"nearest\"})\r\n  }\r\n}\r\n\r\nfunction setup(select) {\r\n\r\n  if (select.title) {\r\n    select.titleElement = document.createElement(\"div\")\r\n    select.titleElement.classList.add(\"title\")\r\n    select.titleElement.innerText = select.title\r\n    select.sel.append(select.titleElement)\r\n  }\r\n\r\n  if (select.field) {\r\n    select.sel.dataset.field = select.field\r\n  }\r\n  select.sel.dataset.value = select.selectedOption.value\r\n  select.sel.tabIndex = 0\r\n\r\n  select.sel.append(select.label)\r\n\r\n  select.space.classList.add(\"space\")\r\n  select.space.innerText = select.selectedOption.label\r\n  select.label.append(select.space)\r\n\r\n  select.arrow.classList.add(\"arrow\")\r\n  select.label.append(select.arrow)\r\n\r\n  select.ul.classList.add(\"options\")\r\n  select.options.forEach(option => {\r\n    // debugger\r\n    setOption(option)\r\n  })\r\n\r\n  function getMorph(sel) {\r\n    let item = sel.closest('.item_wrap')\r\n    let morph = sel.parentNode\r\n    return {\r\n      morph: {\r\n        id: item.dataset.id,\r\n        model: item.dataset.model,\r\n      },\r\n      morphed: {\r\n        id: sel.dataset.value,\r\n        relation: morph.dataset.morphRelation,\r\n        slug: morph.dataset.morphSlug,\r\n        oneOrMany: morph.dataset.morphOneormany,\r\n      }\r\n    }\r\n  }\r\n\r\n  async function sendToServer(target) {\r\n    let sel = target.closest('[custom-select]')\r\n    if (sel.parentNode.dataset.morphRelation) {\r\n      let data = getMorph(sel)\r\n      let url = `/adminsc/${data.morph.model}/attach`\r\n      let res = await post(url, data)\r\n    }\r\n    if (sel.dataset.field) {\r\n      let id = target.closest('.item_wrap').dataset.id\r\n      let model = target.closest('[data-model]').dataset.model\r\n      let data = {[sel.dataset.field]: sel.dataset.value, id}\r\n      let url = `/adminsc/${model}/updateOrCreate`\r\n      let res = await post(url, data)\r\n    }\r\n  }\r\n\r\n  function setOption(option) {\r\n    const li = document.createElement(\"li\")\r\n    li.innerText = option.label\r\n    li.dataset.value = option.value\r\n    li.classList.toggle(\"selected\", option.selected)\r\n    li.addEventListener(\"click\", ({target}) => {\r\n      select.selectValue(option.value)\r\n      select.ul.classList.remove(\"show\")\r\n      sendToServer(target)\r\n    })\r\n    select.ul.append(li)\r\n  }\r\n\r\n  select.sel.append(select.ul)\r\n\r\n  select.label.addEventListener(\"click\", () => {\r\n    select.ul.classList.toggle(\"show\")\r\n  })\r\n\r\n  select.sel.addEventListener(\"blur\", () => {\r\n    select.ul.classList.remove(\"show\")\r\n  })\r\n\r\n  let debounceTimeout\r\n  let searchTerm = \"\"\r\n  select.sel.addEventListener(\"keydown\", e => {\r\n    switch (e.code) {\r\n      case \"Space\":\r\n        select.ul.classList.toggle(\"show\")\r\n        break\r\n      case \"ArrowUp\": {\r\n        const prevOption = select.options[select.selectedOptionIndex - 1]\r\n        if (prevOption) {\r\n          select.selectValue(prevOption.value)\r\n        }\r\n        break\r\n      }\r\n      case \"ArrowDown\": {\r\n        const nextOption = select.options[select.selectedOptionIndex + 1]\r\n        if (nextOption) {\r\n          select.selectValue(nextOption.value)\r\n        }\r\n        break\r\n      }\r\n      case \"Enter\":\r\n      case \"Escape\":\r\n        select.ul.classList.remove(\"show\")\r\n        break\r\n      default: {\r\n        clearTimeout(debounceTimeout)\r\n        searchTerm += e.key\r\n        debounceTimeout = setTimeout(() => {\r\n          searchTerm = \"\"\r\n        }, 500)\r\n\r\n        const searchedOption = select.options.find(option => {\r\n          return option.label.toLowerCase().startsWith(searchTerm)\r\n        })\r\n        if (searchedOption) {\r\n          select.selectValue(searchedOption.value)\r\n        }\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\nfunction getFormattedOptions(options) {\r\n  return [...options].map(option => {\r\n    return {\r\n      value: option.value,\r\n      label: option.label,\r\n      selected: option.selected,\r\n      element: option,\r\n    }\r\n  })\r\n}","import './admin.scss'\r\nimport './model/cache';\r\n\r\nimport '../components/header/header-adm'\r\nimport '../components/accordion/accordion'\r\nimport '../components/admin_sidebar'\r\nimport '../components/date/date';\r\n// import tiny from \"../components/tiny/tiny\";\r\nimport {$} from \"../common\";\r\n\r\nimport '../Test/test_results/test_results'\r\nimport '../Test/opentest-edit'\r\nimport testEdit from '../Test/test-edit'\r\nimport '../Test/do'\r\nimport '../Test/open_test'\r\n\r\nimport './Planning/planning'\r\nimport './Settings/settings'\r\nimport './Videoinstructions/videoinstructions'\r\nimport './Category/category1'\r\nimport rights from './Rights/rights'\r\nimport product from './Category/category1'\r\nimport category from './Product/product'\r\nimport user from './user/user'\r\n\r\nimport radio from '@components/radio/radio'\r\nimport multiselect from '@components/multiselect/multiselect'\r\nimport catalogItem from '@components/catalog-item/catalog-item'\r\nimport tooltips from '../components/tooltip/tooltip';\r\nimport error from '../components/error/error';\r\nimport select from '../components/select/select';\r\nimport accordionShow from '../components/accordion-show';\r\nimport quill from '../components/quill/quill';\r\nimport morph from '../components/morph/morph';\r\n\r\n\r\n$(document).ready(function () {\r\n\r\n  select()\r\n  morph()\r\n\r\n  navigate(window.location.pathname)\r\n  radio()\r\n  multiselect()\r\n  catalogItem()\r\n  tooltips()\r\n  quill()\r\n  // debugger\r\n  accordionShow()\r\n\r\n  testEdit()\r\n  product()\r\n  category()\r\n\r\n  function navigate(str) {\r\n    if (/\\/adminsc\\/settings/.test(str)\r\n      || /\\/adminsc\\/right\\/list/.test(str)\r\n      || /\\/adminsc\\/post\\/list/.test(str) ||\r\n      /\\/adminsc\\/todo\\/list/.test(str)) {\r\n      // rights()\r\n      $(\"[settings]\").addClass('current')\r\n\r\n\r\n    } else if (/\\/auth\\/profile/.test(str)) {\r\n      // user()\r\n    } else if (/\\/adminsc\\/crm/.test(str)) {\r\n      $(\"[crm]\").addClass('current')\r\n\r\n\r\n    } else if ( /\\/adminsc\\/planning/.test(str)) {\r\n      $(\"[plan]\").addClass('current')\r\n\r\n    } else if (\r\n      /\\/adminsc\\/category/.test(str)||\r\n      /\\/adminsc\\/product/.test(str)\r\n    ) {\r\n      $(\"[catalog]\").addClass('current')\r\n\r\n    } else if (\r\n      /\\/test/.test(str)\r\n      || /\\/opentest/.test(str)\r\n      || /\\/adminsc\\/opentest/.test(str)\r\n      || /\\/adminsc\\/test/.test(str)) {\r\n      $(\"[test]\").addClass('current')\r\n\r\n    } else {\r\n      $(\"[href='/adminsc']\").addClass('current')\r\n    }\r\n\r\n  }\r\n\r\n})\r\n\r\n\r\n\r\n","import './select.scss';\r\nimport {$} from \"../../common\";\r\nimport WDSSelect from \"./WDSSelect\";\r\n\r\nexport default function () {\r\n  let selects = $('[custom-select]')\r\n\r\n  // debugger\r\n  if (selects) {\r\n    [].map.call(selects, function (select) {\r\n      new WDSSelect(select)\r\n    })\r\n  }\r\n}","import './radio.scss'\r\nimport {$} from '../../common'\r\n\r\nexport default function radio(){\r\n  let radios = $('[custom-radio]');\r\n\r\n  [].map.call(radios, function (radio) {\r\n    $(radio).on('click',handleClick)\r\n\r\n    function handleClick({target}) {\r\n      let targ = target.closest(\"label\")\r\n      radio.dataset.value = targ.dataset.value\r\n    }\r\n\r\n  })\r\n\r\n}","import './multiselect.scss'\r\nimport {$} from '../../common'\r\n\r\nexport default function multiselect() {\r\n\r\n  function getSelected(){\r\n    if (multi){\r\n      let selected = [].map.call(multi, function (select) {\r\n        let chips = select.querySelectorAll('.chip-wrap');\r\n        let objs = [].map.call(chips, function (chip) {\r\n          return chip.dataset.id;\r\n        })\r\n        let obj = {}\r\n        obj.field =  select.dataset.field\r\n        obj.ids = objs\r\n        return obj\r\n      })\r\n    }\r\n    // debugger\r\n  }\r\n\r\n  let multi = $('[multi-select] ')\r\n  if (multi) {\r\n\r\n    [].forEach.call(multi, function (select) {\r\n\r\n      select.addEventListener('click', handleClick, false)\r\n      select.addEventListener('blur', handleBlur, false)\r\n\r\n      function handleBlur({target}) {\r\n        let show = $(this).find('.show')\r\n        if (show) {\r\n          show.classList.remove('show')\r\n        }\r\n      }\r\n\r\n      function handleClick({target}) {\r\n        let multi = target.closest('[multi-select]')\r\n// открыть выбор элементов\r\n        if (target.closest('.arrow')||['chip-wrap'].includes(target.className))  {\r\n          // let multiselect = target.closest('[multi-select] ')\r\n          let ul = multi.querySelector('ul')\r\n          ul.classList.toggle('show')\r\n\r\n// нажатие по крестику чипа\r\n        } else if (['view.components.Builders.ListBuilder.del'].includes(target.className)) {\r\n          let id = target.closest('.chip').dataset.id\r\n          toggleBackground(id)\r\n          let chip = target.closest('.chip')\r\n          chip.remove()\r\n\r\n// выбор элемента, проверка существования чипа и его добавление\r\n        } else if (target.tagName.toLowerCase() === 'label') {\r\n          let id = target.dataset.id;\r\n          // let m = target.closest('[multi-select] ')\r\n          let chips = multi.querySelectorAll('.chip');\r\n          let exist = [].some.call(chips, (chip) => {\r\n            return chip.dataset.id === id\r\n          })\r\n\r\n          let wrap = $(multi).find('.chip-wrap')\r\n          if (!exist) {\r\n            target.classList.toggle('selected')\r\n            let chip = createChip(id)\r\n            wrap.append(chip)\r\n          } else {\r\n            target.classList.toggle('selected')\r\n            wrap.querySelector(`[data-id='${id}']`).remove()\r\n          }\r\n        }\r\n        function toggleBackground(id) {\r\n          // let multi = target.closest('[multi-select] ')\r\n          $(multi).find(`label[data-id='${id}']`).classList.remove('selected')\r\n        }\r\n\r\n        function createChip(id) {\r\n          let chip = document.createElement('div')\r\n          chip.classList.add('chip')\r\n          chip.innerText = target.innerText\r\n          chip.dataset['id'] = id\r\n\r\n          let del = document.createElement('div')\r\n          del.classList.add('view.components.Builders.ListBuilder.del')\r\n          del.innerText = 'X'\r\n\r\n          chip.append(del)\r\n\r\n          return chip\r\n        }\r\n      }\r\n    })\r\n  }\r\n}","import './catalog-item.scss';\r\nimport {$, debounce, post, trimStr,formatDate} from '../../common';\r\nimport checkboxes from \"../checkboxes/checkboxes\";\r\nimport checkbox from \"../checkbox/checkbox\";\r\n\r\n\r\nexport default function catalogItem() {\r\n\r\n  // self = new this\r\n  let customCatalogItem = $('.item_wrap')[0]\r\n  if (customCatalogItem) {\r\n\r\n    self.model = customCatalogItem.dataset.model\r\n    self.id = +customCatalogItem.dataset.id\r\n\r\n    let context = {\r\n      model: customCatalogItem.dataset.model,\r\n      id: +customCatalogItem.dataset.id\r\n    }\r\n\r\n    checkboxes('[checkboxes]', context)\r\n      .onChange(update)\r\n    checkbox(context);\r\n\r\n    customCatalogItem.onclick = handleClick.bind(context)\r\n    customCatalogItem.onkeyup = debounce(handleKeyup.bind(context))\r\n  }\r\n\r\n  async function handleKeyup({target}) {\r\n    if (\r\n      !target.hasAttribute('contenteditable') ||\r\n      !target.dataset.field\r\n    ) return\r\n\r\n    let field = target.dataset.field\r\n    let data = {\r\n      id: this.id,\r\n      [field]: target.innerText\r\n    }\r\n    await post(`/adminsc/${this.model}/updateOrCreate`, data)\r\n  }\r\n\r\n\r\n  async function handleClick({target}) {\r\n\r\n    this.target = target\r\n    if (target.closest('.save')) {\r\n      // save.bind(this)\r\n    } else if (target.closest('.detach')) {\r\n      // detach(this.id, this.model)\r\n    } else if (target.hasAttribute('soft-del')) {\r\n      softDel(this)\r\n    } else if ((target.classList.contains('tab'))) {\r\n      handleTab(target, this.model)\r\n    } else if ((target.getAttribute('type') === 'checkbox')) {\r\n      // debugger\r\n      // handleCheckbox.apply(this)\r\n    }\r\n  }\r\n\r\n  async function handleTab(target) {\r\n    let visibleSection = $(`[data-tab].show`)[0]\r\n    let section = $(`[data-tab='${target.dataset.tabId}']`)[0]\r\n    let activeTab = $(`.tab.active`)[0]\r\n    visibleSection.classList.toggle('show')\r\n    section.classList.toggle('show')\r\n    activeTab.classList.toggle('active')\r\n    target.classList.toggle('active')\r\n  }\r\n\r\n  async function softDel(self) {\r\n    let url = `/adminsc/${self.model}/updateorcreate`\r\n\r\n    let deleted = new Date().toLocaleString('ru-RU', {year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', hour12: false, minute:'2-digit'})\r\n    debugger\r\n    let data = {deleted_at: deleted, id: self.id}\r\n    let res = await post(url, data)\r\n\r\n    if (res) {\r\n      console.log('lk------')\r\n    }\r\n\r\n  }\r\n\r\n\r\n  async function update() {\r\n    let res = await post(`/adminsc/${this.model}/updateorcreate`, this.data)\r\n  }\r\n\r\n\r\n  function getInputs(field) {\r\n    let inputs = field.querySelectorAll('input')\r\n    let names = []\r\n    inputs.forEach((inp) => {\r\n      if (!inp.checked) return\r\n      let name = inp.parentNode.querySelector('.name').innerText\r\n      if (!name) return\r\n\r\n      names.push(name)\r\n    })\r\n    return names.join()\r\n  }\r\n\r\n  // function getModel(modelName) {\r\n  //   let fields = $(`[data-field][data-model='${modelName}']`);\r\n  //   let obj = {};\r\n  //\r\n  //   debugger;\r\n  //   [].map.call(fields, (field) => {\r\n  //       if (field.closest('[data-parent]')) return obj\r\n  //       if (\r\n  //         field.hasAttribute('data-value') ||\r\n  //         field.hasAttribute('custom-select') ||\r\n  //         field.hasAttribute('custom-radio') ||\r\n  //         field.hasAttribute('tab')\r\n  //       ) {\r\n  //         obj[field.dataset.field] = field.dataset.value\r\n  //       } else if (field.hasAttribute('multi-select')) {\r\n  //         let chips = field.querySelectorAll('.chip');\r\n  //         let ids = [].map.call(chips, (chip) => {\r\n  //           return chip.dataset.id\r\n  //         })\r\n  //         obj[field.dataset.field] = ids.toString()\r\n  //       } else if (field.dataset.type === 'inputs') {\r\n  //         // debugger\r\n  //         obj[field.dataset.field] = getInputs(field)\r\n  //       } else if (field.type === 'date') {\r\n  //         obj[field.dataset.field] = field.value ? field.value : '1970-01-02'\r\n  //       } else {\r\n  //         obj[field.dataset.field] = trimStr(field.innerText)\r\n  //       }\r\n  //     },\r\n  //     obj\r\n  //   )\r\n  //   return obj\r\n  // }\r\n  // function checkRequired() {\r\n  //   let required = $('[required]');\r\n  //   let errCount = 0;\r\n  //   [].forEach.call(required, function (el) {\r\n  //     if (!el.innerText) {\r\n  //       el.style.borderColor = 'red'\r\n  //       if ($(el).find('.error')) return\r\n  //       let error = document.createElement('div')\r\n  //       error.innerText = 'Заполните поле'\r\n  //       error.classList.add('error')\r\n  //       el.closest('.value').appendChild(error)\r\n  //       errCount++\r\n  //     }\r\n  //   })\r\n  //   return errCount\r\n  // }\r\n  // async function sendToServer(i, file, url) {\r\n  //   let formData = new FormData()\r\n  //   formData.append(i, file, file['name'])\r\n  //   formData.append('imageable_id', productId)\r\n  //   let res = await fetch(url, {\r\n  //     method: 'POST',\r\n  //     body: formData\r\n  //   })\r\n  //   let json = await res.json()\r\n  //   let id = await json.arr.id\r\n  //   if (json.arr.popup) {\r\n  //     popup.show(json.arr.popup)\r\n  //   }\r\n  //   return id\r\n  // }\r\n\r\n\r\n  // async function del(id, modelName) {\r\n  //   let res = await post(`/adminsc/${modelName}/delete`, {id})\r\n  //   if (res) {\r\n  //     window.location.href = `/adminsc/${modelName}/edit`\r\n  //   }\r\n  // }\r\n  //\r\n  // async function detach(id, modelName) {\r\n  //   debugger\r\n  //   let res = await post(`/adminsc/${modelName}/detach`, {id})\r\n  //   if (res) {\r\n  //     window.location.href = `/adminsc/${modelName}/edit`\r\n  //   }\r\n  // }\r\n  //\r\n}\r\n","import './tooltip.scss'\r\n\r\nexport default function tooltips() {\r\n\r\n  document.addEventListener('mouseenter', showTip, true)\r\n  document.addEventListener('mouseleave', hideTip, true)\r\n\r\n\r\n  function showTip({target}) {\r\n// debugger\r\n    // если у нас есть подсказка...\r\n    if (!target.dataset||!target.dataset.tooltip) return;\r\n\r\n    let tooltipHtml = target.dataset.tooltip\r\n    // ...создадим элемент для подсказки\r\n    let tooltipElem = document.createElement('div');\r\n    tooltipElem.className = 'tooltip';\r\n    tooltipElem.innerHTML = tooltipHtml;\r\n    document.body.append(tooltipElem);\r\n\r\n    // спозиционируем его сверху от аннотируемого элемента (top-center)\r\n    let coords = target.getBoundingClientRect();\r\n\r\n    let left = coords.left + (target.offsetWidth - tooltipElem.offsetWidth) / 2;\r\n    if (left < 0) left = 0; // не заезжать за левый край окна\r\n\r\n    let top = coords.top - tooltipElem.offsetHeight - 5;\r\n    if (top < 0) { // если подсказка не помещается сверху, то отображать её снизу\r\n      top = coords.top + target.offsetHeight + 5;\r\n    }\r\n\r\n    tooltipElem.style.left = left + 'px';\r\n    tooltipElem.style.top = top + 'px';\r\n  };\r\n\r\n  function hideTip() {\r\n    let tooltips = document.querySelectorAll('.tooltip')\r\n    if (tooltips) {\r\n      [].forEach.call(tooltips, (tip) => {\r\n          tip.remove();\r\n        }\r\n      )\r\n    }\r\n  };\r\n}\r\n","import {post, $} from '../../common'\r\n\r\nexport default function quill() {\r\n\r\n  window.onload = function () {\r\n    let selector = '#mytextarea'\r\n    let textarea = $(selector)[0]\r\n    if (!textarea) return false\r\n\r\n    let toolbarOptions = [\r\n      ['bold', 'italic', 'underline', 'strike'],        // toggled buttons\r\n      ['blockquote'],\r\n\r\n      // [{ 'header': 1 }, { 'header': 2 }],               // custom button values\r\n      [{'list': 'ordered'}, {'list': 'bullet'}],\r\n      [{'script': 'sub'}, {'script': 'super'}],      // superscript/subscript\r\n      [{'indent': '-1'}, {'indent': '+1'}],          // outdent/indent\r\n      // [{ 'direction': 'rtl' }],                         // text direction\r\n\r\n      [{'size': ['small', false, 'large', 'huge']}],  // custom dropdown\r\n      // [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\r\n\r\n      [{'color': []}, {'background': []}],          // dropdown with defaults from theme\r\n      [{'font': []}],\r\n      [{'align': []}],\r\n\r\n      ['clean']                                         // remove formatting button\r\n    ];\r\n\r\n    let options = {\r\n      modules: {\r\n        toolbar: toolbarOptions\r\n      },\r\n      placeholder: 'Compose an epic...',\r\n      // theme: 'bubble'\r\n      theme: 'snow'\r\n    };\r\n\r\n    let text = textarea.innerText.trim()\r\n\r\n    let quill = new Quill(selector, options);\r\n\r\n    // debugger\r\n    try {\r\n      const json = JSON.parse(text);\r\n      quill.setContents(json)\r\n    } catch (e) {\r\n      quill.insertText(0, text)\r\n    }\r\n\r\n    textarea.style.background = '#fff'\r\n\r\n    let button = $('#button')[0]\r\n    button.addEventListener('click', function () {\r\n\r\n        let productId = $(`.item_wrap[data-model='product']`)[0].dataset.id\r\n        let txt = JSON.stringify(quill.getContents())\r\n\r\n        post('/adminsc/product/updateOrCreate',\r\n          {\r\n            txt,\r\n            'id': productId\r\n          }\r\n        )\r\n      }\r\n    )\r\n\r\n  }\r\n}\r\n\r\n\r\n","import {$} from \"../common\";\r\n\r\nexport default function accordionShow() {\r\n\r\n  let currentTestId = $(`[data-testid]`)[0]\r\n  if (currentTestId) {\r\n    currentTestId = +currentTestId.dataset['testid']\r\n    let menuItemCollection = $('.test-edit.accordion a')\r\n    Array.from(menuItemCollection).filter((a) => {\r\n      if (+a.dataset.id === currentTestId) {\r\n        a.classList.add('current')\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  let button = $('.accordion-open')[0]\r\n  // debugger\r\n  if (button) {\r\n    $(button).on('click', function () {\r\n      let menu = $('.accordion_wrap')[0]\r\n      menu.classList.toggle('open')\r\n    })\r\n  }\r\n\r\n  let admin_sidebar_gumburger = $('#burger')[0]\r\n  if (admin_sidebar_gumburger) {\r\n    $(admin_sidebar_gumburger).on('click', function () {\r\n      let admin_sidebar = $('.admin_sidebar')[0]\r\n      admin_sidebar.classList.toggle('open')\r\n    })\r\n  }\r\n\r\n\r\n}\r\n","import '../Product/product.scss'\r\nimport './category.scss'\r\nimport {$, post} from \"../../common\";\r\nimport Imageable from '../Image/Imageable';\r\nimport Category from '../Category/Category';\r\n\r\nimport Morph from \"../../components/morph/morph\";\r\n\r\n\r\nexport default function category() {\r\n\r\n  let category = $(`.item_wrap[data-model='category']`)[0]\r\n  if (!category) return false\r\n\r\n  // let morphs = $('[data-morph-model]')\r\n  let dnds = $('[data-dnd]')\r\n\r\n  // debugger\r\n  dnds.forEach((dnd) => {\r\n    if (dnd.parentNode.dataset.morphModel) {\r\n      let m = new Morph(dnd, category)\r\n    } else if (dnd.parentNode.dataset.belongsTo) {\r\n      let m = new BelongsTo(dnd, category)\r\n    }\r\n  })\r\n}\r\n// let sel = \"[data-field='image_main']\"\r\n// new DragNDrop(sel, addMainImg, true, null)\r\n\r\nasync function addMainImg(files) {\r\n  let catId = $('.item_wrap')[0].dataset.id\r\n  let slugNameId = 1\r\n  let imagable = new Imageable()\r\n  let morph = await new Morph(imagable, new Category(catId, slugNameId), files)\r\n\r\n  let src = await post(imagable.urlOne, morph?.data)\r\n  let appendTo = \".image[data-model='category']\"\r\n  let appendOneImage = morph.appendOneImage(appendTo, src?.arr[0])\r\n}\r\n","import './product.scss'\r\nimport {$, popup, post} from '../../common'\r\nimport Morph from \"../../components/morph/morph\";\r\n\r\nexport default function product() {\r\n\r\n  let product = $(`.item_wrap[data-model='product']`)[0]\r\n  if (!product) return false\r\n\r\n  // let morphs = $('[data-morph-model]')\r\n  let dnds = $('[data-dnd-path]')\r\n\r\n  // debugger\r\n  dnds.forEach((dnd) => {\r\n    if (dnd.parentNode.dataset.morphFunction) {\r\n      let m = new Morph(dnd.parentNode, product)\r\n    } else if (dnd.parentNode.dataset.belongsTo) {\r\n    }\r\n  })\r\n\r\n  // let morphs =\r\n\r\n  let customSelects = $('[custom-select]')\r\n\r\n  customSelects.forEach((sel)=>{\r\n    if (sel.dataset.morphModel){\r\n      let m = 1\r\n    } else{\r\n      let m = 1\r\n    }\r\n  })\r\n\r\n//// Property set\r\n  let property = $(`[data-model='product'] [custom-select][data-model=\"property\"]`)\r\n  if (property) {\r\n    [].map.call(property, function (prop) {\r\n\r\n      let observer = new MutationObserver(function (mutations) {\r\n        mutations.forEach(function (mutation) {\r\n          let propertable_id = $('.item_wrap')[0].dataset.id\r\n          let property_id = mutation.target.dataset.modelId\r\n          let val_id = mutation.target.dataset.value\r\n          post('/adminsc/product/setProperty',\r\n            {propertable_id, property_id, val_id})\r\n\r\n        });\r\n      });\r\n\r\n      observer.observe(\r\n        prop, {attributes: true,}\r\n      );\r\n    })\r\n  }\r\n\r\n  function validateType(file) {\r\n    if ([\r\n      'image/png',\r\n      'image/jpeg',\r\n      'image/jpg',\r\n      'image/webp',\r\n      'image/gif'\r\n    ].includes(file.type)) return true\r\n    popup.show(`Тип файлa ${file['name']} должен быть jpg, jpeg, png, webp, gif`)\r\n    return false\r\n  }\r\n\r\n\r\n}"],"names":["objAndData2FormData","obj","files","formData","FormData","self","i","length","append","createFormData","subKeyStr","value","subKeyStrTrans","debounce","fn","timeout","time","functionCall","apply","this","arguments","clearTimeout","setTimeout","cachePage","className","str","trim","replaceBackSpace","re","RegExp","replace","replaceTs","replaceNs","replaceNbsps","$","outerHTML","popup","show","txt","callback","close","el","innerText","popup__item","addEventListener","document","body","classList","remove","add","hideDelay","e","target","contains","closest","tagName","createElement","async","post","url","data","Promise","resolve","reject","token","querySelector","getAttribute","req","XMLHttpRequest","open","setRequestHeader","send","JSON","stringify","onerror","Error","message","onload","res","parse","response","msg","arr","innerHTML","removeClass","success","addClass","error","console","log","ElementCollection","Array","attrName","attrVal","setAttribute","selectedOptions","options","checked","attr","val","forEach","s","style","push","appendChild","item","filter","querySelectorAll","on","event","cbOrSelector","cb","elem","ready","some","readyState","selector","String","fragmentDate","date","order","y","m","d","glue","o","Date","yyyy","getFullYear","mm","getMonth","dd","getDate","M","D","getDay","wd","Dnd","holderClass","holders","call","h","ondragenter","preventDefault","toggle","ondragleave","ondragover","ondrop","dataTransfer","adm_content","div","prepend","scale","bind","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","definition","key","Object","defineProperty","enumerable","get","prop","prototype","hasOwnProperty","rotateArrow","li","arrow","find","ul","maxHeight","openedChild","closeChild","parentUl","getParentUl","parent","closeSiblings","parentNode","getParent","scrollHeight","dates","onchange","formated","Model","constructor","props","id","empty","emptySelector","cloneNode","getElById","dataset","getEl","getId","getUrlUpdateOrCreate","name","updateOrCreate","model","delServer","delDom","delDomSelector","map","confirm","Testresult","super","testResults","testresult","row","delete","_openquestion","testId","opentest_id","sort","questionCnt","clone","cloneEmptyModel","before","question","q","ans","answer","upToQestionNumber","questionsEls","questions","toChange","test_id","selectedIndex","test_name","showAnswers","answers","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","source","getOwnPropertyDescriptors","defineProperties","_typeof","Symbol","iterator","configurable","writable","_extends","assign","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","userAgent","pattern","window","navigator","match","IE11OrLess","Edge","FireFox","Safari","IOS","ChromeForAndroid","captureMode","capture","passive","off","removeEventListener","matches","substring","msMatchesSelector","webkitMatchesSelector","_","getParentOrHost","host","nodeType","ctx","includeCTX","_throttleTimeout","R_SPACE","toggleClass","state","css","defaultView","getComputedStyle","currentStyle","matrix","selfOnly","appliedTransforms","transform","matrixFn","DOMMatrix","WebKitCSSMatrix","CSSMatrix","MSCSSMatrix","list","getElementsByTagName","n","getWindowScrollingElement","scrollingElement","documentElement","getRect","relativeToContainingBlock","relativeToNonStaticParent","undoScale","container","getBoundingClientRect","elRect","top","left","bottom","right","height","width","innerHeight","innerWidth","containerRect","parseInt","elMatrix","scaleX","a","scaleY","isScrolledPast","elSide","parentSide","getParentAutoScrollElement","elSideVal","parentSideVal","getChild","childNum","includeDragEl","currentChild","children","display","Sortable","ghost","dragged","draggable","lastChild","last","lastElementChild","previousElementSibling","index","nodeName","toUpperCase","getRelativeScrollOffset","offsetLeft","offsetTop","winScroller","scrollLeft","scrollTop","includeSelf","gotSelf","clientWidth","scrollWidth","clientHeight","elemCSS","overflowX","overflowY","isRectEqual","rect1","rect2","Math","round","throttle","ms","args","_this","scrollBy","x","Polymer","jQuery","Zepto","dom","expando","getTime","plugins","defaults","initializeByDefault","PluginManager","mount","plugin","option","p","pluginName","concat","pluginEvent","eventName","sortable","evt","eventCanceled","cancel","eventNameGlobal","initializePlugins","initialized","modified","modifyOption","getEventProperties","eventProperties","modifiedValue","optionListeners","_excluded","_ref","originalEvent","dragEl","parentEl","ghostEl","rootEl","nextEl","lastDownEl","cloneEl","cloneHidden","dragStarted","moved","putSortable","activeSortable","active","oldIndex","oldDraggableIndex","newIndex","newDraggableIndex","hideGhostForTarget","_hideGhostForTarget","unhideGhostForTarget","_unhideGhostForTarget","cloneNowHidden","cloneNowShown","dispatchSortableEvent","_dispatchEvent","info","targetEl","toEl","fromEl","extraEventProperties","onName","charAt","substr","CustomEvent","createEvent","initEvent","bubbles","cancelable","to","from","pullMode","lastPutMode","allEventProperties","dispatchEvent","activeGroup","tapEvt","touchEvt","lastDx","lastDy","tapDistanceLeft","tapDistanceTop","lastTarget","lastDirection","targetMoveDistance","ghostRelativeParent","awaitingDragStarted","ignoreNextClick","sortables","pastFirstInvertThresh","isCircumstantialInvert","ghostRelativeParentInitialScroll","_silent","savedInputChecked","documentExists","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","supportCssPointerEvents","cssText","pointerEvents","_detectDirection","elCSS","elWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","child1","child2","firstChildCSS","secondChildCSS","firstChildWidth","marginLeft","marginRight","secondChildWidth","flexDirection","gridTemplateColumns","split","touchingSideChild2","clear","_prepareGroup","toFn","pull","sameGroup","group","otherGroup","join","originalGroup","checkPull","checkPut","put","revertClone","stopPropagation","stopImmediatePropagation","nearestEmptyInsertDetectEvent","touches","nearest","clientX","clientY","threshold","emptyInsertThreshold","rect","insideHorizontally","insideVertically","ret","_onDragOver","_checkOutsideTargetEl","_isOutsideThisEl","toString","animationCallbackId","animationStates","disabled","store","handle","test","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","ghostClass","chosenClass","dragClass","ignore","preventOnFilter","animation","easing","setData","textContent","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","Number","devicePixelRatio","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","nativeDraggable","_onTapStart","captureAnimationState","slice","child","fromRect","thisAnimationDuration","childMatrix","f","addAnimationState","removeAnimationState","splice","indexOfObject","animateAll","animating","animationTime","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","sqrt","pow","calculateRealTime","animate","max","animationResetTimer","currentRect","duration","translateX","translateY","animatingX","animatingY","forRepaintDummy","offsetWidth","repaint","animated","_onMove","dragRect","targetRect","willInsertAfter","retVal","onMoveFn","onMove","draggedRect","related","relatedRect","_disableDraggable","_unsilent","_generateId","src","href","sum","charCodeAt","_nextTick","_cancelNextTick","_getDirection","type","touch","pointerType","originalTarget","shadowRoot","path","composedPath","root","inputs","idx","_saveInputCheckedState","button","isContentEditable","criteria","_prepareDragStart","dragStartFn","ownerDocument","nextSibling","_lastX","_lastY","_onDrop","_disableDelayedDragEvents","_triggerDragStart","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","abs","floor","_onTouchMove","_onDragStart","selection","getSelection","removeAllRanges","err","_dragStarted","fallback","_appendGhost","_nulling","_emulateDragOver","elementFromPoint","ghostMatrix","relativeScrollOffset","dx","dy","b","c","cssMatrix","removeAttribute","_hideClone","cloneId","insertBefore","_loopId","setInterval","effectAllowed","_dragStartId","revert","vertical","isOwner","canSort","fromSortable","completedFired","dragOverEvent","_ignoreWhileAnimating","completed","elLastChild","_ghostIsLast","changed","_ghostIsFirst","firstChild","targetBeforeFirstSwap","sibling","differentLevel","differentRowCol","dragElS1Opp","dragElS2Opp","dragElOppLength","targetS1Opp","targetS2Opp","targetOppLength","_dragElInRowColumn","side1","scrolledPastTop","scrollBefore","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","invert","_getInsertDirection","_getSwapDirection","dragIndex","nextElementSibling","after","moveVector","extra","axis","insertion","_showClone","_offMoveEvents","_offUpEvents","clearInterval","removeChild","save","handleEvent","dropEffect","_globalDragOver","toArray","useAnimation","items","set","destroy","utils","is","extend","dst","nextTick","cancelNextTick","detectDirection","element","_len","_key","create","version","scrollEl","scrollRootEl","lastAutoScrollX","lastAutoScrollY","touchEvt$1","pointerElemChangedInterval","autoScrolls","scrolling","clearAutoScrolls","autoScroll","pid","clearPointerElemChangedInterval","isFallback","scroll","scrollCustomFn","sens","scrollSensitivity","speed","scrollSpeed","scrollThisInstance","scrollFn","layersOut","currentParent","canScrollX","canScrollY","scrollPosX","scrollPosY","vx","vy","layer","scrollOffsetY","scrollOffsetX","bubbleScroll","drop","toSortable","changedTouches","onSpill","Revert","Remove","startIndex","dragStart","_ref2","_ref3","_ref4","parentSortable","AutoScroll","forceAutoScrollFallback","_handleAutoScroll","_handleFallbackAutoScroll","dragOverCompleted","dragOverBubble","nulling","ogElemScroller","newElem","containerSelector","elSelector","onEnd","oldI","newI","els","_test","serverModel","isTest","location","testid","test_path","notAdmin","_answer","openquestion_id","html","insertAdjacentHTML","del_button","Pagination","pClass","pActiveClass","pageClass","pageActiveClass","prevBttnId","nextBttnId","paginations","activePClass","activePageClass","navInit","handleClick","handleNextPrev","nav","activePage","activeP","aimPagination","togglePage","toggleNav","aimP","aimPId","aimPageId","pagination","active_btn","id_to_hide","id_to_show","opentestEdit","parentSelect","saveAnswer","changeParent","path_create","del","handleKeyup","quest","debouncedInput","answerId","is_correct","viewModel","pop","text","enable","selectedIndexValue","fields","field","update","Answer","questionSelector","questionsSelector","answerSelector","correct_answerSelector","sortSelector","picaSelector","fullfill","question_id","getQuestion_id","correct_answer","pica","createOnServer","render","Question","testSelector","textSelector","picqSelector","opt","qustion","getTest_id","picq","includes","debouncedHandleKeyup","handleChange","testDo","pathname","finishBtnInit","currQuest","navs","navIndex","findIndex","pushNav","currentId","aimNavId","pushQ","aimId","labels","prevQ","nextQ","reload","correctAnswers","errors","input","correctAnser","checkCorrectAnswers","colorQuestions","paginItem","colorPgination","colorView","errorCnt","testname","user","finishTest","openTest","firstQuest","showFirstQuest","correct","q_id","q_el","textarea","Openanswer","word","rgxp","w","r","repl","hilitePagination","hilite","correctCount","rightAnswers","username","finish","activePagination","MorphDTOClass","morphEl","_morph","relation","morphRelation","oneormany","morphOneormany","slug","morphSlug","morph","MorphDTO","Morph","onclick","attach","hasAttribute","detach","dnd","param","appendTo","morphId","images","appendManyImages","appendOneImage","image","img","renderImage","srcArr","holder","wrap","morphs","Checkboxes","context","first","setContext","getValue","values","onChange","Checkbox","changeHandle","WDSSelect","multiple","title","modelId","label","selected","sel","morphFunction","morphDetach","belongstoModel","belongstoId","space","select","setOption","selectValue","morphed","oneOrMany","getMorph","sendToServer","debounceTimeout","titleElement","selectedOption","tabIndex","searchTerm","code","prevOption","selectedOptionIndex","nextOption","searchedOption","toLowerCase","startsWith","setup","next","prev","newCustomElement","scrollIntoView","block","selects","radios","radio","targ","multi","toggleBackground","chips","exist","chip","createChip","multiselect","customCatalogItem","checkboxes","checkbox","deleted_at","toLocaleString","year","month","day","hour","hour12","minute","softDel","visibleSection","section","tabId","activeTab","handleTab","onkeyup","catalogItem","tooltip","tooltipHtml","tooltipElem","coords","offsetHeight","tooltips","tip","quill","Quill","modules","toolbar","placeholder","theme","json","setContents","insertText","background","productId","getContents","currentTestId","menuItemCollection","admin_sidebar_gumburger","accordionShow","testEdit","category","morphModel","belongsTo","BelongsTo","product","property","MutationObserver","mutations","mutation","propertable_id","property_id","val_id","observe","attributes"],"sourceRoot":""}
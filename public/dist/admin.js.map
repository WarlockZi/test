{"version":3,"file":"admin.js","mappings":";oUAGA,MAAMA,EAAW,SAACC,GAAmB,IAC/BC,EADgBC,EAAe,uDAAR,IAE3B,OAAO,WACL,MAAMC,EAAe,IAAMH,EAAGI,MAAMC,KAAMC,WAC1CC,aAAaN,GACbA,EAAUO,WAAWL,EAAcD,KA6BvC,SAASO,EAAUC,GAEjB,OAAOC,EADIC,EAAEF,GAAW,GAAGG,WAI7B,SAASF,EAAQG,GAIf,OAdF,SAAmBA,GACjB,IAAIC,EAAK,IAAIC,OAAO,OAAQ,KAC5B,OAAOF,EAAIG,QAAQF,EAAI,IAWjBG,CADNJ,EAjBF,SAAmBA,GACjB,IAAIC,EAAK,IAAIC,OAAO,OAAQ,KAC5B,OAAOF,EAAIG,QAAQF,EAAI,IAejBI,CADNL,EArBF,SAAsBA,GACpB,IAAIC,EAAK,IAAIC,OAAO,UAAW,KAC/B,OAAOF,EAAIG,QAAQF,EAAI,KAmBjBK,CAAaN,KAMrB,IA8CIO,EAAQ,CAEVC,KAAM,SAAUC,EAAKC,GACnB,IAAIC,EAAQpB,KAAKqB,GAAG,MAAO,gBAC3BD,EAAME,UAAY,IAClB,IAAIC,EAAcvB,KAAKqB,GAAG,MAAO,eAEjCE,EAAYD,UAAYJ,EACxBK,EAAYC,OAAOJ,GACnB,IAAIJ,EAAQT,EAAE,UAAU,GACnBS,IACHA,EAAQhB,KAAKqB,GAAG,MAAO,UAEzBL,EAAMQ,OAAOD,GACbP,EAAMS,iBAAiB,QAASzB,KAAKoB,OAAO,GAC5CM,SAASC,KAAKH,OAAOR,GAErBb,YAAW,KACToB,EAAYK,UAAUC,OAAO,eAC7BN,EAAYK,UAAUE,IAAI,gBAHZ,KAMhB3B,YAAW,KACToB,EAAYM,SACRV,GACFA,MAJcY,OASpBX,MAAO,SAAUY,GACXA,EAAEC,OAAOL,UAAUM,SAAS,iBAClBlC,KAAKmC,QAAQ,UAAUN,UAGvCR,GAAI,SAAUe,EAAS/B,GACrB,IAAIgB,EAAKK,SAASW,cAAcD,GAEhC,OADAf,EAAGO,UAAUE,IAAIzB,GACVgB,IAaXiB,eAAeC,EAAKC,GAAgB,IAAXC,EAAW,uDAAJ,GAE9B,OAAO,IAAIC,SAAQJ,eAAgBK,EAASC,GACxCH,EAAKI,MAAQnB,SAASoB,cAAc,sBAAsBC,aAAa,WACvE,IAAIC,EAAM,IAAIC,eACdD,EAAIE,KAAK,OAAQV,GAAK,GACtBQ,EAAIG,iBAAiB,mBAAoB,kBACrCV,aAAgBW,SAClBJ,EAAIK,KAAKZ,IAETO,EAAIG,iBAAiB,eAAgB,qCACrCH,EAAIK,KAAK,SAAWC,KAAKC,UAAUd,KAErCO,EAAIQ,QAAU,SAAUxB,GACtBY,EAAOa,MAAM,gBAAkBzB,KAEjCgB,EAAIU,OAAS,WAAY,MACvB,IAAIC,EAAML,KAAKM,MAAMZ,EAAIa,UACrBC,EAAMvD,EAAE,YAAY,GAEQ,MAA5BoD,EAAI3C,OAAO2C,SAAX,UAAWA,EAAKI,WAAhB,OAAW,EAAU/C,MAGvBA,EAAMC,KAAK0C,EAAI3C,QAAO2C,SAAX,UAAWA,EAAKI,WAAhB,aAAW,EAAU/C,QACvB2C,EAAIG,IACTA,IACFA,EAAIE,UAAYL,EAAIG,IACpBA,EAAIE,UAAYL,EAAIG,IACpBvD,EAAEuD,GAAKG,YAAY,WACnB1D,EAAEuD,GAAKG,YAAY,UAEZN,EAAIO,QACTJ,IACFA,EAAIE,UAAYL,EAAIO,QACpB3D,EAAEuD,GAAKK,SAAS,WAChB5D,EAAEuD,GAAKG,YAAY,UAGZN,EAAIS,OACTN,IACFA,EAAIE,UAAY,GAChBF,EAAIE,UAAYL,EAAIS,MACpB7D,EAAEuD,GAAKG,YAAY,WACnB1D,EAAEuD,GAAKK,SAAS,UAGpBxB,EAAQgB,OAOhB,MAAMU,UAA0BC,MAAM,kDAiB5B,WACN,OAAOtE,KAAK,GAAG+C,aAAa,YAlBM,eAoB7B,SAAUwB,EAAUC,GAIzB,OAHIA,GACFxE,KAAK,GAAGyE,aAAaF,EAAUC,GAE1BxE,KAAK,GAAG+C,aAAawB,MAxBM,6BA0Bf,WACnB,GAAIvE,KAAK0E,OACP,OAAO1E,KAAK,GAAG2E,gBAAgB,GAAGC,SA5BF,kBA8B1B,WACR,GAAI5E,KAAK0E,OAAQ,OAAO1E,KAAK,GAAG6E,WA/BE,gBAiC5B,WACN,OAAO7E,KAAK0E,UAlCsB,eAoC7B,WACL,GAAI1E,KAAK0E,OAAQ,OAAO1E,KAAK,GAAGsB,aArCE,kBAuC1B,WACR,GAAItB,KAAK0E,OAAQ,OAAO1E,KAAK,GAAG8E,WAxCE,uBA0CrB,SAAUC,EAAMC,GAC7B,IAAIjB,EAAM,GAMV,OALA/D,KAAKiF,SAASC,IACRA,EAAEC,MAAMJ,KAAUC,GACpBjB,EAAIqB,KAAKF,MAGNnB,KAjD2B,mBAmDzB,SAAU1D,GACnBL,KAAKiF,SAASC,IACZA,EAAEtD,UAAUE,IAAIzB,SArDgB,sBAwDtB,SAAUA,GACtBL,KAAKiF,SAASC,IACZA,EAAEtD,UAAUC,OAAOxB,SA1Da,mBA6DzB,SAAUA,GACnB,GAAIL,KAAK4B,UAAUM,SAAS7B,GAAY,OAAO,KA9Db,iBAgE3B,SAAUgB,GACjBrB,KAAK,GAAGqF,YAAYhE,MAjEc,eAmE7B,SAAUiE,GACf,MAAoB,iBAATA,EACFtF,KAAK,GAAG8C,cAAcwC,GAEdtF,KAAK,GAAGuF,QAAQlE,GACtBA,IAAOiE,IAEA,MA1EgB,kBA6E1B,SAAUA,GAClB,GAAoB,iBAATA,EACT,OAAOtF,KAAK,GAAGwF,iBAAiBF,MA/EA,cAoF9B,SAAUP,EAAMC,GACpB,IAAKA,EACH,OAAOhF,KAAK,GAAGmF,MAAMJ,GAEvB/E,KAAKiF,SAASC,IACZA,EAAEC,MAAMJ,GAAQC,QApFpBS,GAAGC,EAAOC,EAAcC,GACM,mBAAjBD,EACT3F,KAAKiF,SAAQjD,GAAKA,EAAEP,iBAAiBiE,EAAOC,KAE5C3F,KAAKiF,SAAQY,IACXA,EAAKpE,iBAAiBiE,GAAO1D,IACvBA,EAAEC,SAAW0D,GAAcC,EAAG5D,SAiF1C8D,MAAMF,GACY5F,KAAK+F,MAAK/D,GACD,MAAhBA,EAAEgE,YAAsC,WAAhBhE,EAAEgE,aAGjCJ,IAEAlE,SAASD,iBAAiB,mBAAoBmE,IAOpD,SAASrF,EAAE0F,GACT,MAAwB,iBAAbA,GAAyBA,aAAoBC,OAC/C,IAAI7B,KAAqB3C,SAAS8D,iBAAiBS,IAEnD,IAAI5B,EAAkB4B,MCpT7BE,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CAGjDG,QAAS,IAOV,OAHAE,EAAoBL,GAAUI,EAAQA,EAAOD,QAASJ,GAG/CK,EAAOD,QCpBfJ,EAAoBO,EAAI,SAASH,EAASI,GACzC,IAAI,IAAIC,KAAOD,EACXR,EAAoBU,EAAEF,EAAYC,KAAST,EAAoBU,EAAEN,EAASK,IAC5EE,OAAOC,eAAeR,EAASK,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,MCJ3ET,EAAoBU,EAAI,SAASK,EAAKC,GAAQ,OAAOL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,4BCI/F,IADiB7G,EAAAA,EAAAA,GAAE,eACH,CAEd,IAAIiH,GAAajH,EAAAA,EAAAA,GAAG,iCAChBiH,GACF,IAAIA,GAAYjC,QAAOkC,IACrBA,EAAG3C,SAAU,MAGjBvE,EAAAA,EAAAA,GAAE,eAAekF,GAAG,SAGtB,YAA0B,IAAV,OAACxD,GAAS,EACpByF,EAAKzF,EAAOE,QAAQ,MACxB,IAAKuF,EAAI,OAGT,IAAIC,GAAKpH,EAAAA,EAAAA,GAAEmH,GAAIE,KAAK,MACpB,GAAKD,EAGH,GAAIA,EAAG/F,UAAUM,SAAS,QACxB2F,EAAQF,EAAID,OACP,CAEL,IAAKC,EAAI,OACT,IAAIG,EAASJ,EAAGvF,QAAQ,OAO9B,SAAuB2F,GACrB,IAAKA,EAAQ,OACb,IAAI5E,GAAO3C,EAAAA,EAAAA,GAAEuH,GAAQF,KAAK,cAC1B,GAAI1E,EAAM,CACR,IAAIwE,EAAKxE,EAAKf,QAAQ,MACtB0F,EAAQ3E,EAAMwE,IAXZK,CAAcD,GAepB,SAAmBH,EAAID,EAAII,GACrBA,IACFA,EAAO3C,MAAM6C,UAAYL,EAAGM,aAAeH,EAAOG,aAAe,MAEnEN,EAAGxC,MAAM6C,UAAYL,EAAGM,aAAe,KACvCN,EAAG/F,UAAUsG,OAAO,QACpBR,EAAG9F,UAAUsG,OAAO,UApBhBC,CAAUR,EAAID,EAAII,QA6BxB,SAAqBJ,GACnBA,EAAG9F,UAAUsG,OAAO,UAvClBE,CAAYV,MAgChB,SAASG,EAAQF,EAAID,GACnBC,EAAGxC,MAAM6C,UAAY,MACrBL,EAAG/F,UAAUsG,OAAO,QACpBR,EAAG9F,UAAUsG,OAAO,WCxDR3H,EAAAA,EAAAA,GAAE,kBAAkB,KAEhCA,EAAAA,EAAAA,GAAE,cAAckF,GAAG,SAAS,YACVlF,EAAAA,EAAAA,GAAE,8BAA8B,GACtCqB,UAAUsG,OAAO,WCHxB,MAAMG,EAAc,CAGzBC,UAAWhG,WACL/B,EAAAA,EAAAA,GAAE,mBACYgC,EAAAA,EAAAA,IAAK,iCAAkC,CAACgG,aAExChG,EAAAA,EAAAA,IAAK,6BAA8B,CAACgG,QAIxDC,OAASD,IACP,GAAGE,IAAIlB,MAAKhH,EAAAA,EAAAA,GAAG,gBAAegI,QAAS,SAAUG,GAC7CA,EAAE7G,aAKR8G,OAASJ,IACHK,QAAQ,8BACVP,EAAYG,OAAOD,GACnBF,EAAYC,UAAUC,MCnB5B,IAAIM,GAActI,EAAAA,EAAAA,GAAE,wBAAwB,2HACxCsI,IACFtI,EAAAA,EAAAA,GAAEsI,GAAapD,GAAG,SAGpB,YAA+B,IAAV,OAACxD,GAAS,EAC7B,GAAMA,EAAOE,QAAQ,YAAa,CAChC,IAAIoG,EAAKtG,EAAOE,QAAQ,YAAY2G,QAAQC,IAC5CV,EAAAA,OAAmBE,QAKNhI,EAAAA,EAAAA,GAAE,eAAe,MAEhCA,EAAAA,EAAAA,GAAE,mBAAmB,GAAGsB,UACxBtB,EAAAA,EAAAA,GAAE,cAAc,GAAGsB,UACnBtB,EAAAA,EAAAA,GAAE,cAAc,GAAGsB,UACnBtB,EAAAA,EAAAA,GAAE,wBAAwB,GAAGsB,UCwExB,MAAMmH,EAAgB,IA5F7B,MAAmB,mCAET,gBAFS,oBAGLzI,EAAAA,EAAAA,GAAE,8BAHG,kBAIR,WAACA,EAAAA,EAAAA,GAAE,cAAc,UAAjB,aAAC,EAAoBuI,QAAQG,SAAU,MAJ/B,sBAKH1I,EAAAA,EAAAA,GAAE,6BAA6BmE,QAAU,MAE3C,aAACzC,GACX,IACIiH,EAAclJ,KAAKiJ,OACnBE,EAAOnJ,KAAKoJ,YAAY,EACxBzF,QAAYpB,EAAAA,EAAAA,IAAM,YAAWvC,KAAKqJ,uBACpC,CAACd,GAJM,EAIHW,cAAYC,SAClB,GAAIxF,EAAII,IAAIwE,GAAI,CACd,IAAIe,EAAQtJ,KAAKuJ,kBAGjBD,EAAMxG,cAAc,SAASxB,UAAYtB,KAAKoJ,YAAc,EAC5DE,EAAMxG,cAAc,SAASxB,UAAY,GACzCgI,EAAMf,GAAK5E,EAAII,IAAIwE,GACnBtG,EAAOuH,OAAOF,IAIlBC,kBACE,IAAIE,GAAWlJ,EAAAA,EAAAA,GAAE,6BAA6B,GAC9C,GAAIkJ,EAAU,CACZ,IAAIC,EAAID,EAASE,WAAU,GACvBC,EAAMF,EAAElE,iBAAiB,gBAI7B,MAHA,GAAGP,QAAQsC,KAAKqC,GAAK,SAAUC,GAC7BA,EAAOhI,YAEF6H,GAID,WAACI,GAET,IAAIC,EAAe/J,KAAKgK,UAAUzE,QAAO,SAAUlE,EAAIqH,GACnD,GAAIA,EAAI,EAAIoB,EAAmB,OAAOzI,KAGtC4I,EAAWF,EAAatB,KAAKpH,GACxBA,EAAGkH,WAEIhG,EAAAA,EAAAA,IAAM,IAAGvC,KAAKqJ,aAAc,CAACY,aAE7CF,EAAatB,KAAI,CAACpH,EAAIqH,MACpBnI,EAAAA,EAAAA,GAAEc,GAAIuG,KAAK,SAAStG,UAAYoH,EAAI,KAMtB,mBAACzG,GAGjB,GAAqC,OAAjCA,EAAOG,QAAQ8H,cAAwB,OAE3C,IAAI3B,EAAKtG,EAAOE,QAAQ,kBAAkBoG,GACtC4B,EAAUlI,EAAO6G,QAAP,MACVsB,EAAYnI,EAAOX,UACvB,IAAMiH,IAAQ4B,GAAYC,EAA1B,CAEA,GAAgB,cADA7H,EAAAA,EAAAA,IAAM,YAAWvC,KAAKqJ,qBAAsB,CAACd,KAAI4B,aACzDrG,IAAc,MAAO9B,EACdC,EAAOE,QAAQ,kBACrBN,SACTb,EAAAA,GAAAA,KAAW,eAAiBoJ,IAG9BC,YAAYpI,GACV,IAAI8G,EAAM9G,EAAOE,QAAQ,kBACrBmI,GAAU/J,EAAAA,EAAAA,GAAEwI,GAAKnB,KAAK,sBAC1B0C,EAAQ1I,UAAUsG,OAAO,UACzBoC,EAAQ1I,UAAUsG,OAAO,SACzBjG,EAAOL,UAAUsG,OAAO,UAGjB,UAACjG,GACR,GAAI2G,QAAQ,yCAA0C,CACpD,IAAIa,EAAWxH,EAAOE,QAAQ,kBAC1BoG,EAAKkB,EAASlB,SAEFhG,EAAAA,EAAAA,IAAM,YAAWvC,KAAKqJ,eAAgB,CAACd,QAErDkB,EAAS5H,YCjFjB,SAAS0I,EAAQC,EAAQC,GACvB,IAAIC,EAAO3D,OAAO2D,KAAKF,GAEvB,GAAIzD,OAAO4D,sBAAuB,CAChC,IAAIC,EAAU7D,OAAO4D,sBAAsBH,GAEvCC,IACFG,EAAUA,EAAQrF,QAAO,SAAUsF,GACjC,OAAO9D,OAAO+D,yBAAyBN,EAAQK,GAAK5D,eAIxDyD,EAAKtF,KAAKrF,MAAM2K,EAAME,GAGxB,OAAOF,EAGT,SAASK,EAAe9I,GACtB,IAAK,IAAIyG,EAAI,EAAGA,EAAIzI,UAAUyE,OAAQgE,IAAK,CACzC,IAAIsC,EAAyB,MAAhB/K,UAAUyI,GAAazI,UAAUyI,GAAK,GAE/CA,EAAI,EACN6B,EAAQxD,OAAOiE,IAAS,GAAM/F,SAAQ,SAAU4B,GAC9C,EAAgB5E,EAAQ4E,EAAKmE,EAAOnE,OAE7BE,OAAOkE,0BAChBlE,OAAOmE,iBAAiBjJ,EAAQ8E,OAAOkE,0BAA0BD,IAEjET,EAAQxD,OAAOiE,IAAS/F,SAAQ,SAAU4B,GACxCE,OAAOC,eAAe/E,EAAQ4E,EAAKE,OAAO+D,yBAAyBE,EAAQnE,OAKjF,OAAO5E,EAGT,SAASkJ,EAAQhE,GAaf,OATEgE,EADoB,mBAAXC,QAAoD,iBAApBA,OAAOC,SACtC,SAAUlE,GAClB,cAAcA,GAGN,SAAUA,GAClB,OAAOA,GAAyB,mBAAXiE,QAAyBjE,EAAImE,cAAgBF,QAAUjE,IAAQiE,OAAO/D,UAAY,gBAAkBF,GAItHgE,EAAQhE,GAGjB,SAAS,EAAgBA,EAAKN,EAAKjC,GAYjC,OAXIiC,KAAOM,EACTJ,OAAOC,eAAeG,EAAKN,EAAK,CAC9BjC,MAAOA,EACPqC,YAAY,EACZsE,cAAc,EACdC,UAAU,IAGZrE,EAAIN,GAAOjC,EAGNuC,EAGT,SAASsE,IAeP,OAdAA,EAAW1E,OAAO2E,QAAU,SAAUzJ,GACpC,IAAK,IAAIyG,EAAI,EAAGA,EAAIzI,UAAUyE,OAAQgE,IAAK,CACzC,IAAIsC,EAAS/K,UAAUyI,GAEvB,IAAK,IAAI7B,KAAOmE,EACVjE,OAAOM,UAAUC,eAAeC,KAAKyD,EAAQnE,KAC/C5E,EAAO4E,GAAOmE,EAAOnE,IAK3B,OAAO5E,GAGFwJ,EAAS1L,MAAMC,KAAMC,WAkB9B,SAAS0L,EAAyBX,EAAQY,GACxC,GAAc,MAAVZ,EAAgB,MAAO,GAE3B,IAEInE,EAAK6B,EAFLzG,EAlBN,SAAuC+I,EAAQY,GAC7C,GAAc,MAAVZ,EAAgB,MAAO,GAC3B,IAEInE,EAAK6B,EAFLzG,EAAS,GACT4J,EAAa9E,OAAO2D,KAAKM,GAG7B,IAAKtC,EAAI,EAAGA,EAAImD,EAAWnH,OAAQgE,IACjC7B,EAAMgF,EAAWnD,GACbkD,EAASE,QAAQjF,IAAQ,IAC7B5E,EAAO4E,GAAOmE,EAAOnE,IAGvB,OAAO5E,EAMM8J,CAA8Bf,EAAQY,GAInD,GAAI7E,OAAO4D,sBAAuB,CAChC,IAAIqB,EAAmBjF,OAAO4D,sBAAsBK,GAEpD,IAAKtC,EAAI,EAAGA,EAAIsD,EAAiBtH,OAAQgE,IACvC7B,EAAMmF,EAAiBtD,GACnBkD,EAASE,QAAQjF,IAAQ,GACxBE,OAAOM,UAAU4E,qBAAqB1E,KAAKyD,EAAQnE,KACxD5E,EAAO4E,GAAOmE,EAAOnE,IAIzB,OAAO5E,EAsCT,SAASiK,EAAUC,GACjB,GAAsB,oBAAXC,QAA0BA,OAAOC,UAC1C,QAAuBA,UAAUH,UAAUI,MAAMH,GAIrD,IAAII,EAAaL,EAAU,yDACvBM,EAAON,EAAU,SACjBO,EAAUP,EAAU,YACpBQ,EAASR,EAAU,aAAeA,EAAU,aAAeA,EAAU,YACrES,EAAMT,EAAU,mBAChBU,EAAmBV,EAAU,YAAcA,EAAU,YAErDW,EAAc,CAChBC,SAAS,EACTC,SAAS,GAGX,SAAStH,EAAGpE,EAAIqE,EAAO/F,GACrB0B,EAAGI,iBAAiBiE,EAAO/F,GAAK4M,GAAcM,GAGhD,SAASG,EAAI3L,EAAIqE,EAAO/F,GACtB0B,EAAG4L,oBAAoBvH,EAAO/F,GAAK4M,GAAcM,GAGnD,SAASK,EAET7L,EAEA4E,GACE,GAAKA,EAAL,CAGA,GAFgB,MAAhBA,EAAS,KAAeA,EAAWA,EAASkH,UAAU,IAElD9L,EACF,IACE,GAAIA,EAAG6L,QACL,OAAO7L,EAAG6L,QAAQjH,GACb,GAAI5E,EAAG+L,kBACZ,OAAO/L,EAAG+L,kBAAkBnH,GACvB,GAAI5E,EAAGgM,sBACZ,OAAOhM,EAAGgM,sBAAsBpH,GAElC,MAAOqH,GACP,OAAO,EAIX,OAAO,GAGT,SAASC,EAAgBlM,GACvB,OAAOA,EAAGmM,MAAQnM,IAAOK,UAAYL,EAAGmM,KAAKC,SAAWpM,EAAGmM,KAAOnM,EAAGqM,WAGvE,SAASvL,EAETd,EAEA4E,EAEA0H,EAAKC,GACH,GAAIvM,EAAI,CACNsM,EAAMA,GAAOjM,SAEb,EAAG,CACD,GAAgB,MAAZuE,IAAqC,MAAhBA,EAAS,GAAa5E,EAAGqM,aAAeC,GAAOT,EAAQ7L,EAAI4E,GAAYiH,EAAQ7L,EAAI4E,KAAc2H,GAAcvM,IAAOsM,EAC7I,OAAOtM,EAGT,GAAIA,IAAOsM,EAAK,YAETtM,EAAKkM,EAAgBlM,IAGhC,OAAO,KAGT,IAgWIwM,EAhWAC,EAAU,OAEd,SAASC,EAAY1M,EAAI2M,EAAMC,GAC7B,GAAI5M,GAAM2M,EACR,GAAI3M,EAAGO,UACLP,EAAGO,UAAUqM,EAAQ,MAAQ,UAAUD,OAClC,CACL,IAAI3N,GAAa,IAAMgB,EAAGhB,UAAY,KAAKO,QAAQkN,EAAS,KAAKlN,QAAQ,IAAMoN,EAAO,IAAK,KAC3F3M,EAAGhB,WAAaA,GAAa4N,EAAQ,IAAMD,EAAO,KAAKpN,QAAQkN,EAAS,MAK9E,SAASI,EAAI7M,EAAI+F,EAAMpC,GACrB,IAAIG,EAAQ9D,GAAMA,EAAG8D,MAErB,GAAIA,EAAO,CACT,QAAY,IAARH,EAOF,OANItD,SAASyM,aAAezM,SAASyM,YAAYC,iBAC/CpJ,EAAMtD,SAASyM,YAAYC,iBAAiB/M,EAAI,IACvCA,EAAGgN,eACZrJ,EAAM3D,EAAGgN,mBAGK,IAATjH,EAAkBpC,EAAMA,EAAIoC,GAE7BA,KAAQjC,IAAsC,IAA5BiC,EAAK0E,QAAQ,YACnC1E,EAAO,WAAaA,GAGtBjC,EAAMiC,GAAQpC,GAAsB,iBAARA,EAAmB,GAAK,OAK1D,SAASsJ,EAAOjN,EAAIkN,GAClB,IAAIC,EAAoB,GAExB,GAAkB,iBAAPnN,EACTmN,EAAoBnN,OAEpB,EAAG,CACD,IAAIoN,EAAYP,EAAI7M,EAAI,aAEpBoN,GAA2B,SAAdA,IACfD,EAAoBC,EAAY,IAAMD,UAIhCD,IAAalN,EAAKA,EAAGqM,aAGjC,IAAIgB,EAAWtC,OAAOuC,WAAavC,OAAOwC,iBAAmBxC,OAAOyC,WAAazC,OAAO0C,YAGxF,OAAOJ,GAAY,IAAIA,EAASF,GAGlC,SAAS5G,EAAK+F,EAAKvL,EAASiJ,GAC1B,GAAIsC,EAAK,CACP,IAAIoB,EAAOpB,EAAIqB,qBAAqB5M,GAChCsG,EAAI,EACJuG,EAAIF,EAAKrK,OAEb,GAAI2G,EACF,KAAO3C,EAAIuG,EAAGvG,IACZ2C,EAAS0D,EAAKrG,GAAIA,GAItB,OAAOqG,EAGT,MAAO,GAGT,SAASG,IAGP,OAFuBxN,SAASyN,kBAKvBzN,SAAS0N,gBAcpB,SAASC,EAAQhO,EAAIiO,EAA2BC,EAA2BC,EAAWC,GACpF,GAAKpO,EAAGqO,uBAAyBrO,IAAO+K,OAAxC,CACA,IAAIuD,EAAQC,EAAKC,EAAMC,EAAQC,EAAOC,EAAQC,EAmB9C,GAjBI5O,IAAO+K,QAAU/K,EAAGqM,YAAcrM,IAAO6N,KAE3CU,GADAD,EAAStO,EAAGqO,yBACCE,IACbC,EAAOF,EAAOE,KACdC,EAASH,EAAOG,OAChBC,EAAQJ,EAAOI,MACfC,EAASL,EAAOK,OAChBC,EAAQN,EAAOM,QAEfL,EAAM,EACNC,EAAO,EACPC,EAAS1D,OAAO8D,YAChBH,EAAQ3D,OAAO+D,WACfH,EAAS5D,OAAO8D,YAChBD,EAAQ7D,OAAO+D,aAGZb,GAA6BC,IAA8BlO,IAAO+K,SAErEqD,EAAYA,GAAapO,EAAGqM,YAGvBnB,GACH,GACE,GAAIkD,GAAaA,EAAUC,wBAA0D,SAAhCxB,EAAIuB,EAAW,cAA2BF,GAA4D,WAA/BrB,EAAIuB,EAAW,aAA2B,CACpK,IAAIW,EAAgBX,EAAUC,wBAE9BE,GAAOQ,EAAcR,IAAMS,SAASnC,EAAIuB,EAAW,qBACnDI,GAAQO,EAAcP,KAAOQ,SAASnC,EAAIuB,EAAW,sBACrDK,EAASF,EAAMD,EAAOK,OACtBD,EAAQF,EAAOF,EAAOM,MACtB,aAIKR,EAAYA,EAAU/B,YAInC,GAAI8B,GAAanO,IAAO+K,OAAQ,CAE9B,IAAIkE,EAAWhC,EAAOmB,GAAapO,GAC/BkP,EAASD,GAAYA,EAASE,EAC9BC,EAASH,GAAYA,EAAS3J,EAE9B2J,IAKFR,GAJAF,GAAOa,IAGPT,GAAUS,GAEVV,GAJAF,GAAQU,IACRN,GAASM,IAOb,MAAO,CACLX,IAAKA,EACLC,KAAMA,EACNC,OAAQA,EACRC,MAAOA,EACPE,MAAOA,EACPD,OAAQA,IAYZ,SAASU,EAAerP,EAAIsP,EAAQC,GAKlC,IAJA,IAAI9I,EAAS+I,EAA2BxP,GAAI,GACxCyP,EAAYzB,EAAQhO,GAAIsP,GAGrB7I,GAAQ,CACb,IAAIiJ,EAAgB1B,EAAQvH,GAAQ8I,GASpC,KANmB,QAAfA,GAAuC,SAAfA,EAChBE,GAAaC,EAEbD,GAAaC,GAGX,OAAOjJ,EACrB,GAAIA,IAAWoH,IAA6B,MAC5CpH,EAAS+I,EAA2B/I,GAAQ,GAG9C,OAAO,EAYT,SAASkJ,EAAS3P,EAAI4P,EAAUpM,EAASqM,GAKvC,IAJA,IAAIC,EAAe,EACfzI,EAAI,EACJ0I,EAAW/P,EAAG+P,SAEX1I,EAAI0I,EAAS1M,QAAQ,CAC1B,GAAkC,SAA9B0M,EAAS1I,GAAGvD,MAAMkM,SAAsBD,EAAS1I,KAAO4I,GAASC,QAAUL,GAAiBE,EAAS1I,KAAO4I,GAASE,UAAYrP,EAAQiP,EAAS1I,GAAI7D,EAAQ4M,UAAWpQ,GAAI,GAAQ,CACvL,GAAI8P,IAAiBF,EACnB,OAAOG,EAAS1I,GAGlByI,IAGFzI,IAGF,OAAO,KAUT,SAASgJ,EAAUrQ,EAAI4E,GAGrB,IAFA,IAAI0L,EAAOtQ,EAAGuQ,iBAEPD,IAASA,IAASL,GAASC,OAAkC,SAAzBrD,EAAIyD,EAAM,YAAyB1L,IAAaiH,EAAQyE,EAAM1L,KACvG0L,EAAOA,EAAKE,uBAGd,OAAOF,GAAQ,KAWjB,SAASG,EAAMzQ,EAAI4E,GACjB,IAAI6L,EAAQ,EAEZ,IAAKzQ,IAAOA,EAAGqM,WACb,OAAQ,EAKV,KAAOrM,EAAKA,EAAGwQ,wBACqB,aAA9BxQ,EAAG0Q,SAASC,eAAgC3Q,IAAOiQ,GAAShI,OAAWrD,IAAYiH,EAAQ7L,EAAI4E,IACjG6L,IAIJ,OAAOA,EAUT,SAASG,EAAwB5Q,GAC/B,IAAI6Q,EAAa,EACbC,EAAY,EACZC,EAAclD,IAElB,GAAI7N,EACF,EAAG,CACD,IAAIiP,EAAWhC,EAAOjN,GAClBkP,EAASD,EAASE,EAClBC,EAASH,EAAS3J,EACtBuL,GAAc7Q,EAAGgR,WAAa9B,EAC9B4B,GAAa9Q,EAAGiR,UAAY7B,QACrBpP,IAAO+Q,IAAgB/Q,EAAKA,EAAGqM,aAG1C,MAAO,CAACwE,EAAYC,GAsBtB,SAAStB,EAA2BxP,EAAIkR,GAEtC,IAAKlR,IAAOA,EAAGqO,sBAAuB,OAAOR,IAC7C,IAAIrJ,EAAOxE,EACPmR,GAAU,EAEd,GAEE,GAAI3M,EAAK4M,YAAc5M,EAAK6M,aAAe7M,EAAK8M,aAAe9M,EAAKoC,aAAc,CAChF,IAAI2K,EAAU1E,EAAIrI,GAElB,GAAIA,EAAK4M,YAAc5M,EAAK6M,cAAqC,QAArBE,EAAQC,WAA4C,UAArBD,EAAQC,YAA0BhN,EAAK8M,aAAe9M,EAAKoC,eAAsC,QAArB2K,EAAQE,WAA4C,UAArBF,EAAQE,WAAwB,CACpN,IAAKjN,EAAK6J,uBAAyB7J,IAASnE,SAASC,KAAM,OAAOuN,IAClE,GAAIsD,GAAWD,EAAa,OAAO1M,EACnC2M,GAAU,UAKP3M,EAAOA,EAAK6H,YAErB,OAAOwB,IAeT,SAAS6D,EAAYC,EAAOC,GAC1B,OAAOC,KAAKC,MAAMH,EAAMpD,OAASsD,KAAKC,MAAMF,EAAMrD,MAAQsD,KAAKC,MAAMH,EAAMnD,QAAUqD,KAAKC,MAAMF,EAAMpD,OAASqD,KAAKC,MAAMH,EAAMhD,UAAYkD,KAAKC,MAAMF,EAAMjD,SAAWkD,KAAKC,MAAMH,EAAM/C,SAAWiD,KAAKC,MAAMF,EAAMhD,OAKvN,SAASmD,EAASjS,EAAUkS,GAC1B,OAAO,WACL,IAAKxF,EAAkB,CACrB,IAAIyF,EAAOrT,UACPsT,EAAQvT,KAEQ,IAAhBsT,EAAK5O,OACPvD,EAASoG,KAAKgM,EAAOD,EAAK,IAE1BnS,EAASpB,MAAMwT,EAAOD,GAGxBzF,EAAmB1N,YAAW,WAC5B0N,OAAmB,IAClBwF,KAUT,SAASG,EAASnS,EAAIoS,EAAGC,GACvBrS,EAAGgR,YAAcoB,EACjBpS,EAAGiR,WAAaoB,EAGlB,SAASpK,EAAMjI,GACb,IAAIsS,EAAUvH,OAAOuH,QACjBpT,EAAI6L,OAAOwH,QAAUxH,OAAOyH,MAEhC,OAAIF,GAAWA,EAAQG,IACdH,EAAQG,IAAIzS,GAAIsI,WAAU,GACxBpJ,EACFA,EAAEc,GAAIiI,OAAM,GAAM,GAElBjI,EAAGsI,WAAU,GAoBxB,IAAIoK,EAAU,YAAa,IAAIC,MAAOC,UAyJtC,IAAIC,EAAU,GACVC,EAAW,CACbC,qBAAqB,GAEnBC,EAAgB,CAClBC,MAAO,SAAeC,GAEpB,IAAK,IAAIC,KAAUL,EACbA,EAAS7M,eAAekN,MAAaA,KAAUD,KACjDA,EAAOC,GAAUL,EAASK,IAI9BN,EAAQjP,SAAQ,SAAUwP,GACxB,GAAIA,EAAEC,aAAeH,EAAOG,WAC1B,KAAM,iCAAiCC,OAAOJ,EAAOG,WAAY,sBAGrER,EAAQ9O,KAAKmP,IAEfK,YAAa,SAAqBC,EAAWC,EAAUC,GACrD,IAAIxB,EAAQvT,KAEZA,KAAKgV,eAAgB,EAErBD,EAAIE,OAAS,WACX1B,EAAMyB,eAAgB,GAGxB,IAAIE,EAAkBL,EAAY,SAClCX,EAAQjP,SAAQ,SAAUsP,GACnBO,EAASP,EAAOG,cAEjBI,EAASP,EAAOG,YAAYQ,IAC9BJ,EAASP,EAAOG,YAAYQ,GAAiBnK,EAAe,CAC1D+J,SAAUA,GACTC,IAKDD,EAASjQ,QAAQ0P,EAAOG,aAAeI,EAASP,EAAOG,YAAYG,IACrEC,EAASP,EAAOG,YAAYG,GAAW9J,EAAe,CACpD+J,SAAUA,GACTC,SAITI,kBAAmB,SAA2BL,EAAUzT,EAAI8S,EAAUtP,GAYpE,IAAK,IAAI2P,KAXTN,EAAQjP,SAAQ,SAAUsP,GACxB,IAAIG,EAAaH,EAAOG,WACxB,GAAKI,EAASjQ,QAAQ6P,IAAgBH,EAAOH,oBAA7C,CACA,IAAIgB,EAAc,IAAIb,EAAOO,EAAUzT,EAAIyT,EAASjQ,SACpDuQ,EAAYN,SAAWA,EACvBM,EAAYvQ,QAAUiQ,EAASjQ,QAC/BiQ,EAASJ,GAAcU,EAEvB3J,EAAS0I,EAAUiB,EAAYjB,cAGdW,EAASjQ,QAC1B,GAAKiQ,EAASjQ,QAAQyC,eAAekN,GAArC,CACA,IAAIa,EAAWrV,KAAKsV,aAAaR,EAAUN,EAAQM,EAASjQ,QAAQ2P,SAE5C,IAAba,IACTP,EAASjQ,QAAQ2P,GAAUa,KAIjCE,mBAAoB,SAA4BvH,EAAM8G,GACpD,IAAIU,EAAkB,GAMtB,OALAtB,EAAQjP,SAAQ,SAAUsP,GACc,mBAA3BA,EAAOiB,iBAElB/J,EAAS+J,EAAiBjB,EAAOiB,gBAAgBjO,KAAKuN,EAASP,EAAOG,YAAa1G,OAE9EwH,GAETF,aAAc,SAAsBR,EAAU9G,EAAMpJ,GAClD,IAAI6Q,EASJ,OARAvB,EAAQjP,SAAQ,SAAUsP,GAEnBO,EAASP,EAAOG,aAEjBH,EAAOmB,iBAA2D,mBAAjCnB,EAAOmB,gBAAgB1H,KAC1DyH,EAAgBlB,EAAOmB,gBAAgB1H,GAAMzG,KAAKuN,EAASP,EAAOG,YAAa9P,OAG5E6Q,IA6DX,IAAIE,EAAY,CAAC,OAEbf,EAAc,SAAqBC,EAAWC,GAChD,IAAIc,EAAO3V,UAAUyE,OAAS,QAAsB6B,IAAjBtG,UAAU,GAAmBA,UAAU,GAAK,GAC3E4V,EAAgBD,EAAKb,IACrBtS,EAAOkJ,EAAyBiK,EAAMD,GAE1CtB,EAAcO,YAAYkB,KAAKxE,GAA/B+C,CAAyCQ,EAAWC,EAAU/J,EAAe,CAC3EgL,OAAQA,EACRC,SAAUA,EACVC,QAASA,GACTC,OAAQA,GACRC,OAAQA,GACRC,WAAYA,GACZC,QAASA,GACTC,YAAaA,GACbC,YAAaC,GACbC,YAAaA,GACbC,eAAgBpF,GAASqF,OACzBd,cAAeA,EACfe,SAAUA,GACVC,kBAAmBA,GACnBC,SAAUA,GACVC,kBAAmBA,GACnBC,mBAAoBC,GACpBC,qBAAsBC,GACtBC,eAAgB,WACdd,IAAc,GAEhBe,cAAe,WACbf,IAAc,GAEhBgB,sBAAuB,SAA+BtJ,GACpDuJ,EAAe,CACbzC,SAAUA,EACV9G,KAAMA,EACN6H,cAAeA,MAGlBpT,KAGL,SAAS8U,EAAeC,IAnGxB,SAAuB5B,GACrB,IAAId,EAAWc,EAAKd,SAChBoB,EAASN,EAAKM,OACdlI,EAAO4H,EAAK5H,KACZyJ,EAAW7B,EAAK6B,SAChBpB,EAAUT,EAAKS,QACfqB,EAAO9B,EAAK8B,KACZC,EAAS/B,EAAK+B,OACdf,EAAWhB,EAAKgB,SAChBE,EAAWlB,EAAKkB,SAChBD,EAAoBjB,EAAKiB,kBACzBE,EAAoBnB,EAAKmB,kBACzBlB,EAAgBD,EAAKC,cACrBY,EAAcb,EAAKa,YACnBmB,EAAuBhC,EAAKgC,qBAEhC,GADA9C,EAAWA,GAAYoB,GAAUA,EAAOnC,GACxC,CACA,IAAIgB,EACAlQ,EAAUiQ,EAASjQ,QACnBgT,EAAS,KAAO7J,EAAK8J,OAAO,GAAG9F,cAAgBhE,EAAK+J,OAAO,IAE3D3L,OAAO4L,aAAgBzL,GAAeC,GAMxCuI,EAAMrT,SAASuW,YAAY,UACvBC,UAAUlK,GAAM,GAAM,GAN1B+G,EAAM,IAAIiD,YAAYhK,EAAM,CAC1BmK,SAAS,EACTC,YAAY,IAOhBrD,EAAIsD,GAAKX,GAAQxB,EACjBnB,EAAIuD,KAAOX,GAAUzB,EACrBnB,EAAIzP,KAAOmS,GAAYvB,EACvBnB,EAAIzL,MAAQ+M,EACZtB,EAAI6B,SAAWA,EACf7B,EAAI+B,SAAWA,EACf/B,EAAI8B,kBAAoBA,EACxB9B,EAAIgC,kBAAoBA,EACxBhC,EAAIc,cAAgBA,EACpBd,EAAIwD,SAAW9B,EAAcA,EAAY+B,iBAAcjS,EAEvD,IAAIkS,EAAqB1N,EAAeA,EAAe,GAAI6M,GAAuBvD,EAAckB,mBAAmBvH,EAAM8G,IAEzH,IAAK,IAAIN,KAAUiE,EACjB1D,EAAIP,GAAUiE,EAAmBjE,GAG/B0B,GACFA,EAAOwC,cAAc3D,GAGnBlQ,EAAQgT,IACVhT,EAAQgT,GAAQtQ,KAAKuN,EAAUC,IA+CjC2D,CAAc3N,EAAe,CAC3B0L,YAAaA,GACbJ,QAASA,GACToB,SAAU1B,EACVG,OAAQA,GACRU,SAAUA,GACVC,kBAAmBA,GACnBC,SAAUA,GACVC,kBAAmBA,IAClBS,IAGL,IAAIzB,EACAC,EACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAM,GACAE,GACAD,GACAE,GACA4B,GACAlC,GAIAmC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAzC,GACA0C,GACAC,GAGAC,GAEJC,GAhBIC,IAAsB,EACtBC,IAAkB,EAClBC,GAAY,GAUZC,IAAwB,EACxBC,IAAyB,EAIzBC,GAAmC,GAEvCC,IAAU,EACNC,GAAoB,GAGpBC,GAAqC,oBAAbpY,SACxBqY,GAA0BpN,EAC1BqN,GAAmBxN,GAAQD,EAAa,WAAa,QAEzD0N,GAAmBH,KAAmBlN,IAAqBD,GAAO,cAAejL,SAASW,cAAc,OACpG6X,GAA0B,WAC5B,GAAKJ,GAAL,CAEA,GAAIvN,EACF,OAAO,EAGT,IAAIlL,EAAKK,SAASW,cAAc,KAEhC,OADAhB,EAAG8D,MAAMgV,QAAU,sBACe,SAA3B9Y,EAAG8D,MAAMiV,eATY,GAW1BC,GAAmB,SAA0BhZ,EAAIwD,GACnD,IAAIyV,EAAQpM,EAAI7M,GACZkZ,EAAUlK,SAASiK,EAAMrK,OAASI,SAASiK,EAAME,aAAenK,SAASiK,EAAMG,cAAgBpK,SAASiK,EAAMI,iBAAmBrK,SAASiK,EAAMK,kBAChJC,EAAS5J,EAAS3P,EAAI,EAAGwD,GACzBgW,EAAS7J,EAAS3P,EAAI,EAAGwD,GACzBiW,EAAgBF,GAAU1M,EAAI0M,GAC9BG,EAAiBF,GAAU3M,EAAI2M,GAC/BG,EAAkBF,GAAiBzK,SAASyK,EAAcG,YAAc5K,SAASyK,EAAcI,aAAe7L,EAAQuL,GAAQ3K,MAC9HkL,EAAmBJ,GAAkB1K,SAAS0K,EAAeE,YAAc5K,SAAS0K,EAAeG,aAAe7L,EAAQwL,GAAQ5K,MAEtI,GAAsB,SAAlBqK,EAAMjJ,QACR,MAA+B,WAAxBiJ,EAAMc,eAAsD,mBAAxBd,EAAMc,cAAqC,WAAa,aAGrG,GAAsB,SAAlBd,EAAMjJ,QACR,OAAOiJ,EAAMe,oBAAoBC,MAAM,KAAK5W,QAAU,EAAI,WAAa,aAGzE,GAAIkW,GAAUE,EAAqB,OAAgC,SAA3BA,EAAqB,MAAc,CACzE,IAAIS,EAAgD,SAA3BT,EAAqB,MAAe,OAAS,QACtE,OAAOD,GAAoC,SAAzBE,EAAeS,OAAoBT,EAAeS,QAAUD,EAAmC,aAAb,WAGtG,OAAOX,IAAqC,UAA1BE,EAAczJ,SAAiD,SAA1ByJ,EAAczJ,SAAgD,UAA1ByJ,EAAczJ,SAAiD,SAA1ByJ,EAAczJ,SAAsB2J,GAAmBT,GAAuC,SAA5BD,EAAMN,KAAgCa,GAAsC,SAA5BP,EAAMN,KAAgCgB,EAAkBG,EAAmBZ,GAAW,WAAa,cAiCnVkB,GAAgB,SAAuB5W,GACzC,SAAS6W,EAAK9W,EAAO+W,GACnB,OAAO,SAAUtD,EAAIC,EAAMvC,EAAQhB,GACjC,IAAI6G,EAAYvD,EAAGxT,QAAQgX,MAAM7N,MAAQsK,EAAKzT,QAAQgX,MAAM7N,MAAQqK,EAAGxT,QAAQgX,MAAM7N,OAASsK,EAAKzT,QAAQgX,MAAM7N,KAEjH,GAAa,MAATpJ,IAAkB+W,GAAQC,GAG5B,OAAO,EACF,GAAa,MAAThX,IAA2B,IAAVA,EAC1B,OAAO,EACF,GAAI+W,GAAkB,UAAV/W,EACjB,OAAOA,EACF,GAAqB,mBAAVA,EAChB,OAAO8W,EAAK9W,EAAMyT,EAAIC,EAAMvC,EAAQhB,GAAM4G,EAAnCD,CAAyCrD,EAAIC,EAAMvC,EAAQhB,GAElE,IAAI+G,GAAcH,EAAOtD,EAAKC,GAAMzT,QAAQgX,MAAM7N,KAClD,OAAiB,IAAVpJ,GAAmC,iBAAVA,GAAsBA,IAAUkX,GAAclX,EAAMmX,MAAQnX,EAAMkH,QAAQgQ,IAAe,GAK/H,IAAID,EAAQ,GACRG,EAAgBnX,EAAQgX,MAEvBG,GAA2C,UAA1B7Q,EAAQ6Q,KAC5BA,EAAgB,CACdhO,KAAMgO,IAIVH,EAAM7N,KAAOgO,EAAchO,KAC3B6N,EAAMI,UAAYP,EAAKM,EAAcL,MAAM,GAC3CE,EAAMK,SAAWR,EAAKM,EAAcG,KACpCN,EAAMO,YAAcJ,EAAcI,YAClCvX,EAAQgX,MAAQA,GAEd5E,GAAsB,YACnBiD,IAA2BjE,IAC9B/H,EAAI+H,GAAS,UAAW,SAGxBkB,GAAwB,YACrB+C,IAA2BjE,IAC9B/H,EAAI+H,GAAS,UAAW,KAKxB6D,KAAmBlN,GACrBlL,SAASD,iBAAiB,SAAS,SAAUsT,GAC3C,GAAIwE,GAKF,OAJAxE,EAAIsH,iBACJtH,EAAIuH,iBAAmBvH,EAAIuH,kBAC3BvH,EAAIwH,0BAA4BxH,EAAIwH,2BACpChD,IAAkB,GACX,KAER,GAGL,IAAIiD,GAAgC,SAAuCzH,GACzE,GAAIgB,EAAQ,CACVhB,EAAMA,EAAI0H,QAAU1H,EAAI0H,QAAQ,GAAK1H,EAErC,IAAI2H,GAhF2DjJ,EAgFrBsB,EAAI4H,QAhFoBjJ,EAgFXqB,EAAI6H,QA9E7DpD,GAAUzT,MAAK,SAAU+O,GACvB,IAAI+H,EAAY/H,EAASf,GAASlP,QAAQiY,qBAC1C,GAAKD,IAAanL,EAAUoD,GAA5B,CACA,IAAIiI,EAAO1N,EAAQyF,GACfkI,EAAqBvJ,GAAKsJ,EAAKlN,KAAOgN,GAAapJ,GAAKsJ,EAAKhN,MAAQ8M,EACrEI,EAAmBvJ,GAAKqJ,EAAKnN,IAAMiN,GAAanJ,GAAKqJ,EAAKjN,OAAS+M,EAEvE,OAAIG,GAAsBC,EACjBC,EAAMpI,OADf,MAIKoI,GAqEL,GAAIR,EAAS,CAEX,IAAIhX,EAAQ,GAEZ,IAAK,IAAIgD,KAAKqM,EACRA,EAAIzN,eAAeoB,KACrBhD,EAAMgD,GAAKqM,EAAIrM,IAInBhD,EAAMzD,OAASyD,EAAMwQ,OAASwG,EAC9BhX,EAAM2W,oBAAiB,EACvB3W,EAAM4W,qBAAkB,EAExBI,EAAQ3I,GAASoJ,YAAYzX,IAhGL,IAAqC+N,EAAGC,EAChEwJ,GAoGFE,GAAwB,SAA+BrI,GACrDgB,GACFA,EAAOrI,WAAWqG,GAASsJ,iBAAiBtI,EAAI9S,SAUpD,SAASqP,GAASjQ,EAAIwD,GACpB,IAAMxD,IAAMA,EAAGoM,UAA4B,IAAhBpM,EAAGoM,SAC5B,KAAM,8CAA8CkH,OAAO,GAAG2I,SAAS/V,KAAKlG,IAG9ErB,KAAKqB,GAAKA,EAEVrB,KAAK6E,QAAUA,EAAU4G,EAAS,GAAI5G,GAEtCxD,EAAG0S,GAAW/T,KACd,IA1jBIud,EADAC,EA2jBArJ,EAAW,CACb0H,MAAO,KACP1S,MAAM,EACNsU,UAAU,EACVC,MAAO,KACPC,OAAQ,KACRlM,UAAW,WAAWmM,KAAKvc,EAAG0Q,UAAY,MAAQ,KAClD8L,cAAe,EAEfC,YAAY,EAEZC,sBAAuB,KAEvBC,mBAAmB,EACnBC,UAAW,WACT,OAAO5D,GAAiBhZ,EAAIrB,KAAK6E,UAEnCqZ,WAAY,iBACZC,YAAa,kBACbC,UAAW,gBACXC,OAAQ,SACR9Y,OAAQ,KACR+Y,iBAAiB,EACjBC,UAAW,EACXC,OAAQ,KACRC,QAAS,SAAiBC,EAAc3I,GACtC2I,EAAaD,QAAQ,OAAQ1I,EAAO4I,cAEtCC,YAAY,EACZC,gBAAgB,EAChBC,WAAY,UACZC,MAAO,EACPC,kBAAkB,EAClBC,qBAAsBC,OAAO7O,SAAW6O,OAAS9S,QAAQiE,SAASjE,OAAO+S,iBAAkB,KAAO,EAClGC,eAAe,EACfC,cAAe,oBACfC,gBAAgB,EAChBC,kBAAmB,EACnBC,eAAgB,CACd/L,EAAG,EACHC,EAAG,GAEL+L,gBAA4C,IAA5BnO,GAASmO,gBAA4B,iBAAkBrT,SAAWM,EAClFoQ,qBAAsB,GAIxB,IAAK,IAAI9O,KAFTqG,EAAcc,kBAAkBnV,KAAMqB,EAAI8S,GAEzBA,IACbnG,KAAQnJ,KAAaA,EAAQmJ,GAAQmG,EAASnG,IAMlD,IAAK,IAAIrO,KAHT8b,GAAc5W,GAGC7E,KACQ,MAAjBL,EAAGmY,OAAO,IAAkC,mBAAb9X,KAAKL,KACtCK,KAAKL,GAAMK,KAAKL,GAAImW,KAAK9V,OAK7BA,KAAK0f,iBAAkB7a,EAAQua,eAAwBnF,GAEnDja,KAAK0f,kBAEP1f,KAAK6E,QAAQoa,oBAAsB,GAIjCpa,EAAQ4a,eACVha,EAAGpE,EAAI,cAAerB,KAAK2f,cAE3Bla,EAAGpE,EAAI,YAAarB,KAAK2f,aACzBla,EAAGpE,EAAI,aAAcrB,KAAK2f,cAGxB3f,KAAK0f,kBACPja,EAAGpE,EAAI,WAAYrB,MACnByF,EAAGpE,EAAI,YAAarB,OAGtBwZ,GAAUpU,KAAKpF,KAAKqB,IAEpBwD,EAAQ6Y,OAAS7Y,EAAQ6Y,MAAMxW,KAAOlH,KAAKmJ,KAAKtE,EAAQ6Y,MAAMxW,IAAIlH,OAAS,IAE3EyL,EAASzL,MAhpBLwd,EAAkB,GAEf,CACLoC,sBAAuB,WACrBpC,EAAkB,GACbxd,KAAK6E,QAAQ0Z,WACH,GAAGsB,MAAMtY,KAAKvH,KAAKqB,GAAG+P,UAC5BnM,SAAQ,SAAU6a,GACzB,GAA8B,SAA1B5R,EAAI4R,EAAO,YAAyBA,IAAUxO,GAASC,MAA3D,CACAiM,EAAgBpY,KAAK,CACnBnD,OAAQ6d,EACR/C,KAAM1N,EAAQyQ,KAGhB,IAAIC,EAAWhV,EAAe,GAAIyS,EAAgBA,EAAgB9Y,OAAS,GAAGqY,MAG9E,GAAI+C,EAAME,sBAAuB,CAC/B,IAAIC,EAAc3R,EAAOwR,GAAO,GAE5BG,IACFF,EAASnQ,KAAOqQ,EAAYC,EAC5BH,EAASlQ,MAAQoQ,EAAYje,GAIjC8d,EAAMC,SAAWA,OAGrBI,kBAAmB,SAA2BlS,GAC5CuP,EAAgBpY,KAAK6I,IAEvBmS,qBAAsB,SAA8Bne,GAClDub,EAAgB6C,OApJtB,SAAuBtc,EAAKoD,GAC1B,IAAK,IAAIuB,KAAK3E,EACZ,GAAKA,EAAIuD,eAAeoB,GAExB,IAAK,IAAI7B,KAAOM,EACd,GAAIA,EAAIG,eAAeT,IAAQM,EAAIN,KAAS9C,EAAI2E,GAAG7B,GAAM,OAAOqY,OAAOxW,GAI3E,OAAQ,EA2ImB4X,CAAc9C,EAAiB,CACpDvb,OAAQA,IACN,IAENse,WAAY,SAAoBpf,GAC9B,IAAIoS,EAAQvT,KAEZ,IAAKA,KAAK6E,QAAQ0Z,UAGhB,OAFAre,aAAaqd,QACW,mBAAbpc,GAAyBA,KAItC,IAAIqf,GAAY,EACZC,EAAgB,EACpBjD,EAAgBvY,SAAQ,SAAUgJ,GAChC,IAAIpO,EAAO,EACPoC,EAASgM,EAAMhM,OACf8d,EAAW9d,EAAO8d,SAClBW,EAASrR,EAAQpN,GACjB0e,EAAe1e,EAAO0e,aACtBC,EAAa3e,EAAO2e,WACpBC,EAAgB5S,EAAM8O,KACtB+D,EAAexS,EAAOrM,GAAQ,GAE9B6e,IAEFJ,EAAO9Q,KAAOkR,EAAaZ,EAC3BQ,EAAO7Q,MAAQiR,EAAa9e,GAG9BC,EAAOye,OAASA,EAEZze,EAAO+d,uBAELjN,EAAY4N,EAAcD,KAAY3N,EAAYgN,EAAUW,KAC/DG,EAAcjR,IAAM8Q,EAAO9Q,MAAQiR,EAAchR,KAAO6Q,EAAO7Q,QAAWkQ,EAASnQ,IAAM8Q,EAAO9Q,MAAQmQ,EAASlQ,KAAO6Q,EAAO7Q,QAE9HhQ,EA2EZ,SAA2BghB,EAAed,EAAUW,EAAQ7b,GAC1D,OAAOqO,KAAK6N,KAAK7N,KAAK8N,IAAIjB,EAASnQ,IAAMiR,EAAcjR,IAAK,GAAKsD,KAAK8N,IAAIjB,EAASlQ,KAAOgR,EAAchR,KAAM,IAAMqD,KAAK6N,KAAK7N,KAAK8N,IAAIjB,EAASnQ,IAAM8Q,EAAO9Q,IAAK,GAAKsD,KAAK8N,IAAIjB,EAASlQ,KAAO6Q,EAAO7Q,KAAM,IAAMhL,EAAQ0Z,UA5E1M0C,CAAkBJ,EAAeF,EAAcC,EAAYrN,EAAM1O,UAKvEkO,EAAY2N,EAAQX,KACvB9d,EAAO0e,aAAeZ,EACtB9d,EAAO2e,WAAaF,EAEf7gB,IACHA,EAAO0T,EAAM1O,QAAQ0Z,WAGvBhL,EAAM2N,QAAQjf,EAAQ4e,EAAeH,EAAQ7gB,IAG3CA,IACF2gB,GAAY,EACZC,EAAgBvN,KAAKiO,IAAIV,EAAe5gB,GACxCK,aAAa+B,EAAOmf,qBACpBnf,EAAOmf,oBAAsBjhB,YAAW,WACtC8B,EAAOwe,cAAgB,EACvBxe,EAAO0e,aAAe,KACtB1e,EAAO8d,SAAW,KAClB9d,EAAO2e,WAAa,KACpB3e,EAAO+d,sBAAwB,OAC9BngB,GACHoC,EAAO+d,sBAAwBngB,MAGnCK,aAAaqd,GAERiD,EAGHjD,EAAsBpd,YAAW,WACP,mBAAbgB,GAAyBA,MACnCsf,GAJqB,mBAAbtf,GAAyBA,IAOtCqc,EAAkB,IAEpB0D,QAAS,SAAiBjf,EAAQof,EAAaX,EAAQY,GACrD,GAAIA,EAAU,CACZpT,EAAIjM,EAAQ,aAAc,IAC1BiM,EAAIjM,EAAQ,YAAa,IACzB,IAAIqO,EAAWhC,EAAOtO,KAAKqB,IACvBkP,EAASD,GAAYA,EAASE,EAC9BC,EAASH,GAAYA,EAAS3J,EAC9B4a,GAAcF,EAAYxR,KAAO6Q,EAAO7Q,OAASU,GAAU,GAC3DiR,GAAcH,EAAYzR,IAAM8Q,EAAO9Q,MAAQa,GAAU,GAC7DxO,EAAOwf,aAAeF,EACtBtf,EAAOyf,aAAeF,EACtBtT,EAAIjM,EAAQ,YAAa,eAAiBsf,EAAa,MAAQC,EAAa,SAC5ExhB,KAAK2hB,gBAiBb,SAAiB1f,GACf,OAAOA,EAAO2f,YAlBeC,CAAQ5f,GAE/BiM,EAAIjM,EAAQ,aAAc,aAAeqf,EAAW,MAAQthB,KAAK6E,QAAQ2Z,OAAS,IAAMxe,KAAK6E,QAAQ2Z,OAAS,KAC9GtQ,EAAIjM,EAAQ,YAAa,sBACE,iBAApBA,EAAO6f,UAAyB5hB,aAAa+B,EAAO6f,UAC3D7f,EAAO6f,SAAW3hB,YAAW,WAC3B+N,EAAIjM,EAAQ,aAAc,IAC1BiM,EAAIjM,EAAQ,YAAa,IACzBA,EAAO6f,UAAW,EAClB7f,EAAOwf,YAAa,EACpBxf,EAAOyf,YAAa,IACnBJ,QA0sDX,SAASS,GAAQpK,EAAQD,EAAM3B,EAAQiM,EAAUvK,EAAUwK,EAAYpM,EAAeqM,GACpF,IAAInN,EAGAoN,EAFArN,EAAW6C,EAAO5D,GAClBqO,EAAWtN,EAASjQ,QAAQwd,OA2BhC,OAxBIjW,OAAO4L,aAAgBzL,GAAeC,GAMxCuI,EAAMrT,SAASuW,YAAY,UACvBC,UAAU,QAAQ,GAAM,GAN5BnD,EAAM,IAAIiD,YAAY,OAAQ,CAC5BG,SAAS,EACTC,YAAY,IAOhBrD,EAAIsD,GAAKX,EACT3C,EAAIuD,KAAOX,EACX5C,EAAIvD,QAAUuE,EACdhB,EAAIuN,YAAcN,EAClBjN,EAAIwN,QAAU9K,GAAYC,EAC1B3C,EAAIyN,YAAcP,GAAc5S,EAAQqI,GACxC3C,EAAImN,gBAAkBA,EACtBnN,EAAIc,cAAgBA,EACpB8B,EAAOe,cAAc3D,GAEjBqN,IACFD,EAASC,EAAS7a,KAAKuN,EAAUC,EAAKc,IAGjCsM,EAGT,SAASM,GAAkBphB,GACzBA,EAAGoQ,WAAY,EAGjB,SAASiR,KACP9I,IAAU,EAmFZ,SAAS+I,GAAYthB,GAKnB,IAJA,IAAIZ,EAAMY,EAAGe,QAAUf,EAAGhB,UAAYgB,EAAGuhB,IAAMvhB,EAAGwhB,KAAOxhB,EAAGsd,YACxDjW,EAAIjI,EAAIiE,OACRoe,EAAM,EAEHpa,KACLoa,GAAOriB,EAAIsiB,WAAWra,GAGxB,OAAOoa,EAAIxF,SAAS,IActB,SAAS0F,GAAUrjB,GACjB,OAAOQ,WAAWR,EAAI,GAGxB,SAASsjB,GAAgB1a,GACvB,OAAOrI,aAAaqI,GAp1CtB+I,GAASjK,UAET,CACEiE,YAAagG,GACb+L,iBAAkB,SAA0Bpb,GACrCjC,KAAKqB,GAAGa,SAASD,IAAWA,IAAWjC,KAAKqB,KAC/C6X,GAAa,OAGjBgK,cAAe,SAAuBnO,EAAK9S,GACzC,MAAyC,mBAA3BjC,KAAK6E,QAAQoZ,UAA2Bje,KAAK6E,QAAQoZ,UAAU1W,KAAKvH,KAAM+U,EAAK9S,EAAQ8T,GAAU/V,KAAK6E,QAAQoZ,WAE9H0B,YAAa,SAEb5K,GACE,GAAKA,EAAIqD,WAAT,CAEA,IAAI7E,EAAQvT,KACRqB,EAAKrB,KAAKqB,GACVwD,EAAU7E,KAAK6E,QACfyZ,EAAkBzZ,EAAQyZ,gBAC1B6E,EAAOpO,EAAIoO,KACXC,EAAQrO,EAAI0H,SAAW1H,EAAI0H,QAAQ,IAAM1H,EAAIsO,aAAmC,UAApBtO,EAAIsO,aAA2BtO,EAC3F9S,GAAUmhB,GAASrO,GAAK9S,OACxBqhB,EAAiBvO,EAAI9S,OAAOshB,aAAexO,EAAIyO,MAAQzO,EAAIyO,KAAK,IAAMzO,EAAI0O,cAAgB1O,EAAI0O,eAAe,KAAOxhB,EACpHsD,EAASV,EAAQU,OAKrB,GAsyCJ,SAAgCme,GAC9B7J,GAAkBnV,OAAS,EAI3B,IAHA,IAAIif,EAASD,EAAK1U,qBAAqB,SACnC4U,EAAMD,EAAOjf,OAEVkf,KAAO,CACZ,IAAIviB,EAAKsiB,EAAOC,GAChBviB,EAAGyD,SAAW+U,GAAkBzU,KAAK/D,IAhzCrCwiB,CAAuBxiB,IAGnB0U,KAIA,wBAAwB6H,KAAKuF,IAAwB,IAAfpO,EAAI+O,QAAgBjf,EAAQ4Y,YAKlE6F,EAAeS,oBAKd/jB,KAAK0f,kBAAmBhT,IAAUzK,GAA2C,WAAjCA,EAAOG,QAAQ4P,mBAIhE/P,EAASE,EAAQF,EAAQ4C,EAAQ4M,UAAWpQ,GAAI,KAElCY,EAAO6f,UAIjB1L,KAAenU,GAAnB,CASA,GAHA2U,GAAW9E,EAAM7P,GACjB4U,GAAoB/E,EAAM7P,EAAQ4C,EAAQ4M,WAEpB,mBAAXlM,GACT,GAAIA,EAAOgC,KAAKvH,KAAM+U,EAAK9S,EAAQjC,MAcjC,OAbAuX,EAAe,CACbzC,SAAUvB,EACV2C,OAAQoN,EACRtV,KAAM,SACNyJ,SAAUxV,EACVyV,KAAMrW,EACNsW,OAAQtW,IAGVuT,EAAY,SAAUrB,EAAO,CAC3BwB,IAAKA,SAEPuJ,GAAmBvJ,EAAIqD,YAAcrD,EAAIsH,uBAGtC,GAAI9W,IACTA,EAASA,EAAO+V,MAAM,KAAKvV,MAAK,SAAUie,GAGxC,GAFAA,EAAW7hB,EAAQmhB,EAAgBU,EAASC,OAAQ5iB,GAAI,GAetD,OAZAkW,EAAe,CACbzC,SAAUvB,EACV2C,OAAQ8N,EACRhW,KAAM,SACNyJ,SAAUxV,EACV0V,OAAQtW,EACRqW,KAAMrW,IAGRuT,EAAY,SAAUrB,EAAO,CAC3BwB,IAAKA,KAEA,MAMT,YADAuJ,GAAmBvJ,EAAIqD,YAAcrD,EAAIsH,kBAKzCxX,EAAQ8Y,SAAWxb,EAAQmhB,EAAgBze,EAAQ8Y,OAAQtc,GAAI,IAKnErB,KAAKkkB,kBAAkBnP,EAAKqO,EAAOnhB,MAErCiiB,kBAAmB,SAEnBnP,EAEAqO,EAEAnhB,GACE,IAIIkiB,EAJA5Q,EAAQvT,KACRqB,EAAKkS,EAAMlS,GACXwD,EAAU0O,EAAM1O,QAChBuf,EAAgB/iB,EAAG+iB,cAGvB,GAAIniB,IAAW8T,GAAU9T,EAAOyL,aAAerM,EAAI,CACjD,IAAI2gB,EAAW3S,EAAQpN,GAwEvB,GAvEAiU,GAAS7U,EAET2U,GADAD,EAAS9T,GACSyL,WAClByI,GAASJ,EAAOsO,YAChBjO,GAAanU,EACb0W,GAAc9T,EAAQgX,MACtBvK,GAASE,QAAUuE,EACnB6C,GAAS,CACP3W,OAAQ8T,EACR4G,SAAUyG,GAASrO,GAAK4H,QACxBC,SAAUwG,GAASrO,GAAK6H,SAE1B5D,GAAkBJ,GAAO+D,QAAUqF,EAASnS,KAC5CoJ,GAAiBL,GAAOgE,QAAUoF,EAASpS,IAC3C5P,KAAKskB,QAAUlB,GAASrO,GAAK4H,QAC7B3c,KAAKukB,QAAUnB,GAASrO,GAAK6H,QAC7B7G,EAAO5Q,MAAM,eAAiB,MAE9Bgf,EAAc,WACZvP,EAAY,aAAcrB,EAAO,CAC/BwB,IAAKA,IAGHzD,GAAS0D,cACXzB,EAAMiR,WAORjR,EAAMkR,6BAEDhY,GAAW8G,EAAMmM,kBACpB3J,EAAOtE,WAAY,GAIrB8B,EAAMmR,kBAAkB3P,EAAKqO,GAG7B7L,EAAe,CACbzC,SAAUvB,EACVvF,KAAM,SACN6H,cAAed,IAIjBhH,EAAYgI,EAAQlR,EAAQsZ,aAAa,KAI3CtZ,EAAQwZ,OAAO/C,MAAM,KAAKrW,SAAQ,SAAU+e,GAC1Cpc,EAAKmO,EAAQiO,EAASC,OAAQxB,OAEhChd,EAAG2e,EAAe,WAAY5H,IAC9B/W,EAAG2e,EAAe,YAAa5H,IAC/B/W,EAAG2e,EAAe,YAAa5H,IAC/B/W,EAAG2e,EAAe,UAAW7Q,EAAMiR,SACnC/e,EAAG2e,EAAe,WAAY7Q,EAAMiR,SACpC/e,EAAG2e,EAAe,cAAe7Q,EAAMiR,SAEnC/X,GAAWzM,KAAK0f,kBAClB1f,KAAK6E,QAAQoa,oBAAsB,EACnClJ,EAAOtE,WAAY,GAGrBmD,EAAY,aAAc5U,KAAM,CAC9B+U,IAAKA,KAGHlQ,EAAQka,OAAWla,EAAQma,mBAAoBoE,GAAYpjB,KAAK0f,kBAAqBlT,GAAQD,GAkB/F4X,QAlB6G,CAC7G,GAAI7S,GAAS0D,cAGX,YAFAhV,KAAKwkB,UAQP/e,EAAG2e,EAAe,UAAW7Q,EAAMoR,qBACnClf,EAAG2e,EAAe,WAAY7Q,EAAMoR,qBACpClf,EAAG2e,EAAe,cAAe7Q,EAAMoR,qBACvClf,EAAG2e,EAAe,YAAa7Q,EAAMqR,8BACrCnf,EAAG2e,EAAe,YAAa7Q,EAAMqR,8BACrC/f,EAAQ4a,gBAAkBha,EAAG2e,EAAe,cAAe7Q,EAAMqR,8BACjErR,EAAMsR,gBAAkB1kB,WAAWgkB,EAAatf,EAAQka,UAM9D6F,6BAA8B,SAE9B5iB,GACE,IAAIohB,EAAQphB,EAAEya,QAAUza,EAAEya,QAAQ,GAAKza,EAEnCkR,KAAKiO,IAAIjO,KAAK4R,IAAI1B,EAAMzG,QAAU3c,KAAKskB,QAASpR,KAAK4R,IAAI1B,EAAMxG,QAAU5c,KAAKukB,UAAYrR,KAAK6R,MAAM/kB,KAAK6E,QAAQoa,qBAAuBjf,KAAK0f,iBAAmBtT,OAAO+S,kBAAoB,KAC9Lnf,KAAK2kB,uBAGTA,oBAAqB,WACnB5O,GAAU0M,GAAkB1M,GAC5B7V,aAAaF,KAAK6kB,iBAElB7kB,KAAKykB,6BAEPA,0BAA2B,WACzB,IAAIL,EAAgBpkB,KAAKqB,GAAG+iB,cAC5BpX,EAAIoX,EAAe,UAAWpkB,KAAK2kB,qBACnC3X,EAAIoX,EAAe,WAAYpkB,KAAK2kB,qBACpC3X,EAAIoX,EAAe,cAAepkB,KAAK2kB,qBACvC3X,EAAIoX,EAAe,YAAapkB,KAAK4kB,8BACrC5X,EAAIoX,EAAe,YAAapkB,KAAK4kB,8BACrC5X,EAAIoX,EAAe,cAAepkB,KAAK4kB,+BAEzCF,kBAAmB,SAEnB3P,EAEAqO,GACEA,EAAQA,GAA4B,SAAnBrO,EAAIsO,aAA0BtO,GAE1C/U,KAAK0f,iBAAmB0D,EACvBpjB,KAAK6E,QAAQ4a,eACfha,EAAG/D,SAAU,cAAe1B,KAAKglB,cAEjCvf,EAAG/D,SADM0hB,EACI,YAEA,YAFapjB,KAAKglB,eAKjCvf,EAAGsQ,EAAQ,UAAW/V,MACtByF,EAAGyQ,GAAQ,YAAalW,KAAKilB,eAG/B,IACMvjB,SAASwjB,UAEXlC,IAAU,WACRthB,SAASwjB,UAAUC,WAGrB/Y,OAAOgZ,eAAeC,kBAExB,MAAOC,MAEXC,aAAc,SAAsBC,EAAUzQ,GAI5C,GAFAuE,IAAsB,EAElBpD,IAAUH,EAAQ,CACpBnB,EAAY,cAAe5U,KAAM,CAC/B+U,IAAKA,IAGH/U,KAAK0f,iBACPja,EAAG/D,SAAU,WAAY0b,IAG3B,IAAIvY,EAAU7E,KAAK6E,SAElB2gB,GAAYzX,EAAYgI,EAAQlR,EAAQuZ,WAAW,GACpDrQ,EAAYgI,EAAQlR,EAAQqZ,YAAY,GACxC5M,GAASqF,OAAS3W,KAClBwlB,GAAYxlB,KAAKylB,eAEjBlO,EAAe,CACbzC,SAAU9U,KACVgO,KAAM,QACN6H,cAAed,SAGjB/U,KAAK0lB,YAGTC,iBAAkB,WAChB,GAAI9M,GAAU,CACZ7Y,KAAKskB,OAASzL,GAAS8D,QACvB3c,KAAKukB,OAAS1L,GAAS+D,QAEvB3F,KAKA,IAHA,IAAIhV,EAASP,SAASkkB,iBAAiB/M,GAAS8D,QAAS9D,GAAS+D,SAC9D9U,EAAS7F,EAENA,GAAUA,EAAOshB,aACtBthB,EAASA,EAAOshB,WAAWqC,iBAAiB/M,GAAS8D,QAAS9D,GAAS+D,YACxD9U,GACfA,EAAS7F,EAKX,GAFA8T,EAAOrI,WAAWqG,GAASsJ,iBAAiBpb,GAExC6F,EACF,EAAG,CACD,GAAIA,EAAOiM,IAEEjM,EAAOiM,GAASoJ,YAAY,CACrCR,QAAS9D,GAAS8D,QAClBC,QAAS/D,GAAS+D,QAClB3a,OAAQA,EACRiU,OAAQpO,MAGO9H,KAAK6E,QAAQga,eAC5B,MAIJ5c,EAAS6F,QAGJA,EAASA,EAAO4F,YAGzByJ,OAGJ6N,aAAc,SAEdjQ,GACE,GAAI6D,GAAQ,CACV,IAAI/T,EAAU7E,KAAK6E,QACf0a,EAAoB1a,EAAQ0a,kBAC5BC,EAAiB3a,EAAQ2a,eACzB4D,EAAQrO,EAAI0H,QAAU1H,EAAI0H,QAAQ,GAAK1H,EACvC8Q,EAAc5P,IAAW3H,EAAO2H,IAAS,GACzC1F,EAAS0F,IAAW4P,GAAeA,EAAYrV,EAC/CC,EAASwF,IAAW4P,GAAeA,EAAYlf,EAC/Cmf,EAAuB/L,IAA2BV,IAAuBpH,EAAwBoH,IACjG0M,GAAM3C,EAAMzG,QAAU/D,GAAO+D,QAAU6C,EAAe/L,IAAMlD,GAAU,IAAMuV,EAAuBA,EAAqB,GAAKnM,GAAiC,GAAK,IAAMpJ,GAAU,GACnLyV,GAAM5C,EAAMxG,QAAUhE,GAAOgE,QAAU4C,EAAe9L,IAAMjD,GAAU,IAAMqV,EAAuBA,EAAqB,GAAKnM,GAAiC,GAAK,IAAMlJ,GAAU,GAEvL,IAAKa,GAASqF,SAAW2C,GAAqB,CAC5C,GAAIiG,GAAqBrM,KAAKiO,IAAIjO,KAAK4R,IAAI1B,EAAMzG,QAAU3c,KAAKskB,QAASpR,KAAK4R,IAAI1B,EAAMxG,QAAU5c,KAAKukB,SAAWhF,EAChH,OAGFvf,KAAKilB,aAAalQ,GAAK,GAGzB,GAAIkB,GAAS,CACP4P,GACFA,EAAY7jB,GAAK+jB,GAAMjN,IAAU,GACjC+M,EAAY3F,GAAK8F,GAAMjN,IAAU,IAEjC8M,EAAc,CACZrV,EAAG,EACHyV,EAAG,EACHC,EAAG,EACHvf,EAAG,EACH3E,EAAG+jB,EACH7F,EAAG8F,GAIP,IAAIG,EAAY,UAAUxR,OAAOkR,EAAYrV,EAAG,KAAKmE,OAAOkR,EAAYI,EAAG,KAAKtR,OAAOkR,EAAYK,EAAG,KAAKvR,OAAOkR,EAAYlf,EAAG,KAAKgO,OAAOkR,EAAY7jB,EAAG,KAAK2S,OAAOkR,EAAY3F,EAAG,KACvLhS,EAAI+H,GAAS,kBAAmBkQ,GAChCjY,EAAI+H,GAAS,eAAgBkQ,GAC7BjY,EAAI+H,GAAS,cAAekQ,GAC5BjY,EAAI+H,GAAS,YAAakQ,GAC1BrN,GAASiN,EACThN,GAASiN,EACTnN,GAAWuK,EAGbrO,EAAIqD,YAAcrD,EAAIsH,mBAG1BoJ,aAAc,WAGZ,IAAKxP,GAAS,CACZ,IAAIxG,EAAYzP,KAAK6E,QAAQya,eAAiB5d,SAASC,KAAOuU,GAC1D6G,EAAO1N,EAAQ0G,GAAQ,EAAMgE,IAAyB,EAAMtK,GAC5D5K,EAAU7E,KAAK6E,QAEnB,GAAIkV,GAAyB,CAI3B,IAFAV,GAAsB5J,EAE0B,WAAzCvB,EAAImL,GAAqB,aAAsE,SAA1CnL,EAAImL,GAAqB,cAA2BA,KAAwB3X,UACtI2X,GAAsBA,GAAoB3L,WAGxC2L,KAAwB3X,SAASC,MAAQ0X,KAAwB3X,SAAS0N,iBACxEiK,KAAwB3X,WAAU2X,GAAsBnK,KAC5D6N,EAAKnN,KAAOyJ,GAAoB/G,UAChCyK,EAAKlN,MAAQwJ,GAAoBhH,YAEjCgH,GAAsBnK,IAGxByK,GAAmC1H,EAAwBoH,IAI7DtL,EADAkI,GAAUF,EAAOpM,WAAU,GACN9E,EAAQqZ,YAAY,GACzCnQ,EAAYkI,GAASpR,EAAQwa,eAAe,GAC5CtR,EAAYkI,GAASpR,EAAQuZ,WAAW,GACxClQ,EAAI+H,GAAS,aAAc,IAC3B/H,EAAI+H,GAAS,YAAa,IAC1B/H,EAAI+H,GAAS,aAAc,cAC3B/H,EAAI+H,GAAS,SAAU,GACvB/H,EAAI+H,GAAS,MAAO8G,EAAKnN,KACzB1B,EAAI+H,GAAS,OAAQ8G,EAAKlN,MAC1B3B,EAAI+H,GAAS,QAAS8G,EAAK9M,OAC3B/B,EAAI+H,GAAS,SAAU8G,EAAK/M,QAC5B9B,EAAI+H,GAAS,UAAW,OACxB/H,EAAI+H,GAAS,WAAY8D,GAA0B,WAAa,SAChE7L,EAAI+H,GAAS,SAAU,UACvB/H,EAAI+H,GAAS,gBAAiB,QAC9B3E,GAASC,MAAQ0E,GACjBxG,EAAUpK,YAAY4Q,IAEtB/H,EAAI+H,GAAS,mBAAoB+C,GAAkB3I,SAAS4F,GAAQ9Q,MAAM8K,OAAS,IAAM,KAAOgJ,GAAiB5I,SAAS4F,GAAQ9Q,MAAM6K,QAAU,IAAM,OAG5JiV,aAAc,SAEdlQ,EAEAyQ,GACE,IAAIjS,EAAQvT,KAER0e,EAAe3J,EAAI2J,aACnB7Z,EAAU0O,EAAM1O,QACpB+P,EAAY,YAAa5U,KAAM,CAC7B+U,IAAKA,IAGHzD,GAAS0D,cACXhV,KAAKwkB,WAKP5P,EAAY,aAAc5U,MAErBsR,GAAS0D,iBACZqB,GAAU/M,EAAMyM,IACRqQ,gBAAgB,MACxB/P,GAAQ5E,WAAY,EACpB4E,GAAQlR,MAAM,eAAiB,GAE/BnF,KAAKqmB,aAELtY,EAAYsI,GAASrW,KAAK6E,QAAQsZ,aAAa,GAC/C7M,GAAShI,MAAQ+M,IAInB9C,EAAM+S,QAAUtD,IAAU,WACxBpO,EAAY,QAASrB,GACjBjC,GAAS0D,gBAERzB,EAAM1O,QAAQmZ,mBACjB9H,GAAOqQ,aAAalQ,GAASN,GAG/BxC,EAAM8S,aAEN9O,EAAe,CACbzC,SAAUvB,EACVvF,KAAM,eAGTwX,GAAYzX,EAAYgI,EAAQlR,EAAQuZ,WAAW,GAEhDoH,GACFjM,IAAkB,EAClBhG,EAAMiT,QAAUC,YAAYlT,EAAMoS,iBAAkB,MAGpD3Y,EAAItL,SAAU,UAAW6R,EAAMiR,SAC/BxX,EAAItL,SAAU,WAAY6R,EAAMiR,SAChCxX,EAAItL,SAAU,cAAe6R,EAAMiR,SAE/B9F,IACFA,EAAagI,cAAgB,OAC7B7hB,EAAQ4Z,SAAW5Z,EAAQ4Z,QAAQlX,KAAKgM,EAAOmL,EAAc3I,IAG/DtQ,EAAG/D,SAAU,OAAQ6R,GAErBrF,EAAI6H,EAAQ,YAAa,kBAG3BuD,IAAsB,EACtB/F,EAAMoT,aAAe3D,GAAUzP,EAAMgS,aAAazP,KAAKvC,EAAOiS,EAAUzQ,IACxEtP,EAAG/D,SAAU,cAAe6R,GAC5BiD,IAAQ,EAEJ9J,GACFwB,EAAIxM,SAASC,KAAM,cAAe,UAItCwb,YAAa,SAEbpI,GACE,IAEIiN,EACAC,EACA2E,EAOAC,EAXAxlB,EAAKrB,KAAKqB,GACVY,EAAS8S,EAAI9S,OAIb4C,EAAU7E,KAAK6E,QACfgX,EAAQhX,EAAQgX,MAChBnF,EAAiBpF,GAASqF,OAC1BmQ,EAAUnO,KAAgBkD,EAC1BkL,EAAUliB,EAAQsE,KAClB6d,EAAevQ,IAAeC,EAE9BnD,EAAQvT,KACRinB,GAAiB,EAErB,IAAIrN,GAAJ,CAgHA,QAN2B,IAAvB7E,EAAIsH,gBACNtH,EAAIqD,YAAcrD,EAAIsH,iBAGxBpa,EAASE,EAAQF,EAAQ4C,EAAQ4M,UAAWpQ,GAAI,GAChD6lB,EAAc,YACV5V,GAAS0D,cAAe,OAAOiS,EAEnC,GAAIlR,EAAO7T,SAAS6S,EAAI9S,SAAWA,EAAO6f,UAAY7f,EAAOwf,YAAcxf,EAAOyf,YAAcnO,EAAM4T,wBAA0BllB,EAC9H,OAAOmlB,GAAU,GAKnB,GAFA7N,IAAkB,EAEd7C,IAAmB7R,EAAQ4Y,WAAaqJ,EAAUC,IAAYH,EAAS5Q,IAAaE,IACtFO,KAAgBzW,OAASA,KAAKwY,YAAcG,GAAYsD,UAAUjc,KAAM0W,EAAgBX,EAAQhB,KAAS8G,EAAMK,SAASlc,KAAM0W,EAAgBX,EAAQhB,IAAO,CAI7J,GAHA8R,EAA+C,aAApC7mB,KAAKkjB,cAAcnO,EAAK9S,GACnC+f,EAAW3S,EAAQ0G,GACnBmR,EAAc,iBACV5V,GAAS0D,cAAe,OAAOiS,EAEnC,GAAIL,EAiBF,OAhBA5Q,EAAWE,GAEXpJ,IAEA9M,KAAKqmB,aAELa,EAAc,UAET5V,GAAS0D,gBACRmB,GACFD,GAAOqQ,aAAaxQ,EAAQI,IAE5BD,GAAO7Q,YAAY0Q,IAIhBqR,GAAU,GAGnB,IAAIC,EAAc3V,EAAUrQ,EAAIwD,EAAQ4M,WAExC,IAAK4V,GAsjBX,SAAsBtS,EAAK8R,EAAU/R,GACnC,IAAIiI,EAAO1N,EAAQqC,EAAUoD,EAASzT,GAAIyT,EAASjQ,QAAQ4M,YAE3D,OAAOoV,EAAW9R,EAAI4H,QAAUI,EAAKhN,MADxB,IAC0CgF,EAAI4H,SAAWI,EAAKhN,OAASgF,EAAI6H,QAAUG,EAAKjN,QAAUiF,EAAI4H,SAAWI,EAAKlN,KAAOkF,EAAI4H,QAAUI,EAAKhN,OAASgF,EAAI6H,QAAUG,EAAKnN,KAAOmF,EAAI4H,SAAWI,EAAKhN,OAASgF,EAAI6H,QAAUG,EAAKjN,OADrO,GAxjBWwX,CAAavS,EAAK8R,EAAU7mB,QAAUqnB,EAAYvF,SAAU,CAG9E,GAAIuF,IAAgBtR,EAClB,OAAOqR,GAAU,GAYnB,GARIC,GAAehmB,IAAO0T,EAAI9S,SAC5BA,EAASolB,GAGPplB,IACFggB,EAAa5S,EAAQpN,KAG0D,IAA7E8f,GAAQ7L,GAAQ7U,EAAI0U,EAAQiM,EAAU/f,EAAQggB,EAAYlN,IAAO9S,GAanE,OAZA6K,IAEIua,GAAeA,EAAYhD,YAE7BhjB,EAAGklB,aAAaxQ,EAAQsR,EAAYhD,aAEpChjB,EAAGgE,YAAY0Q,GAGjBC,EAAW3U,EAEXkmB,IACOH,GAAU,QAEd,GAAIC,GAihBjB,SAAuBtS,EAAK8R,EAAU/R,GACpC,IAAIiI,EAAO1N,EAAQ2B,EAAS8D,EAASzT,GAAI,EAAGyT,EAASjQ,SAAS,IAE9D,OAAOgiB,EAAW9R,EAAI4H,QAAUI,EAAKlN,KADxB,IACyCkF,EAAI6H,QAAUG,EAAKnN,KAAOmF,EAAI4H,QAAUI,EAAKhN,MAAQgF,EAAI6H,QAAUG,EAAKnN,IADjH,IACiImF,EAAI6H,QAAUG,EAAKjN,QAAUiF,EAAI4H,QAAUI,EAAKlN,KAphBhK2X,CAAczS,EAAK8R,EAAU7mB,MAAO,CAE5D,IAAIynB,EAAazW,EAAS3P,EAAI,EAAGwD,GAAS,GAE1C,GAAI4iB,IAAe1R,EACjB,OAAOqR,GAAU,GAMnB,GAFAnF,EAAa5S,EADbpN,EAASwlB,IAGqE,IAA1E1F,GAAQ7L,GAAQ7U,EAAI0U,EAAQiM,EAAU/f,EAAQggB,EAAYlN,GAAK,GAMjE,OALAjI,IACAzL,EAAGklB,aAAaxQ,EAAQ0R,GACxBzR,EAAW3U,EAEXkmB,IACOH,GAAU,QAEd,GAAInlB,EAAOyL,aAAerM,EAAI,CACnC4gB,EAAa5S,EAAQpN,GACrB,IAAIgc,EACAyJ,EAcAC,EAbAC,EAAiB7R,EAAOrI,aAAerM,EACvCwmB,GAl9Ba,SAA4B7F,EAAUC,EAAY4E,GACzE,IAAIiB,EAAcjB,EAAW7E,EAASnS,KAAOmS,EAASpS,IAClDmY,EAAclB,EAAW7E,EAASjS,MAAQiS,EAASlS,OACnDkY,EAAkBnB,EAAW7E,EAAS/R,MAAQ+R,EAAShS,OACvDiY,EAAcpB,EAAW5E,EAAWpS,KAAOoS,EAAWrS,IACtDsY,EAAcrB,EAAW5E,EAAWlS,MAAQkS,EAAWnS,OACvDqY,EAAkBtB,EAAW5E,EAAWhS,MAAQgS,EAAWjS,OAC/D,OAAO8X,IAAgBG,GAAeF,IAAgBG,GAAeJ,EAAcE,EAAkB,IAAMC,EAAcE,EAAkB,EA28B9GC,CAAmBrS,EAAO+L,UAAY/L,EAAO2K,QAAUsB,EAAU/f,EAAO6f,UAAY7f,EAAOye,QAAUuB,EAAY4E,GACpIwB,EAAQxB,EAAW,MAAQ,OAC3ByB,EAAkB5X,EAAezO,EAAQ,MAAO,QAAUyO,EAAeqF,EAAQ,MAAO,OACxFwS,EAAeD,EAAkBA,EAAgBhW,eAAY,EAWjE,GATI4G,KAAejX,IACjBylB,EAAwBzF,EAAWoG,GACnC5O,IAAwB,EACxBC,IAA0BmO,GAAmBhjB,EAAQiZ,YAAc8J,GAGrE3J,EA0fR,SAA2BlJ,EAAK9S,EAAQggB,EAAY4E,EAAUhJ,EAAeE,EAAuBD,EAAY0K,GAC9G,IAAIC,EAAc5B,EAAW9R,EAAI6H,QAAU7H,EAAI4H,QAC3C+L,EAAe7B,EAAW5E,EAAWjS,OAASiS,EAAWhS,MACzD0Y,EAAW9B,EAAW5E,EAAWrS,IAAMqS,EAAWpS,KAClD+Y,EAAW/B,EAAW5E,EAAWnS,OAASmS,EAAWlS,MACrD8Y,GAAS,EAEb,IAAK/K,EAEH,GAAI0K,GAAgBpP,GAAqBsP,EAAe7K,GAQtD,IALKpE,KAA4C,IAAlBN,GAAsBsP,EAAcE,EAAWD,EAAe3K,EAAwB,EAAI0K,EAAcG,EAAWF,EAAe3K,EAAwB,KAEvLtE,IAAwB,GAGrBA,GAOHoP,GAAS,OALT,GAAsB,IAAlB1P,GAAsBsP,EAAcE,EAAWvP,GACjDqP,EAAcG,EAAWxP,GACzB,OAAQD,QAOZ,GAAIsP,EAAcE,EAAWD,GAAgB,EAAI7K,GAAiB,GAAK4K,EAAcG,EAAWF,GAAgB,EAAI7K,GAAiB,EACnI,OAwBR,SAA6B5b,GAC3B,OAAI6P,EAAMiE,GAAUjE,EAAM7P,GACjB,GAEC,EA5BG6mB,CAAoB7mB,GAOjC,OAFA4mB,EAASA,GAAU/K,KAIb2K,EAAcE,EAAWD,EAAe3K,EAAwB,GAAK0K,EAAcG,EAAWF,EAAe3K,EAAwB,GAChI0K,EAAcE,EAAWD,EAAe,EAAI,GAAK,EAIrD,EAriBWK,CAAkBhU,EAAK9S,EAAQggB,EAAY4E,EAAUgB,EAAkB,EAAIhjB,EAAQgZ,cAAgD,MAAjChZ,EAAQkZ,sBAAgClZ,EAAQgZ,cAAgBhZ,EAAQkZ,sBAAuBrE,GAAwBR,KAAejX,GAGlO,IAAdgc,EAAiB,CAEnB,IAAI+K,EAAYlX,EAAMiE,GAEtB,GACEiT,GAAa/K,EACb0J,EAAU3R,EAAS5E,SAAS4X,SACrBrB,IAAwC,SAA5BzZ,EAAIyZ,EAAS,YAAyBA,IAAY1R,KAIzE,GAAkB,IAAdgI,GAAmB0J,IAAY1lB,EACjC,OAAOmlB,GAAU,GAGnBlO,GAAajX,EACbkX,GAAgB8E,EAChB,IAAIoG,EAAcpiB,EAAOgnB,mBACrBC,GAAQ,EAGRC,EAAapH,GAAQ7L,GAAQ7U,EAAI0U,EAAQiM,EAAU/f,EAAQggB,EAAYlN,EAF3EmU,EAAsB,IAAdjL,GAIR,IAAmB,IAAfkL,EA4BF,OA3BmB,IAAfA,IAAoC,IAAhBA,IACtBD,EAAuB,IAAfC,GAGVvP,IAAU,EACVzZ,WAAWuiB,GAAW,IACtB5V,IAEIoc,IAAU7E,EACZhjB,EAAGgE,YAAY0Q,GAEf9T,EAAOyL,WAAW6Y,aAAaxQ,EAAQmT,EAAQ7E,EAAcpiB,GAI3DqmB,GACF9U,EAAS8U,EAAiB,EAAGC,EAAeD,EAAgBhW,WAG9D0D,EAAWD,EAAOrI,gBAGYnH,IAA1BmhB,GAAwChO,KAC1CN,GAAqBlG,KAAK4R,IAAI4C,EAAwBrY,EAAQpN,GAAQomB,KAGxEd,IACOH,GAAU,GAIrB,GAAI/lB,EAAGa,SAAS6T,GACd,OAAOqR,GAAU,GAIrB,OAAO,EApRP,SAASF,EAAclZ,EAAMob,GAC3BxU,EAAY5G,EAAMuF,EAAOxI,EAAe,CACtCgK,IAAKA,EACL+R,QAASA,EACTuC,KAAMxC,EAAW,WAAa,aAC9BD,OAAQA,EACR5E,SAAUA,EACVC,WAAYA,EACZ8E,QAASA,EACTC,aAAcA,EACd/kB,OAAQA,EACRmlB,UAAWA,EACX/E,OAAQ,SAAgBpgB,EAAQinB,GAC9B,OAAOnH,GAAQ7L,GAAQ7U,EAAI0U,EAAQiM,EAAU/f,EAAQoN,EAAQpN,GAAS8S,EAAKmU,IAE7E3B,QAASA,GACR6B,IAIL,SAAStc,IACPoa,EAAc,4BAEd3T,EAAMqM,wBAEFrM,IAAUyT,GACZA,EAAapH,wBAKjB,SAASwH,EAAUkC,GAuDjB,OAtDApC,EAAc,oBAAqB,CACjCoC,UAAWA,IAGTA,IAEExC,EACFpQ,EAAe2P,aAEf3P,EAAe6S,WAAWhW,GAGxBA,IAAUyT,IAEZjZ,EAAYgI,EAAQU,GAAcA,GAAY5R,QAAQqZ,WAAaxH,EAAe7R,QAAQqZ,YAAY,GACtGnQ,EAAYgI,EAAQlR,EAAQqZ,YAAY,IAGtCzH,KAAgBlD,GAASA,IAAUjC,GAASqF,OAC9CF,GAAclD,EACLA,IAAUjC,GAASqF,QAAUF,KACtCA,GAAc,MAIZuQ,IAAiBzT,IACnBA,EAAM4T,sBAAwBllB,GAGhCsR,EAAMgN,YAAW,WACf2G,EAAc,6BACd3T,EAAM4T,sBAAwB,QAG5B5T,IAAUyT,IACZA,EAAazG,aACbyG,EAAaG,sBAAwB,QAKrCllB,IAAW8T,IAAWA,EAAO+L,UAAY7f,IAAWZ,IAAOY,EAAO6f,YACpE5I,GAAa,MAIVrU,EAAQga,gBAAmB9J,EAAImB,QAAUjU,IAAWP,WACvDqU,EAAOrI,WAAWqG,GAASsJ,iBAAiBtI,EAAI9S,SAG/CqnB,GAAa9M,GAA8BzH,KAG7ClQ,EAAQga,gBAAkB9J,EAAIuH,iBAAmBvH,EAAIuH,kBAC/C2K,GAAiB,EAI1B,SAASM,IACPzQ,GAAWhF,EAAMiE,GACjBgB,GAAoBjF,EAAMiE,EAAQlR,EAAQ4M,WAE1C8F,EAAe,CACbzC,SAAUvB,EACVvF,KAAM,SACN0J,KAAMrW,EACNyV,SAAUA,GACVC,kBAAmBA,GACnBlB,cAAed,MAkLrBoS,sBAAuB,KACvBqC,eAAgB,WACdxc,EAAItL,SAAU,YAAa1B,KAAKglB,cAChChY,EAAItL,SAAU,YAAa1B,KAAKglB,cAChChY,EAAItL,SAAU,cAAe1B,KAAKglB,cAClChY,EAAItL,SAAU,WAAY8a,IAC1BxP,EAAItL,SAAU,YAAa8a,IAC3BxP,EAAItL,SAAU,YAAa8a,KAE7BiN,aAAc,WACZ,IAAIrF,EAAgBpkB,KAAKqB,GAAG+iB,cAC5BpX,EAAIoX,EAAe,UAAWpkB,KAAKwkB,SACnCxX,EAAIoX,EAAe,WAAYpkB,KAAKwkB,SACpCxX,EAAIoX,EAAe,YAAapkB,KAAKwkB,SACrCxX,EAAIoX,EAAe,cAAepkB,KAAKwkB,SACvCxX,EAAItL,SAAU,cAAe1B,OAE/BwkB,QAAS,SAETzP,GACE,IAAI1T,EAAKrB,KAAKqB,GACVwD,EAAU7E,KAAK6E,QAEnBiS,GAAWhF,EAAMiE,GACjBgB,GAAoBjF,EAAMiE,EAAQlR,EAAQ4M,WAC1CmD,EAAY,OAAQ5U,KAAM,CACxB+U,IAAKA,IAEPiB,EAAWD,GAAUA,EAAOrI,WAE5BoJ,GAAWhF,EAAMiE,GACjBgB,GAAoBjF,EAAMiE,EAAQlR,EAAQ4M,WAEtCH,GAAS0D,gBAMbsE,IAAsB,EACtBI,IAAyB,EACzBD,IAAwB,EACxBiQ,cAAc1pB,KAAKwmB,SACnBtmB,aAAaF,KAAK6kB,iBAElB5B,GAAgBjjB,KAAKsmB,SAErBrD,GAAgBjjB,KAAK2mB,cAGjB3mB,KAAK0f,kBACP1S,EAAItL,SAAU,OAAQ1B,MACtBgN,EAAI3L,EAAI,YAAarB,KAAKilB,eAG5BjlB,KAAKwpB,iBAELxpB,KAAKypB,eAED/c,GACFwB,EAAIxM,SAASC,KAAM,cAAe,IAGpCuM,EAAI6H,EAAQ,YAAa,IAErBhB,IACEyB,KACFzB,EAAIqD,YAAcrD,EAAIsH,kBACrBxX,EAAQ+Z,YAAc7J,EAAIuH,mBAG7BrG,IAAWA,GAAQvI,YAAcuI,GAAQvI,WAAWic,YAAY1T,KAE5DC,KAAWF,GAAYS,IAA2C,UAA5BA,GAAY+B,cAEpDnC,IAAWA,GAAQ3I,YAAc2I,GAAQ3I,WAAWic,YAAYtT,IAG9DN,IACE/V,KAAK0f,iBACP1S,EAAI+I,EAAQ,UAAW/V,MAGzByiB,GAAkB1M,GAElBA,EAAO5Q,MAAM,eAAiB,GAG1BqR,KAAU8C,IACZvL,EAAYgI,EAAQU,GAAcA,GAAY5R,QAAQqZ,WAAale,KAAK6E,QAAQqZ,YAAY,GAG9FnQ,EAAYgI,EAAQ/V,KAAK6E,QAAQsZ,aAAa,GAE9C5G,EAAe,CACbzC,SAAU9U,KACVgO,KAAM,WACN0J,KAAM1B,EACNc,SAAU,KACVC,kBAAmB,KACnBlB,cAAed,IAGbmB,KAAWF,GACTc,IAAY,IAEdS,EAAe,CACbrB,OAAQF,EACRhI,KAAM,MACN0J,KAAM1B,EACN2B,OAAQzB,GACRL,cAAed,IAIjBwC,EAAe,CACbzC,SAAU9U,KACVgO,KAAM,SACN0J,KAAM1B,EACNH,cAAed,IAIjBwC,EAAe,CACbrB,OAAQF,EACRhI,KAAM,OACN0J,KAAM1B,EACN2B,OAAQzB,GACRL,cAAed,IAGjBwC,EAAe,CACbzC,SAAU9U,KACVgO,KAAM,OACN0J,KAAM1B,EACNH,cAAed,KAInB0B,IAAeA,GAAYmT,QAEvB9S,KAAaF,IACXE,IAAY,IAEdS,EAAe,CACbzC,SAAU9U,KACVgO,KAAM,SACN0J,KAAM1B,EACNH,cAAed,IAGjBwC,EAAe,CACbzC,SAAU9U,KACVgO,KAAM,OACN0J,KAAM1B,EACNH,cAAed,KAMnBzD,GAASqF,SAEK,MAAZG,KAAkC,IAAdA,KACtBA,GAAWF,GACXG,GAAoBF,IAGtBU,EAAe,CACbzC,SAAU9U,KACVgO,KAAM,MACN0J,KAAM1B,EACNH,cAAed,IAIjB/U,KAAK4pB,WA9IT5pB,KAAK0lB,YAqJTA,SAAU,WACR9Q,EAAY,UAAW5U,MACvBkW,GAASH,EAASC,EAAWC,GAAUE,GAASE,GAAUD,GAAaE,GAAcsC,GAASC,GAAWrC,GAAQM,GAAWC,GAAoBH,GAAWC,GAAoBqC,GAAaC,GAAgB1C,GAAckC,GAAcrH,GAASE,QAAUF,GAASC,MAAQD,GAAShI,MAAQgI,GAASqF,OAAS,KAC/SkD,GAAkB5U,SAAQ,SAAU5D,GAClCA,EAAGyD,SAAU,KAEf+U,GAAkBnV,OAASoU,GAASC,GAAS,GAE/C8Q,YAAa,SAEb9U,GACE,OAAQA,EAAIoO,MACV,IAAK,OACL,IAAK,UACHnjB,KAAKwkB,QAAQzP,GAEb,MAEF,IAAK,YACL,IAAK,WACCgB,IACF/V,KAAKmd,YAAYpI,GA8K3B,SAEAA,GACMA,EAAI2J,eACN3J,EAAI2J,aAAaoL,WAAa,QAGhC/U,EAAIqD,YAAcrD,EAAIsH,iBAnLd0N,CAAgBhV,IAGlB,MAEF,IAAK,cACHA,EAAIsH,mBASV2N,QAAS,WAQP,IAPA,IACI3oB,EADA4oB,EAAQ,GAER7Y,EAAWpR,KAAKqB,GAAG+P,SACnB1I,EAAI,EACJuG,EAAImC,EAAS1M,OACbG,EAAU7E,KAAK6E,QAEZ6D,EAAIuG,EAAGvG,IAGRvG,EAFJd,EAAK+P,EAAS1I,GAEE7D,EAAQ4M,UAAWzR,KAAKqB,IAAI,IAC1C4oB,EAAM7kB,KAAK/D,EAAG0B,aAAa8B,EAAQia,aAAe6D,GAAYthB,IAIlE,OAAO4oB,GAOT9gB,KAAM,SAAc8gB,EAAOC,GACzB,IAAIC,EAAQ,GACRjU,EAASlW,KAAKqB,GAClBrB,KAAKgqB,UAAU/kB,SAAQ,SAAUsD,EAAIG,GACnC,IAAIrH,EAAK6U,EAAO9E,SAAS1I,GAErBvG,EAAQd,EAAIrB,KAAK6E,QAAQ4M,UAAWyE,GAAQ,KAC9CiU,EAAM5hB,GAAMlH,KAEbrB,MACHkqB,GAAgBlqB,KAAK4f,wBACrBqK,EAAMhlB,SAAQ,SAAUsD,GAClB4hB,EAAM5hB,KACR2N,EAAOyT,YAAYQ,EAAM5hB,IACzB2N,EAAO7Q,YAAY8kB,EAAM5hB,QAG7B2hB,GAAgBlqB,KAAKugB,cAMvBqJ,KAAM,WACJ,IAAIlM,EAAQ1d,KAAK6E,QAAQ6Y,MACzBA,GAASA,EAAM0M,KAAO1M,EAAM0M,IAAIpqB,OASlCmC,QAAS,SAAmBd,EAAI4E,GAC9B,OAAO9D,EAAQd,EAAI4E,GAAYjG,KAAK6E,QAAQ4M,UAAWzR,KAAKqB,IAAI,IASlEmT,OAAQ,SAAgBxG,EAAMpJ,GAC5B,IAAIC,EAAU7E,KAAK6E,QAEnB,QAAc,IAAVD,EACF,OAAOC,EAAQmJ,GAEf,IAAIyH,EAAgBpB,EAAciB,aAAatV,KAAMgO,EAAMpJ,GAGzDC,EAAQmJ,QADmB,IAAlByH,EACOA,EAEA7Q,EAGL,UAAToJ,GACFyN,GAAc5W,IAQpBwlB,QAAS,WACPzV,EAAY,UAAW5U,MACvB,IAAIqB,EAAKrB,KAAKqB,GACdA,EAAG0S,GAAW,KACd/G,EAAI3L,EAAI,YAAarB,KAAK2f,aAC1B3S,EAAI3L,EAAI,aAAcrB,KAAK2f,aAC3B3S,EAAI3L,EAAI,cAAerB,KAAK2f,aAExB3f,KAAK0f,kBACP1S,EAAI3L,EAAI,WAAYrB,MACpBgN,EAAI3L,EAAI,YAAarB,OAIvBsE,MAAM+C,UAAUpC,QAAQsC,KAAKlG,EAAGmE,iBAAiB,gBAAgB,SAAUnE,GACzEA,EAAG+kB,gBAAgB,gBAGrBpmB,KAAKwkB,UAELxkB,KAAKykB,4BAELjL,GAAU6G,OAAO7G,GAAU1N,QAAQ9L,KAAKqB,IAAK,GAC7CrB,KAAKqB,GAAKA,EAAK,MAEjBglB,WAAY,WACV,IAAK/P,GAAa,CAEhB,GADA1B,EAAY,YAAa5U,MACrBsR,GAAS0D,cAAe,OAC5B9G,EAAImI,GAAS,UAAW,QAEpBrW,KAAK6E,QAAQmZ,mBAAqB3H,GAAQ3I,YAC5C2I,GAAQ3I,WAAWic,YAAYtT,IAGjCC,IAAc,IAGlBiT,WAAY,SAAoB9S,GAC9B,GAAgC,UAA5BA,EAAY+B,aAMhB,GAAIlC,GAAa,CAEf,GADA1B,EAAY,YAAa5U,MACrBsR,GAAS0D,cAAe,OAExBe,EAAOrI,YAAcwI,IAAWlW,KAAK6E,QAAQgX,MAAMO,YAE5CjG,GACTD,GAAOqQ,aAAalQ,GAASF,IAE7BD,GAAO7Q,YAAYgR,IAJnBH,GAAOqQ,aAAalQ,GAASN,GAO3B/V,KAAK6E,QAAQgX,MAAMO,aACrBpc,KAAKkhB,QAAQnL,EAAQM,IAGvBnI,EAAImI,GAAS,UAAW,IACxBC,IAAc,QAtBdtW,KAAKqmB,eA8LPvM,IACFrU,EAAG/D,SAAU,aAAa,SAAUqT,IAC7BzD,GAASqF,QAAU2C,KAAwBvE,EAAIqD,YAClDrD,EAAIsH,oBAMV/K,GAASgZ,MAAQ,CACf7kB,GAAIA,EACJuH,IAAKA,EACLkB,IAAKA,EACLtG,KAAMA,EACN2iB,GAAI,SAAYlpB,EAAI4E,GAClB,QAAS9D,EAAQd,EAAI4E,EAAU5E,GAAI,IAErCmpB,OA3kEF,SAAgBC,EAAK7H,GACnB,GAAI6H,GAAO7H,EACT,IAAK,IAAI/b,KAAO+b,EACVA,EAAItb,eAAeT,KACrB4jB,EAAI5jB,GAAO+b,EAAI/b,IAKrB,OAAO4jB,GAmkEPrX,SAAUA,EACVjR,QAASA,EACT4L,YAAaA,EACbzE,MAAOA,EACPwI,MAAOA,EACP4Y,SAAU1H,GACV2H,eAAgB1H,GAChB2H,gBAAiBvQ,GACjBrJ,SAAUA,GAQZM,GAASpK,IAAM,SAAU2jB,GACvB,OAAOA,EAAQ9W,IAQjBzC,GAASgD,MAAQ,WACf,IAAK,IAAIwW,EAAO7qB,UAAUyE,OAAQwP,EAAU,IAAI5P,MAAMwmB,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAClF7W,EAAQ6W,GAAQ9qB,UAAU8qB,GAGxB7W,EAAQ,GAAG5I,cAAgBhH,QAAO4P,EAAUA,EAAQ,IACxDA,EAAQjP,SAAQ,SAAUsP,GACxB,IAAKA,EAAOlN,YAAckN,EAAOlN,UAAUiE,YACzC,KAAM,gEAAgEqJ,OAAO,GAAG2I,SAAS/V,KAAKgN,IAG5FA,EAAO+V,QAAOhZ,GAASgZ,MAAQvf,EAAeA,EAAe,GAAIuG,GAASgZ,OAAQ/V,EAAO+V,QAC7FjW,EAAcC,MAAMC,OAUxBjD,GAAS0Z,OAAS,SAAU3pB,EAAIwD,GAC9B,OAAO,IAAIyM,GAASjQ,EAAIwD,IAI1ByM,GAAS2Z,QAhiFK,SAkiFd,IACIC,GACAC,GAEAC,GACAC,GACAC,GACAC,GAPAC,GAAc,GAGdC,IAAY,EAoHhB,SAASC,KACPF,GAAYvmB,SAAQ,SAAU0mB,GAC5BjC,cAAciC,EAAWC,QAE3BJ,GAAc,GAGhB,SAASK,KACPnC,cAAc6B,IAGhB,IAAII,GAAavY,GAAS,SAAU2B,EAAKlQ,EAASqR,EAAQ4V,GAExD,GAAKjnB,EAAQknB,OAAb,CACA,IAMIC,EANAvY,GAAKsB,EAAI0H,QAAU1H,EAAI0H,QAAQ,GAAK1H,GAAK4H,QACzCjJ,GAAKqB,EAAI0H,QAAU1H,EAAI0H,QAAQ,GAAK1H,GAAK6H,QACzCqP,EAAOpnB,EAAQqnB,kBACfC,EAAQtnB,EAAQunB,YAChBha,EAAclD,IACdmd,GAAqB,EAGrBlB,KAAiBjV,IACnBiV,GAAejV,EACfwV,KACAR,GAAWrmB,EAAQknB,OACnBC,EAAiBnnB,EAAQynB,UAER,IAAbpB,KACFA,GAAWra,EAA2BqF,GAAQ,KAIlD,IAAIqW,EAAY,EACZC,EAAgBtB,GAEpB,EAAG,CACD,IAAI7pB,EAAKmrB,EACLzP,EAAO1N,EAAQhO,GACfuO,EAAMmN,EAAKnN,IACXE,EAASiN,EAAKjN,OACdD,EAAOkN,EAAKlN,KACZE,EAAQgN,EAAKhN,MACbE,EAAQ8M,EAAK9M,MACbD,EAAS+M,EAAK/M,OACdyc,OAAa,EACbC,OAAa,EACbha,EAAcrR,EAAGqR,YACjBzK,EAAe5G,EAAG4G,aAClBqS,EAAQpM,EAAI7M,GACZsrB,EAAatrB,EAAGgR,WAChBua,EAAavrB,EAAGiR,UAEhBjR,IAAO+Q,GACTqa,EAAaxc,EAAQyC,IAAoC,SAApB4H,EAAMzH,WAA4C,WAApByH,EAAMzH,WAA8C,YAApByH,EAAMzH,WACzG6Z,EAAa1c,EAAS/H,IAAqC,SAApBqS,EAAMxH,WAA4C,WAApBwH,EAAMxH,WAA8C,YAApBwH,EAAMxH,aAE3G2Z,EAAaxc,EAAQyC,IAAoC,SAApB4H,EAAMzH,WAA4C,WAApByH,EAAMzH,WACzE6Z,EAAa1c,EAAS/H,IAAqC,SAApBqS,EAAMxH,WAA4C,WAApBwH,EAAMxH,YAG7E,IAAI+Z,EAAKJ,IAAevZ,KAAK4R,IAAI/U,EAAQ0D,IAAMwY,GAAQU,EAAa1c,EAAQyC,IAAgBQ,KAAK4R,IAAIjV,EAAO4D,IAAMwY,KAAUU,GACxHG,EAAKJ,IAAexZ,KAAK4R,IAAIhV,EAAS4D,IAAMuY,GAAQW,EAAa5c,EAAS/H,IAAiBiL,KAAK4R,IAAIlV,EAAM8D,IAAMuY,KAAUW,GAE9H,IAAKpB,GAAYe,GACf,IAAK,IAAI7jB,EAAI,EAAGA,GAAK6jB,EAAW7jB,IACzB8iB,GAAY9iB,KACf8iB,GAAY9iB,GAAK,IAKnB8iB,GAAYe,GAAWM,IAAMA,GAAMrB,GAAYe,GAAWO,IAAMA,GAAMtB,GAAYe,GAAWlrB,KAAOA,IACtGmqB,GAAYe,GAAWlrB,GAAKA,EAC5BmqB,GAAYe,GAAWM,GAAKA,EAC5BrB,GAAYe,GAAWO,GAAKA,EAC5BpD,cAAc8B,GAAYe,GAAWX,KAE3B,GAANiB,GAAiB,GAANC,IACbT,GAAqB,EAGrBb,GAAYe,GAAWX,IAAMnF,YAAY,WAEnCqF,GAA6B,IAAf9rB,KAAK+sB,OACrBzb,GAASqF,OAAOqO,aAAasG,IAI/B,IAAI0B,EAAgBxB,GAAYxrB,KAAK+sB,OAAOD,GAAKtB,GAAYxrB,KAAK+sB,OAAOD,GAAKX,EAAQ,EAClFc,EAAgBzB,GAAYxrB,KAAK+sB,OAAOF,GAAKrB,GAAYxrB,KAAK+sB,OAAOF,GAAKV,EAAQ,EAExD,mBAAnBH,GACoI,aAAzIA,EAAezkB,KAAK+J,GAASE,QAAQ9D,WAAWqG,GAAUkZ,EAAeD,EAAejY,EAAKuW,GAAYE,GAAYxrB,KAAK+sB,OAAO1rB,KAKvImS,EAASgY,GAAYxrB,KAAK+sB,OAAO1rB,GAAI4rB,EAAeD,IACpDlX,KAAK,CACLiX,MAAOR,IACL,MAIRA,UACO1nB,EAAQqoB,cAAgBV,IAAkBpa,IAAgBoa,EAAgB3b,EAA2B2b,GAAe,KAE7Hf,GAAYY,KACX,IAECc,GAAO,SAAcvX,GACvB,IAAIC,EAAgBD,EAAKC,cACrBY,EAAcb,EAAKa,YACnBV,EAASH,EAAKG,OACdW,EAAiBd,EAAKc,eACtBY,EAAwB1B,EAAK0B,sBAC7BN,EAAqBpB,EAAKoB,mBAC1BE,EAAuBtB,EAAKsB,qBAChC,GAAKrB,EAAL,CACA,IAAIuX,EAAa3W,GAAeC,EAChCM,IACA,IAAIoM,EAAQvN,EAAcwX,gBAAkBxX,EAAcwX,eAAe3oB,OAASmR,EAAcwX,eAAe,GAAKxX,EAChH5T,EAASP,SAASkkB,iBAAiBxC,EAAMzG,QAASyG,EAAMxG,SAC5D1F,IAEIkW,IAAeA,EAAW/rB,GAAGa,SAASD,KACxCqV,EAAsB,SACtBtX,KAAKstB,QAAQ,CACXvX,OAAQA,EACRU,YAAaA,OAKnB,SAAS8W,MAsCT,SAASC,MApCTD,GAAOlmB,UAAY,CACjBomB,WAAY,KACZC,UAAW,SAAmBC,GAC5B,IAAI9W,EAAoB8W,EAAM9W,kBAC9B7W,KAAKytB,WAAa5W,GAEpByW,QAAS,SAAiBM,GACxB,IAAI7X,EAAS6X,EAAM7X,OACfU,EAAcmX,EAAMnX,YACxBzW,KAAK8U,SAAS8K,wBAEVnJ,GACFA,EAAYmJ,wBAGd,IAAIyE,EAAcrT,EAAShR,KAAK8U,SAASzT,GAAIrB,KAAKytB,WAAYztB,KAAK6E,SAE/Dwf,EACFrkB,KAAK8U,SAASzT,GAAGklB,aAAaxQ,EAAQsO,GAEtCrkB,KAAK8U,SAASzT,GAAGgE,YAAY0Q,GAG/B/V,KAAK8U,SAASyL,aAEV9J,GACFA,EAAY8J,cAGhB4M,KAAMA,IAGR1hB,EAAS8hB,GAAQ,CACf7Y,WAAY,kBAKd8Y,GAAOnmB,UAAY,CACjBimB,QAAS,SAAiBO,GACxB,IAAI9X,EAAS8X,EAAM9X,OAEf+X,EADcD,EAAMpX,aACYzW,KAAK8U,SACzCgZ,EAAelO,wBACf7J,EAAOrI,YAAcqI,EAAOrI,WAAWic,YAAY5T,GACnD+X,EAAevN,cAEjB4M,KAAMA,IAGR1hB,EAAS+hB,GAAQ,CACf9Y,WAAY,kBA4sBdpD,GAASgD,MAAM,IAt/Bf,WACE,SAASyZ,IASP,IAAK,IAAIpuB,KARTK,KAAKmU,SAAW,CACd4X,QAAQ,EACRiC,yBAAyB,EACzB9B,kBAAmB,GACnBE,YAAa,GACbc,cAAc,GAGDltB,KACQ,MAAjBL,EAAGmY,OAAO,IAAkC,mBAAb9X,KAAKL,KACtCK,KAAKL,GAAMK,KAAKL,GAAImW,KAAK9V,OA4F/B,OAvFA+tB,EAAW1mB,UAAY,CACrBkP,YAAa,SAAqBX,GAChC,IAAIC,EAAgBD,EAAKC,cAErB7V,KAAK8U,SAAS4K,gBAChBja,EAAG/D,SAAU,WAAY1B,KAAKiuB,mBAE1BjuB,KAAK6E,QAAQ4a,eACfha,EAAG/D,SAAU,cAAe1B,KAAKkuB,2BACxBrY,EAAc4G,QACvBhX,EAAG/D,SAAU,YAAa1B,KAAKkuB,2BAE/BzoB,EAAG/D,SAAU,YAAa1B,KAAKkuB,4BAIrCC,kBAAmB,SAA2BR,GAC5C,IAAI9X,EAAgB8X,EAAM9X,cAGrB7V,KAAK6E,QAAQupB,gBAAmBvY,EAAcK,QACjDlW,KAAKiuB,kBAAkBpY,IAG3BsX,KAAM,WACAntB,KAAK8U,SAAS4K,gBAChB1S,EAAItL,SAAU,WAAY1B,KAAKiuB,oBAE/BjhB,EAAItL,SAAU,cAAe1B,KAAKkuB,2BAClClhB,EAAItL,SAAU,YAAa1B,KAAKkuB,2BAChClhB,EAAItL,SAAU,YAAa1B,KAAKkuB,4BAGlCrC,KACAH,KAxpEJxrB,aAAa2N,GACbA,OAAmB,GA0pEjBwgB,QAAS,WACP/C,GAAaH,GAAeD,GAAWO,GAAYF,GAA6BH,GAAkBC,GAAkB,KACpHG,GAAY9mB,OAAS,GAEvBwpB,0BAA2B,SAAmCnZ,GAC5D/U,KAAKiuB,kBAAkBlZ,GAAK,IAE9BkZ,kBAAmB,SAA2BlZ,EAAKyQ,GACjD,IAAIjS,EAAQvT,KAERyT,GAAKsB,EAAI0H,QAAU1H,EAAI0H,QAAQ,GAAK1H,GAAK4H,QACzCjJ,GAAKqB,EAAI0H,QAAU1H,EAAI0H,QAAQ,GAAK1H,GAAK6H,QACzC/W,EAAOnE,SAASkkB,iBAAiBnS,EAAGC,GAMxC,GALA4X,GAAavW,EAKTyQ,GAAYxlB,KAAK6E,QAAQmpB,yBAA2BxhB,GAAQD,GAAcG,EAAQ,CACpFif,GAAW5W,EAAK/U,KAAK6E,QAASgB,EAAM2f,GAEpC,IAAI8I,EAAiBzd,EAA2BhL,GAAM,IAElD4lB,IAAeF,IAA8B9X,IAAM2X,IAAmB1X,IAAM2X,KAC9EE,IAA8BM,KAE9BN,GAA6B9E,aAAY,WACvC,IAAI8H,EAAU1d,EAA2BnP,SAASkkB,iBAAiBnS,EAAGC,IAAI,GAEtE6a,IAAYD,IACdA,EAAiBC,EACjB7C,MAGFC,GAAW5W,EAAKxB,EAAM1O,QAAS0pB,EAAS/I,KACvC,IACH4F,GAAkB3X,EAClB4X,GAAkB3X,OAEf,CAEL,IAAK1T,KAAK6E,QAAQqoB,cAAgBrc,EAA2BhL,GAAM,KAAUqJ,IAE3E,YADAwc,KAIFC,GAAW5W,EAAK/U,KAAK6E,QAASgM,EAA2BhL,GAAM,IAAQ,MAItE4F,EAASsiB,EAAY,CAC1BrZ,WAAY,SACZN,qBAAqB,MA64BzB9C,GAASgD,MAAMkZ,GAAQD,IAEvB,UCnsHe,SAASzY,GAAS0Z,EAAmBC,EAAYplB,GAE9D,IAAIoG,GAAYlP,EAAAA,EAAAA,GAAEiuB,GAAmB,GACjC/e,GAEa6B,GAAAA,OAAgB7B,EAAW,CACxC8O,UAAW,IACXmQ,MAAO,SAAU3Z,GACf,IAAI4Z,EAAO5Z,EAAI6B,SACXgY,EAAO7Z,EAAI+B,UAOfxU,eAAoBwH,GAClB,IAAI+kB,GAAMtuB,EAAAA,EAAAA,GAAEkuB,GACR1kB,EAAe,GAAGtB,IAAIlB,KAAKsnB,GAAK,SAAUxtB,EAAIqH,GAC9C,GAAIA,EAAI,EAAIoB,EAAmB,OAAOzI,KAItC4I,EAAWF,EAAatB,KAAKpH,GACxBA,EAAGkH,WAEIhG,EAAAA,EAAAA,IAAM,YAAW8G,SAAc,CAACY,aAChDF,EAAatB,KAAI,CAACpH,EAAIqH,MACpBnI,EAAAA,EAAAA,GAAEc,GAAIuG,KAAK,SAAStG,UAAYoH,EAAI,KAjBtCS,CADEwlB,EAAOC,EACJD,EAEAC,MCdA,MAAME,GAEnBxjB,cACEtL,KAAKqJ,MAAQ,WAGH,eACV,IAAIuU,EAAOkR,GAAMC,cACjBnR,EAAKrV,GAAK,EACVqV,EAAKoR,OAAS,EAEd,IAAIxsB,EAAO,IAAGxC,KAAKqJ,uBACf1F,QAAYpB,EAAAA,EAAAA,IAAKC,EAAKob,GACtBja,IACFyI,OAAO6iB,SAASpM,KAAQ,YAAWxZ,cAAc1F,EAAI4E,MAIzDA,KACE,OAAOA,KAAMhI,EAAAA,EAAAA,GAAE,cAAc,GAAGuI,QAAQomB,OAG1C9d,WAEE,OADqB7Q,EAAAA,EAAAA,GAAE,aAAamE,SAG7B,EAGQ,oBACf,IAAIyqB,EAAYL,GAAMC,cACtBI,EAAU5mB,GAAK,EACf4mB,EAAUH,OAAS,EACnB,IAAIxsB,EAAO,YAAW6G,eAClB1F,QAAYpB,EAAAA,EAAAA,IAAKC,EAAK2sB,GACtBxrB,IACFyI,OAAO6iB,SAASpM,KAAQ,YAAWxZ,cAAc1F,EAAI4E,GAAK,KAI9DyF,OACE,OAAOzN,EAAAA,EAAAA,GAAE,cAAc,GAAGe,UAGhB,eACV,IAAI+H,EAAQylB,GAAMC,cACdvsB,EAAO,YAAW6G,YAAgBA,EAAMd,WAC5BhG,EAAAA,EAAAA,IAAKC,EAAK6G,KAExB+C,OAAO6iB,SAASpM,KAAQ,YAAWxZ,UAAcA,EAAMd,MAIlD,YACP,GAAIumB,GAAM1d,WAER,OADApQ,EAAAA,GAAAA,KAAW,uCACJ,EAGT,IAAIuH,EAAKumB,GAAMvmB,YACChG,EAAAA,EAAAA,IAAK,2BAA4B,CAACgG,QAC1C6mB,UACNpuB,EAAAA,GAAAA,KAAW,qEACXb,YAAW,KACTiM,OAAO6iB,SAAY,YAAW5lB,mBAC7B,MAEH+C,OAAO6iB,SAAY,YAAW5lB,kBCnE7B,IAAIgmB,GAAU,CAEnB/sB,aAAawhB,GAEX,IAAIra,EAAWqa,EAAO3hB,QAAQ,kBAC1BmtB,EAAkB7lB,EAASlB,GAC3BY,EAAOM,EAASjE,iBAAiB,WAAWd,OAAS,EACrDf,QAAYpB,EAAAA,EAAAA,IAAK,qCACnB,CAAC+sB,kBAAiBnmB,SAEpB,GADSxF,EAAII,IAAIwE,GACT,CACN,IAAIgnB,EAAO5rB,EAAII,IAAIwrB,KACnBzL,EAAO0L,mBAAmB,cAAeD,QAEzCvuB,EAAAA,GAAAA,KAAW,cAIfsB,UAAUL,GACR,IAAIwtB,EAAaxtB,EAAOE,QAAQ,WAChC,IAAKstB,EAAY,OAAO,EACxB,GAAI7mB,QAAQ,uBAAwB,CAClC,IAAIiB,EAAS4lB,EAAWttB,QAAQ,WAC5BoG,GAAMsB,EAAOf,QAAP,eACMvG,EAAAA,EAAAA,IAAK,6BAA8B,CAACgG,QAGlDsB,EAAOhI,YC1BA,MAAM6tB,GAEnBpkB,YAAYjK,GAEV,QAAKA,IACDA,EAAGsuB,WAEP3vB,KAAK4vB,MAAQvuB,EAAGuuB,OAAS,GACzB5vB,KAAK6vB,MAAQxuB,EAAGyH,QAAH,MACb9I,KAAK6E,SA6IoBA,EA7IUxD,EAAGmE,iBAAiB,UA8IlD,IAAIX,GAAS4D,KAAI+L,IACf,CACL5P,MAAO4P,EAAO5P,MACdkrB,MAAOtb,EAAOsb,MACdC,SAAUvb,EAAOub,SACjBlF,QAASrW,OAjJXxU,KAAKgwB,IAAMtuB,SAASW,cAAc,OAC9BhB,EAAGhB,WAAWL,KAAKgwB,IAAIpuB,UAAUE,IAAIT,EAAGhB,WAE5CL,KAAK8vB,MAAQpuB,SAASW,cAAc,QACpCrC,KAAKiwB,MAAQvuB,SAASW,cAAc,OACpCrC,KAAKkwB,MAAQxuB,SAASW,cAAc,OAEpCrC,KAAK2H,GAAKjG,SAASW,cAAc,MAsCrC,SAAe8tB,GAmDb,IAAIC,EAjDAD,EAAOP,QACTO,EAAOE,aAAe3uB,SAASW,cAAc,OAC7C8tB,EAAOE,aAAazuB,UAAUE,IAAI,SAClCquB,EAAOE,aAAa/uB,UAAY6uB,EAAOP,MACvCO,EAAOH,IAAIxuB,OAAO2uB,EAAOE,eAG3BF,EAAOH,IAAIvrB,aAAa,gBAAgB,IACrC0rB,EAAON,QAAMM,EAAOH,IAAIlnB,QAAX,MAA8BqnB,EAAON,OACrDM,EAAOH,IAAIlnB,QAAX,GAA2BqnB,EAAOG,eAAe1rB,MACjDurB,EAAOH,IAAIlnB,QAAX,MAA8BqnB,EAAOG,eAAe1rB,MACpDurB,EAAOH,IAAIO,SAAW,EAEtBJ,EAAOH,IAAIxuB,OAAO2uB,EAAOL,OAEzBK,EAAOD,MAAMtuB,UAAUE,IAAI,SAC3BquB,EAAOD,MAAM5uB,UAAY6uB,EAAOG,eAAeR,MAC/CK,EAAOL,MAAMtuB,OAAO2uB,EAAOD,OAE3BC,EAAOF,MAAMruB,UAAUE,IAAI,SAC3BquB,EAAOL,MAAMtuB,OAAO2uB,EAAOF,OAE3BE,EAAOxoB,GAAG/F,UAAUE,IAAI,WACxBquB,EAAOtrB,QAAQI,SAAQuP,KAIvB,SAAmBA,GACjB,MAAM9M,EAAKhG,SAASW,cAAc,MAClCqF,EAAGpG,UAAYkT,EAAOsb,MACtBpoB,EAAGoB,QAAQlE,MAAQ4P,EAAO5P,MAC1B8C,EAAG9F,UAAUsG,OAAO,WAAYsM,EAAOub,UACvCroB,EAAGjG,iBAAiB,SAAS,KAC3B0uB,EAAOK,YAAYhc,EAAO5P,OAC1BurB,EAAOxoB,GAAG/F,UAAUC,OAAO,WAE7BsuB,EAAOxoB,GAAGnG,OAAOkG,GAZjB+oB,CAAUjc,MAeZ2b,EAAOH,IAAIxuB,OAAO2uB,EAAOxoB,IAEzBwoB,EAAOL,MAAMruB,iBAAiB,SAAS,KACrC0uB,EAAOxoB,GAAG/F,UAAUsG,OAAO,WAG7BioB,EAAOH,IAAIvuB,iBAAiB,QAAQ,KAClC0uB,EAAOxoB,GAAG/F,UAAUC,OAAO,WAI7B,IAAI6uB,EAAa,GACjBP,EAAOH,IAAIvuB,iBAAiB,WAAWO,IACrC,OAAQA,EAAE2uB,MACR,IAAK,QACHR,EAAOxoB,GAAG/F,UAAUsG,OAAO,QAC3B,MACF,IAAK,UAAW,CACd,MAAM0oB,EAAaT,EAAOtrB,QAAQsrB,EAAOU,oBAAsB,GAC3DD,GACFT,EAAOK,YAAYI,EAAWhsB,OAEhC,MAEF,IAAK,YAAa,CAChB,MAAMksB,EAAaX,EAAOtrB,QAAQsrB,EAAOU,oBAAsB,GAC3DC,GACFX,EAAOK,YAAYM,EAAWlsB,OAEhC,MAEF,IAAK,QACL,IAAK,SACHurB,EAAOxoB,GAAG/F,UAAUC,OAAO,QAC3B,MACF,QAAS,CACP3B,aAAakwB,GACbM,GAAc1uB,EAAE6E,IAChBupB,EAAkBjwB,YAAW,KAC3BuwB,EAAa,KACZ,KAEH,MAAMK,EAAiBZ,EAAOtrB,QAAQ+C,MAAK4M,GAClCA,EAAOsb,MAAM5lB,cAAc8mB,WAAWN,KAE3CK,GACFZ,EAAOK,YAAYO,EAAensB,YA5HxCqsB,CAAMjxB,MACNqB,EAAG6nB,MAAMlpB,KAAKgwB,UAEd3uB,EAAGQ,UAgIP,IAA6BgD,EA7HvByrB,qBACF,OAAOtwB,KAAK6E,QAAQ+C,MAAK4M,GAAUA,EAAOub,WAGxCc,0BACF,OAAO7wB,KAAK6E,QAAQiH,QAAQ9L,KAAKswB,gBAGnCE,YAAY5rB,GACV,MAAMssB,EAAOlxB,KAAK6E,QAAQ+C,MAAK4M,GACtBA,EAAO5P,QAAUA,IAEpBusB,EAAOnxB,KAAKswB,eAClBa,EAAKpB,UAAW,EAEhBmB,EAAKnB,UAAW,EAEhB/vB,KAAKkwB,MAAM5uB,UAAY4vB,EAAKpB,MAC5B9vB,KAAK8vB,MAAM3tB,QAAQ,mBAAmB2G,QAAtC,GAAsDooB,EAAKtsB,MAC3D5E,KAAK8vB,MAAM3tB,QAAQ,mBAAmB2G,QAAtC,MAAyDooB,EAAKtsB,MAC9D5E,KAAK2H,GACF7E,cAAe,gBAAequB,EAAKvsB,WACnChD,UAAUC,OAAO,YACpB,MAAMuvB,EAAmBpxB,KAAK2H,GAAG7E,cAC9B,gBAAeouB,EAAKtsB,WAEvBwsB,EAAiBxvB,UAAUE,IAAI,YAC/BsvB,EAAiBC,eAAe,CAACC,MAAO,aCpC5C,IAAIC,IAAehxB,EAAAA,EAAAA,GAAE,0BAA0B,GAC/C,GAAIgxB,GAAc,CAEhBzc,GAAS,oCACP,wCACA,gBAEW,IAAI4a,IAAUnvB,EAAAA,EAAAA,GAAE,yBAAyB,IACzC,IAAImvB,IAAUnvB,EAAAA,EAAAA,GAAE,8BAA8B,KAE3DA,EAAAA,EAAAA,GAAEgxB,IAAc9rB,GAAG,UA2DrBnD,eAAA,GAAsC,IAAV,OAACL,GAAS,EAChC4H,EAAS5H,EAAOE,QAAQ,WAExB0H,GACF2nB,GAAW3nB,OA7DbtJ,EAAAA,EAAAA,GAAEgxB,IAAc9rB,GAAG,SAAS,IAAc,IAAb,OAACxD,GAAY,EACtC,MAAM2b,EAAO,IAAIkR,GAEb7sB,EAAOL,UAAUM,SAAS,qBAC5B0b,EAAK6T,cACIxvB,EAAOL,UAAUM,SAAS,gBACnC0b,EAAKoN,SACM/oB,EAAOE,QAAQ,2BAC1B6G,EAAcqB,YAAYpI,GACfA,EAAOE,QAAQ,qBAC1B6G,EAAc0oB,IAAIzvB,GACTA,EAAOL,UAAUM,SAAS,2BACnC8G,EAAcgiB,OAAO/oB,GACVA,EAAOE,QAAQ,WAC1BktB,GAAQqC,IAAIzvB,GACHA,EAAOL,UAAUM,SAAS,yBACnCmtB,GAAQrE,OAAO/oB,GACJA,EAAOE,QAAQ,iCAC1B6G,EAAc2oB,aAAa1vB,GAClBA,EAAOL,UAAUM,SAAS,QACnCD,EAAOL,UAAUsG,OAAO,eAK9B,IAAI0pB,EAActvB,eAAgB,GAAU,IAAV,OAACL,GAAS,EAE1C,GAAIA,EAAOL,UAAUM,SAAS,QAAS,CACrC,IAAI2H,EAAS5H,EAAOE,QAAQ,WACxB0vB,EAAQ5vB,EAAOE,QAAQ,kBAC3B,GAAI0H,EACF2nB,GAAW3nB,QACN,GAAIgoB,EAAO,CAChB,IAAItpB,EAAKspB,EAAMtpB,GACXkB,EAAWxH,EAAOX,gBACNiB,EAAAA,EAAAA,IAAK,uCACnB,CAACgG,KAAIkB,gBAKTqoB,GAAiBpyB,EAAAA,EAAAA,IAASkyB,IAC9BrxB,EAAAA,EAAAA,GAAEgxB,IAAc9rB,GAAG,QAASqsB,GAK9BxvB,eAAekvB,GAAWO,GACxB,IAAIxpB,EAAKwpB,EAASjpB,QAAQkpB,SACtBC,GAAcF,EAASjvB,cAAc,SAASgC,QAC9CwqB,EAAkByC,EAAS5vB,QAAQ,kBAAkBoG,GACrDsB,EAASkoB,EAASjvB,cAAc,SAASxB,gBAC7BiB,EAAAA,EAAAA,IAAK,qCACnB,CAACgG,KAAIsB,SAAQylB,kBAAiB2C,eC5B3B,IAAI5C,GAAU,IAtDrB,MACE/jB,eAGgB,iBAACrJ,GACf,IAAIiwB,EAAOjwB,EAAOE,QAAQ,kBAAkB2G,QAAQP,GAChDlH,EAAKY,EAAOE,QAAQ,WACpB0H,EAAS7J,KAAKmyB,eAAe9wB,EAAI6wB,SACrB3vB,EAAAA,EAAAA,IAAK,iCAAkCsH,GAGhD,UAAC5H,GACR,IAAIZ,EAAKY,EAAOE,QAAQ,WAEpBoG,GAAMtG,EAAO6G,QAAQP,GACrBK,QAAQ,mBACMrG,EAAAA,EAAAA,IAAM,yBAAyB,CAACgG,QAE9ClH,EAAGQ,SAKS,mBAACI,GACjB,IAAI4H,GAAStJ,EAAAA,EAAAA,GAAE,2BAA2B,GACtCkJ,EAAWxH,EAAOE,QAAQ,kBAC1B+vB,GAAQzoB,EAASlB,GACjBe,EAAQO,EAAOF,WAAU,GACzByoB,EAAcpyB,KAAKmyB,eAAe7oB,EAAO4oB,GACzCvuB,QAAYpB,EAAAA,EAAAA,IAAM,iCAAiC6vB,GACvD,GAAIzuB,IACEA,EAAII,IAAI/C,OAAOA,EAAAA,GAAAA,KAAW2C,EAAII,IAAI/C,OAClC2C,EAAII,IAAIwE,IAAK,CACf,IAAIY,EAAOM,EAASjE,iBAAiB,WAAWd,OAAS,EACzD4E,EAAMxG,cAAc,SAASxB,UAAY6H,EACzCG,EAAMxG,cAAc,WAAWgG,QAAQP,GACrCe,EAAMR,QAAQP,GAAK5E,EAAII,IAAIwE,GAC7BtG,EAAOuH,OAAOF,IAMpB6oB,eAAe9wB,EAAI6wB,GACjB,MAAO,CACL3pB,IAAKlH,EAAGyH,QAAQP,GAChBsB,QAAQvJ,EAAAA,EAAAA,KAAQC,EAAAA,EAAAA,GAAEc,GAAIuG,KAAK,SAAStG,WACpC+wB,YAAaH,EACbI,iBAAiB/xB,EAAAA,EAAAA,GAAEc,GAAIuG,KAAK,SAAS9C,QACrCytB,KAAM,MCoCDC,GAAY,IApFvB,MAEElnB,YAAYjK,GACVrB,KAAKmJ,KAAOzH,SAAS8D,iBAAiB,6BAA6Bd,OAAO,GAAM,EAG9D,qBAACzC,GACnB,IACIqH,GADW/I,EAAAA,EAAAA,GAAE,oCAAoC,GAChCoJ,WAAU,GAC3B8oB,EAAgBzyB,KAAK0yB,iBAAiBppB,GACtC3F,QAAYpB,EAAAA,EAAAA,IAAM,mCAAmCkwB,GACrD9uB,IACF2F,EAAMxG,cAAc,SAASxB,UAAYtB,KAAKmJ,KAC9CG,EAAMxG,cAAc,qBAAqBgG,QAAQP,GAC/Ce,EAAMR,QAAQP,GAAK5E,EAAII,IAAIwE,GAC7BtG,EAAOuH,OAAOF,IAIlBopB,iBAAiBrxB,GACf,MAAO,CACLkH,GAAIlH,EAAGyH,QAAQP,GACfoqB,SAASryB,EAAAA,EAAAA,IAAQe,EAAGyB,cAAc,SAASxB,WAC3CwG,QAASsE,OAAO6iB,SAASpM,KAAKvH,MAAM,KAAKsX,MACzCzpB,KAAM9H,EAAGyB,cAAc,SAASxB,WAIlB,mBAACW,GAEjB,IAAI4wB,EAAM5wB,EAAO4C,QAAQ5C,EAAO6wB,eAC5BvqB,EAAKtG,EAAOE,QAAQ,kBAAkBoG,GACtC4B,EAAU0oB,EAAI/pB,QAAJ,iBACE+pB,EAAIjuB,YACJrC,EAAAA,EAAAA,IAAK,iCAAkC,CAACgG,KAAI4B,YAC7ClI,EAAOE,QAAQ,kBACrBN,SAGXwI,YAAYpI,GACV,IAAI8G,EAAM9G,EAAOE,QAAQ,kBACrBmI,GAAU/J,EAAAA,EAAAA,GAAEwI,GAAKnB,KAAK,sBAC1B0C,EAAQ1I,UAAUsG,OAAO,UACzBoC,EAAQ1I,UAAUsG,OAAO,SACzBjG,EAAOL,UAAUsG,OAAO,UAGjB,UAACjG,GACR,IAAIoH,EAAQpH,EAAO6G,QAAQO,MACvBhI,EAAK,KACK,WAAVgI,EACFhI,EAAKY,EAAOE,QAAQ,WACD,aAAVkH,IACThI,EAAKY,EAAOE,QAAQ,mBAEtB,IAAIoG,GAAMtG,EAAO6G,QAAQP,GACrBK,QAAQ,mBACMrG,EAAAA,EAAAA,IAAM,YAAW8G,WAAgB,CAACd,QAEhDlH,EAAGQ,SAKS,mBAACI,GACjB,IAAIZ,EAAKY,EAAOE,QAAQ,kBACpBsH,EAAW+oB,GAAUE,iBAAiBrxB,SAC1BkB,EAAAA,EAAAA,IAAK,mCAAoCkH,KCpEtD,MAAMqlB,GAAQ,CAGnBiE,UAAW,KACF,CACLxqB,IAAK6D,OAAO6iB,SAASpM,KAAKvH,MAAM,KAAKsX,MACrC5kB,MAAMzN,EAAAA,EAAAA,GAAE,cAAcyyB,OACtBC,QAAQ1yB,EAAAA,EAAAA,GAAE,WAAW,GACrBuH,QAAQvH,EAAAA,EAAAA,GAAE,UAAU2yB,uBAIxB9hB,SAAU,KACa7Q,EAAAA,EAAAA,GAAE,aAAamE,SAG7B,EAGT+sB,YAAanvB,UACX,IAAI6sB,EAAYL,GAAMC,cACtBI,EAAU5mB,GAAK,EACf4mB,EAAUH,OAAS,EACnB,IACIrrB,QAAYpB,EAAAA,EAAAA,IADL,+BACe4sB,GACtBxrB,IACFyI,OAAO6iB,SAASpM,KAAQ,sBAAqBlf,EAAII,IAAIwE,OAIzDA,GAAKA,GACIA,IAAMhI,EAAAA,EAAAA,GAAE,cAAc,GAAGuI,QAAQomB,OAE1ClhB,KAAM,KACGzN,EAAAA,EAAAA,GAAE,cAAc,GAAGe,UAG5B0pB,OAAQ1oB,UACN,IAAIsb,EAAOkR,GAAMC,cACjBnR,EAAKrV,GAAK,EACVqV,EAAKoR,OAAS,EACd,IACIrrB,QAAYpB,EAAAA,EAAAA,IADL,uBACeqb,GAEtBja,IACFyI,OAAO6iB,SAASpM,KAAQ,sBAAqBlf,EAAII,IAAIwE,OAKzDwmB,YAAa,KACX,IAAIxmB,KAAQ6D,OAAO6iB,SAASpM,KAAKvH,MAAM,KAAKsX,MAC5CrqB,EAAKA,GAAU,EACf,IAAIc,EAAQ,CACVd,KACAyF,MAAMzN,EAAAA,EAAAA,GAAE,eAAe,GAAGqE,MAC1BoqB,SAASzuB,EAAAA,EAAAA,GAAE,YAAY,GAAGwC,aAAa,WAGrCowB,GAAS5yB,EAAAA,EAAAA,GAAE,mBAIf,MAHA,GAAG0E,QAAQsC,KAAK4rB,GAAQ,SAAUtD,GAChCxmB,EAAMwmB,EAAM/mB,QAAN,OAA0B+mB,EAAM/mB,QAAN,MAE3BO,GAGT+pB,OAAQ9wB,UACN,IAAI+G,EAAQylB,GAAMC,cACdvsB,EAAO,wBAAuB6G,EAAMd,WACxBhG,EAAAA,EAAAA,IAAKC,EAAK6G,KAExB+C,OAAO6iB,SAASpM,KAAQ,sBAAqBxZ,EAAMd,OAIvDI,OAAQrG,iBAEN,GAAIwsB,GAAM1d,WAER,OADApQ,EAAAA,GAAAA,KAAW,uCACJ,EAGT,IAAIuH,EAAKumB,GAAMvmB,YACChG,EAAAA,EAAAA,IAAK,uBAAwB,CAACgG,QACtC6mB,UACNpuB,EAAAA,GAAAA,KAAW,qEACXb,YAAW,KACTiM,OAAO6iB,SAAW,2BACjB,MAEH7iB,OAAO6iB,SAAW,2BC5DxB,SAASoE,GAAT,GAA+B,IAAV,OAACpxB,GAAS,EAEzBA,EAAOL,UAAUM,SAAS,sBAEnBD,EAAOL,UAAUM,SAAS,iBAE1BD,EAAOL,UAAUM,SAAS,cAHnC4sB,GAAAA,SAKS7sB,EAAOL,UAAUM,SAAS,gBACnC4sB,GAAAA,SACS7sB,EAAOL,UAAUM,SAAS,qBACnC4sB,GAAAA,cACS7sB,EAAOL,UAAUM,SAAS,gBACnC4sB,GAAAA,SACW7sB,EAAOE,QAAQ,2BAC1BqwB,GAAUnoB,YAAYpI,GACbA,EAAOL,UAAUM,SAAS,2BACnCswB,GAAUc,eAAerxB,GACdA,EAAOE,QAAQ,qBAC1BqwB,GAAUd,IAAIzvB,GACHA,EAAOE,QAAQ,WAC1BktB,GAAAA,IAAYptB,GACHA,EAAOL,UAAUM,SAAS,yBACnCmtB,GAAAA,aAAqBptB,GACZA,EAAOL,UAAUM,SAAS,YACnCmtB,GAAAA,WAAmBptB,GAIvB,IAAIsxB,IAAuB7zB,EAAAA,EAAAA,KAE3B4C,eAAA,GAAqC,IAAV,OAACL,GAAS,EAC/BA,EAAOL,UAAUM,SAAS,UACfD,EAAOE,QAAQ,WAE1BktB,GAAAA,WAAmBptB,GAEnBuwB,GAAUgB,aAAavxB,OAK7BK,eAAemxB,GAAf,GAAsC,IAAV,OAACxxB,GAAS,EAC9BA,EAAOE,QAAQ,kCACnBqwB,GAAUb,aAAa1vB,GCvE3B,IAAIyxB,IAASnzB,EAAAA,EAAAA,GAAE,YAAY,GACvBmzB,MAgJFnzB,EAAAA,EAAAA,GAAE,aAAa0D,YAAY,SAC3B1D,EAAAA,EAAAA,GAAE,yBAAyB4D,SAAS,QAXtC,WACE,IAAI2f,GAASvjB,EAAAA,EAAAA,GAAE,wBAAwB,GACnCujB,GACE1X,OAAO6iB,SAAS0E,SAASrnB,MAAM,qBACjCwX,EAAOliB,UAAUE,IAAI,YAxIzB8xB,GACAF,GAAOjyB,iBAAiB,SAG1B,YAA+B,IAAV,OAACQ,GAAS,EAC7B,GAAIA,EAAOL,UAAUM,SAAS,kBAAmB,OACjD,IAAI2xB,GAAYtzB,EAAAA,EAAAA,GAAE,kBAAkB,IAAM,GACtCgI,IAAMsrB,aAAD,EAACA,EAAW/qB,QAAQP,KAAM,GAC/BurB,GAAOvzB,EAAAA,EAAAA,GAAE,sBAAwB,GACjCwzB,EAAWD,EAAKE,WAAU3yB,GAAMA,EAAGO,UAAUM,SAAS,aAAc,GA4BxE,SAAS+xB,EAAQC,EAAWC,IACV5zB,EAAAA,EAAAA,GAAG,qBAAoB2zB,OAAe,GAC5CtyB,UAAUsG,OAAO,WAEf3H,EAAAA,EAAAA,GAAG,qBAAoB4zB,OAAc,GAC3CvyB,UAAUsG,OAAO,UAGzB,SAASksB,EAAMC,GACbR,EAAUjyB,UAAUsG,OAAO,SACT3H,EAAAA,EAAAA,GAAG,sBAAqB8zB,OAAW,GACzCzyB,UAAUsG,OAAO,QArCX,aAAhBjG,EAAOkhB,KACIlhB,EAAOqyB,OAAO,GACpB1yB,UAAUsG,OAAO,UACD,SAAdjG,EAAOsG,GAQlB,WACE,GAAIwrB,EAAW,EAAG,OAAO,EACzB,IAAIM,GAASP,EAAKC,EAAW,GAAGjrB,QAAQyrB,WACxCN,EAAQ1rB,EAAI8rB,GACZD,EAAMC,GAXNG,GACuB,SAAdvyB,EAAOsG,GAalB,WACE,GAAIwrB,IAAaD,EAAKpvB,OAAS,EAAG,OAAO,EACzC,IAAI2vB,GAASP,EAAKC,EAAW,GAAGjrB,QAAQyrB,WAExCN,EAAQ1rB,EAAI8rB,GACZD,EAAMC,GAjBNI,GACSxyB,EAAOL,UAAUM,SAAS,wBAkCvCI,eAA0BL,GAExB,GAAyB,uBAArBA,EAAOX,UAET,YADA2tB,SAASyF,SAGXzyB,EAAOX,UAAY,qBACnBW,EAAOL,UAAUE,IAAI,YA0BvB,SAAmB6yB,GACjB,IAAI3qB,GAAYzJ,EAAAA,EAAAA,GAAE,aAClB,GAAGkI,IAAIlB,KAAKyC,GAAYP,IACtB,IAAImrB,EAeR,SAAwBnrB,EAAUkrB,GAChC,IAAIrqB,EAAUb,EAASjE,iBAAiB,MACpCovB,EAAS,GAOb,MANA,GAAGnsB,IAAIlB,KAAK+C,GAAUT,IACpB,IAAIgrB,GAAQt0B,EAAAA,EAAAA,GAAEsJ,GAAQjC,KAAK,SAEvBxD,EAMR,SAA6BmE,EAAIosB,EAAgBE,EAAOhrB,GACtD,IAAIirB,GAA+C,IAAhCH,EAAe7oB,QAAQvD,GACtCzD,EAAU+vB,EAAM/vB,QAChBV,GAAQ,EAWZ,OATIU,GAAWgwB,EACbjrB,EAAOjI,UAAUE,IAAI,QACZgD,IAAYgwB,EACrB1wB,GAAQ,GACEU,GAAWgwB,IACrBjrB,EAAOjI,UAAUE,IAAI,QACrBsC,GAAO,GAGFA,EApBO2wB,CADHlrB,EAAOf,QAAQP,GACYosB,EAAgBE,EAAOhrB,GACvDzF,GAAMwwB,EAAOxvB,MAAK,MAEjBwvB,EAxBQI,CAAevrB,EAAUkrB,IAK1C,SAAwBlrB,EAAUmrB,GAChC,IAAIrsB,EAAKkB,EAASX,QAAT,GACLmsB,GAAY10B,EAAAA,EAAAA,GAAG,kCAAiCgI,OAAQ,GACxDqsB,EAAOlwB,QACTnE,EAAAA,EAAAA,GAAE00B,GAAW9wB,SAAS,cAEtB5D,EAAAA,EAAAA,GAAE00B,GAAW9wB,SAAS,eAVtB+wB,CAAezrB,EAAUmrB,MA3B3BO,QADwB5yB,EAAAA,EAAAA,IAAK,kCAAmC,KAC1CwB,KACtB,IAEItB,GAQe2yB,GAVJ70B,EAAAA,EAAAA,GAAE,cAAcmE,OAWxB,CACL0E,aAAa7I,EAAAA,EAAAA,GAAE,aAAamE,OAC5B0wB,SAAUA,EACV7F,MAAMnvB,EAAAA,EAAAA,IAAU,YAChB8uB,QAAQ3uB,EAAAA,EAAAA,GAAE,kBAAkB,GAAGuI,QAAQG,OACvCosB,UAAU90B,EAAAA,EAAAA,GAAE,cAAc,GAAGe,UAC7Bg0B,MAAM/0B,EAAAA,EAAAA,GAAE,mBAAmB,GAAGe,YAPlC,IAAqB8zB,QAPH7yB,EAAAA,EAAAA,IAAK,6BAA8BE,KAEjDR,EAAO4gB,KAAOoM,SAASpM,KACvB5gB,EAAOX,UAAY,sBAlDnBi0B,CAAWtzB,OCrBf,IAAIuzB,IAAWj1B,EAAAA,EAAAA,GAAE,gBAAgB,GAC7Bi1B,KAMJ,WACE,IAAIC,GAAal1B,EAAAA,EAAAA,GAAE,aAAa,GAC5Bk1B,GAAWA,EAAW7zB,UAAUE,IAAI,QAPxC4zB,IACAn1B,EAAAA,EAAAA,GAAEi1B,IAAU/vB,GAAG,SAqBjBnD,eAAA,GAAqC,IAAV,OAACL,GAAS,EAC/BitB,EAASjtB,EAAO6G,QAAQP,IACPhI,EAAAA,EAAAA,GAAE,kBAAkB,GAEvB,WAAd0B,EAAOsG,IAIXjG,eAAsBL,GACpB,GAAyB,uBAArBA,EAAOX,UAET,YADA2tB,SAASyF,SAGX,IAEIvtB,GAQawuB,EAcrB,SAAsB3rB,GACpB,IAAI4rB,EAAU,EAad,MAZA,GAAG3wB,QAAQsC,KAAKyC,GAAWN,IACzB,IAAIwoB,EAAOxoB,EAAEnB,GACTstB,GAAOt1B,EAAAA,EAAAA,GAAG,sBAAqB2xB,OAAU,GACzC4D,GAAWv1B,EAAAA,EAAAA,GAAEs1B,GAAMjuB,KAAK,aAC5B,IAAK8B,EAAEqsB,WAAY,OACnB,IAAIC,EAAO,GACXtsB,EAAEqsB,WAAW9wB,SAASuL,IACpBwlB,GAAS,IAAGxlB,EAAE3G,cAEhB+rB,GAMJ,SAAiBI,EAAMnL,GACrB,IAAImI,EAAOnI,EAAQ7mB,UACfiyB,EAAO,IAAIt1B,OAAOq1B,EAAM,KACxBjyB,EAAMivB,EAAK1mB,MAAM2pB,GACjBL,EAAU,EASd,OAPA7xB,EAAIkB,SAASixB,IACX,IAAKA,EAAG,OACRN,EAAU,EACV,IAAIO,EAAI,IAAIx1B,OAAOu1B,EAAG,KAClBE,EAAQ,4BAA6BF,EAAI,UAC7CrL,EAAQ7mB,UAAY6mB,EAAQ7mB,UAAUpD,QAAQu1B,EAAGC,MAE5CR,EAnBMS,CAAS,GAAEL,IAAQF,MAGzBF,EArCgBU,QADC/zB,EAAAA,EAAAA,IAAK,qCAAsC2sB,IACrBnrB,MAU5CxD,EAAAA,EAAAA,GAAE,YAAY,GAAGsB,SACV,CACLoH,QAASimB,EACT9lB,YAAamtB,YAAY7xB,OACzB6qB,MAAMnvB,EAAAA,EAAAA,IAAU,SAChBi1B,UAAU90B,EAAAA,EAAAA,GAAE,cAAc,GAAGe,UAC7Bk1B,UAAUj2B,EAAAA,EAAAA,GAAE,mBAAmB,GAAGe,UAClCq0B,iBARJ,IAAmBA,QAPDpzB,EAAAA,EAAAA,IAAK,iCAAkC4E,KAErDlF,EAAOX,UAAY,qBACnBW,EAAOL,UAAUE,IAAI,aAdvB20B,CAAOx0B,OAzBT1B,EAAAA,EAAAA,GAAEi1B,IAAU/vB,GAAG,SASjB,YAA+B,IAAV,OAACxD,GAAS,EAC7B,GAAIA,EAAOL,UAAUM,SAAS,YAAa,CACzC,IAAIw0B,GAAmBn2B,EAAAA,EAAAA,GAAE,4BAA4B,GAChD0B,EAAOX,UAGVo1B,EAAiB90B,UAAUE,IAAI,UAF/B40B,EAAiB90B,UAAUC,OAAO,eCnBzB,MAAM80B,GAGnBrrB,YAAYsrB,GAEV52B,KAAK62B,OAASD,EAAMC,QAAU,GAC9B72B,KAAK82B,aAAeF,EAAME,cAAgB,GAC1C92B,KAAK+2B,UAAYH,EAAMG,WAAa,GACpC/2B,KAAKg3B,gBAAkBJ,EAAMI,iBAAmB,GAChDh3B,KAAKi3B,WAAaL,EAAMK,YAAc,KACtCj3B,KAAKk3B,WAAaN,EAAMM,YAAc,KAEtCl3B,KAAKu2B,aAAch2B,EAAAA,EAAAA,GAAEP,KAAK62B,QAC1B72B,KAAKm3B,aAAgBn3B,KAAK62B,OAAQ,IAAK72B,KAAK82B,aAC5C92B,KAAKo3B,gBAAmB,IAAIp3B,KAAK+2B,UAAW,IAAK/2B,KAAKg3B,gBAElDh3B,KAAKu2B,YAAY7xB,SACnB1E,KAAKq3B,WACL92B,EAAAA,EAAAA,GAAEP,KAAK62B,QAAQpxB,GAAG,QAASzF,KAAKqzB,YAAYvd,KAAK9V,OAE7CA,KAAKi3B,cACP12B,EAAAA,EAAAA,GAAEP,KAAKi3B,YAAYxxB,GAAG,QAASzF,KAAKs3B,eAAexhB,KAAK9V,QACxDO,EAAAA,EAAAA,GAAEP,KAAKk3B,YAAYzxB,GAAG,QAASzF,KAAKs3B,eAAexhB,KAAK9V,SAM9Dq3B,UACE,GAAG5uB,IAAIlB,KAAKvH,KAAKu2B,aAAcgB,IAC7BA,EAAI31B,UAAUC,OAAO7B,KAAK82B,iBAE5B92B,KAAKu2B,YAAY,GAAG30B,UAAUE,IAAI9B,KAAK82B,cAGzCQ,eAAe,GAAU,IAAV,OAACr1B,GAAS,EACnBu1B,GAAaj3B,EAAAA,EAAAA,GAAEP,KAAKo3B,iBAAiB,GACrCK,GAAUl3B,EAAAA,EAAAA,GAAEP,KAAKm3B,cAAc,GAC/BzuB,EAAI1I,KAAKu2B,YAAYzqB,QAAQ2rB,GAC7Bx1B,IAAWjC,KAAKi3B,WAMpB,WACE,GAAIvuB,EAAI,EAAG,OAAO,EAClB,IAAIgvB,EAAgB13B,KAAKu2B,YAAY7tB,EAAI,GACzC1I,KAAK23B,WAAWD,EAAeF,GAC/Bx3B,KAAK43B,UAAUF,EAAeD,IATdlwB,KAAKvH,MACZiC,IAAWjC,KAAKk3B,YAW3B,WACE,GAAIxuB,EAAI1I,KAAKu2B,YAAY7xB,OAAS,EAAG,OAAO,EAC5C,IAAIgzB,EAAgB13B,KAAKu2B,YAAY7tB,EAAI,GACzC1I,KAAK23B,WAAWD,EAAeF,GAC/Bx3B,KAAK43B,UAAUF,EAAeD,IAddlwB,KAAKvH,MAkBzB43B,UAAUC,EAAMJ,GACdA,EAAQ71B,UAAUsG,OAAOlI,KAAK82B,cAC9Be,EAAKj2B,UAAUsG,OAAOlI,KAAK82B,cAG7Ba,WAAWG,EAAQN,GACjB,IAAIO,EAAYD,EAAOhvB,QAAQyrB,YACjBh0B,EAAAA,EAAAA,GAAG,sBAAqBw3B,OAAe,GAC7Cn2B,UAAUsG,OAAOlI,KAAKg3B,iBAC9BQ,EAAW51B,UAAUsG,OAAOlI,KAAKg3B,iBAGnC3D,YAAY,GAAU,IAAV,OAACpxB,GAAS,EACpB,IAAKA,EAAO6G,QAAQyrB,WAAY,OAChC,GAAItyB,EAAOL,UAAUM,SAASlC,KAAK82B,cAAe,OAClD,IAAIkB,GAAaz3B,EAAAA,EAAAA,GAAEP,KAAKm3B,cAAc,GACtCa,EAAWp2B,UAAUC,OAAO7B,KAAK82B,cACjC70B,EAAOL,UAAUE,IAAI9B,KAAK82B,cAE1B,IAAImB,EAAaD,EAAWlvB,QAAX,YACjBvI,EAAAA,EAAAA,GAAG,IAAGP,KAAK+2B,sBAAsBkB,OAAgBh0B,YAAYjE,KAAKg3B,iBAElE,IAAIkB,EAAaj2B,EAAO6G,QAAP,YACjBvI,EAAAA,EAAAA,GAAG,IAAGP,KAAK+2B,sBAAsBmB,OAAgB/zB,SAASnE,KAAKg3B,mBCvDnEz2B,EAAAA,EAAAA,GAAEmB,UAAUoE,OAAM,WAuBhB,IAAkBrF,EApBlB,IAAIk2B,GAAW,CACb,OAAU,oBACV,aAAgB,SAChB,UAAa,WACb,gBAAmB,OACnB,YAAcp2B,EAAAA,EAAAA,GAAE,SAAS,GACzB,YAAcA,EAAAA,EAAAA,GAAE,SAAS,KAcTE,EAXT2L,OAAO6iB,SAAS0E,SAYnB,sBAAsB/V,KAAKnd,IAC1B,yBAAyBmd,KAAKnd,IAC9B,wBAAwBmd,KAAKnd,IAChC,wBAAwBmd,KAAKnd,KChDjCF,EAAAA,EAAAA,GAAE,iBAAiBkF,GAAG,SAEtB,YAA0B,IAAV,OAACxD,GAAS,EAIxB,SAASoH,EAAMhI,GACb,IAAI82B,EAAS92B,EAAGyH,QAAQP,IAAM,MAC1B4qB,GAAS5yB,EAAAA,EAAAA,GAAG,aAAY43B,OACxB9uB,EAAQ,CACZA,OAAe,GACfA,MAAc,IAyBd,OAvBA8pB,EAAO1qB,KAAKyX,IACNA,EAAEte,UAAUM,SAAS,OACvBmH,EAAMd,GAAK2X,EACX7W,EAAM+uB,OAAO7vB,GAAK2X,EAAEpX,QAAQP,IACnB2X,EAAEte,UAAUM,SAAS,SAC9BmH,EAAM2E,KAAOkS,EACb7W,EAAM+uB,OAAOpqB,KAAOkS,EAAE5e,UAAU2iB,QACvB/D,EAAEte,UAAUM,SAAS,gBAC9BmH,EAAMgvB,YAAcnY,EACpB7W,EAAM+uB,OAAOC,YAAcnY,EAAE5e,UAAU2iB,QAC9B/D,EAAEte,UAAUM,SAAS,YAC9BmH,EAAMugB,KAAO1J,EACJA,EAAEte,UAAUM,SAAS,SAC9BmH,EAAMqoB,IAAMxR,MAIhB7W,EAAM8b,MAAMuM,IAAMroB,EAAMd,GAAGsJ,uBAAuBlI,WAAU,GAC5DN,EAAM8b,MAAMyE,KAAOvgB,EAAMd,GAAGsJ,uBAAuBA,uBAAuBlI,WAAU,GACpFN,EAAM8b,MAAMkT,YAAchvB,EAAMd,GAAGsJ,uBAAuBA,uBAAuBA,uBAAuBlI,WAAU,GAClHN,EAAM8b,MAAMnX,KAAO3E,EAAMd,GAAGsJ,uBAAuBA,uBAAuBA,uBAAuBA,uBAAuBlI,WAAU,GAClIN,EAAM8b,MAAM5c,GAAKc,EAAMd,GAAGsJ,uBAAuBA,uBAAuBA,uBAAuBA,uBAAuBA,uBAAuBlI,WAAU,GAEhJN,EAjCLpH,EAAOE,QAAQ,SAqCnB,SAAad,GACX,IAAIi3B,EAAMjvB,EAAMhI,GACM,QAAlBi3B,EAAIF,OAAO7vB,IACXK,QAAQ,oBAUd,SAAgBS,GACdA,EAAMd,GAAG1G,SACTwH,EAAM2E,KAAKnM,SACXwH,EAAMgvB,YAAYx2B,SAClBwH,EAAMugB,KAAK/nB,SACXwH,EAAMqoB,IAAI7vB,SAdR2G,CAAO8vB,GAKXh2B,eAAyB+G,SACP9G,EAAAA,EAAAA,IAAK,gBAAiB,CAACgG,GAAIc,EAAM+uB,OAAO7vB,KALtDD,CAAUgwB,IA1Cc5G,CAAIzvB,EAAOE,QAAQ,SAC3CF,EAAOE,QAAQ,UA0DnB,SAAcd,GACZ,IAAIi3B,EAAMjvB,EAAMhI,GAChB,GAAsB,QAAlBi3B,EAAIF,OAAO7vB,IAQjBjG,eAAsB81B,SACJ71B,EAAAA,EAAAA,IAAK,gBAAiB61B,GARpChF,CAAOkF,EAAIF,YACN,CACL,IAAKE,EAAIF,OAAOpqB,OAASsqB,EAAIF,OAAOC,YAAa,OAAO,GAkC5D/1B,eAAsB+G,GACpB,IAAI1F,QAAYpB,EAAAA,EAAAA,IAAK,gBAAiB8G,EAAM+uB,QAExCz0B,EAAII,IAAIwE,KAdd,SAAgCc,EAAOd,GACrCc,EAAM8b,MAAM5c,GAAGO,QAAQP,GAAKA,EAC5Bc,EAAM8b,MAAM5c,GAAGjH,UAAYiH,EAC3Bc,EAAM8b,MAAMnX,KAAKlF,QAAQP,GAAKA,EAC9Bc,EAAM8b,MAAMnX,KAAK1M,UAAY+H,EAAM2E,KAAK1M,UAAU2iB,OAClD5a,EAAM8b,MAAMkT,YAAYvvB,QAAQP,GAAKA,EACrCc,EAAM8b,MAAMkT,YAAY/2B,UAAY+H,EAAMgvB,YAAY/2B,UAAU2iB,OAChE5a,EAAM8b,MAAMyE,KAAK9gB,QAAQP,GAAKA,EAC9Bc,EAAM8b,MAAMuM,IAAI5oB,QAAQP,GAAKA,EAQ3BgwB,CAAuBlvB,EAAO1F,EAAI4E,GAAG,GAzBzC,SAAqBc,GACnB,IAAImvB,GAAcj4B,EAAAA,EAAAA,GAAE,sBAAsB,GAC1Ci4B,EAAYhvB,OAAOH,EAAM8b,MAAM5c,IAC/BiwB,EAAYhvB,OAAOH,EAAM8b,MAAMnX,MAC/BwqB,EAAYhvB,OAAOH,EAAM8b,MAAMkT,aAC/BG,EAAYhvB,OAAOH,EAAM8b,MAAMyE,MAC/B4O,EAAYhvB,OAAOH,EAAM8b,MAAMuM,KAoB7B+G,CAAYpvB,GA/BhB,SAAoBA,GAClBA,EAAM2E,KAAK1M,UAAY,GACvB+H,EAAMgvB,YAAY/2B,UAAY,GA8B5Bo3B,CAAWrvB,GAEXrI,EAAAA,GAAAA,KAAW,cA1CXgqB,CAAOsN,IAhEkB1O,CAAK3nB,EAAOE,QAAQ,cD8C/C5B,EAAAA,EAAAA,GAAE,cAAc4D,SAAS,YAGhB,kBAAkByZ,KAAKnd,GE3DvB,WAEb,IAAI6E,GAAO/E,EAAAA,EAAAA,GAAE,uBAAuB,GAyBpC,SAASo4B,IACP,IAAI5oB,GAAQxP,EAAAA,EAAAA,GAAE,kBACVo4B,EAAS,GAKb,MAJA,GAAGlwB,IAAIlB,KAAKwI,GAAQomB,IAClB,IAAI11B,EAAM01B,EAAEtkB,uBAAuBvQ,UAAY,IAC/Cq3B,GAAUl4B,IACTk4B,GACIA,EAGT,SAAS/vB,IACP,MAAMA,GAAUrI,EAAAA,EAAAA,GAAE,gBAClB,IAAK,IAAI2f,KAAKtX,EACZ,GAAIsX,EAAE6P,SACJ,OAAO7P,EAAEtb,MAGb,MAAO,IAzCLU,IACF/E,EAAAA,EAAAA,GAAE+E,GAAMG,GAAG,SAGbnD,eAAA,GAAqC,IAAV,OAACL,GAAS,EACnC,GAAMA,EAAOE,QAAQ,SAAU,CAE7B,IACIM,EAqCR,SAAkBR,GAChB,MAAO,CACLsG,IAAIhI,EAAAA,EAAAA,GAAE0B,GAAQ2F,KAAK,OAAOtG,UAC1B0M,MAAMzN,EAAAA,EAAAA,GAAE0B,GAAQ2F,KAAK,SAAStG,UAC9Bs3B,SAASr4B,EAAAA,EAAAA,GAAE0B,GAAQ2F,KAAK,WAAWtG,UACnCu3B,YAAYt4B,EAAAA,EAAAA,GAAE0B,GAAQ2F,KAAK,WAAWtG,UACtCw3B,WAAWv4B,EAAAA,EAAAA,GAAE0B,GAAQ2F,KAAK,SAAStG,UACnCy3B,OAAOx4B,EAAAA,EAAAA,GAAE0B,GAAQ2F,KAAK,UAAUtG,UAChC03B,OAAOz4B,EAAAA,EAAAA,GAAE0B,GAAQ2F,KAAK,UAAUtG,UAChC23B,OAAO14B,EAAAA,EAAAA,GAAE0B,GAAQ2F,KAAK,UAAUtG,UAChC43B,OAAO34B,EAAAA,EAAAA,GAAE0B,GAAQ2F,KAAK,UAAUtG,UAChCsH,QAASA,IACTuwB,SAAKC,EACLT,OAAQA,KAlDGU,EADG94B,EAAAA,EAAAA,GAAE,cAAc,UAGdgC,EAAAA,EAAAA,IAAK,uBAAwBE,QAExC,GAAIR,EAAOL,UAAUM,SAAS,SAAU,CAC7C,IAAIy2B,GAASp4B,EAAAA,EAAAA,GAAE,uBACXE,EAAM,GACV,GAAGgI,IAAIlB,KAAKoxB,GAAQ,SAAU5oB,GAC5B,IAAI7K,EAAI6K,EAAM8B,uBAAuBvQ,UACrCb,GAAKyE,EAAE,OAEGjD,EAAOE,QAAQ,SACrB2G,QAAQlE,MAAQnE,MFqCtB60B,GACS,iBAAiB1X,KAAKnd,IAC/BF,EAAAA,EAAAA,GAAE,SAAS4D,SAAS,WAGV,sBAAsByZ,KAAKnd,IACrCF,EAAAA,EAAAA,GAAE,UAAU4D,SAAS,WAErB,SAASyZ,KAAKnd,IACX,aAAamd,KAAKnd,IAClB,sBAAsBmd,KAAKnd,IAC3B,kBAAkBmd,KAAKnd,IAC1BF,EAAAA,EAAAA,GAAE,UAAU4D,SAAS,YAErB5D,EAAAA,EAAAA,GAAE,qBAAqB4D,SAAS,WG5EvB,WACb,IAAIm1B,GAAS/4B,EAAAA,EAAAA,GAAE,kBAEf,GAAGkI,IAAIlB,KAAK+xB,GAAQ,SAAUC,IAC5Bh5B,EAAAA,EAAAA,GAAEg5B,GAAO9zB,GAAG,SAEZ,YAA+B,IAAV,OAACxD,GAAS,EACzBu3B,EAAOv3B,EAAOE,QAAQ,SAC1Bo3B,EAAMzwB,QAAQlE,MAAQ40B,EAAK1wB,QAAQlE,YHkCvC20B,GI1Ca,WACb,MAAME,GAASl5B,EAAAA,EAAAA,GAAE,yBACbk5B,GACF,GAAGx0B,QAAQsC,KAAKkyB,GAAQ,SAAUC,GAEhC,MAAMC,GAAkBp5B,EAAAA,EAAAA,GAAE,qBACpBq5B,EAAUF,EAAMl0B,iBAAiB,SACjCgU,EAAYkgB,EAAMl0B,iBAAiB,eACnCme,GAASpjB,EAAAA,EAAAA,GAAEm5B,GAAOG,QAAQ,eAC1BC,GAAMv5B,EAAAA,EAAAA,GAAEm5B,GAAO,GAAGl0B,iBAAiB,iBACnCu0B,EAAYL,EAAM5wB,QAAN,MACZkxB,EAAO,IAEbz5B,EAAAA,EAAAA,GAAEm5B,GAAOj0B,GAAG,QAqBZ,YAA+B,IAAV,OAACxD,GAAS,EAG7B,GAAyB,cAArBA,EAAO5B,WA4CbiC,eAA2By3B,EAAW/3B,GACpC,IAAI2B,QAAYpB,EAAAA,EAAAA,IAAM,YAAWw3B,WAAoB,IACjDp2B,EAAII,IAAIwE,IAKd,SAAgBA,GACd,IAAI0xB,EAAM,IAAID,EAAK,IACnB,GAAG/0B,QAAQsC,KAAK0yB,GAAK,SAAU54B,GAC7B,IAAI64B,EAAQ74B,EAAGsI,WAAU,IACNpJ,EAAAA,EAAAA,GAAEm5B,GAAO9xB,KAAK,gBACpBvC,YAAY60B,GACrB,CAAC,MAAMC,SAASD,EAAM75B,WACxB65B,EAAM54B,UAAYiH,EACR,CAAC,MAAO,OAAQ,QAAQ4xB,SAASD,EAAM75B,aACjD65B,EAAM54B,UAAY,IAEpB44B,EAAMpxB,QAAN,GAAsBP,KAftB6xB,CAAOz2B,EAAII,IAAIwE,IA9Cf8xB,CAAYN,QAGP,GACgB,oBAArB93B,EAAO5B,WACP4B,EAAOE,QAAQ,oBAoBnBG,eAAwBjB,GACtB,IAAKuH,QAAQ,YAAa,OAC1B,IAAIL,EAAKlH,EAAGyH,QAAH,SACOvG,EAAAA,EAAAA,IAAM,YAAWw3B,WAAoB,CAACxxB,QAMxD,SAAiBA,GACf,IAAIxE,GAAMxD,EAAAA,EAAAA,GAAG,aAAYgI,OACzB,GAAGtD,QAAQsC,KAAKxD,GAAK,SAAU1C,GAC7BA,EAAGQ,YAPHy4B,CAAQ/xB,GAxBRgyB,CAASt4B,EAAOE,QAAQ,yBAGnB,GAAyB,qBAArBF,EAAO5B,WAChB4B,EAAOE,QAAQ,oBAAqB,CACpC,IAAIoG,EAAKtG,EAAOE,QAAQ,oBAAoB2G,QAAnC,GACTsD,OAAO6iB,SAAY,YAAW8K,UAAkBxxB,SAG3C,GAAItG,EAAOL,UAAUM,SAAS,QAAS,CAC5C,IAAIs4B,EAASv4B,EAAOE,QAAQ,UA+EhC,SAAoB2P,GAElB,MAAMmM,EAAYwc,EAAW3oB,IAAU,MAGjC4oB,EAA4B,QAAdzc,EAAuB,GAAK,EAE1C0c,EAAUr2B,MAAMgU,KAAK0hB,GAE3BW,EAAQxxB,MAAK,SAAUyxB,EAAMC,GAC3B,MAAMC,EAAQF,EAAK9oB,GAAO9N,UACpB+2B,EAAQF,EAAK/oB,GAAO9N,UAEpBwM,EAAI/B,EAAUqD,EAAOgpB,GACrB7U,EAAIxX,EAAUqD,EAAOipB,GAE3B,QAAQ,GACN,KAAKvqB,EAAIyV,EACP,OAAO,EAAIyU,EACb,KAAKlqB,EAAIyV,EACP,OAAQ,EAAIyU,EACd,KAAKlqB,IAAMyV,EACT,OAAO,MAKb,GAAGhhB,QAAQsC,KAAKyyB,GAAM,SAAUgB,GAC9B,GAAG/1B,QAAQsC,KAAKyzB,GAAU35B,IACxBA,EAAGQ,eAKP44B,EAAW3oB,GAAuB,QAAdmM,EAAsB,OAAS,MAGnD0c,EAAQ11B,SAAQ,SAAUm1B,IACxBA,EAAS91B,MAAMgU,KAAK8hB,IACba,UACP,GAAGh2B,QAAQsC,KAAK6yB,GAAQ/4B,IACtBu4B,EAAQA,EAAQl1B,OAAS,GAAGwkB,MAAM7nB,SApHpC65B,CAHY,GAAGlH,UAAUzsB,KAAKqyB,GAAS,CAACv4B,EAAIqH,EAAGib,IACtCtiB,IAAOm5B,OA3Ca1kB,KAAK9V,QACtCO,EAAAA,EAAAA,GAAEm5B,GAAOj0B,GAAG,QAIZ,YAA+B,IAAV,OAACxD,GAAS,EAG7B,GAAIA,EAAOk5B,aAAa,mBACtBrJ,EAAe4H,EAAOC,EAAiB13B,QAGlC,GAAIA,EAAOE,QAAQ,SAAU,CAClC,IAAIq4B,EAASv4B,EAAOE,QAAQ,UAuFhC,SAAgB2P,EAAO+iB,GAPrB,GAAG5vB,QAAQsC,KAAKyyB,GAAOjxB,IACrB,GAAG9D,QAAQsC,KAAKwB,GAAK1H,IACnBA,EAAG8D,MAAMkM,QAAU,aAOvB,MAAMzM,EAAQiwB,EAAMjwB,MAEpB,GAAGK,QAAQsC,KAAKoc,GAASyX,IACnBA,IAAQvG,IAAOuG,EAAIx2B,MAAQ,OAGjC,GAAGK,QAAQsC,KAAKyyB,GAAM,SAAUjxB,GAC9B,MAAMtI,EAAMsI,EAAI+I,GAAOxQ,UACjB+5B,EAAS,IAAI16B,OAAQ,GAAEiE,IAAS,MACjCnE,EAAI6L,MAAM+uB,IACb,GAAGp2B,QAAQsC,KAAKwB,GAAK1H,IACnBA,EAAG8D,MAAMkM,QAAU,aAhGvBiqB,CAHY,GAAGtH,UAAUzsB,KAAKqyB,GAAS,CAACv4B,EAAIqH,EAAGib,IACtCtiB,IAAOm5B,IAEFv4B,KAhBe6T,KAAK9V,OAEtC,IAAI8xB,GAAiBpyB,EAAAA,EAAAA,KA6LrB,SAAqBg6B,EAAOC,EAAiB13B,GAC3C,IAAKA,EAAOk5B,aAAa,mBAAoB,OAAO,GAKtD74B,eAAoB+G,GAClB,IAAI7G,EAAO,YAAW6G,EAAM0wB,iCACZx3B,EAAAA,EAAAA,IAAKC,EAAK6G,EAAMA,OALhCugB,CAQF,SAAyB3nB,EAAQ83B,GAC/B,IAAIlK,EAAQ5tB,EAAO6G,QAAP,MACZ,MAAO,CACLO,MAAO,CACLd,GAAItG,EAAO6G,QAAQP,GACnB,CAACsnB,GAAQ5tB,EAAOX,WAElBy4B,aAhBUwB,CAAgBt5B,EAAQ83B,OA3BtC,IAAK,IAAIrxB,EAAI,EAAGA,EAAIoxB,EAAIp1B,OAAQgE,IAAK,CACnC,IAAIH,EAAKuxB,EAAIpxB,GAAGI,QAAQP,GACpBQ,GAAMxI,EAAAA,EAAAA,GAAEm5B,GAAO,GAAGl0B,iBAAkB,aAAY+C,OACpDyxB,EAAK50B,KAAK2D,GAIZ,MAAM0xB,EAAan2B,MAAMgU,KAAKkB,GAAW/Q,KAAI,SAAUqM,GACrD,MAAO,MAIT,SAASrG,EAAUqD,EAAO0pB,GAGxB,MACO,WAFMhiB,EAAU1H,GAAO/O,aAAa,aAGhC04B,WAAWD,GAGXA,MJ7JjBzsB,GK3Ca,WAkBb,IAAI2sB,GAAQn7B,EAAAA,EAAAA,GAAE,mBACVm7B,GAEF,GAAGz2B,QAAQsC,KAAKm0B,GAAO,SAAUvL,GAE/BA,EAAO1uB,iBAAiB,SAUxB,YAA+B,IAAV,OAACQ,GAAS,EACzBy5B,EAAQz5B,EAAOE,QAAQ,kBAE3B,GAAIF,EAAOE,QAAQ,WAAW,CAAC,aAAag4B,SAASl4B,EAAO5B,WAEjDq7B,EAAM54B,cAAc,MAC1BlB,UAAUsG,OAAO,aAGf,GAAI,CAAC,OAAOiyB,SAASl4B,EAAO5B,YAyBnC,SAA0BkI,IAExBhI,EAAAA,EAAAA,GAAEm7B,GAAO9zB,KAAM,kBAAiBW,OAAQ3G,UAAUC,OAAO,YAzBzD85B,CADS15B,EAAOE,QAAQ,SAAS2G,QAAQP,IAE9BtG,EAAOE,QAAQ,SACrBN,cAGA,GAAqC,UAAjCI,EAAOG,QAAQ8H,cAA2B,CACnD,IAAI3B,EAAKtG,EAAO6G,QAAQP,GAEpBqzB,EAAQF,EAAMl2B,iBAAiB,SAC/Bq2B,EAAQ,GAAG91B,KAAKwB,KAAKq0B,GAAQE,GACxBA,EAAKhzB,QAAQP,KAAOA,IAGzBwzB,GAAOx7B,EAAAA,EAAAA,GAAEm7B,GAAO9zB,KAAK,cACzB,GAAKi0B,EAKH55B,EAAOL,UAAUsG,OAAO,YACxB6zB,EAAKj5B,cAAe,aAAYyF,OAAQ1G,aAN9B,CACVI,EAAOL,UAAUsG,OAAO,YACxB,IAAI4zB,EAYR,SAAoBvzB,GAClB,IAAIuzB,EAAOp6B,SAASW,cAAc,OAClCy5B,EAAKl6B,UAAUE,IAAI,QACnBg6B,EAAKx6B,UAAYW,EAAOX,UACxBw6B,EAAKhzB,QAAL,GAAqBP,EAErB,IAAImpB,EAAMhwB,SAASW,cAAc,OAMjC,OALAqvB,EAAI9vB,UAAUE,IAAI,OAClB4vB,EAAIpwB,UAAY,IAEhBw6B,EAAKt6B,OAAOkwB,GAELoK,EAxBME,CAAWzzB,GACtBwzB,EAAKv6B,OAAOs6B,QAtC4B,GAC9C3L,EAAO1uB,iBAAiB,QAExB,YAA8B,IAAV,OAACQ,GAAS,EACxBhB,GAAOV,EAAAA,EAAAA,GAAEP,MAAM4H,KAAK,SACpB3G,GACFA,EAAKW,UAAUC,OAAO,WALkB,MLoBhDo6B,GM3Ca,WACb,IAAIC,GAAoB37B,EAAAA,EAAAA,GAAE,cAAc,GACpC27B,IACF37B,EAAAA,EAAAA,GAAE27B,GAAmBz2B,GAAG,QAG1BnD,eAAA,GAAqC,IAAV,OAACL,GAAS,EAE/BqD,EAAO42B,EACPnC,EAAYz0B,EAAKwD,QAAQO,MACzBpH,EAAOE,QAAQ,SA4BrBG,eAAoBy3B,GAClB,GAKF,WACE,IAAIoC,GAAW57B,EAAAA,EAAAA,GAAE,cACb67B,EAAW,EAYf,MAXA,GAAGn3B,QAAQsC,KAAK40B,GAAU,SAAU96B,GAClC,IAAKA,EAAGC,UAAW,CAEjB,GADAD,EAAG8D,MAAMk3B,YAAc,OACnB97B,EAAAA,EAAAA,GAAEc,GAAIuG,KAAK,UAAW,OAC1B,IAAIxD,EAAQ1C,SAASW,cAAc,OACnC+B,EAAM9C,UAAY,iBAClB8C,EAAMxC,UAAUE,IAAI,SACpBT,EAAGc,QAAQ,UAAUkD,YAAYjB,GACjCg4B,QAGGA,EAnBHE,GAAiB,OAAO,EAC5B,IAAIjzB,EAqBN,WACE,IAAI8pB,GAAS5yB,EAAAA,EAAAA,GAAE,gBACX4G,EAAM,GAGV,GAAGsB,IAAIlB,KAAK4rB,GAAStD,IACnB,GAAIA,EAAMsL,aAAa,gBAAiB,CACtC,IAAIS,EAAQ/L,EAAMrqB,iBAAiB,SAC/Bs0B,EAAM,GAAGrxB,IAAIlB,KAAKq0B,GAAQE,GACrBA,EAAKhzB,QAAQP,KAEtBpB,EAAI0oB,EAAM/mB,QAAQ+mB,OAASiK,EAAIxc,gBACtBuS,EAAMsL,aAAa,iBAC5Bh0B,EAAI0oB,EAAM/mB,QAAQ+mB,OAASA,EAAM/mB,QAAQlE,MACT,WAAvBirB,EAAM/mB,QAAQqa,KACvBhc,EAAI0oB,EAAM/mB,QAAQ+mB,OAkBxB,SAAmBA,GACjB,IAAIlM,EAASkM,EAAMrqB,iBAAiB,SAChC+2B,EAAQ,GAOZ,OANA5Y,EAAO1e,SAASm2B,IACd,IAAKA,EAAIt2B,QAAS,OAClB,IAAIkJ,EAAOotB,EAAI1tB,WAAW5K,cAAc,SAASxB,UAC5C0M,GACLuuB,EAAMn3B,KAAK4I,MAENuuB,EAAMxgB,KAAK,KA3BaygB,CAAU3M,GAC5BA,EAAMsL,aAAa,iBAEnBtL,EAAMsL,aAAa,OAD5Bh0B,EAAI0oB,EAAM/mB,QAAQ+mB,OAASA,EAAM/mB,QAAQlE,MAGjB,SAAfirB,EAAM1M,KACfhc,EAAI0oB,EAAM/mB,QAAQ+mB,OAASA,EAAMjrB,MAEjCuC,EAAI0oB,EAAM/mB,QAAQ+mB,QAASvvB,EAAAA,EAAAA,IAAQuvB,EAAMvuB,aAE1C6F,GACH,IAAI6nB,GAASzuB,EAAAA,EAAAA,GAAE,iBAAiB,GAIhC,OAHIyuB,IACF7nB,EAAI6nB,QAAUA,EAAOlmB,QAAQ2zB,QAExBt1B,EAnDKkyB,SACI92B,EAAAA,EAAAA,IAAM,YAAWw3B,mBAA4B1wB,GA9B3DugB,CAAKmQ,GACI93B,EAAOE,QAAQ,SACrBF,EAAOE,QAAQ,QAAQ2G,QAAQO,MAiBtC/G,eAAmBgD,EAAMy0B,GACvB,IAAIxxB,EAAKjD,EAAKwD,QAAQP,SACNhG,EAAAA,EAAAA,IAAM,YAAWw3B,WAAoB,CAACxxB,SAEpD6D,OAAO6iB,SAASpM,KAAQ,YAAWkX,UApBnCrI,CAAIpsB,EAAMrD,EAAOE,QAAQ,QAAQ2G,QAAQO,OAC/BpH,EAAOL,UAAUM,SAAS,QAKxCI,eAAyBL,IACF1B,EAAAA,EAAAA,GAAG,gBAAe,GACxBqB,UAAUsG,OAAO,SAClB3H,EAAAA,EAAAA,GAAG,oBAAmB0B,EAAO6G,QAAQP,QAAQ,GACnD3G,UAAUsG,OAAO,SACT3H,EAAAA,EAAAA,GAAG,eAAc,GACvBqB,UAAUsG,OAAO,UAC3BjG,EAAOL,UAAUsG,OAAO,UAXtBw0B,CAAUz6B,IAbiC6T,KAAK9V,ONyCpD28B,GO5CAj7B,SAASD,iBAAiB,cAI1B,YAA2B,IAAV,OAACQ,GAAS,EAGzB,IAAKA,EAAO6G,UAAU7G,EAAO6G,QAAQ8zB,QAAS,OAE9C,IAAIC,EAAc56B,EAAO6G,QAAQ8zB,QAE7BE,EAAcp7B,SAASW,cAAc,OACzCy6B,EAAYz8B,UAAY,UACxBy8B,EAAY94B,UAAY64B,EACxBn7B,SAASC,KAAKH,OAAOs7B,GAGrB,IAAIC,EAAS96B,EAAOyN,wBAEhBG,EAAOktB,EAAOltB,MAAQ5N,EAAO2f,YAAckb,EAAYlb,aAAe,EACtE/R,EAAO,IAAGA,EAAO,GAErB,IAAID,EAAMmtB,EAAOntB,IAAMktB,EAAYE,aAAe,EAC9CptB,EAAM,IACRA,EAAMmtB,EAAOntB,IAAM3N,EAAO+6B,aAAe,GAG3CF,EAAY33B,MAAM0K,KAAOA,EAAO,KAChCitB,EAAY33B,MAAMyK,IAAMA,EAAM,QA5BiB,GACjDlO,SAASD,iBAAiB,cA8B1B,WACE,IAAIw7B,EAAWv7B,SAAS8D,iBAAiB,YACrCy3B,GACF,GAAGh4B,QAAQsC,KAAK01B,GAAWC,IACvBA,EAAIr7B,eAlCqC,GCHpC,WAEb,IAAIs7B,GAAgB58B,EAAAA,EAAAA,GAAG,iBAAgB,GACvC,GAAI48B,EAAe,CACjBA,GAAiBA,EAAcr0B,QAAd,OACjB,IAAIs0B,GAAqB78B,EAAAA,EAAAA,GAAE,0BAC3B+D,MAAMgU,KAAK8kB,GAAoB73B,QAAQiL,KAChCA,EAAE1H,QAAQP,KAAO40B,GACpB3sB,EAAE5O,UAAUE,IAAI,cAMtB,IAAIgiB,GAASvjB,EAAAA,EAAAA,GAAE,mBAAmB,GAC9BujB,IACFvjB,EAAAA,EAAAA,GAAEujB,GAAQre,GAAG,SAAS,YACTlF,EAAAA,EAAAA,GAAE,mBAAmB,GAC3BqB,UAAUsG,OAAO,WR+B1Bm1B,GJlCa,WAEb,IAAIC,GAAW/8B,EAAAA,EAAAA,GAAE,sBAAsB,GACnC+8B,IAEFxoB,GAAS,gCACP,4BACA,aAEFvU,EAAAA,EAAAA,GAAE+8B,GAAU73B,GAAG,QAAS8tB,KACxBhzB,EAAAA,EAAAA,GAAE+8B,GAAU73B,GAAG,SAAUguB,KACzBlzB,EAAAA,EAAAA,GAAE+8B,GAAU73B,GAAG,QAAS4tB,KIyB1BiK","sources":["webpack://my-webpack-project/./public/src/common.js","webpack://my-webpack-project/webpack/bootstrap","webpack://my-webpack-project/webpack/runtime/define property getters","webpack://my-webpack-project/webpack/runtime/hasOwnProperty shorthand","webpack://my-webpack-project/./public/src/components/accordion/accordion.js","webpack://my-webpack-project/./public/src/components/admin_sidebar.js","webpack://my-webpack-project/./public/src/Test/model/_testResult.js","webpack://my-webpack-project/./public/src/Test/test_results/test_results.js","webpack://my-webpack-project/./public/src/Test/model/opentest/openquestion.js","webpack://my-webpack-project/./node_modules/sortablejs/modular/sortable.esm.js","webpack://my-webpack-project/./public/src/components/sortable.js","webpack://my-webpack-project/./public/src/Test/model/opentest/opentest.js","webpack://my-webpack-project/./public/src/Test/model/opentest/openanswer.js","webpack://my-webpack-project/./public/src/components/select/WDSSelect.js","webpack://my-webpack-project/./public/src/Test/opentest-edit.js","webpack://my-webpack-project/./public/src/Test/model/answer.js","webpack://my-webpack-project/./public/src/Test/model/question.js","webpack://my-webpack-project/./public/src/Test/model/test.js","webpack://my-webpack-project/./public/src/Test/test-edit.js","webpack://my-webpack-project/./public/src/Test/do.js","webpack://my-webpack-project/./public/src/Test/open_test.js","webpack://my-webpack-project/./public/src/Test/test-pagination/test-pagination.js","webpack://my-webpack-project/./public/src/Admin/admin.js","webpack://my-webpack-project/./public/src/Admin/Rights/rights.js","webpack://my-webpack-project/./public/src/Admin/user/user.js","webpack://my-webpack-project/./public/src/components/radio/radio.js","webpack://my-webpack-project/./public/src/components/list/list.js","webpack://my-webpack-project/./public/src/components/multiselect/multiselect.js","webpack://my-webpack-project/./public/src/components/catalog-item/catalog-item.js","webpack://my-webpack-project/./public/src/components/tooltip/tooltip.js","webpack://my-webpack-project/./public/src/components/accordion-show.js"],"sourcesContent":["import './Admin/admin.scss'\r\nimport './common.scss'\r\n\r\nconst debounce = (fn, time = 700) => {\r\n  let timeout;\r\n  return function () {\r\n    const functionCall = () => fn.apply(this, arguments);\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(functionCall, time);\r\n  }\r\n}\r\n\r\nfunction IsJson(str) {\r\n  try {\r\n    JSON.parse(str);\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\n\r\nfunction replaceNbsps(str) {\r\n  var re = new RegExp('&nbsp;?', \"g\");\r\n  return str.replace(re, \" \");\r\n}\r\n\r\nfunction replaceNs(str) {\r\n  var re = new RegExp('\\\\n?', \"g\");\r\n  return str.replace(re, \"\");\r\n}\r\n\r\nfunction replaceTs(str) {\r\n  var re = new RegExp('\\\\t?', \"g\");\r\n  return str.replace(re, \"\");\r\n}\r\n\r\nfunction cachePage(className) {\r\n  let html = $(className)[0].outerHTML\r\n  return trimStr(html)\r\n}\r\n\r\nfunction trimStr(str) {\r\n  str = replaceNbsps(str)\r\n  str = replaceNs(str)\r\n  str = replaceTs(str)\r\n  return str\r\n}\r\n\r\nlet validate = {\r\n  sort: () => {\r\n    let error = this.nextElementSibling\r\n    let ar = this.value.match(/\\D+/)\r\n    if (ar) {\r\n      error.innerText = ' '\r\n      error.style.opacity = '1'\r\n    } else {\r\n      if (error.style.opacity === \"1\") {\r\n        error.style.opacity = '0'\r\n      }\r\n    }\r\n  },\r\n  email: (email) => {\r\n    if (!email) return false\r\n    let text = \"  \"\r\n    let re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    let res = re.test(String(email).toLowerCase())\r\n    if (!res) return text\r\n    return false\r\n  },\r\n  password: (password) => {\r\n    if (!password) return false\r\n    let text = \"    \\n \" +\r\n      \"-    \\n\" +\r\n      \"-    \\n\" +\r\n      \"-  \\n\" +\r\n      \"-     6 \"\r\n    let res = /^[a-zA-Z\\-0-9]{6,20}$/.test(password)\r\n    if (!res) return text\r\n    return false\r\n  }\r\n}\r\n\r\n\r\n// function up() {\r\n//    var top = Math.max(document.body.scrollTop, document.documentElement.scrollTop);\r\n//    if (top > 0) {\r\n//       window.scrollBy(0, -100);\r\n//       var t = setTimeout('up()', 20);\r\n//    }\r\n//    else\r\n//       clearTimeout(t);\r\n//    return false;\r\n// }\r\n\r\nlet popup = {\r\n\r\n  show: function (txt, callback) {\r\n    let close = this.el('div', 'popup__close')\r\n    close.innerText = 'X'\r\n    let popup__item = this.el('div', 'popup__item')\r\n\r\n    popup__item.innerText = txt\r\n    popup__item.append(close)\r\n    let popup = $('.popup')[0]\r\n    if (!popup) {\r\n      popup = this.el('div', 'popup')\r\n    }\r\n    popup.append(popup__item)\r\n    popup.addEventListener('click', this.close, true)\r\n    document.body.append(popup)\r\n    let hideDelay = 5000;\r\n    setTimeout(() => {\r\n      popup__item.classList.remove('popup__item')\r\n      popup__item.classList.add('popup-hide')\r\n    }, hideDelay)\r\n    let removeDelay = hideDelay + 950;\r\n    setTimeout(() => {\r\n      popup__item.remove()\r\n      if (callback) {\r\n        callback()\r\n      }\r\n    }, removeDelay)\r\n  },\r\n\r\n  close: function (e) {\r\n    if (e.target.classList.contains('popup__close')) {\r\n      let popup = this.closest('.popup').remove()\r\n    }\r\n  },\r\n  el: function (tagName, className) {\r\n    let el = document.createElement(tagName)\r\n    el.classList.add(className)\r\n    return el\r\n  }\r\n}\r\n\r\nconst uniq = (array) => Array.from(new Set(array));\r\n\r\n\r\nasync function get(key) {\r\n  let p = window.location.search;\r\n  p = p.match(new RegExp(key + '=([^&=]+)'));\r\n  return p ? p[1] : false;\r\n}\r\n\r\nasync function post(url, data = {}) {\r\n\r\n  return new Promise(async function (resolve, reject) {\r\n      data.token = document.querySelector('meta[name=\"token\"]').getAttribute('content')\r\n      let req = new XMLHttpRequest();\r\n      req.open('POST', url, true);\r\n      req.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\r\n      if (data instanceof FormData) {\r\n        req.send(data);\r\n      } else {\r\n        req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\r\n        req.send('param=' + JSON.stringify(data));\r\n      }\r\n      req.onerror = function (e) {\r\n        reject(Error(\"Network Error\" + e));\r\n      };\r\n      req.onload = function () {\r\n        let res = JSON.parse(req.response)\r\n        let msg = $('.message')[0]\r\n\r\n        if (res.popup||res?.arr?.popup) {\r\n\r\n\r\n          popup.show(res.popup??res?.arr?.popup)\r\n        } else if (res.msg) {\r\n          if (msg) {\r\n            msg.innerHTML = res.msg\r\n            msg.innerHTML = res.msg\r\n            $(msg).removeClass('success')\r\n            $(msg).removeClass('error')\r\n          }\r\n        } else if (res.success) {\r\n          if (msg) {\r\n            msg.innerHTML = res.success\r\n            $(msg).addClass('success')\r\n            $(msg).removeClass('error')\r\n          }\r\n\r\n        } else if (res.error) {\r\n          if (msg) {\r\n            msg.innerHTML = ''\r\n            msg.innerHTML = res.error\r\n            $(msg).removeClass('success')\r\n            $(msg).addClass('error')\r\n          }\r\n        }\r\n        resolve(res);\r\n      }\r\n    }\r\n  )\r\n\r\n}\r\n\r\nclass ElementCollection extends Array {\r\n\r\n  // el = this\r\n  // elType = function(){return {}.toString.call(this)}\r\n\r\n  on(event, cbOrSelector, cb) {\r\n    if (typeof cbOrSelector === 'function') {\r\n      this.forEach(e => e.addEventListener(event, cbOrSelector))\r\n    } else {\r\n      this.forEach(elem => {\r\n        elem.addEventListener(event, e => {\r\n          if (e.target === cbOrSelector) cb(e)\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  value = function () {\r\n    return this[0].getAttribute('value')\r\n  }\r\n  attr = function (attrName, attrVal) {\r\n    if (attrVal) {\r\n      this[0].setAttribute(attrName, attrVal)\r\n    }\r\n    return this[0].getAttribute(attrName)\r\n  }\r\n  selectedIndexValue = function () {\r\n    if (this.length)\r\n      return this[0].selectedOptions[0].value\r\n  }\r\n  options = function () {\r\n    if (this.length) return this[0].options\r\n  }\r\n  count = function () {\r\n    return this.length\r\n  }\r\n  text = function () {\r\n    if (this.length) return this[0].innerText\r\n  }\r\n  checked = function () {\r\n    if (this.length) return this[0].checked\r\n  }\r\n  getWithStyle = function (attr, val) {\r\n    let arr = []\r\n    this.forEach((s) => {\r\n      if (s.style[attr] === val) {\r\n        arr.push(s)\r\n      }\r\n    })\r\n    return arr\r\n  }\r\n  addClass = function (className) {\r\n    this.forEach((s) => {\r\n      s.classList.add(className)\r\n    })\r\n  }\r\n  removeClass = function (className) {\r\n    this.forEach((s) => {\r\n      s.classList.remove(className)\r\n    })\r\n  }\r\n  hasClass = function (className) {\r\n    if (this.classList.contains(className)) return true\r\n  }\r\n  append = function (el) {\r\n    this[0].appendChild(el)\r\n  }\r\n  find = function (item) {\r\n    if (typeof item === 'string') {\r\n      return this[0].querySelector(item)\r\n    } else {\r\n      let filtered = this[0].filter((el) => {\r\n        return el === item\r\n      })\r\n      return filtered[0]\r\n    }\r\n  }\r\n  findAll = function (item) {\r\n    if (typeof item === 'string') {\r\n      return this[0].querySelectorAll(item)\r\n    }\r\n  }\r\n\r\n\r\n  css = function (attr, val) {\r\n    if (!val) {\r\n      return this[0].style[attr]\r\n    }\r\n    this.forEach((s) => {\r\n      s.style[attr] = val\r\n    })\r\n  }\r\n  ready(cb) {\r\n    const isReady = this.some(e => {\r\n      return e.readyState != null && e.readyState != 'loading'\r\n    })\r\n    if (isReady) {\r\n      cb()\r\n    } else {\r\n      document.addEventListener('DOMContentLoaded', cb)\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\nfunction $(selector) {\r\n  if (typeof selector === 'string' || selector instanceof String) {\r\n    return new ElementCollection(...document.querySelectorAll(selector))\r\n  } else {\r\n    return new ElementCollection(selector)\r\n  }\r\n}\r\n\r\n\r\nfunction addTooltip(args) {\r\n\r\n  [].forEach.call(args, (el) => {\r\n    el.onmouseenter = function () {\r\n      let tip = document.createElement('div')\r\n      tip.classList.add('tip')\r\n      tip.innerText = args.message\r\n\r\n      el.append(tip)\r\n      let remove = () => tip.remove()\r\n      tip.addEventListener('mousemove', remove.bind(tip), true)\r\n    }.bind(args)\r\n\r\n    el.onmouseleave = () => {\r\n      let tip = el.querySelector('.tip')\r\n      tip.remove()\r\n    }\r\n  })\r\n}\r\n\r\n\r\nexport {\r\n  cachePage,\r\n  trimStr,\r\n  addTooltip,\r\n  popup,\r\n  debounce,\r\n  IsJson,\r\n  post, get, uniq,\r\n  validate, $\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","import './accordion.scss'\r\nimport {$} from '../../common'\r\n\r\nlet accordions = $('[accordion]')\r\nif (accordions) {\r\n\r\n  let checkboxes = $(`[accordion] [type='checkbox']`)\r\n  if (checkboxes) {\r\n    [...checkboxes].filter(ch => {\r\n      ch.checked = false\r\n    })\r\n  }\r\n  $('[accordion]').on('click', handle)\r\n}\r\n\r\nfunction handle({target}) {\r\n  let li = target.closest('li')\r\n  if (!li) return\r\n\r\n  // let accordion = li.closest('[accordion]')\r\n  let ul = $(li).find('ul')\r\n  if (!ul) {\r\n    rotateArrow(li)\r\n  } else {\r\n    if (ul.classList.contains('open')) {\r\n      slideUp(ul, li)\r\n    } else {\r\n      // accordion.style.height = \"auto\"\r\n      if (!ul) return\r\n      let parent = li.closest('ul')\r\n      closeSiblings(parent)\r\n      slideDown(ul, li, parent)\r\n    }\r\n  }\r\n}\r\n\r\nfunction closeSiblings(parent) {\r\n  if (!parent) return\r\n  let open = $(parent).find('li>ul.open')\r\n  if (open) {\r\n    let li = open.closest('li')\r\n    slideUp(open, li)\r\n  }\r\n}\r\n\r\nfunction slideDown(ul, li, parent) {\r\n  if (parent) {\r\n    parent.style.maxHeight = ul.scrollHeight + parent.scrollHeight + \"px\";\r\n  }\r\n  ul.style.maxHeight = ul.scrollHeight + \"px\";\r\n  ul.classList.toggle('open')\r\n  li.classList.toggle('rotate')\r\n}\r\n\r\nfunction slideUp(ul, li) {\r\n  ul.style.maxHeight = 0 + \"px\";\r\n  ul.classList.toggle('open')\r\n  li.classList.toggle('rotate')\r\n}\r\n\r\nfunction rotateArrow(li) {\r\n  li.classList.toggle('rotate')\r\n}\r\n\r\nfunction increaseParent(parent, ulHeight) {\r\n  if (!parent.classList.contains('accordion')) {\r\n    let parentHeight = parseInt(parent.style.maxHeight) + ulHeight\r\n    parent.style.maxHeight = parentHeight + \"px\";\r\n  }\r\n}","import {$} from '../common'\r\nlet sidebar = $('.admin_sidebar')[0]\r\nif (sidebar) {\r\n  $('svg#burger').on('click', function () {\r\n    let accordion = $('.admin_sidebar [accordion]')[0]\r\n    accordion.classList.toggle('show')\r\n  })\r\n}\r\n\r\n","import {$, post} from \"../../common\";\r\n\r\nexport const _testResult = {\r\n\r\n\r\n  delServer: async (id) => {\r\n    if ($('.opentest')) {\r\n      let res = await post('/adminsc/opentestresult/delete', {id})\r\n    } else {\r\n      let res = await post('/adminsc/testresult/delete', {id})\r\n    }\r\n  },\r\n\r\n  delDom: (id) => {\r\n    [].map.call($(`[data-row = \"${id}\"]`), function (i) {\r\n        i.remove()\r\n      }\r\n    )\r\n  },\r\n\r\n  delete: (id) => {\r\n    if (confirm(\"  ?\")) {\r\n      _testResult.delDom(id)\r\n      _testResult.delServer(id)\r\n    }\r\n  },\r\n\r\n}","import './test-results__table.scss'\r\nimport {$} from '../../common'\r\nimport {_testResult} from '../model/_testResult'\r\n\r\nlet testResults = $('.test-results__table')[0]\r\nif (testResults) {\r\n  $(testResults).on('click', handleClick)\r\n}\r\n\r\nfunction handleClick({target}) {\r\n  if (!!target.closest('.del-btn')) {\r\n    let id = target.closest('.del-btn').dataset.row\r\n    _testResult.delete(id)\r\n  }\r\n}\r\n\r\n\r\nlet testResult = $('.testresult')[0]\r\nif (testResult) {\r\n  $('.accordion_wrap')[0].remove()\r\n  $('.page-name')[0].remove()\r\n  $('.test-name')[0].remove()\r\n  $('.test-do__finish-btn')[0].remove()\r\n}","import {$, popup, post, addTooltip} from \"../../../common\"\r\n\r\nclass openquestion {\r\n\r\n  model = 'openquestion'\r\n  questions = $('.questions>.question-edit')\r\n  testId = +$('.questions')[0]?.dataset.testId ?? null\r\n  questionCnt = $('.questions>.question-edit').length ?? null\r\n\r\n  async create(target) {\r\n    let id = 0\r\n    let opentest_id = this.testId\r\n    let sort = this.questionCnt+1\r\n    let res = await post(`/adminsc/${this.model}/updateOrCreate`,\r\n      {id,opentest_id,sort})\r\n    if (res.arr.id) {\r\n      let clone = this.cloneEmptyModel()\r\n      // let addBtn = target.closest('.question__create-button')\r\n\r\n      clone.querySelector('.sort').innerText = this.questionCnt + 1\r\n      clone.querySelector('.text').innerText = ''\r\n      clone.id = res.arr.id\r\n      target.before(clone)\r\n    }\r\n  }\r\n\r\n  cloneEmptyModel() {\r\n    let question = $('.questions .question-edit')[0]\r\n    if (question) {\r\n      let q = question.cloneNode(true)\r\n      let ans = q.querySelectorAll('.row .answer');\r\n      [].forEach.call(ans, function (answer) {\r\n        answer.remove()\r\n      })\r\n      return q\r\n    }\r\n  }\r\n\r\n  async sort(upToQestionNumber) {\r\n\r\n    let questionsEls = this.questions.filter(function (el, i) {\r\n        if (i + 1 < upToQestionNumber) return el\r\n      }\r\n    )\r\n    let toChange = questionsEls.map((el) => {\r\n      return el.id\r\n    })\r\n    let res = await post(`/${this.model}/sort`, {toChange})\r\n\r\n    questionsEls.map((el, i) => {\r\n      $(el).find('.sort').innerText = i + 1\r\n\r\n    })\r\n  }\r\n\r\n\r\n  async changeParent(target) {\r\n    // debugger\r\n\r\n    if (target.tagName.toLowerCase() !== 'li') return\r\n\r\n    let id = target.closest('.question-edit').id\r\n    let test_id = target.dataset['value']\r\n    let test_name = target.innerText\r\n    if (!+id || !+test_id || !test_name) return\r\n    let res = await post(`/adminsc/${this.model}/changeParent`, {id, test_id})\r\n    if (res.msg !== 'ok') throw (e);\r\n    let question = target.closest('.question-edit')\r\n    question.remove()\r\n    popup.show('  ' + test_name)\r\n  }\r\n\r\n  showAnswers(target) {\r\n    let row = target.closest('.question-edit')\r\n    let answers = $(row).find('.question__answers')\r\n    answers.classList.toggle('height')\r\n    answers.classList.toggle('scale')\r\n    target.classList.toggle('rotate')\r\n  }\r\n\r\n  async del(target) {\r\n    if (confirm(\"     ?\")) {\r\n      let question = target.closest('.question-edit')\r\n      let id = question.id\r\n\r\n      let res = await post(`/adminsc/${this.model}/delete`, {id})\r\n      if (res) {\r\n        question.remove()\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport const _openquestion = new openquestion()","/**!\n * Sortable 1.15.0\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar version = \"1.15.0\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !! /*@__PURE__*/navigator.userAgent.match(pattern);\n  }\n}\n\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\n\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction matches(\n/**HTMLElement*/\nel,\n/**String*/\nselector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n\n  return false;\n}\n\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\n\nfunction closest(\n/**HTMLElement*/\nel,\n/**String*/\nselector,\n/**HTMLElement*/\nctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n\n  return null;\n}\n\nvar R_SPACE = /\\s+/g;\n\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\n\nfunction css(el, prop, val) {\n  var style = el && el.style;\n\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\n\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n\n    } while (!selfOnly && (el = el.parentNode));\n  }\n\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n\n  return matrixFn && new matrixFn(appliedTransforms);\n}\n\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n        i = 0,\n        n = list.length;\n\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n\n    return list;\n  }\n\n  return [];\n}\n\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n/**\n * Returns the \"bounding client rect\" of given element\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\n * @param  {[HTMLElement]} container              The parent the element will be placed in\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\n */\n\n\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n\n  if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n\n      } while (container = container.parentNode);\n    }\n  }\n\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n        scaleX = elMatrix && elMatrix.a,\n        scaleY = elMatrix && elMatrix.d;\n\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n/**\n * Checks if a side of an element is scrolled past a side of its parents\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\n */\n\n\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n      elSideVal = getRect(el)[elSide];\n  /* jshint boss:true */\n\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n        visible = void 0;\n\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n\n  return false;\n}\n/**\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n * and non-draggable elements\n * @param  {HTMLElement} el       The parent element\n * @param  {Number} childNum      The index of the child\n * @param  {Object} options       Parent Sortable's options\n * @return {HTMLElement}          The child at index childNum, or null if not found\n */\n\n\nfunction getChild(el, childNum, options, includeDragEl) {\n  var currentChild = 0,\n      i = 0,\n      children = el.children;\n\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && (includeDragEl || children[i] !== Sortable.dragged) && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n\n      currentChild++;\n    }\n\n    i++;\n  }\n\n  return null;\n}\n/**\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n * @param  {HTMLElement} el       Parent element\n * @param  {selector} selector    Any other elements that should be ignored\n * @return {HTMLElement}          The last child, ignoring ghostEl\n */\n\n\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n\n  return last || null;\n}\n/**\n * Returns the index of an element within its parent for a selected set of\n * elements\n * @param  {HTMLElement} el\n * @param  {selector} selector\n * @return {number}\n */\n\n\nfunction index(el, selector) {\n  var index = 0;\n\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n  /* jshint boss:true */\n\n\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n\n  return index;\n}\n/**\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n * The value is returned in real pixels.\n * @param  {HTMLElement} el\n * @return {Array}             Offsets in the format of [left, top]\n */\n\n\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n      offsetTop = 0,\n      winScroller = getWindowScrollingElement();\n\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n          scaleX = elMatrix.a,\n          scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n\n  return [offsetLeft, offsetTop];\n}\n/**\n * Returns the index of the object within the given array\n * @param  {Array} arr   Array that may or may not hold the object\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\n * @return {Number}      The index of the object in the array, or -1\n */\n\n\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n\n  return -1;\n}\n\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n\n  } while (elem = elem.parentNode);\n\n  return getWindowScrollingElement();\n}\n\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n\n  return dst;\n}\n\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\n\nvar _throttleTimeout;\n\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n          _this = this;\n\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\n\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\n\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\n\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\n\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\n\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\n\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n      animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n\n        var fromRect = _objectSpread2({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n\n      var animating = false,\n          animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n            target = state.target,\n            fromRect = target.fromRect,\n            toRect = getRect(target),\n            prevFromRect = target.prevFromRect,\n            prevToRect = target.prevToRect,\n            animatingRect = state.rect,\n            targetMatrix = matrix(target, true);\n\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n\n        target.toRect = toRect;\n\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        } // if fromRect != toRect: animate\n\n\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n\n          if (!time) {\n            time = _this.options.animation;\n          }\n\n          _this.animate(target, animatingRect, toRect, time);\n        }\n\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d,\n            translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n            translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        this.forRepaintDummy = repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\n\nfunction repaint(target) {\n  return target.offsetWidth;\n}\n\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n\n    plugins.forEach(function (p) {\n      if (p.pluginName === plugin.pluginName) {\n        throw \"Sortable: Cannot mount plugin \".concat(plugin.pluginName, \" more than once\");\n      }\n    });\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n\n    this.eventCanceled = false;\n\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      } // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n\n\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized; // Add default options from plugin\n\n      _extends(defaults, initialized.defaults);\n    });\n\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n      rootEl = _ref.rootEl,\n      name = _ref.name,\n      targetEl = _ref.targetEl,\n      cloneEl = _ref.cloneEl,\n      toEl = _ref.toEl,\n      fromEl = _ref.fromEl,\n      oldIndex = _ref.oldIndex,\n      newIndex = _ref.newIndex,\n      oldDraggableIndex = _ref.oldDraggableIndex,\n      newDraggableIndex = _ref.newDraggableIndex,\n      originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n      options = sortable.options,\n      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n  var allEventProperties = _objectSpread2(_objectSpread2({}, extraEventProperties), PluginManager.getEventProperties(name, sortable));\n\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar _excluded = [\"evt\"];\n\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      originalEvent = _ref.evt,\n      data = _objectWithoutProperties(_ref, _excluded);\n\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread2({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\n\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread2({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\n\nvar dragEl,\n    parentEl,\n    ghostEl,\n    rootEl,\n    nextEl,\n    lastDownEl,\n    cloneEl,\n    cloneHidden,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    activeGroup,\n    putSortable,\n    awaitingDragStarted = false,\n    ignoreNextClick = false,\n    sortables = [],\n    tapEvt,\n    touchEvt,\n    lastDx,\n    lastDy,\n    tapDistanceLeft,\n    tapDistanceTop,\n    moved,\n    lastTarget,\n    lastDirection,\n    pastFirstInvertThresh = false,\n    isCircumstantialInvert = false,\n    targetMoveDistance,\n    // For positioning ghost absolutely\nghostRelativeParent,\n    ghostRelativeParentInitialScroll = [],\n    // (left, top)\n_silent = false,\n    savedInputChecked = [];\n/** @const */\n\nvar documentExists = typeof document !== 'undefined',\n    PositionGhostAbsolutely = IOS,\n    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n    // This will not pass for IE9, because IE9 DnD only works on anchors\nsupportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n    supportCssPointerEvents = function () {\n  if (!documentExists) return; // false when <= IE11\n\n  if (IE11OrLess) {\n    return false;\n  }\n\n  var el = document.createElement('x');\n  el.style.cssText = 'pointer-events:auto';\n  return el.style.pointerEvents === 'auto';\n}(),\n    _detectDirection = function _detectDirection(el, options) {\n  var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n  if (elCSS.display === 'flex') {\n    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n  }\n\n  if (elCSS.display === 'grid') {\n    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n  }\n\n  if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n    var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n  }\n\n  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n},\n    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n},\n\n/**\r\n * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\r\n * @param  {Number} x      X position\r\n * @param  {Number} y      Y position\r\n * @return {HTMLElement}   Element of the first found nearest Sortable\r\n */\n_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n  var ret;\n  sortables.some(function (sortable) {\n    var threshold = sortable[expando].options.emptyInsertThreshold;\n    if (!threshold || lastChild(sortable)) return;\n    var rect = getRect(sortable),\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n    if (insideHorizontally && insideVertically) {\n      return ret = sortable;\n    }\n  });\n  return ret;\n},\n    _prepareGroup = function _prepareGroup(options) {\n  function toFn(value, pull) {\n    return function (to, from, dragEl, evt) {\n      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n      if (value == null && (pull || sameGroup)) {\n        // Default pull value\n        // Default pull and put value if same group\n        return true;\n      } else if (value == null || value === false) {\n        return false;\n      } else if (pull && value === 'clone') {\n        return value;\n      } else if (typeof value === 'function') {\n        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n      } else {\n        var otherGroup = (pull ? to : from).options.group.name;\n        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n      }\n    };\n  }\n\n  var group = {};\n  var originalGroup = options.group;\n\n  if (!originalGroup || _typeof(originalGroup) != 'object') {\n    originalGroup = {\n      name: originalGroup\n    };\n  }\n\n  group.name = originalGroup.name;\n  group.checkPull = toFn(originalGroup.pull, true);\n  group.checkPut = toFn(originalGroup.put);\n  group.revertClone = originalGroup.revertClone;\n  options.group = group;\n},\n    _hideGhostForTarget = function _hideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', 'none');\n  }\n},\n    _unhideGhostForTarget = function _unhideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', '');\n  }\n}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\nif (documentExists && !ChromeForAndroid) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\n\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\n\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n/**\r\n * @class  Sortable\r\n * @param  {HTMLElement}  el\r\n * @param  {Object}       [options]\r\n */\n\n\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n\n  this.el = el; // root element\n\n  this.options = options = _extends({}, options); // Export instance\n\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window && !Safari,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n\n  _prepareGroup(options); // Bind all private methods\n\n\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  } // Setup drag mode\n\n\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  } // Bind events\n\n\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n\n  sortables.push(this.el); // Restore sorting\n\n  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n  _extends(this, AnimationStateManager());\n}\n\nSortable.prototype =\n/** @lends Sortable.prototype */\n{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart(\n  /** Event|TouchEvent */\n  evt) {\n    if (!evt.cancelable) return;\n\n    var _this = this,\n        el = this.el,\n        options = this.options,\n        preventOnFilter = options.preventOnFilter,\n        type = evt.type,\n        touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n        target = (touch || evt).target,\n        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n        filter = options.filter;\n\n    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n    if (dragEl) {\n      return;\n    }\n\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    } // cancel dnd if original target is content editable\n\n\n    if (originalTarget.isContentEditable) {\n      return;\n    } // Safari ignores further event handling after mousedown\n\n\n    if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\n      return;\n    }\n\n    target = closest(target, options.draggable, el, false);\n\n    if (target && target.animated) {\n      return;\n    }\n\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    } // Get the index of the dragged element within its parent\n\n\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable); // Check filter\n\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n\n      if (filter) {\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    } // Prepare `dragstart`\n\n\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch,\n  /** HTMLElement */\n  target) {\n    var _this = this,\n        el = _this.el,\n        options = _this.options,\n        ownerDocument = el.ownerDocument,\n        dragStartFn;\n\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n\n          return;\n        } // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n\n\n        _this._disableDelayedDragEvents();\n\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        } // Bind the events: dragstart/dragend\n\n\n        _this._triggerDragStart(evt, touch); // Drag start event\n\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        }); // Chosen item\n\n\n        toggleClass(dragEl, options.chosenClass, true);\n      }; // Disable \"draggable\"\n\n\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mouseup', _this._onDrop);\n      on(ownerDocument, 'touchend', _this._onDrop);\n      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n\n      pluginEvent('delayStart', this, {\n        evt: evt\n      }); // Delay is impossible for native DnD in Edge or IE\n\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n\n          return;\n        } // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n\n\n        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n  /** TouchEvent|PointerEvent **/\n  e) {\n    var touch = e.touches ? e.touches[0] : e;\n\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n\n    try {\n      if (document.selection) {\n        // Timeout neccessary for IE9\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n\n    awaitingDragStarted = false;\n\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n\n      var options = this.options; // Apply effect\n\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost(); // Drag start event\n\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n\n      _hideGhostForTarget();\n\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n\n          target = parent; // store last element\n        }\n        /* jshint boss:true */\n        while (parent = parent.parentNode);\n      }\n\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove(\n  /**TouchEvent*/\n  evt) {\n    if (tapEvt) {\n      var options = this.options,\n          fallbackTolerance = options.fallbackTolerance,\n          fallbackOffset = options.fallbackOffset,\n          touch = evt.touches ? evt.touches[0] : evt,\n          ghostMatrix = ghostEl && matrix(ghostEl, true),\n          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n\n        this._onDragStart(evt, true);\n      }\n\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n          options = this.options; // Position absolutely\n\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl); // Set transform-origin\n\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart(\n  /**Event*/\n  evt,\n  /**boolean*/\n  fallback) {\n    var _this = this;\n\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n\n      return;\n    }\n\n    pluginEvent('setupClone', this);\n\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.removeAttribute(\"id\");\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n\n      this._hideClone();\n\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    } // #1143: IFrame support workaround\n\n\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n\n      _this._hideClone();\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n\n      on(document, 'drop', _this); // #1276 fix:\n\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        target = evt.target,\n        dragRect,\n        targetRect,\n        revert,\n        options = this.options,\n        group = options.group,\n        activeSortable = Sortable.active,\n        isOwner = activeGroup === group,\n        canSort = options.sort,\n        fromSortable = putSortable || activeSortable,\n        vertical,\n        _this = this,\n        completedFired = false;\n\n    if (_silent) return;\n\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread2({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    } // Capture animation state\n\n\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n\n      _this.captureAnimationState();\n\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    } // Return invocation when dragEl is inserted (or completed)\n\n\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        } // Animation\n\n\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      } // Null lastTarget if it is not inside a previously swapped element\n\n\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      } // no bubbling and not fallback\n\n\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    } // Call when dragEl has been inserted\n\n\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n\n    ignoreNextClick = false;\n\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = parentEl !== rootEl) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (revert) {\n        parentEl = rootEl; // actualization\n\n        capture();\n\n        this._hideClone();\n\n        dragOverEvent('revert');\n\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n\n        return completed(true);\n      }\n\n      var elLastChild = lastChild(el, options.draggable);\n\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // Insert to end of list\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        } // if there is a last element, it is the target\n\n\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n\n        if (target) {\n          targetRect = getRect(target);\n        }\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n\n          if (elLastChild && elLastChild.nextSibling) {\n            // the last draggable element is not the last node\n            el.insertBefore(dragEl, elLastChild.nextSibling);\n          } else {\n            el.appendChild(dragEl);\n          }\n\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (elLastChild && _ghostIsFirst(evt, vertical, this)) {\n        // Insert to start of list\n        var firstChild = getChild(el, 0, options, true);\n\n        if (firstChild === dragEl) {\n          return completed(false);\n        }\n\n        target = firstChild;\n        targetRect = getRect(target);\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, false) !== false) {\n          capture();\n          el.insertBefore(dragEl, firstChild);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n            targetBeforeFirstSwap,\n            differentLevel = dragEl.parentNode !== el,\n            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n            side1 = vertical ? 'top' : 'left',\n            scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        } // If dragEl is already beside target: Do not insert\n\n\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n            after = false;\n        after = direction === 1;\n\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n\n          parentEl = dragEl.parentNode; // actualization\n          // must be done before animation\n\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n\n          changed();\n          return completed(true);\n        }\n      }\n\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        options = this.options; // Get the index of the dragged element within its parent\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n\n    if (Sortable.eventCanceled) {\n      this._nulling();\n\n      return;\n    }\n\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n\n    _cancelNextTick(this.cloneId);\n\n    _cancelNextTick(this._dragStartId); // Unbind events\n\n\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n\n    this._offMoveEvents();\n\n    this._offUpEvents();\n\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n\n    css(dragEl, 'transform', '');\n\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n\n        _disableDraggable(dragEl);\n\n        dragEl.style['will-change'] = ''; // Remove classes\n        // ghostClass is added in dragStarted\n\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n\n        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            }); // Remove event\n\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // drag from one list and drop into another\n\n\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          }); // Save sorting\n\n\n          this.save();\n        }\n      }\n    }\n\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent(\n  /**Event*/\n  evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n\n        break;\n\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n\n          _globalDragOver(evt);\n        }\n\n        break;\n\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n\n  /**\r\n   * Serializes the item into an array of string.\r\n   * @returns {String[]}\r\n   */\n  toArray: function toArray() {\n    var order = [],\n        el,\n        children = this.el.children,\n        i = 0,\n        n = children.length,\n        options = this.options;\n\n    for (; i < n; i++) {\n      el = children[i];\n\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n\n    return order;\n  },\n\n  /**\r\n   * Sorts the elements according to the array.\r\n   * @param  {String[]}  order  order of the items\r\n   */\n  sort: function sort(order, useAnimation) {\n    var items = {},\n        rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    useAnimation && this.captureAnimationState();\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n    useAnimation && this.animateAll();\n  },\n\n  /**\r\n   * Save the current sorting\r\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n\n  /**\r\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\r\n   * @param   {HTMLElement}  el\r\n   * @param   {String}       [selector]  default: `options.draggable`\r\n   * @returns {HTMLElement|null}\r\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n\n  /**\r\n   * Set/get option\r\n   * @param   {string} name\r\n   * @param   {*}      [value]\r\n   * @returns {*}\r\n   */\n  option: function option(name, value) {\n    var options = this.options;\n\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n\n  /**\r\n   * Destroy\r\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    } // Remove draggable attributes\n\n\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n\n    this._onDrop();\n\n    this._disableDelayedDragEvents();\n\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n\n      return;\n    }\n\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n      if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\n\nfunction _globalDragOver(\n/**Event*/\nevt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n\n  evt.cancelable && evt.preventDefault();\n}\n\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n      sortable = fromEl[expando],\n      onMoveFn = sortable.options.onMove,\n      retVal; // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n\n  return retVal;\n}\n\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\n\nfunction _unsilent() {\n  _silent = false;\n}\n\nfunction _ghostIsFirst(evt, vertical, sortable) {\n  var rect = getRect(getChild(sortable.el, 0, sortable.options, true));\n  var spacer = 10;\n  return vertical ? evt.clientX < rect.left - spacer || evt.clientY < rect.top && evt.clientX < rect.right : evt.clientY < rect.top - spacer || evt.clientY < rect.bottom && evt.clientX < rect.left;\n}\n\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var spacer = 10;\n  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n}\n\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n      targetLength = vertical ? targetRect.height : targetRect.width,\n      targetS1 = vertical ? targetRect.top : targetRect.left,\n      targetS2 = vertical ? targetRect.bottom : targetRect.right,\n      invert = false;\n\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n\n  invert = invert || invertSwap;\n\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n/**\r\n * Gets the direction dragEl must be swapped relative to target in order to make it\r\n * seem that dragEl has been \"inserted\" into that element's position\r\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\r\n * @return {Number}                   Direction dragEl must be swapped\r\n */\n\n\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n/**\r\n * Generate id\r\n * @param   {HTMLElement} el\r\n * @returns {String}\r\n * @private\r\n */\n\n\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n      i = str.length,\n      sum = 0;\n\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum.toString(36);\n}\n\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\n\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\n\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n} // Fixed #973:\n\n\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n} // Export utils\n\n\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild\n};\n/**\r\n * Get the Sortable instance of an element\r\n * @param  {HTMLElement} element The element\r\n * @return {Sortable|undefined}         The instance of Sortable\r\n */\n\nSortable.get = function (element) {\n  return element[expando];\n};\n/**\r\n * Mount a plugin to Sortable\r\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\r\n */\n\n\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n\n    if (plugin.utils) Sortable.utils = _objectSpread2(_objectSpread2({}, Sortable.utils), plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n/**\r\n * Create sortable instance\r\n * @param {HTMLElement}  el\r\n * @param {Object}      [options]\r\n */\n\n\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n}; // Export\n\n\nSortable.version = version;\n\nvar autoScrolls = [],\n    scrollEl,\n    scrollRootEl,\n    scrolling = false,\n    lastAutoScrollX,\n    lastAutoScrollY,\n    touchEvt$1,\n    pointerElemChangedInterval;\n\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      forceAutoScrollFallback: false,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    }; // Bind all private methods\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n\n      if (fallback || this.options.forceAutoScrollFallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\n\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\n\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\n\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n      y = (evt.touches ? evt.touches[0] : evt).clientY,\n      sens = options.scrollSensitivity,\n      speed = options.scrollSpeed,\n      winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n      scrollCustomFn; // New scroll root, set scrollEl\n\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n\n  var layersOut = 0;\n  var currentParent = scrollEl;\n\n  do {\n    var el = currentParent,\n        rect = getRect(el),\n        top = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right,\n        width = rect.width,\n        height = rect.height,\n        canScrollX = void 0,\n        canScrollY = void 0,\n        scrollWidth = el.scrollWidth,\n        scrollHeight = el.scrollHeight,\n        elCSS = css(el),\n        scrollPosX = el.scrollLeft,\n        scrollPosY = el.scrollTop;\n\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n          }\n\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      dragEl = _ref.dragEl,\n      activeSortable = _ref.activeSortable,\n      dispatchSortableEvent = _ref.dispatchSortableEvent,\n      hideGhostForTarget = _ref.hideGhostForTarget,\n      unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\n\nfunction Revert() {}\n\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n        putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n\n    this.sortable.animateAll();\n\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\n\nfunction Remove() {}\n\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n        putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar lastSwapEl;\n\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n          target = _ref2.target,\n          onMove = _ref2.onMove,\n          activeSortable = _ref2.activeSortable,\n          changed = _ref2.changed,\n          cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n          options = this.options;\n\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n          putSortable = _ref3.putSortable,\n          dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\n\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n      p2 = n2.parentNode,\n      i1,\n      i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n    multiDragClones = [],\n    lastMultiDragSelect,\n    // for selection with modifier key down (SHIFT)\nmultiDragSortable,\n    initialFolding = false,\n    // Initial multi-drag fold when drag started\nfolding = false,\n    // Folding any other time\ndragStarted = false,\n    dragEl$1,\n    clonesFromRect,\n    clonesHidden;\n\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n\n    if (!sortable.options.avoidImplicitDeselect) {\n      if (sortable.options.supportPointer) {\n        on(document, 'pointerup', this._deselectMultiDrag);\n      } else {\n        on(document, 'mouseup', this._deselectMultiDrag);\n        on(document, 'touchend', this._deselectMultiDrag);\n      }\n    }\n\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      avoidImplicitDeselect: false,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n          cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n\n      sortable._hideClone();\n\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n          rootEl = _ref3.rootEl,\n          dispatchSortableEvent = _ref3.dispatchSortableEvent,\n          cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n          rootEl = _ref4.rootEl,\n          cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n\n      var sortable = _ref5.sortable,\n          cloneNowHidden = _ref5.cloneNowHidden,\n          cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      }); // Sort multi-drag elements\n\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n        sortable.captureAnimationState();\n\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        } // Remove all auxiliary multidrag items from el, if sorting enabled\n\n\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n          completed = _ref8.completed,\n          cancel = _ref8.cancel;\n\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n          rootEl = _ref9.rootEl,\n          sortable = _ref9.sortable,\n          dragRect = _ref9.dragRect;\n\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n          isOwner = _ref10.isOwner,\n          insertion = _ref10.insertion,\n          activeSortable = _ref10.activeSortable,\n          parentEl = _ref10.parentEl,\n          putSortable = _ref10.putSortable;\n      var options = this.options;\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n\n        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\n\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n\n            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n\n\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n          isOwner = _ref11.isOwner,\n          activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n          rootEl = _ref12.rootEl,\n          parentEl = _ref12.parentEl,\n          sortable = _ref12.sortable,\n          dispatchSortableEvent = _ref12.dispatchSortableEvent,\n          oldIndex = _ref12.oldIndex,\n          putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n          children = parentEl.children; // Multi-drag selection\n\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvent: evt\n          }); // Modifier activated, select from last to dragEl\n\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n                currentIndex = index(dragEl$1);\n\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n              // (but previous selection existed)\n              var n, i;\n\n              if (currentIndex > lastIndex) {\n                i = lastIndex;\n                n = currentIndex;\n              } else {\n                i = currentIndex;\n                n = lastIndex + 1;\n              }\n\n              for (; i < n; i++) {\n                if (~multiDragElements.indexOf(children[i])) continue;\n                toggleClass(children[i], options.selectedClass, true);\n                multiDragElements.push(children[i]);\n                dispatchEvent({\n                  sortable: sortable,\n                  rootEl: rootEl,\n                  name: 'select',\n                  targetEl: children[i],\n                  originalEvent: evt\n                });\n              }\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvent: evt\n          });\n        }\n      } // Multi-drag drop\n\n\n      if (dragStarted && this.isMultiDrag) {\n        folding = false; // Do not \"unfold\" after around dragEl if reverted\n\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect; // Prepare unfold animation\n\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n\n\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n\n              multiDragIndex++;\n            }); // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n\n              if (update) {\n                dispatchSortableEvent('update');\n              }\n            }\n          } // Must be done after capturing individual rects (scroll bar)\n\n\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n\n        multiDragSortable = toSortable;\n      } // Remove clones if necessary\n\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return; // Only deselect if selection is in this sortable\n\n      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n\n      if (evt && evt.button !== 0) return;\n\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvent: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\r\n       * Selects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be selected\r\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n\n          multiDragSortable = sortable;\n        }\n\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n\n      /**\r\n       * Deselects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be deselected\r\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n            index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n\n      var oldIndicies = [],\n          newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        }); // multiDragElements will already be sorted if folding\n\n        var newIndex;\n\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n\n        return key;\n      }\n    }\n  });\n}\n\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n/**\r\n * Insert multi-drag clones\r\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\r\n * @param  {HTMLElement} rootEl\r\n */\n\n\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\n\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nSortable.mount(new AutoScrollPlugin());\nSortable.mount(Remove, Revert);\n\nexport default Sortable;\nexport { MultiDragPlugin as MultiDrag, Sortable, SwapPlugin as Swap };\n","import Sortable from 'sortablejs'\r\nimport {$, popup, post} from '../common'\r\n\r\nexport default function sortable(containerSelector, elSelector, model) {\r\n\r\n  let container = $(containerSelector)[0];\r\n  if (container) {\r\n\r\n    let sortable = Sortable.create(container, {\r\n      animation: 150,\r\n      onEnd: function (evt) {\r\n        let oldI = evt.oldIndex\r\n        let newI = evt.newIndex\r\n        if (oldI > newI) {\r\n          sort(oldI)\r\n        } else {\r\n          sort(newI)\r\n        }\r\n\r\n        async function sort(upToQestionNumber) {\r\n          let els = $(elSelector);\r\n          let questionsEls = [].map.call(els, function (el, i) {\r\n              if (i - 1 < upToQestionNumber) return el\r\n            }\r\n          )\r\n\r\n          let toChange = questionsEls.map((el) => {\r\n            return el.id\r\n          })\r\n          let res = await post(`/adminsc/${model}/sort`, {toChange})\r\n          questionsEls.map((el, i) => {\r\n            $(el).find('.sort').innerText = i + 1\r\n          })\r\n        }\r\n      },\r\n    })\r\n\r\n  }\r\n}","import {$, popup, post} from '../../../common'\r\n\r\nexport default class _test {\r\n\r\n  constructor() {\r\n    this.model = 'opentest'\r\n  }\r\n\r\n  async create() {\r\n    let test = _test.serverModel()\r\n    test.id = 0\r\n    test.isTest = 1\r\n    debugger\r\n    let url = `/${this.model}/updateOrCreate`\r\n    let res = await post(url, test)\r\n    if (res) {\r\n      window.location.href = `/adminsc/${model}/edit/${res.id}`\r\n    }\r\n  }\r\n\r\n  id() {\r\n    return id ?? $('.test-name')[0].dataset.testid\r\n  }\r\n\r\n  children() {\r\n    let childrenLenght = $('.children').length\r\n    if (childrenLenght)\r\n      return childrenLenght\r\n    return false\r\n  }\r\n\r\n  async path_create() {\r\n    let test_path = _test.serverModel()\r\n    test_path.id = 0\r\n    test_path.isTest = 0\r\n    let url = `/adminsc/${model}/create`\r\n    let res = await post(url, test_path)\r\n    if (res) {\r\n      window.location.href = `/adminsc/${model}/edit/${res.id - 1}`\r\n    }\r\n  }\r\n\r\n  name() {\r\n    return $('.test-name')[0].innerText\r\n  }\r\n\r\n  async update() {\r\n    let model = _test.serverModel()\r\n    let url = `/adminsc/${model}/update/${model.id}`\r\n    let res = await post(url, model)\r\n    if (res) {\r\n      window.location.href = `/adminsc/${model}/edit/${model.id}`\r\n    }\r\n  }\r\n\r\n  async del() {\r\n    if (_test.children()) {\r\n      popup.show('     ')\r\n      return false\r\n    }\r\n\r\n    let id = _test.id()\r\n    let res = await post('/adminsc/${model}/delete', {id})\r\n    if (res.notAdmin) {\r\n      popup.show('  .    -   ')\r\n      setTimeout(() => {\r\n        window.location = `/adminsc/${model}/edit/400`\r\n      }, 4000)\r\n    } else {\r\n      window.location = `/adminsc/${model}/edit/400`\r\n    }\r\n\r\n  }\r\n\r\n  // currentQ() {\r\n  //   return {\r\n  //     id: $('.nav-active')[0].innerText - 1,\r\n  //     QEl: $('.question.flex1')[0],\r\n  //     navLength: $('[data-pagination]').length,\r\n  //     QPrevc: $('.question.flex1')[0].previousElementSibling,\r\n  //     QNextEl: $('.question.flex1')[0].nextElementSibling,\r\n  //   }\r\n  // }\r\n  //\r\n  //\r\n  // viewModel() {\r\n  //   return {\r\n  //     id: +window.location.href.split('/').pop(),\r\n  //     test_name: $('#test_name').text(),\r\n  //     enable: $('#enable')[0],\r\n  //     parent: $('select').selectedIndexValue(),\r\n  //   }\r\n  // }\r\n\r\n\r\n  //\r\n  // selectedValueCustomSelect(className) {\r\n  //\r\n  //   let select = $(`[data-field=${className}]`)[0]\r\n  //   let selected = [...select.options].filter((opt) => opt.selected)\r\n  //   if (selected) {\r\n  //     return +selected[0].value\r\n  //   }\r\n  // }\r\n  //\r\n  //\r\n  // serverModel() {\r\n  //   let model = {\r\n  //     id: +window.location.href.split('/').pop(),\r\n  //     test_name: $('#test_name')[0].value,\r\n  //     isTest: +$('[isTest]')[0].getAttribute('isTest'),\r\n  //   }\r\n  //\r\n  //   let fields = $('.custom-select');\r\n  //   [].forEach.call(fields, function (field) {\r\n  //     model[field.dataset['field']] = field.dataset['id']\r\n  //   })\r\n  //   return model\r\n  // }\r\n}","import {$, popup, post} from '../../../common'\r\n\r\nexport let _answer = {\r\n\r\n  async create(button) {\r\n\r\n    let question = button.closest('.question-edit')\r\n    let openquestion_id = question.id\r\n    let sort = question.querySelectorAll('.answer').length + 1\r\n    let res = await post('/adminsc/openanswer/updateOrCreate',\r\n      {openquestion_id, sort})\r\n    let id = res.arr.id\r\n    if (id) {\r\n      let html = res.arr.html\r\n      button.insertAdjacentHTML(\"beforebegin\", html)\r\n    } else {\r\n      popup.show('')\r\n    }\r\n  },\r\n\r\n  async del(target) {\r\n    let del_button = target.closest('.delete')\r\n    if (!del_button) return false\r\n    if (confirm(\"  ?\")) {\r\n      let answer = del_button.closest('.answer')\r\n      let id = +answer.dataset['answerId']\r\n      let res = await post('/adminsc/openanswer/delete', {id})\r\n\r\n      if (res) {\r\n        answer.remove()\r\n      }\r\n    }\r\n  },\r\n}\r\n","import './WDSSelect.scss'\r\nimport './customSelect.scss'\r\n\r\nexport default class WDSSelect {\r\n\r\n  constructor(el) {\r\n\r\n    if (!el) return false\r\n    if (el.multiple) return false\r\n\r\n    this.title = el.title ?? ''\r\n    this.field = el.dataset['field']\r\n    this.options = getFormattedOptions(el.querySelectorAll(\"option\"))\r\n\r\n    this.sel = document.createElement(\"div\")\r\n    if (el.className) this.sel.classList.add(el.className)\r\n\r\n    this.label = document.createElement(\"span\")\r\n    this.arrow = document.createElement(\"div\")\r\n    this.space = document.createElement(\"div\")\r\n\r\n    this.ul = document.createElement(\"ul\")\r\n    setup(this)\r\n    el.after(this.sel)\r\n    // el.style.display = \"none\"\r\n    el.remove()\r\n  }\r\n\r\n  get selectedOption() {\r\n    return this.options.find(option => option.selected)\r\n  }\r\n\r\n  get selectedOptionIndex() {\r\n    return this.options.indexOf(this.selectedOption)\r\n  }\r\n\r\n  selectValue(value) {\r\n    const next = this.options.find(option => {\r\n      return option.value === value\r\n    })\r\n    const prev = this.selectedOption\r\n    prev.selected = false\r\n\r\n    next.selected = true\r\n\r\n    this.space.innerText = next.label\r\n    this.label.closest('[custom-select]').dataset['id'] = next.value\r\n    this.label.closest('[custom-select]').dataset['value'] = next.value\r\n    this.ul\r\n      .querySelector(`[data-value=\"${prev.value}\"]`)\r\n      .classList.remove(\"selected\")\r\n    const newCustomElement = this.ul.querySelector(\r\n      `[data-value=\"${next.value}\"]`\r\n    )\r\n    newCustomElement.classList.add(\"selected\")\r\n    newCustomElement.scrollIntoView({block: \"nearest\"})\r\n  }\r\n}\r\n\r\nfunction setup(select) {\r\n\r\n  if (select.title) {\r\n    select.titleElement = document.createElement(\"div\")\r\n    select.titleElement.classList.add(\"title\")\r\n    select.titleElement.innerText = select.title\r\n    select.sel.append(select.titleElement)\r\n  }\r\n\r\n  select.sel.setAttribute(\"custom-select\",'')\r\n  if(select.field)select.sel.dataset['field'] = select.field\r\n  select.sel.dataset['id'] = select.selectedOption.value\r\n  select.sel.dataset['value'] = select.selectedOption.value\r\n  select.sel.tabIndex = 0\r\n\r\n  select.sel.append(select.label)\r\n\r\n  select.space.classList.add(\"space\")\r\n  select.space.innerText = select.selectedOption.label\r\n  select.label.append(select.space)\r\n\r\n  select.arrow.classList.add(\"arrow\")\r\n  select.label.append(select.arrow)\r\n\r\n  select.ul.classList.add(\"options\")\r\n  select.options.forEach(option => {\r\n    setOption(option)\r\n  })\r\n\r\n  function setOption(option) {\r\n    const li = document.createElement(\"li\")\r\n    li.innerText = option.label\r\n    li.dataset.value = option.value\r\n    li.classList.toggle(\"selected\", option.selected)\r\n    li.addEventListener(\"click\", () => {\r\n      select.selectValue(option.value)\r\n      select.ul.classList.remove(\"show\")\r\n    })\r\n    select.ul.append(li)\r\n  }\r\n\r\n  select.sel.append(select.ul)\r\n\r\n  select.label.addEventListener(\"click\", () => {\r\n    select.ul.classList.toggle(\"show\")\r\n  })\r\n\r\n  select.sel.addEventListener(\"blur\", () => {\r\n    select.ul.classList.remove(\"show\")\r\n  })\r\n\r\n  let debounceTimeout\r\n  let searchTerm = \"\"\r\n  select.sel.addEventListener(\"keydown\", e => {\r\n    switch (e.code) {\r\n      case \"Space\":\r\n        select.ul.classList.toggle(\"show\")\r\n        break\r\n      case \"ArrowUp\": {\r\n        const prevOption = select.options[select.selectedOptionIndex - 1]\r\n        if (prevOption) {\r\n          select.selectValue(prevOption.value)\r\n        }\r\n        break\r\n      }\r\n      case \"ArrowDown\": {\r\n        const nextOption = select.options[select.selectedOptionIndex + 1]\r\n        if (nextOption) {\r\n          select.selectValue(nextOption.value)\r\n        }\r\n        break\r\n      }\r\n      case \"Enter\":\r\n      case \"Escape\":\r\n        select.ul.classList.remove(\"show\")\r\n        break\r\n      default: {\r\n        clearTimeout(debounceTimeout)\r\n        searchTerm += e.key\r\n        debounceTimeout = setTimeout(() => {\r\n          searchTerm = \"\"\r\n        }, 500)\r\n\r\n        const searchedOption = select.options.find(option => {\r\n          return option.label.toLowerCase().startsWith(searchTerm)\r\n        })\r\n        if (searchedOption) {\r\n          select.selectValue(searchedOption.value)\r\n        }\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\nfunction getFormattedOptions(options) {\r\n  return [...options].map(option => {\r\n    return {\r\n      value: option.value,\r\n      label: option.label,\r\n      selected: option.selected,\r\n      element: option,\r\n    }\r\n  })\r\n}","import './test-edit.scss'\r\nimport '../components/footer/footer.scss'\r\n\r\nimport './test-edit-menu.scss'\r\nimport '../components/popup.scss'\r\n\r\nimport './test-update'\r\nimport '../Admin/admin'\r\n\r\nimport {$, post, popup, debounce} from '../common'\r\n\r\nimport {_openquestion} from \"./model/opentest/openquestion\"\r\nimport sortable from \"../components/sortable\"\r\nimport _test from \"./model/opentest/opentest\";\r\nimport {_answer} from \"./model/opentest/openanswer\";\r\nimport catalogItem from \"../components/catalog-item/catalog-item\";\r\nimport WDSSelect from \"../components/select/WDSSelect\";\r\n\r\n\r\nlet opentestEdit = $('.opentest-edit-wrapper')[0]\r\nif (opentestEdit) {\r\n\r\n  sortable('.opentest-edit-wrapper .questions',\r\n    '.opentest-edit-wrapper .question-edit',\r\n    'openquestion')\r\n\r\n  let enable = new WDSSelect($('[data-field=\"enable\"]')[0])\r\n  let parent = new WDSSelect($('[data-field=\"opentest_id\"]')[0])\r\n\r\n  $(opentestEdit).on('change', handleChange)\r\n\r\n  $(opentestEdit).on('click', ({target}) => {\r\n      const test = new _test()\r\n\r\n      if (target.classList.contains('test-path__create')) {\r\n        test.path_create()\r\n      } else if (target.classList.contains('test__create')) {\r\n        test.create()\r\n      } else if (!!target.closest('.question__show-answers')) {\r\n        _openquestion.showAnswers(target)\r\n      } else if (!!target.closest('.question__delete')) {\r\n        _openquestion.del(target)\r\n      } else if (target.classList.contains('question__create-button')) {\r\n        _openquestion.create(target)\r\n      } else if (!!target.closest('.delete')) {\r\n        _answer.del(target)\r\n      } else if (target.classList.contains('answer__create-button')) {\r\n        _answer.create(target)\r\n      } else if (!!target.closest('.question-edit__parent-select')) {\r\n        _openquestion.changeParent(target)\r\n      } else if (target.classList.contains('led')) {\r\n        target.classList.toggle('animated')\r\n      }\r\n    }\r\n  )\r\n\r\n  let handleKeyup = async function ({target}) {\r\n\r\n    if (target.classList.contains('text')) {\r\n      let answer = target.closest('.answer')\r\n      let quest = target.closest('.question-edit')\r\n      if (answer) {\r\n        saveAnswer(answer)\r\n      } else if (quest) {\r\n        let id = quest.id\r\n        let question = target.innerText\r\n        let res = await post('/adminsc/openquestion/updateOrCreate',\r\n          {id, question})\r\n      }\r\n    }\r\n  }\r\n\r\n  let debouncedInput = debounce(handleKeyup)\r\n  $(opentestEdit).on('keyup', debouncedInput)\r\n\r\n}\r\n\r\n\r\nasync function saveAnswer(answerEl) {\r\n  let id = answerEl.dataset.answerId\r\n  let is_correct = +answerEl.querySelector('input').checked\r\n  let openquestion_id = answerEl.closest('.question-edit').id\r\n  let answer = answerEl.querySelector('.text').innerText\r\n  let res = await post('/adminsc/openanswer/updateOrCreate',\r\n    {id, answer, openquestion_id, is_correct})\r\n\r\n}\r\n\r\nasync function handleChange({target}) {\r\n  let answer = target.closest('.answer')\r\n\r\n  if (answer) {\r\n    saveAnswer(answer)\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n","import {$, post, trimStr, popup} from '../../common'\r\n\r\nclass answer {\r\n  constructor() {\r\n  }\r\n\r\n  async saveAnswer(target) {\r\n    let q_id = target.closest('.question-edit').dataset.id\r\n    let el = target.closest('.answer')\r\n    let answer = this.getAnswerModel(el, q_id)\r\n    let res = await post('/adminsc/answer/updateOrCreate', answer)\r\n  }\r\n\r\n  async del(target) {\r\n    let el = target.closest('.answer')\r\n\r\n    let id = +target.dataset.id\r\n    if (confirm('?')) {\r\n      let res = await post(`/adminsc/answer/delete`, {id})\r\n      if (res) {\r\n        el.remove()\r\n      }\r\n    }\r\n  }\r\n\r\n  async answerCreate(target) {\r\n    let answer = $('.answer__create .answer')[0]\r\n    let question = target.closest('.question-edit')\r\n    let q_id = +question.id\r\n    let clone = answer.cloneNode(true)\r\n    let answerModel = this.getAnswerModel(clone, q_id)\r\n    let res = await post(`/adminsc/answer/updateOrCreate`, answerModel)\r\n    if (res) {\r\n      if (res.arr.popup) popup.show(res.arr.popup)\r\n      if (res.arr.id ) {\r\n        let sort = question.querySelectorAll('.answer').length + 1\r\n        clone.querySelector('.sort').innerText = sort\r\n        clone.querySelector('.delete').dataset.id =\r\n          clone.dataset.id = res.arr.id\r\n        target.before(clone)\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  getAnswerModel(el, q_id) {\r\n    return {\r\n      id: +el.dataset.id,\r\n      answer: trimStr($(el).find('.text').innerText),\r\n      question_id: q_id,\r\n      correct_answer: +$(el).find('input').checked,\r\n      pica: '',\r\n    }\r\n  }\r\n}\r\n\r\nexport let _answer = new answer()\r\n","import {$, popup, post, trimStr} from \"../../common\"\r\nimport {_answer} from \"./answer\";\r\n\r\nclass question {\r\n\r\n  constructor(el) {\r\n    this.sort = document.querySelectorAll('.questions>.question-edit').length+1  ?? 0\r\n  }\r\n\r\n  async questionCreate(target) {\r\n    let question = $('.question__create .question-edit')[0]\r\n    let clone = question.cloneNode(true)\r\n    let questionModel = this.getQuestionModel(clone)\r\n    let res = await post(`/adminsc/question/updateOrCreate`, questionModel)\r\n    if (res) {\r\n      clone.querySelector('.sort').innerText = this.sort\r\n      clone.querySelector('.question__delete').dataset.id =\r\n        clone.dataset.id = res.arr.id\r\n      target.before(clone)\r\n    }\r\n  }\r\n\r\n  getQuestionModel(el) {\r\n    return {\r\n      id: el.dataset.id,\r\n      qustion: trimStr(el.querySelector('.text').innerText),\r\n      parent: +window.location.href.split('/').pop(),\r\n      sort: el.querySelector('.sort').innerText,\r\n    }\r\n  }\r\n\r\n  async changeParent(target) {\r\n    debugger\r\n    let opt = target.options[target.selectedIndex]\r\n    let id = target.closest('.question-edit').id\r\n    let test_id = opt.dataset['questionParentId']\r\n    let test_name = opt.value\r\n    let res = await post('/adminsc/question/changeParent', {id, test_id})\r\n    let question = target.closest('.question-edit')\r\n    question.remove()\r\n  }\r\n\r\n  showAnswers(target) {\r\n    let row = target.closest('.question-edit')\r\n    let answers = $(row).find('.question__answers')\r\n    answers.classList.toggle('height')\r\n    answers.classList.toggle('scale')\r\n    target.classList.toggle('rotate')\r\n  }\r\n\r\n  async del(target) {\r\n    let model = target.dataset.model\r\n    let el = null\r\n    if (model === 'answer') {\r\n      el = target.closest('.answer')\r\n    } else if (model === 'question') {\r\n      el = target.closest('.question-edit')\r\n    }\r\n    let id = +target.dataset.id\r\n    if (confirm('?')) {\r\n      let res = await post(`/adminsc/${model}/delete`, {id})\r\n      if (res) {\r\n        el.remove()\r\n      }\r\n    }\r\n  }\r\n\r\n  async saveQuestion(target) {\r\n    let el = target.closest('.question-edit')\r\n    let question = _question.getQuestionModel(el)\r\n    let res = await post('/adminsc/question/UpdateOrCreate', question)\r\n  }\r\n\r\n  // getAnswers(question) {\r\n  //   let answers = question.querySelectorAll('.answer')\r\n  //   return [...answers].map((a) => {\r\n  //     return {\r\n  //       id: +a.dataset['answerId'],\r\n  //       answer: a.querySelector('.text').innerText,\r\n  //       correct_answer: +a.querySelector('[type=\"checkbox\"]').checked,\r\n  //       question_id: +question.id,\r\n  //       pica: '',\r\n  //     }\r\n  //   }, question)\r\n  // }\r\n}\r\n\r\nexport let _question = new question\r\n","import {$, popup, post} from '../../common'\r\n\r\nexport const _test = {\r\n\r\n\r\n  viewModel: () => {\r\n    return {\r\n      id: +window.location.href.split('/').pop(),\r\n      name: $('#test_name').text(),\r\n      enable: $('#enable')[0],\r\n      parent: $('select').selectedIndexValue(),\r\n    }\r\n  },\r\n\r\n  children: () => {\r\n    let childrenLenght = $('.children').length\r\n    if (childrenLenght)\r\n      return childrenLenght\r\n    return false\r\n  },\r\n\r\n  path_create: async () => {\r\n    let test_path = _test.serverModel()\r\n    test_path.id = 0\r\n    test_path.isTest = 0\r\n    let url = `/adminsc/test/updateOrCreate`\r\n    let res = await post(url, test_path)\r\n    if (res) {\r\n      window.location.href = `/adminsc/test/edit/${res.arr.id }`\r\n    }\r\n  },\r\n\r\n  id: (id) => {\r\n    return id ?? $('.test-name')[0].dataset.testid\r\n  },\r\n  name: () => {\r\n    return $('.test-name')[0].innerText\r\n  },\r\n\r\n  create: async () => {\r\n    let test = _test.serverModel()\r\n    test.id = 0\r\n    test.isTest = 1\r\n    let url = `/test/updateOrCreate`\r\n    let res = await post(url, test)\r\n    debugger\r\n    if (res) {\r\n      window.location.href = `/adminsc/test/edit/${res.arr.id}`\r\n    }\r\n  },\r\n\r\n\r\n  serverModel: () => {\r\n    let id = !!+window.location.href.split('/').pop()\r\n    id = id ? id : 0\r\n    let model = {\r\n      id,\r\n      name: $('#name.field')[0].value,\r\n      isTest: +$('[isTest]')[0].getAttribute('isTest'),\r\n    }\r\n    // debugger\r\n    let fields = $('[custom-select]');\r\n    [].forEach.call(fields, function (field) {\r\n      model[field.dataset['field']] = field.dataset['id']\r\n    })\r\n    return model\r\n  },\r\n\r\n  update: async () => {\r\n    let model = _test.serverModel()\r\n    let url = `/adminsc/test/update/${model.id}`\r\n    let res = await post(url, model)\r\n    if (res) {\r\n      window.location.href = `/adminsc/test/edit/${model.id}`\r\n    }\r\n  },\r\n\r\n  delete: async function () {\r\n\r\n    if (_test.children()) {\r\n      popup.show('     ')\r\n      return false\r\n    }\r\n\r\n    let id = _test.id()\r\n    let res = await post('/adminsc/test/delete', {id})\r\n    if (res.notAdmin) {\r\n      popup.show('  .    -   ')\r\n      setTimeout(() => {\r\n        window.location = '/adminsc/test/edit/400'\r\n      }, 4000)\r\n    } else {\r\n      window.location = '/adminsc/test/edit/400'\r\n    }\r\n\r\n  },\r\n  // selectedValueCustomSelect(className) {\r\n  //   let select = $(`[data-field=${className}]`)[0]\r\n  //   let selected = [...select.options].filter((opt) => opt.selected)\r\n  //   if (selected) {\r\n  //     return +selected[0].value\r\n  //   }\r\n  // },\r\n\r\n}\r\n","import './test-edit.scss'\r\nimport '../components/footer/footer.scss'\r\n\r\nimport './test-edit-menu.scss'\r\n\r\nimport './test-update'\r\n\r\nimport {$, debounce} from '../common'\r\n\r\nimport {_question} from \"./model/question\"\r\nimport {_test} from \"./model/test\";\r\nimport {_answer} from \"./model/answer\";\r\n\r\nimport sortable from \"../components/sortable\"\r\nimport WDSSelect from \"../components/select/WDSSelect\"\r\n\r\n\r\nexport default function testEdit() {\r\n\r\n  let testEdit = $('.test-edit-wrapper')[0]\r\n  if (testEdit) {\r\n\r\n    sortable('.test-edit-wrapper .questions',\r\n      '.questions>.question-edit',\r\n      'question')\r\n\r\n    $(testEdit).on('keyup', debouncedHandleKeyup)\r\n    $(testEdit).on('change', handleChange)\r\n    $(testEdit).on('click', handleClick)\r\n  }\r\n}\r\n\r\nfunction handleClick({target}) {\r\n\r\n  if (target.classList.contains('test-path__update')) {\r\n    _test.update()\r\n  } else if (target.classList.contains('test__update')) {\r\n    _test.update()\r\n  } else if (target.classList.contains('test__save')) {\r\n    _test.update()\r\n  } else if (target.classList.contains('test__delete')) {\r\n    _test.delete()\r\n  } else if (target.classList.contains('test-path__create')) {\r\n    _test.path_create()\r\n  } else if (target.classList.contains('test__create')) {\r\n    _test.create()\r\n  } else if (!!target.closest('.question__show-answers')) {\r\n    _question.showAnswers(target)\r\n  } else if (target.classList.contains('question__create-button')) {\r\n    _question.questionCreate(target)\r\n  } else if (!!target.closest('.question__delete')) {\r\n    _question.del(target)\r\n  } else if (!!target.closest('.delete')) {\r\n    _answer.del(target)\r\n  } else if (target.classList.contains('answer__create-button')) {\r\n    _answer.answerCreate(target)\r\n  } else if (target.classList.contains('correct')) {\r\n    _answer.saveAnswer(target)\r\n  }\r\n}\r\n\r\nlet debouncedHandleKeyup = debounce(handleKeyup)\r\n\r\nasync function handleKeyup({target}) {\r\n  if (target.classList.contains('text')) {\r\n    let answer = target.closest('.answer')\r\n    if (answer) {\r\n      _answer.saveAnswer(target)\r\n    } else {\r\n      _question.saveQuestion(target)\r\n    }\r\n  }\r\n}\r\n\r\nasync function handleChange({target}) {\r\n  if (!!target.closest('.question-edit__parent-select')) {\r\n    _question.changeParent(target)\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import './do.scss'\r\n// import './test-pagination/test-pagination'\r\n\r\nimport {post, $, cachePage} from '../common'\r\n\r\nlet testDo = $('.test-do')[0]\r\nif (testDo) {\r\n  showFirstQuest()\r\n  finishBtnInit()\r\n  testDo.addEventListener('click', handleClick)\r\n}\r\n\r\nfunction handleClick({target}) {\r\n  if (target.classList.contains('accordion-open')) return\r\n  let currQuest = $('.question.show')[0] ?? ''\r\n  let id = +currQuest?.dataset.id ?? ''\r\n  let navs = $('[data-pagination]') ?? ''\r\n  let navIndex = navs.findIndex(el => el.classList.contains('active')) ?? ''\r\n\r\n  if (target.type === \"checkbox\") {\r\n    let answer = target.labels[0]\r\n    answer.classList.toggle('pushed')\r\n  } else if (target.id === 'prev') {\r\n    prevQ()\r\n  } else if (target.id === 'next') {\r\n    nextQ()\r\n  } else if (target.classList.contains('test-do__finish-btn')) {\r\n    finishTest(target)\r\n  }\r\n\r\n  function prevQ() {\r\n    if (navIndex < 1) return false\r\n    let aimId = +navs[navIndex - 1].dataset.pagination\r\n    pushNav(id, aimId)\r\n    pushQ(aimId)\r\n  }\r\n\r\n  function nextQ() {\r\n    if (navIndex === navs.length - 1) return false\r\n    let aimId = +navs[navIndex + 1].dataset.pagination\r\n\r\n    pushNav(id, aimId)\r\n    pushQ(aimId)\r\n  }\r\n\r\n  function pushNav(currentId, aimNavId) {\r\n    let currNavEl = $(`[data-pagination=\"${currentId}\"]`)[0]\r\n    currNavEl.classList.toggle('active')\r\n\r\n    let NavEl = $(`[data-pagination=\"${aimNavId}\"]`)[0]\r\n    NavEl.classList.toggle('active')\r\n  }\r\n\r\n  function pushQ(aimId) {\r\n    currQuest.classList.toggle('show')\r\n    let aimQuestion = $(`.question[data-id=\"${aimId}\"]`)[0]\r\n    aimQuestion.classList.toggle('show')\r\n  }\r\n}\r\n\r\nasync function finishTest(target) {\r\n\r\n  if (target.innerText === \"  \") {\r\n    location.reload();\r\n    return;\r\n  }\r\n  target.innerText = \"  \"\r\n  target.classList.add('inactive')\r\n\r\n  let corrAnswers = await post('/adminsc/test/getCorrectAnswers', {})\r\n  colorView(corrAnswers.arr)\r\n  let errorCnt = $('.redShadow').length\r\n\r\n  let data = objToServer(errorCnt)\r\n  let res = await post('/adminsc/testresult/create', data)\r\n  if (res) {\r\n    target.href = location.href\r\n    target.innerText = \"  \"\r\n  }\r\n}\r\n\r\nfunction objToServer(errorCnt) {\r\n  return {\r\n    questionCnt: $('.question').length,\r\n    errorCnt: errorCnt,\r\n    html: cachePage('.test-do'),\r\n    testid: $('[data-test-id]')[0].dataset.testId,\r\n    testname: $('.test-name')[0].innerText,\r\n    user: $('.user-menu .fio')[0].innerText,\r\n  }\r\n}\r\n\r\n\r\nfunction colorView(correctAnswers) {\r\n  let questions = $('.question');\r\n  [].map.call(questions, (question)=> {\r\n    let errors = colorQuestions(question, correctAnswers)\r\n    colorPgination(question, errors)\r\n  })\r\n}\r\n\r\nfunction colorPgination(question, errors) {\r\n  let id = question.dataset['id']\r\n  let paginItem = $(`.pagination [data-pagination='${+id}']`)[0]\r\n  if (errors.length) {\r\n    $(paginItem).addClass('redShadow')\r\n  } else {\r\n    $(paginItem).addClass('greenShadow')\r\n  }\r\n}\r\n\r\nfunction colorQuestions(question, correctAnswers) {\r\n  let answers = question.querySelectorAll('.a');\r\n  let errors = [];\r\n  [].map.call(answers, (answer)=> {\r\n    let input = $(answer).find('input')\r\n    let id = answer.dataset.id\r\n    let error = checkCorrectAnswers(id, correctAnswers, input, answer)\r\n    if (error)errors.push(true)\r\n  })\r\n  return errors\r\n}\r\n\r\nfunction checkCorrectAnswers(id, correctAnswers, input, answer) {\r\n  let correctAnser = correctAnswers.indexOf(id) !== -1\r\n  let checked = input.checked\r\n  let error = false\r\n\r\n  if (checked && correctAnser) {// checkbox .   correct answer .  correct_answers ,    \r\n    answer.classList.add('done'); //green check  \r\n  } else if (checked && !correctAnser) {// checkbox ,   correct answer.  correct_answers ,   \r\n    error = true\r\n  } else if (!checked && correctAnser) {//   ,  correct_answers \r\n    answer.classList.add('done'); //green check  \r\n    error =true\r\n  } else if (!checked && !correctAnser) {//   ,  correct_answers \r\n  }\r\n  return error\r\n}\r\n\r\nfunction finishBtnInit() {\r\n  let button = $('.test-do__finish-btn')[0]\r\n  if (button) {\r\n    if (window.location.pathname.match('^/test/result/.?')) {\r\n      button.classList.add('inactive')\r\n    }\r\n  }\r\n}\r\n\r\nfunction showFirstQuest() {\r\n  $('.question').removeClass(\"show\")\r\n  $('.question:first-child').addClass(\"show\")\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import './open_test.scss'\r\nimport {$, post, cachePage} from \"../common\";\r\n\r\nimport '../components/accordion-show';\r\n\r\n\r\nlet openTest = $('.opentest-do')[0]\r\nif (openTest) {\r\n  showFirstQuest()\r\n  $(openTest).on('click', handleClick)\r\n  $(openTest).on('keyup', handleKeyup)\r\n}\r\n\r\nfunction showFirstQuest() {\r\n  let firstQuest = $('.question')[0]\r\n  if (firstQuest)firstQuest.classList.add('show')\r\n}\r\n\r\n\r\nfunction handleKeyup({target}) {\r\n  if (target.classList.contains('textarea')) {\r\n    let activePagination = $('[data-pagination].active')[0]\r\n    if (!target.innerText) {\r\n      activePagination.classList.remove('filled')\r\n    } else {\r\n      activePagination.classList.add('filled')\r\n    }\r\n  }\r\n}\r\n\r\nasync function handleClick({target}) {\r\n  let testid = target.dataset.id\r\n  let activeQuestion = $('.question.show')[0]\r\n\r\n  if (target.id === 'finish') {\r\n    finish(target)\r\n  }\r\n\r\n  async function finish(target) {\r\n    if (target.innerText === \"  \") {\r\n      location.reload();\r\n      return;\r\n    }\r\n    let questions = await post('/adminsc/opentestresult/getanswers', testid)\r\n    let correctAnswers = correctCount(questions.arr)\r\n    let obj = objToServ(correctAnswers)\r\n    let res = await post('/adminsc/opentestresult/finish', obj)\r\n    if (res) {\r\n      target.innerText = \"  \"\r\n      target.classList.add('inactive')\r\n    }\r\n  }\r\n\r\n  function objToServ(rightAnswers) {\r\n    $('.buttons')[0].remove()\r\n    return {\r\n      testId: +testid,\r\n      questionCnt: paginations.length,\r\n      html: cachePage('.test'),\r\n      testname: $('.test-name')[0].innerText,\r\n      username: $('.user-menu .fio')[0].innerText,\r\n      rightAnswers,\r\n    }\r\n  }\r\n\r\n}\r\n\r\nfunction correctCount(questions) {\r\n  let correct = 0;\r\n  [].forEach.call(questions,(q) => {\r\n    let q_id = q.id\r\n    let q_el = $(`.question[data-id='${q_id}']`)[0]\r\n    let textarea = $(q_el).find('.textarea')\r\n    if (!q.Openanswer) return\r\n    let word = ''\r\n    q.Openanswer.forEach((a) => {\r\n      word += `(${a.answer})?`\r\n    })\r\n    correct += hiliter(`${word}`, textarea)\r\n\r\n  })\r\n  return correct\r\n}\r\n\r\nfunction hiliter(word, element) {\r\n  let text = element.innerHTML\r\n  let rgxp = new RegExp(word, 'g');\r\n  let arr = text.match(rgxp)\r\n  let correct = 0\r\n\r\n  arr.forEach((w) => {\r\n    if (!w) return\r\n    correct = 1\r\n    let r = new RegExp(w, 'g')\r\n    let repl = `<span style='color:red;'>` + w + '</span>';\r\n    element.innerHTML = element.innerHTML.replace(r, repl);\r\n  })\r\n  return correct\r\n}\r\n\r\n// function paginate() {\r\n//   new Pagination({\r\n//     paginateItemClass:'pagination',\r\n//     paginateItemActive:'active',\r\n//     objecClass:'question',\r\n//     nextButtonId:'next',\r\n//     prevButtonId:'prev',\r\n//   })\r\n// }\r\n\r\n","import './test-pagination.scss'\r\nimport {$} from \"../../common\";\r\n\r\n\r\nexport default class Pagination {\r\n\r\n\r\n  constructor(props) {\r\n\r\n    this.pClass = props.pClass ?? ''\r\n    this.pActiveClass = props.pActiveClass ?? ''\r\n    this.pageClass = props.pageClass ?? ''\r\n    this.pageActiveClass = props.pageActiveClass ?? ''\r\n    this.prevBttnEl = props.prevBttnEl ?? null\r\n    this.nextBttnEl = props.nextBttnEl ?? null\r\n\r\n    this.paginations = $(this.pClass)\r\n    this.activePClass =  this.pClass +'.'+ this.pActiveClass\r\n    this.activePageClass =  '.'+this.pageClass +'.'+ this.pageActiveClass\r\n\r\n    if (this.paginations.length) {\r\n      this.navInit()\r\n      $(this.pClass).on('click', this.handleClick.bind(this))\r\n\r\n      if (this.prevBttnEl) {\r\n        $(this.prevBttnEl).on('click', this.handleNextPrev.bind(this))\r\n        $(this.nextBttnEl).on('click', this.handleNextPrev.bind(this))\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  navInit() {\r\n    [].map.call(this.paginations, (nav) => {\r\n      nav.classList.remove(this.pActiveClass)\r\n    })\r\n    this.paginations[0].classList.add(this.pActiveClass)\r\n  }\r\n\r\n  handleNextPrev({target}) {\r\n    let activePage = $(this.activePageClass)[0]\r\n    let activeP = $(this.activePClass)[0]\r\n    let i = this.paginations.indexOf(activeP)\r\n    if (target === this.prevBttnEl) {\r\n      handlePrevClick.call(this)\r\n    } else if (target === this.nextBttnEl) {\r\n      handleNextClick.call(this)\r\n    }\r\n\r\n    function handlePrevClick() {\r\n      if (i < 1) return false\r\n      let aimPagination = this.paginations[i - 1]\r\n      this.togglePage(aimPagination, activePage)\r\n      this.toggleNav(aimPagination, activeP)\r\n    }\r\n\r\n    function handleNextClick() {\r\n      if (i > this.paginations.length - 2) return false\r\n      let aimPagination = this.paginations[i + 1]\r\n      this.togglePage(aimPagination, activePage)\r\n      this.toggleNav(aimPagination, activeP)\r\n    }\r\n  }\r\n\r\n  toggleNav(aimP, activeP) {\r\n    activeP.classList.toggle(this.pActiveClass)\r\n    aimP.classList.toggle(this.pActiveClass)\r\n  }\r\n\r\n  togglePage(aimPId, activePage) {\r\n    let aimPageId = aimPId.dataset.pagination\r\n    let aimPage = $(`.question[data-id='${aimPageId}']`)[0]\r\n    aimPage.classList.toggle(this.pageActiveClass)\r\n    activePage.classList.toggle(this.pageActiveClass)\r\n  }\r\n\r\n  handleClick({target}) {\r\n    if (!target.dataset.pagination) return;\r\n    if (target.classList.contains(this.pActiveClass)) return\r\n    let active_btn = $(this.activePClass)[0]\r\n    active_btn.classList.remove(this.pActiveClass)\r\n    target.classList.add(this.pActiveClass)\r\n\r\n    let id_to_hide = active_btn.dataset['pagination']\r\n    $(`.${this.pageClass}[data-id=\"${id_to_hide}\"]`).removeClass(this.pageActiveClass)\r\n\r\n    let id_to_show = target.dataset['pagination']\r\n    $(`.${this.pageClass}[data-id=\"${id_to_show}\"]`).addClass(this.pageActiveClass)\r\n  }\r\n\r\n}\r\n//\r\n// let paginations = $(`[data-pagination]`)\r\n// if (paginations.length) {\r\n//   navInit()\r\n//   $(`[data-pagination]`).on('click', handleClick)\r\n//\r\n//   let prev = $('#prev')[0]\r\n//   let next = $('#next')[0]\r\n//\r\n//   if (next) {\r\n//     $(next).on('click', handleNextPrev)\r\n//     $(prev).on('click', handleNextPrev)\r\n//   }\r\n// }\r\n//\r\n// function navInit() {\r\n//   [].map.call(paginations, (nav) => {\r\n//     nav.classList.remove('active')\r\n//   })\r\n//   paginations[0].classList.add('active')\r\n// }\r\n//\r\n//\r\n// function handleNextPrev({target}) {\r\n//   let activeQuestion = $('.question.show')[0]\r\n//   let activePagination = $(`[data-pagination].active`)[0]\r\n//   let i = paginations.indexOf(activePagination)\r\n//   if (target.id === 'prev') {\r\n//     handlePrevClick()\r\n//   } else if (target.id === 'next') {\r\n//     handleNextClick()\r\n//   }\r\n//\r\n//   function handlePrevClick() {\r\n//     if (i < 1) return false\r\n//     let aimPagination = paginations[i - 1]\r\n//     toggleQuestion(aimPagination, activeQuestion)\r\n//     toggleNav(aimPagination, activePagination)\r\n//   }\r\n//\r\n//   function handleNextClick() {\r\n//     if (i > paginations.length - 2) return false\r\n//     let aimPagination = paginations[i + 1]\r\n//     toggleQuestion(aimPagination, activeQuestion)\r\n//     toggleNav(aimPagination, activePagination)\r\n//   }\r\n// }\r\n//\r\n//\r\n// function toggleNav(aimPagination, activePagination) {\r\n//   activePagination.classList.toggle('active')\r\n//   aimPagination.classList.toggle('active')\r\n// }\r\n//\r\n// function toggleQuestion(aimPaginationId, activeQuestion) {\r\n//   let aimQuestionId = aimPaginationId.dataset.pagination\r\n//   let aimQuestion = $(`.question[data-id='${aimQuestionId}']`)[0]\r\n//   aimQuestion.classList.toggle('show')\r\n//   activeQuestion.classList.toggle('show')\r\n// }\r\n//\r\n//\r\n// function handleClick({target}) {\r\n//\r\n//   if (!target.dataset.pagination) return;\r\n//   if (target.classList.contains('active')) return\r\n//\r\n//   let active_btn = $('.pagination .active')[0]\r\n//   active_btn.classList.remove('active')\r\n//   target.classList.add('active')\r\n//\r\n//   let id_to_hide = active_btn.dataset['pagination']\r\n//   $(`.question[data-id=\"${id_to_hide}\"]`).removeClass('show')\r\n//\r\n//   let id_to_show = target.dataset['pagination']\r\n//   $(`.question[data-id=\"${id_to_show}\"]`).addClass('show')\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import './admin.scss'\r\nimport './Videoinstructions/videoinstructions'\r\n\r\nimport '../components/header/header-adm'\r\nimport '../components/accordion/accordion'\r\nimport '../components/admin_sidebar'\r\nimport \"./model/cache\";\r\nimport {$} from \"../common\";\r\n\r\nimport '../Test/test_results/test_results'\r\nimport '../Test/opentest-edit'\r\nimport testEdit from '../Test/test-edit'\r\nimport '../Test/do'\r\nimport './Settings/settings'\r\nimport rights from './Rights/rights'\r\nimport './Planning/planning'\r\nimport user from './user/user'\r\nimport '../Test/open_test'\r\n\r\nimport radio from '@components/radio/radio'\r\nimport list from '@components/list/list'\r\nimport multiselect from '@components/multiselect/multiselect'\r\nimport catalogItem from '@components/catalog-item/catalog-item'\r\nimport catalogDate from '@components/date/date'\r\nimport tooltips from \"../components/tooltip/tooltip\";\r\nimport accordionShow from \"../components/accordion-show\";\r\nimport Pagination from \"../Test/test-pagination/test-pagination\";\r\n\r\n// debugger\r\n\r\n\r\n\r\n$(document).ready(function () {\r\n\r\n\r\n  new Pagination({\r\n    'pClass': '[data-pagination]',\r\n    'pActiveClass': 'active',\r\n    'pageClass': 'question',\r\n    'pageActiveClass': 'show',\r\n    'prevBttnEl': $('#prev')[0],\r\n    'nextBttnEl': $('#next')[0],\r\n  })\r\n\r\n  navigate(window.location.pathname)\r\n  radio()\r\n  list()\r\n  multiselect()\r\n  catalogItem()\r\n  tooltips()\r\n\r\n  accordionShow()\r\n\r\n  testEdit()\r\n\r\n  function navigate(str) {\r\n    if (/\\/adminsc\\/settings/.test(str)\r\n      || /\\/adminsc\\/right\\/list/.test(str)\r\n      || /\\/adminsc\\/post\\/list/.test(str) ||\r\n      /\\/adminsc\\/todo\\/list/.test(str)) {\r\n      rights()\r\n      $(\"[settings]\").addClass('current')\r\n\r\n\r\n    } else if (/\\/auth\\/profile/.test(str)) {\r\n      user()\r\n    } else if (/\\/adminsc\\/crm/.test(str)) {\r\n      $(\"[crm]\").addClass('current')\r\n\r\n\r\n    } else if ( /\\/adminsc\\/planning/.test(str)) {\r\n      $(\"[plan]\").addClass('current')\r\n    } else if (\r\n      /\\/test/.test(str)\r\n      || /\\/opentest/.test(str)\r\n      || /\\/adminsc\\/opentest/.test(str)\r\n      || /\\/adminsc\\/test/.test(str)) {\r\n      $(\"[test]\").addClass('current')\r\n    } else {\r\n      $(\"[href='/adminsc']\").addClass('current')\r\n    }\r\n\r\n  }\r\n\r\n})\r\n\r\n\r\n\r\n","import './rights.scss';\r\nimport {$, popup, post} from '../../common';\r\nimport list from '@components/list/list'\r\n// import contenteditable from '../../components/contenteditable'\r\n\r\nexport default function rights() {\r\n  // debugger\r\n  // contenteditable()\r\n\r\n\r\n\r\n  $('.rights-table').on('click', handle)\r\n\r\n  function handle({target}) {\r\n    if (target.closest('.del')) del(target.closest('.del'))\r\n    if (target.closest('.save')) save(target.closest('.save'))\r\n\r\n    function model(el) {\r\n      let dataId = el.dataset.id ?? 'new'\r\n      let fields = $(`[data-id='${dataId}']`)\r\n      let model = {}\r\n      model.toServ = {}\r\n      model.empty = {}\r\n\r\n      fields.map((f) => {\r\n        if (f.classList.contains('id')) {\r\n          model.id = f\r\n          model.toServ.id = f.dataset.id\r\n        } else if (f.classList.contains('name')) {\r\n          model.name = f\r\n          model.toServ.name = f.innerText.trim()\r\n        } else if (f.classList.contains('description')) {\r\n          model.description = f\r\n          model.toServ.description = f.innerText.trim()\r\n        } else if (f.classList.contains('save.svg')) {\r\n          model.save = f\r\n        } else if (f.classList.contains('del')) {\r\n          model.del = f\r\n        }\r\n      })\r\n\r\n      model.empty.del = model.id.previousElementSibling.cloneNode(true)\r\n      model.empty.save = model.id.previousElementSibling.previousElementSibling.cloneNode(true)\r\n      model.empty.description = model.id.previousElementSibling.previousElementSibling.previousElementSibling.cloneNode(true)\r\n      model.empty.name = model.id.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.cloneNode(true)\r\n      model.empty.id = model.id.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.cloneNode(true)\r\n\r\n      return model\r\n    }\r\n\r\n\r\n    function del(el) {\r\n      let mod = model(el)\r\n      if (mod.toServ.id === 'new') return\r\n      if (confirm(\" ?\")) {\r\n        delDom(mod)\r\n        delServer(mod)\r\n      }\r\n    }\r\n\r\n    async function delServer(model) {\r\n      let res = await post('/right/delete', {id: model.toServ.id})\r\n    }\r\n\r\n    function delDom(model) {\r\n      model.id.remove()\r\n      model.name.remove()\r\n      model.description.remove()\r\n      model.save.remove()\r\n      model.del.remove()\r\n    }\r\n\r\n\r\n    function save(el) {\r\n      let mod = model(el)\r\n      if (mod.toServ.id !== 'new') {\r\n        update(mod.toServ)\r\n      } else {\r\n        if (!mod.toServ.name || !mod.toServ.description) return false\r\n        create(mod)\r\n      }\r\n    }\r\n\r\n    async function update(toServ) {\r\n      let res = await post('/right/update', toServ)\r\n    }\r\n\r\n    function clearModel(model){\r\n      model.name.innerText = \"\"\r\n      model.description.innerText = \"\"\r\n    }\r\n\r\n    function createOnDom(model){\r\n      let lastElement = $(\".id[data-id='new']\")[0]\r\n      lastElement.before(model.empty.id)\r\n      lastElement.before(model.empty.name)\r\n      lastElement.before(model.empty.description)\r\n      lastElement.before(model.empty.save)\r\n      lastElement.before(model.empty.del)\r\n    }\r\n\r\n    function assignNewValuesOnClone(model, id){\r\n      model.empty.id.dataset.id = id\r\n      model.empty.id.innerText = id\r\n      model.empty.name.dataset.id = id\r\n      model.empty.name.innerText = model.name.innerText.trim()\r\n      model.empty.description.dataset.id = id\r\n      model.empty.description.innerText = model.description.innerText.trim()\r\n      model.empty.save.dataset.id = id\r\n      model.empty.del.dataset.id = id\r\n    }\r\n\r\n    async function create(model) {\r\n      let res = await post('/right/create', model.toServ)\r\n\r\n      if (res.arr.id) {\r\n\r\n        assignNewValuesOnClone(model, res.id-1)\r\n        createOnDom(model)\r\n        clearModel(model)\r\n\r\n        popup.show('')\r\n      }\r\n\r\n    }\r\n\r\n\r\n  }\r\n}","import './users.scss'\r\n\r\nimport {$, popup, post} from '../../common'\r\nimport getSex from '../../Auth/getSex'\r\n\r\nexport default function user() {\r\n\r\n  let item = $('[data-model=\"user\"]')[0]\r\n  if (item) {\r\n    $(item).on('click', handleClick)\r\n  }\r\n\r\n  async function handleClick({target}) {\r\n    if (!!target.closest('#save')) {\r\n\r\n      let wrapper = $('.user-item')[0]\r\n      let data = getModel(wrapper)\r\n\r\n      let res = await post('/adminsc/user/update', data)\r\n\r\n    } else if (target.classList.contains('right')) {\r\n      let rights = $('input.right:checked')\r\n      let str = '';\r\n      [].map.call(rights, function (right) {\r\n        let s = right.previousElementSibling.innerText\r\n        str+=s+','\r\n      })\r\n        let tab = target.closest('[tab]')\r\n        tab.dataset.value = str\r\n    }\r\n  }\r\n\r\n  function rights() {\r\n    let right = $('.right:checked')\r\n    let rights = '';\r\n    [].map.call(right, (r) => {\r\n      let str = r.previousElementSibling.innerText + ','\r\n      rights += str\r\n    }, rights)\r\n    return rights\r\n  }\r\n\r\n  function confirm() {\r\n    const confirm = $('#conf option')\r\n    for (let f of confirm) {\r\n      if (f.selected) {\r\n        return f.value\r\n      }\r\n    }\r\n    return '0'\r\n  }\r\n\r\n\r\n  function getModel(target) {\r\n    return {\r\n      id: $(target).find(\"#id\").innerText,\r\n      name: $(target).find('#name').innerText,\r\n      surName: $(target).find('#s-name').innerText,\r\n      middleName: $(target).find('#m-name').innerText,\r\n      birthDate: $(target).find('#bday').innerText,\r\n      phone: $(target).find('#phone').innerText,\r\n      email: $(target).find('#email').innerText,\r\n      hired: $(target).find('#hired').innerText,\r\n      fired: $(target).find('#fired').innerText,\r\n      confirm: confirm(),\r\n      sex: getSex(),\r\n      rights: rights()\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import './radio.scss'\r\nimport {$} from '../../common'\r\n\r\nexport default function radio(){\r\n  let radios = $('[custom-radio]');\r\n\r\n  [].map.call(radios, function (radio) {\r\n    $(radio).on('click',handleClick)\r\n\r\n    function handleClick({target}) {\r\n      let targ = target.closest(\"label\")\r\n      radio.dataset.value = targ.dataset.value\r\n    }\r\n\r\n  })\r\n\r\n}","import './list.scss';\r\nimport {$, post, debounce} from '../../common';\r\n\r\nexport default function list() {\r\n  const tables = $('.custom-list__wrapper')\r\n  if (tables) {\r\n    [].forEach.call(tables, function (table) {\r\n\r\n      const contenteditable = $('[contenteditable]')\r\n      const headers = table.querySelectorAll('.head')\r\n      const sortables = table.querySelectorAll('[data-sort]')\r\n      const inputs = $(table).findAll('.head input')\r\n      const ids = $(table)[0].querySelectorAll('.id:not(.head')\r\n      const modelName = table.dataset['model']\r\n      const rows = []\r\n\r\n      $(table).on('click', handleClick.bind(this));\r\n      $(table).on('keyup', handleKeyUp.bind(this));\r\n\r\n      let debouncedInput = debounce(handleInput)\r\n\r\n      function handleKeyUp({target}) {\r\n\r\n        // contenteditable\r\n        if (target.hasAttribute('contenteditable')) {\r\n          debouncedInput(table, contenteditable, target)\r\n\r\n          /// search\r\n        } else if (target.closest('.head')) {\r\n          let header = target.closest('.head')\r\n          let index = [].findIndex.call(headers, (el, i, inputs) => {\r\n            return el === header\r\n          })\r\n          search(index, target)\r\n        }\r\n      }\r\n\r\n      function handleClick({target}) {\r\n\r\n        /// create\r\n        if (target.className === 'add-model') {\r\n          modelCreate(modelName)\r\n\r\n          /// delete\r\n        } else if (\r\n          target.className === '.del:not(.head)' ||\r\n          target.closest('.del:not(.head)')) {\r\n          modelDel(target.closest('.del:not(.head)'))\r\n\r\n          /// edit\r\n        } else if (target.className === '.edit:not(.head)' ||\r\n          target.closest('.edit:not(.head)')) {\r\n          let id = target.closest('.edit:not(.head)').dataset['id']\r\n          window.location = `/adminsc/${modelName}/edit/${id}`;\r\n\r\n          /// sort\r\n        } else if (target.classList.contains('head')) {\r\n          let header = target.closest('.head')\r\n          let index = [].findIndex.call(headers, (el, i, inputs) => {\r\n            return el === header\r\n          })\r\n          sortColumn(index)\r\n        }\r\n      }\r\n\r\n      // DELETE\r\n      async function modelDel(el) {\r\n        if (!confirm('?')) return\r\n        let id = el.dataset['id']\r\n        let res = await post(`/adminsc/${modelName}/delete`, {id})\r\n        if (res) {\r\n          delView(id)\r\n        }\r\n      }\r\n\r\n      function delView(id) {\r\n        let arr = $(`[data-id='${id}']`);\r\n        [].forEach.call(arr, function (el) {\r\n          el.remove()\r\n        })\r\n      }\r\n\r\n\r\n      // UPDATE OR CREATE\r\n      async function modelCreate(modelName, e) {\r\n        let res = await post(`/adminsc/${modelName}/create`, {})\r\n        if (res.arr.id) {\r\n          newRow(res.arr.id)\r\n        }\r\n      }\r\n\r\n      function newRow(id) {\r\n        let Row = [...rows[0]];\r\n        [].forEach.call(Row, function (el) {\r\n          let newEl = el.cloneNode(true)\r\n          let tableContent = $(table).find('.custom-list')\r\n          tableContent.appendChild(newEl)\r\n          if (['id'].includes(newEl.className)) {\r\n            newEl.innerText = id\r\n          } else if (!['del', 'edit', 'save'].includes(newEl.className)) {\r\n            newEl.innerText = ''\r\n          }\r\n          newEl.dataset['id'] = id\r\n\r\n        });\r\n      }\r\n\r\n      /// SEARCH\r\n      function showAllRows() {\r\n        [].forEach.call(rows, (row) => {\r\n          [].forEach.call(row, el => {\r\n            el.style.display = 'flex'\r\n          })\r\n        })\r\n      }\r\n\r\n      function search(index, input) {\r\n        showAllRows()\r\n        const value = input.value;\r\n\r\n        [].forEach.call(inputs, (inp) => {\r\n          if (inp !== input) inp.value = ''\r\n        });\r\n\r\n        [].forEach.call(rows, function (row) {\r\n          const str = row[index].innerText\r\n          const regexp = new RegExp(`${value}`, 'gi')\r\n          if (!str.match(regexp)) {\r\n            [].forEach.call(row, el => {\r\n              el.style.display = 'none'\r\n            })\r\n          }\r\n        });\r\n      };\r\n\r\n      // SORT\r\n      function sortColumn(index) {\r\n        //   \r\n        const direction = directions[index] || 'asc'\r\n\r\n        //   \r\n        const multiplier = (direction === 'asc') ? 1 : -1\r\n\r\n        const newRows = Array.from(rows)\r\n\r\n        newRows.sort(function (rowA, rowB) {\r\n          const cellA = rowA[index].innerHTML\r\n          const cellB = rowB[index].innerHTML\r\n\r\n          const a = transform(index, cellA)\r\n          const b = transform(index, cellB)\r\n\r\n          switch (true) {\r\n            case a > b:\r\n              return 1 * multiplier\r\n            case a < b:\r\n              return -1 * multiplier\r\n            case a === b:\r\n              return 0;\r\n          }\r\n        });\r\n\r\n        //   \r\n        [].forEach.call(rows, function (nodeList) {\r\n          [].forEach.call(nodeList, el => {\r\n            el.remove()\r\n          })\r\n        });\r\n\r\n        //  \r\n        directions[index] = direction === 'asc' ? 'desc' : 'asc'\r\n\r\n        //   \r\n        newRows.forEach(function (newRow) {\r\n          newRow = Array.from(newRow);\r\n          newRow.reverse();\r\n          [].forEach.call(newRow, el => {\r\n            headers[headers.length - 1].after(el)\r\n          })\r\n        });\r\n      };\r\n\r\n      /// get table rows array\r\n      for (let i = 0; i < ids.length; i++) {\r\n        let id = ids[i].dataset.id\r\n        let row = $(table)[0].querySelectorAll(`[data-id='${id}']`)\r\n        rows.push(row)\r\n      }\r\n\r\n      //  \r\n      const directions = Array.from(sortables).map(function (sortable) {\r\n        return ''\r\n      });\r\n\r\n      //       \r\n      function transform(index, content) {\r\n        //    \r\n        const type = sortables[index].getAttribute('data-type')\r\n        switch (type) {\r\n          case 'number':\r\n            return parseFloat(content)\r\n          case 'string':\r\n          default:\r\n            return content\r\n        }\r\n      };\r\n\r\n      /// INPUT\r\n      function handleInput(table, contenteditable, target) {\r\n        if (!target.hasAttribute('contenteditable')) return false\r\n        let model = makeServerModel(target, modelName)\r\n        save(model)\r\n      }\r\n\r\n      async function save(model) {\r\n        let url = `/adminsc/${model.modelName}/updateOrCreate`\r\n        let res = await post(url, model.model)\r\n      }\r\n\r\n      function makeServerModel(target, modelName) {\r\n        let field = target.dataset['field']\r\n        return {\r\n          model: {\r\n            id: target.dataset.id,\r\n            [field]: target.innerText\r\n          },\r\n          modelName\r\n        }\r\n      }\r\n\r\n    })\r\n  }\r\n  // })\r\n}\r\n","import './multiselect.scss'\r\nimport {$} from '../../common'\r\n\r\nexport default function multiselect() {\r\n\r\n  function getSelected(){\r\n    if (multi){\r\n      let selected = [].map.call(multi, function (select) {\r\n        let chips = select.querySelectorAll('.chip-wrap');\r\n        let objs = [].map.call(chips, function (chip) {\r\n          return chip.dataset.id;\r\n        })\r\n        let obj = {}\r\n        obj.field =  select.dataset.field\r\n        obj.ids = objs\r\n        return obj\r\n      })\r\n    }\r\n    // debugger\r\n  }\r\n\r\n  let multi = $('[multi-select] ')\r\n  if (multi) {\r\n\r\n    [].forEach.call(multi, function (select) {\r\n\r\n      select.addEventListener('click', handleClick, false)\r\n      select.addEventListener('blur', handleBlur, false)\r\n\r\n      function handleBlur({target}) {\r\n        let show = $(this).find('.show')\r\n        if (show) {\r\n          show.classList.remove('show')\r\n        }\r\n      }\r\n\r\n      function handleClick({target}) {\r\n        let multi = target.closest('[multi-select]')\r\n//   \r\n        if (target.closest('.arrow')||['chip-wrap'].includes(target.className))  {\r\n          // let multiselect = target.closest('[multi-select] ')\r\n          let ul = multi.querySelector('ul')\r\n          ul.classList.toggle('show')\r\n\r\n//    \r\n        } else if (['del'].includes(target.className)) {\r\n          let id = target.closest('.chip').dataset.id\r\n          toggleBackground(id)\r\n          let chip = target.closest('.chip')\r\n          chip.remove()\r\n\r\n//  ,      \r\n        } else if (target.tagName.toLowerCase() === 'label') {\r\n          let id = target.dataset.id;\r\n          // let m = target.closest('[multi-select] ')\r\n          let chips = multi.querySelectorAll('.chip');\r\n          let exist = [].some.call(chips, (chip) => {\r\n            return chip.dataset.id === id\r\n          })\r\n\r\n          let wrap = $(multi).find('.chip-wrap')\r\n          if (!exist) {\r\n            target.classList.toggle('selected')\r\n            let chip = createChip(id)\r\n            wrap.append(chip)\r\n          } else {\r\n            target.classList.toggle('selected')\r\n            wrap.querySelector(`[data-id='${id}']`).remove()\r\n          }\r\n        }\r\n        function toggleBackground(id) {\r\n          // let multi = target.closest('[multi-select] ')\r\n          $(multi).find(`label[data-id='${id}']`).classList.remove('selected')\r\n        }\r\n\r\n        function createChip(id) {\r\n          let chip = document.createElement('div')\r\n          chip.classList.add('chip')\r\n          chip.innerText = target.innerText\r\n          chip.dataset['id'] = id\r\n\r\n          let del = document.createElement('div')\r\n          del.classList.add('del')\r\n          del.innerText = 'X'\r\n\r\n          chip.append(del)\r\n\r\n          return chip\r\n        }\r\n      }\r\n    })\r\n  }\r\n}","import './catalog-item.scss';\r\nimport {$, post,trimStr} from '../../common';\r\nimport WDSSelect from \"../select/WDSSelect\";\r\n\r\nexport default function catalogItem() {\r\n  let customCatalogItem = $('.item_wrap')[0]\r\n  if (customCatalogItem) {\r\n    $(customCatalogItem).on('click', handleClick.bind(this))\r\n  }\r\n\r\n  async function handleClick({target}) {\r\n\r\n    let item = customCatalogItem\r\n    let modelName = item.dataset.model\r\n    if (target.closest('.save')) {\r\n      save(modelName)\r\n    } else if (target.closest('.del')\r\n      && target.closest('.del').dataset.model) {\r\n      del(item, target.closest('.del').dataset.model)\r\n    } else if ((target.classList.contains('tab'))) {\r\n      handleTab(target, modelName)\r\n    }\r\n  }\r\n\r\n  async function handleTab(target) {\r\n    let visibleSection = $(`section.show`)[0]\r\n    visibleSection.classList.toggle('show')\r\n    let section = $(`section[data-id='${target.dataset.id}']`)[0]\r\n    section.classList.toggle('show')\r\n    let activeTab = $(`.tab.active`)[0]\r\n    activeTab.classList.toggle('active')\r\n    target.classList.toggle('active')\r\n  }\r\n\r\n  async function del(item, modelName) {\r\n    let id = item.dataset.id\r\n    let res = await post(`/adminsc/${modelName}/delete`, {id})\r\n    if (res) {\r\n      window.location.href = `/adminsc/${modelName}/edit`\r\n    }\r\n  }\r\n\r\n  async function save(modelName) {\r\n    if (checkRequired()) return false\r\n    let model = getModel()\r\n    let res = await post(`/adminsc/${modelName}/updateorcreate`, model)\r\n  }\r\n\r\n  function checkRequired() {\r\n    let required = $('[required]');\r\n    let errCount = 0;\r\n    [].forEach.call(required, function (el) {\r\n      if (!el.innerText) {\r\n        el.style.borderColor = 'red'\r\n        if ($(el).find('.error')) return\r\n        let error = document.createElement('div')\r\n        error.innerText = ' '\r\n        error.classList.add('error')\r\n        el.closest('.value').appendChild(error)\r\n        errCount++\r\n      }\r\n    })\r\n    return errCount\r\n  }\r\n\r\n  function getModel() {\r\n    let fields = $('[data-field]');\r\n    let obj = {};\r\n\r\n    // debugger;\r\n    [].map.call(fields, (field) => {\r\n      if (field.hasAttribute('multi-select')) {\r\n        let chips = field.querySelectorAll('.chip');\r\n        let ids = [].map.call(chips, (chip) => {\r\n          return chip.dataset.id\r\n        })\r\n        obj[field.dataset.field] = ids.toString()\r\n      } else if (field.hasAttribute('custom-select')) {\r\n        obj[field.dataset.field] = field.dataset.value\r\n      } else if (field.dataset.type === 'inputs') {\r\n        obj[field.dataset.field] = getInputs(field)\r\n      } else if (field.hasAttribute('custom-radio')) {\r\n        obj[field.dataset.field] = field.dataset.value\r\n      } else if (field.hasAttribute('tab')) {\r\n        obj[field.dataset.field] = field.dataset.value\r\n      } else if (field.type === 'date') {\r\n        obj[field.dataset.field] = field.value\r\n      } else {\r\n        obj[field.dataset.field] = trimStr(field.innerText)\r\n      }\r\n    }, obj)\r\n    let isTest = $('[data-isTest]')[0]\r\n    if (isTest) {\r\n      obj.isTest = +isTest.dataset.istest\r\n    }\r\n    return obj\r\n  }\r\n\r\n  function getInputs(field) {\r\n    let inputs = field.querySelectorAll('input')\r\n    let names = []\r\n    inputs.forEach((inp) => {\r\n      if (!inp.checked) return\r\n      let name = inp.parentNode.querySelector('.name').innerText\r\n      if (!name) return\r\n      names.push(name)\r\n    })\r\n    return names.join(',')\r\n\r\n  }\r\n}\r\n","import './tooltip.scss'\r\n\r\nexport default function tooltips() {\r\n\r\n  document.addEventListener('mouseenter', showTip, true)\r\n  document.addEventListener('mouseleave', hideTip, true)\r\n\r\n\r\n  function showTip({target}) {\r\n// debugger\r\n    //     ...\r\n    if (!target.dataset||!target.dataset.tooltip) return;\r\n\r\n    let tooltipHtml = target.dataset.tooltip\r\n    // ...   \r\n    let tooltipElem = document.createElement('div');\r\n    tooltipElem.className = 'tooltip';\r\n    tooltipElem.innerHTML = tooltipHtml;\r\n    document.body.append(tooltipElem);\r\n\r\n    //       (top-center)\r\n    let coords = target.getBoundingClientRect();\r\n\r\n    let left = coords.left + (target.offsetWidth - tooltipElem.offsetWidth) / 2;\r\n    if (left < 0) left = 0; //      \r\n\r\n    let top = coords.top - tooltipElem.offsetHeight - 5;\r\n    if (top < 0) { //     ,    \r\n      top = coords.top + target.offsetHeight + 5;\r\n    }\r\n\r\n    tooltipElem.style.left = left + 'px';\r\n    tooltipElem.style.top = top + 'px';\r\n  };\r\n\r\n  function hideTip() {\r\n    let tooltips = document.querySelectorAll('.tooltip')\r\n    if (tooltips) {\r\n      [].forEach.call(tooltips, (tip) => {\r\n          tip.remove();\r\n        }\r\n      )\r\n    }\r\n  };\r\n}\r\n","import {$} from \"../common\";\r\n\r\nexport default function accordionShow() {\r\n\r\n  let currentTestId = $(`[data-testid]`)[0]\r\n  if (currentTestId) {\r\n    currentTestId = +currentTestId.dataset['testid']\r\n    let menuItemCollection = $('.test-edit.accordion a')\r\n    Array.from(menuItemCollection).filter((a) => {\r\n      if (+a.dataset.id === currentTestId) {\r\n        a.classList.add('current')\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  let button = $('.accordion-open')[0]\r\n  if (button) {\r\n    $(button).on('click', function () {\r\n      let menu = $('.accordion_wrap')[0]\r\n      menu.classList.toggle('open')\r\n    })\r\n  }\r\n\r\n}\r\n"],"names":["debounce","fn","timeout","time","functionCall","apply","this","arguments","clearTimeout","setTimeout","cachePage","className","trimStr","$","outerHTML","str","re","RegExp","replace","replaceTs","replaceNs","replaceNbsps","popup","show","txt","callback","close","el","innerText","popup__item","append","addEventListener","document","body","classList","remove","add","hideDelay","e","target","contains","closest","tagName","createElement","async","post","url","data","Promise","resolve","reject","token","querySelector","getAttribute","req","XMLHttpRequest","open","setRequestHeader","FormData","send","JSON","stringify","onerror","Error","onload","res","parse","response","msg","arr","innerHTML","removeClass","success","addClass","error","ElementCollection","Array","attrName","attrVal","setAttribute","length","selectedOptions","value","options","checked","attr","val","forEach","s","style","push","appendChild","item","filter","querySelectorAll","on","event","cbOrSelector","cb","elem","ready","some","readyState","selector","String","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","checkboxes","ch","li","ul","find","slideUp","parent","closeSiblings","maxHeight","scrollHeight","toggle","slideDown","rotateArrow","_testResult","delServer","id","delDom","map","i","delete","confirm","testResults","dataset","row","_openquestion","testId","opentest_id","sort","questionCnt","model","clone","cloneEmptyModel","before","question","q","cloneNode","ans","answer","upToQestionNumber","questionsEls","questions","toChange","toLowerCase","test_id","test_name","showAnswers","answers","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","source","getOwnPropertyDescriptors","defineProperties","_typeof","Symbol","iterator","constructor","configurable","writable","_extends","assign","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","userAgent","pattern","window","navigator","match","IE11OrLess","Edge","FireFox","Safari","IOS","ChromeForAndroid","captureMode","capture","passive","off","removeEventListener","matches","substring","msMatchesSelector","webkitMatchesSelector","_","getParentOrHost","host","nodeType","parentNode","ctx","includeCTX","_throttleTimeout","R_SPACE","toggleClass","name","state","css","defaultView","getComputedStyle","currentStyle","matrix","selfOnly","appliedTransforms","transform","matrixFn","DOMMatrix","WebKitCSSMatrix","CSSMatrix","MSCSSMatrix","list","getElementsByTagName","n","getWindowScrollingElement","scrollingElement","documentElement","getRect","relativeToContainingBlock","relativeToNonStaticParent","undoScale","container","getBoundingClientRect","elRect","top","left","bottom","right","height","width","innerHeight","innerWidth","containerRect","parseInt","elMatrix","scaleX","a","scaleY","isScrolledPast","elSide","parentSide","getParentAutoScrollElement","elSideVal","parentSideVal","getChild","childNum","includeDragEl","currentChild","children","display","Sortable","ghost","dragged","draggable","lastChild","last","lastElementChild","previousElementSibling","index","nodeName","toUpperCase","getRelativeScrollOffset","offsetLeft","offsetTop","winScroller","scrollLeft","scrollTop","includeSelf","gotSelf","clientWidth","scrollWidth","clientHeight","elemCSS","overflowX","overflowY","isRectEqual","rect1","rect2","Math","round","throttle","ms","args","_this","scrollBy","x","y","Polymer","jQuery","Zepto","dom","expando","Date","getTime","plugins","defaults","initializeByDefault","PluginManager","mount","plugin","option","p","pluginName","concat","pluginEvent","eventName","sortable","evt","eventCanceled","cancel","eventNameGlobal","initializePlugins","initialized","modified","modifyOption","getEventProperties","eventProperties","modifiedValue","optionListeners","_excluded","_ref","originalEvent","bind","dragEl","parentEl","ghostEl","rootEl","nextEl","lastDownEl","cloneEl","cloneHidden","dragStarted","moved","putSortable","activeSortable","active","oldIndex","oldDraggableIndex","newIndex","newDraggableIndex","hideGhostForTarget","_hideGhostForTarget","unhideGhostForTarget","_unhideGhostForTarget","cloneNowHidden","cloneNowShown","dispatchSortableEvent","_dispatchEvent","info","targetEl","toEl","fromEl","extraEventProperties","onName","charAt","substr","CustomEvent","createEvent","initEvent","bubbles","cancelable","to","from","pullMode","lastPutMode","allEventProperties","dispatchEvent","activeGroup","tapEvt","touchEvt","lastDx","lastDy","tapDistanceLeft","tapDistanceTop","lastTarget","lastDirection","targetMoveDistance","ghostRelativeParent","awaitingDragStarted","ignoreNextClick","sortables","pastFirstInvertThresh","isCircumstantialInvert","ghostRelativeParentInitialScroll","_silent","savedInputChecked","documentExists","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","supportCssPointerEvents","cssText","pointerEvents","_detectDirection","elCSS","elWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","child1","child2","firstChildCSS","secondChildCSS","firstChildWidth","marginLeft","marginRight","secondChildWidth","flexDirection","gridTemplateColumns","split","touchingSideChild2","clear","_prepareGroup","toFn","pull","sameGroup","group","otherGroup","join","originalGroup","checkPull","checkPut","put","revertClone","preventDefault","stopPropagation","stopImmediatePropagation","nearestEmptyInsertDetectEvent","touches","nearest","clientX","clientY","threshold","emptyInsertThreshold","rect","insideHorizontally","insideVertically","ret","_onDragOver","_checkOutsideTargetEl","_isOutsideThisEl","toString","animationCallbackId","animationStates","disabled","store","handle","test","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","ghostClass","chosenClass","dragClass","ignore","preventOnFilter","animation","easing","setData","dataTransfer","textContent","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","Number","devicePixelRatio","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","nativeDraggable","_onTapStart","captureAnimationState","slice","child","fromRect","thisAnimationDuration","childMatrix","f","addAnimationState","removeAnimationState","splice","indexOfObject","animateAll","animating","animationTime","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","sqrt","pow","calculateRealTime","animate","max","animationResetTimer","currentRect","duration","translateX","translateY","animatingX","animatingY","forRepaintDummy","offsetWidth","repaint","animated","_onMove","dragRect","targetRect","willInsertAfter","retVal","onMoveFn","onMove","draggedRect","related","relatedRect","_disableDraggable","_unsilent","_generateId","src","href","sum","charCodeAt","_nextTick","_cancelNextTick","_getDirection","type","touch","pointerType","originalTarget","shadowRoot","path","composedPath","root","inputs","idx","_saveInputCheckedState","button","isContentEditable","criteria","trim","_prepareDragStart","dragStartFn","ownerDocument","nextSibling","_lastX","_lastY","_onDrop","_disableDelayedDragEvents","_triggerDragStart","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","abs","floor","_onTouchMove","_onDragStart","selection","empty","getSelection","removeAllRanges","err","_dragStarted","fallback","_appendGhost","_nulling","_emulateDragOver","elementFromPoint","ghostMatrix","relativeScrollOffset","dx","dy","b","c","cssMatrix","removeAttribute","_hideClone","cloneId","insertBefore","_loopId","setInterval","effectAllowed","_dragStartId","revert","vertical","isOwner","canSort","fromSortable","completedFired","dragOverEvent","_ignoreWhileAnimating","completed","elLastChild","_ghostIsLast","changed","_ghostIsFirst","firstChild","targetBeforeFirstSwap","sibling","differentLevel","differentRowCol","dragElS1Opp","dragElS2Opp","dragElOppLength","targetS1Opp","targetS2Opp","targetOppLength","_dragElInRowColumn","side1","scrolledPastTop","scrollBefore","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","invert","_getInsertDirection","_getSwapDirection","dragIndex","nextElementSibling","after","moveVector","extra","axis","insertion","_showClone","_offMoveEvents","_offUpEvents","clearInterval","removeChild","save","handleEvent","dropEffect","_globalDragOver","toArray","order","useAnimation","items","set","destroy","utils","is","extend","dst","nextTick","cancelNextTick","detectDirection","element","_len","_key","create","version","scrollEl","scrollRootEl","lastAutoScrollX","lastAutoScrollY","touchEvt$1","pointerElemChangedInterval","autoScrolls","scrolling","clearAutoScrolls","autoScroll","pid","clearPointerElemChangedInterval","isFallback","scroll","scrollCustomFn","sens","scrollSensitivity","speed","scrollSpeed","scrollThisInstance","scrollFn","layersOut","currentParent","canScrollX","canScrollY","scrollPosX","scrollPosY","vx","vy","layer","scrollOffsetY","scrollOffsetX","bubbleScroll","drop","toSortable","changedTouches","onSpill","Revert","Remove","startIndex","dragStart","_ref2","_ref3","_ref4","parentSortable","AutoScroll","forceAutoScrollFallback","_handleAutoScroll","_handleFallbackAutoScroll","dragOverCompleted","dragOverBubble","nulling","ogElemScroller","newElem","containerSelector","elSelector","onEnd","oldI","newI","els","_test","serverModel","isTest","location","testid","test_path","notAdmin","_answer","openquestion_id","html","insertAdjacentHTML","del_button","WDSSelect","multiple","title","field","label","selected","sel","arrow","space","select","debounceTimeout","titleElement","selectedOption","tabIndex","selectValue","setOption","searchTerm","code","prevOption","selectedOptionIndex","nextOption","searchedOption","startsWith","setup","next","prev","newCustomElement","scrollIntoView","block","opentestEdit","saveAnswer","path_create","del","changeParent","handleKeyup","quest","debouncedInput","answerEl","answerId","is_correct","q_id","getAnswerModel","answerModel","question_id","correct_answer","pica","_question","questionModel","getQuestionModel","qustion","pop","opt","selectedIndex","viewModel","text","enable","selectedIndexValue","fields","update","handleClick","questionCreate","debouncedHandleKeyup","saveQuestion","handleChange","testDo","pathname","finishBtnInit","currQuest","navs","navIndex","findIndex","pushNav","currentId","aimNavId","pushQ","aimId","labels","pagination","prevQ","nextQ","reload","correctAnswers","errors","input","correctAnser","checkCorrectAnswers","colorQuestions","paginItem","colorPgination","colorView","errorCnt","testname","user","finishTest","openTest","firstQuest","showFirstQuest","rightAnswers","correct","q_el","textarea","Openanswer","word","rgxp","w","r","repl","hiliter","correctCount","paginations","username","finish","activePagination","Pagination","props","pClass","pActiveClass","pageClass","pageActiveClass","prevBttnEl","nextBttnEl","activePClass","activePageClass","navInit","handleNextPrev","nav","activePage","activeP","aimPagination","togglePage","toggleNav","aimP","aimPId","aimPageId","active_btn","id_to_hide","id_to_show","dataId","toServ","description","mod","assignNewValuesOnClone","lastElement","createOnDom","clearModel","rights","surName","middleName","birthDate","phone","email","hired","fired","sex","getSex","getModel","radios","radio","targ","tables","table","contenteditable","headers","findAll","ids","modelName","rows","Row","newEl","includes","newRow","modelCreate","delView","modelDel","header","directions","multiplier","newRows","rowA","rowB","cellA","cellB","nodeList","reverse","sortColumn","hasAttribute","inp","regexp","search","makeServerModel","content","parseFloat","multi","toggleBackground","chips","exist","chip","wrap","createChip","multiselect","customCatalogItem","required","errCount","borderColor","checkRequired","names","getInputs","istest","handleTab","catalogItem","tooltip","tooltipHtml","tooltipElem","coords","offsetHeight","tooltips","tip","currentTestId","menuItemCollection","accordionShow","testEdit"],"sourceRoot":""}
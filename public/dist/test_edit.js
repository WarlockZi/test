/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (function() { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./public/src/Admin/CRM/user.js":
/*!**************************************!*\
  !*** ./public/src/Admin/CRM/user.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ user; }\n/* harmony export */ });\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common */ \"./public/src/common.js\");\n\nfunction user() {\n  (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('#user-update-btn').on('click', save);\n\n  async function save(e) {\n    let rights = (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('input.right:checked');\n    rights = rights.map(r => r.previousElementSibling.innerHTML);\n    rights = rights.join(',');\n    let sel = (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.tabs').find('#conf');\n    let conf = sel.options[sel.options.selectedIndex].value;\n\n    function sex() {\n      const f = (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('[name=\"sex\"]:checked')[0];\n      const s = (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('[name=\"sex\"]').el;\n\n      for (let f of s) {\n        if (f.checked) {\n          return f.value;\n        }\n      }\n\n      return 'm';\n    }\n\n    const model = {\n      id: (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.tabs').find('#id').innerText.trim(),\n      confirm: conf,\n      name: (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.tabs').find('#name').innerText,\n      surName: (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.tabs').find('#s-name').innerText,\n      email: (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.tabs').find('#email').innerText.trim(),\n      middleName: (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.tabs').find('#m-name').innerText,\n      phone: (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.tabs').find('#phone').innerText,\n      birthDate: (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.tabs').find('#bday').value,\n      hired: (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.tabs').find('#hired').value,\n      fired: (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.tabs').find('#fired').value,\n      rights: rights,\n      sex: sex()\n    };\n    let res = await (0,_common__WEBPACK_IMPORTED_MODULE_0__.post)('/user/update', model);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3B1YmxpYy9zcmMvQWRtaW4vQ1JNL3VzZXIuanM/NGQxOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyQsIHBvc3R9IGZyb20gJy4uLy4uL2NvbW1vbidcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZXIoKSB7XHJcblxyXG4gICQoJyN1c2VyLXVwZGF0ZS1idG4nKS5vbignY2xpY2snLCBzYXZlKVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBzYXZlKGUpIHtcclxuICAgIGxldCByaWdodHMgPSAkKCdpbnB1dC5yaWdodDpjaGVja2VkJylcclxuICAgIHJpZ2h0cyA9IHJpZ2h0cy5tYXAoKHIpID0+IHIucHJldmlvdXNFbGVtZW50U2libGluZy5pbm5lckhUTUwpXHJcbiAgICByaWdodHMgPSByaWdodHMuam9pbignLCcpO1xyXG4gICAgbGV0IHNlbCA9ICQoJy50YWJzJykuZmluZCgnI2NvbmYnKVxyXG4gICAgbGV0IGNvbmYgPSBzZWwub3B0aW9uc1tzZWwub3B0aW9ucy5zZWxlY3RlZEluZGV4XS52YWx1ZVxyXG5cclxuICAgIGZ1bmN0aW9uIHNleCgpIHtcclxuICAgICAgY29uc3QgZiA9ICQoJ1tuYW1lPVwic2V4XCJdOmNoZWNrZWQnKVswXVxyXG4gICAgICBjb25zdCBzID0gJCgnW25hbWU9XCJzZXhcIl0nKS5lbFxyXG4gICAgICBmb3IgKGxldCBmIG9mIHMpIHtcclxuICAgICAgICBpZiAoZi5jaGVja2VkKSB7XHJcbiAgICAgICAgICByZXR1cm4gZi52YWx1ZVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gJ20nXHJcbiAgICB9XHJcbiAgICBjb25zdCBtb2RlbCA9IHtcclxuICAgICAgaWQ6ICQoJy50YWJzJykuZmluZCgnI2lkJykuaW5uZXJUZXh0LnRyaW0oKSxcclxuICAgICAgY29uZmlybTogY29uZixcclxuICAgICAgbmFtZTogJCgnLnRhYnMnKS5maW5kKCcjbmFtZScpLmlubmVyVGV4dCxcclxuICAgICAgc3VyTmFtZTogJCgnLnRhYnMnKS5maW5kKCcjcy1uYW1lJykuaW5uZXJUZXh0LFxyXG4gICAgICBlbWFpbDogJCgnLnRhYnMnKS5maW5kKCcjZW1haWwnKS5pbm5lclRleHQudHJpbSgpLFxyXG4gICAgICBtaWRkbGVOYW1lOiAkKCcudGFicycpLmZpbmQoJyNtLW5hbWUnKS5pbm5lclRleHQsXHJcbiAgICAgIHBob25lOiAkKCcudGFicycpLmZpbmQoJyNwaG9uZScpLmlubmVyVGV4dCxcclxuICAgICAgYmlydGhEYXRlOiAkKCcudGFicycpLmZpbmQoJyNiZGF5JykudmFsdWUsXHJcbiAgICAgIGhpcmVkOiAkKCcudGFicycpLmZpbmQoJyNoaXJlZCcpLnZhbHVlLFxyXG4gICAgICBmaXJlZDogJCgnLnRhYnMnKS5maW5kKCcjZmlyZWQnKS52YWx1ZSxcclxuICAgICAgcmlnaHRzOiByaWdodHMsXHJcbiAgICAgIHNleDogc2V4KCksXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHJlcyA9IGF3YWl0IHBvc3QoJy91c2VyL3VwZGF0ZScsIG1vZGVsKVxyXG5cclxuXHJcbiAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sIm5hbWVzIjpbIiQiLCJwb3N0IiwidXNlciIsIm9uIiwic2F2ZSIsImUiLCJyaWdodHMiLCJtYXAiLCJyIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsImlubmVySFRNTCIsImpvaW4iLCJzZWwiLCJmaW5kIiwiY29uZiIsIm9wdGlvbnMiLCJzZWxlY3RlZEluZGV4IiwidmFsdWUiLCJzZXgiLCJmIiwicyIsImVsIiwiY2hlY2tlZCIsIm1vZGVsIiwiaWQiLCJpbm5lclRleHQiLCJ0cmltIiwiY29uZmlybSIsIm5hbWUiLCJzdXJOYW1lIiwiZW1haWwiLCJtaWRkbGVOYW1lIiwicGhvbmUiLCJiaXJ0aERhdGUiLCJoaXJlZCIsImZpcmVkIiwicmVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/src/Admin/CRM/user.js\n");

/***/ }),

/***/ "./public/src/Admin/Planning/create/create.js":
/*!****************************************************!*\
  !*** ./public/src/Admin/Planning/create/create.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _create_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./create.scss */ "./public/src/Admin/Planning/create/create.scss");


/***/ }),

/***/ "./public/src/Admin/Planning/planning.js":
/*!***********************************************!*\
  !*** ./public/src/Admin/Planning/planning.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ planning; }\n/* harmony export */ });\n/* harmony import */ var _create_create__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./create/create */ \"./public/src/Admin/Planning/create/create.js\");\n/* harmony import */ var _planning_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./planning.scss */ \"./public/src/Admin/Planning/planning.scss\");\n\n\nfunction planning() {\n  debugger;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL0FkbWluL1BsYW5uaW5nL3BsYW5uaW5nLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBRUE7QUFHZSxTQUFTQSxRQUFULEdBQW1CO0FBQ2xDO0FBRUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9wdWJsaWMvc3JjL0FkbWluL1BsYW5uaW5nL3BsYW5uaW5nLmpzP2JlNmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL2NyZWF0ZS9jcmVhdGUnXHJcblxyXG5pbXBvcnQgJy4vcGxhbm5pbmcuc2NzcydcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwbGFubmluZygpe1xyXG5kZWJ1Z2dlclxyXG5cclxufSJdLCJuYW1lcyI6WyJwbGFubmluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/src/Admin/Planning/planning.js\n");

/***/ }),

/***/ "./public/src/Admin/Rights/rights.js":
/*!*******************************************!*\
  !*** ./public/src/Admin/Rights/rights.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ rights; }\n/* harmony export */ });\n/* harmony import */ var _rights_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rights.scss */ \"./public/src/Admin/Rights/rights.scss\");\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common */ \"./public/src/common.js\");\n\n\nfunction rights() {\n  (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)('.rights-table').on('click', handle);\n\n  function handle(e) {\n    if (e.target.closest('.del')) del(e.target.closest('.del'));\n    if (e.target.closest('.save')) save(e.target.closest('.save'));\n\n    function model(el) {\n      let dataId = el.dataset.id ?? 'new';\n      let fields = (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)(`[data-id='${dataId}']`);\n      let model = {};\n      model.toServ = {};\n      model.empty = {};\n      fields.map(f => {\n        if (f.classList.contains('id')) {\n          model.id = f;\n          model.toServ.id = f.dataset.id;\n        } else if (f.classList.contains('name')) {\n          model.name = f;\n          model.toServ.name = f.innerText.trim();\n        } else if (f.classList.contains('description')) {\n          model.description = f;\n          model.toServ.description = f.innerText.trim();\n        } else if (f.classList.contains('save')) {\n          model.save = f;\n        } else if (f.classList.contains('del')) {\n          model.del = f;\n        }\n      });\n      model.empty.del = model.id.previousElementSibling.cloneNode(true);\n      model.empty.save = model.id.previousElementSibling.previousElementSibling.cloneNode(true);\n      model.empty.description = model.id.previousElementSibling.previousElementSibling.previousElementSibling.cloneNode(true);\n      model.empty.name = model.id.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.cloneNode(true);\n      model.empty.id = model.id.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.cloneNode(true);\n      return model;\n    }\n\n    function del(el) {\n      let mod = model(el);\n      if (mod.toServ.id === 'new') return;\n\n      if (confirm(\"Удалить право?\")) {\n        delDom(mod);\n        delServer(mod);\n      }\n    }\n\n    async function delServer(model) {\n      let res = await (0,_common__WEBPACK_IMPORTED_MODULE_1__.post)('/right/delete', {\n        id: model.toServ.id\n      });\n      res = await JSON.parse(res);\n\n      if (res.msg === 'ok') {\n        _common__WEBPACK_IMPORTED_MODULE_1__.popup.show('Удалено');\n      }\n    }\n\n    function delDom(model) {\n      model.id.remove();\n      model.name.remove();\n      model.description.remove();\n      model.save.remove();\n      model.del.remove();\n    }\n\n    function save(el) {\n      let mod = model(el);\n\n      if (mod.toServ.id !== 'new') {\n        update(mod.toServ);\n      } else {\n        if (!mod.toServ.name || !mod.toServ.description) return false;\n        create(mod);\n      }\n    }\n\n    async function update(toServ) {\n      let res = await (0,_common__WEBPACK_IMPORTED_MODULE_1__.post)('/right/update', toServ);\n\n      if (await JSON.parse(res).updated) {\n        _common__WEBPACK_IMPORTED_MODULE_1__.popup.show('Обновлено');\n      }\n    }\n\n    function clearModel(model) {\n      model.name.innerText = \"\";\n      model.description.innerText = \"\";\n    }\n\n    function createOnDom(model) {\n      let lastElement = (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)(\".id[data-id='new']\")[0];\n      lastElement.before(model.empty.id);\n      lastElement.before(model.empty.name);\n      lastElement.before(model.empty.description);\n      lastElement.before(model.empty.save);\n      lastElement.before(model.empty.del);\n    }\n\n    function assignNewValuesOnClone(model, id) {\n      model.empty.id.dataset.id = id;\n      model.empty.id.innerText = id;\n      model.empty.name.dataset.id = id;\n      model.empty.name.innerText = model.name.innerText.trim();\n      model.empty.description.dataset.id = id;\n      model.empty.description.innerText = model.description.innerText.trim();\n      model.empty.save.dataset.id = id;\n      model.empty.del.dataset.id = id;\n    }\n\n    async function create(model) {\n      let res = await (0,_common__WEBPACK_IMPORTED_MODULE_1__.post)('/right/create', model.toServ);\n      res = await JSON.parse(res);\n\n      if (res.id) {\n        assignNewValuesOnClone(model, res.id);\n        createOnDom(model);\n        clearModel(model);\n        _common__WEBPACK_IMPORTED_MODULE_1__.popup.show('Сохранено');\n      }\n    }\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWpCLEdBQTZCYixLQUFLLENBQUNZLElBQU4sQ0FBV0MsU0FBWCxDQUFxQkMsSUFBckIsRUFBN0I7QUFDQWQsTUFBQUEsS0FBSyxDQUFDTyxLQUFOLENBQVlRLFdBQVosQ0FBd0JaLE9BQXhCLENBQWdDQyxFQUFoQyxHQUFxQ0EsRUFBckM7QUFDQUosTUFBQUEsS0FBSyxDQUFDTyxLQUFOLENBQVlRLFdBQVosQ0FBd0JGLFNBQXhCLEdBQW9DYixLQUFLLENBQUNlLFdBQU4sQ0FBa0JGLFNBQWxCLENBQTRCQyxJQUE1QixFQUFwQztBQUNBZCxNQUFBQSxLQUFLLENBQUNPLEtBQU4sQ0FBWVIsSUFBWixDQUFpQkksT0FBakIsQ0FBeUJDLEVBQXpCLEdBQThCQSxFQUE5QjtBQUNBSixNQUFBQSxLQUFLLENBQUNPLEtBQU4sQ0FBWVQsR0FBWixDQUFnQkssT0FBaEIsQ0FBd0JDLEVBQXhCLEdBQTZCQSxFQUE3QjtBQUNEOztBQUlELG1CQUFleUIsTUFBZixDQUFzQjdCLEtBQXRCLEVBQTZCO0FBQzNCLFVBQUlzQixHQUFHLEdBQUcsTUFBTS9CLDZDQUFJLENBQUMsZUFBRCxFQUFrQlMsS0FBSyxDQUFDTSxNQUF4QixDQUFwQjtBQUNBZ0IsTUFBQUEsR0FBRyxHQUFHLE1BQU1DLElBQUksQ0FBQ0MsS0FBTCxDQUFXRixHQUFYLENBQVo7O0FBRUEsVUFBSUEsR0FBRyxDQUFDbEIsRUFBUixFQUFZO0FBRVYrQixRQUFBQSxzQkFBc0IsQ0FBQ25DLEtBQUQsRUFBUXNCLEdBQUcsQ0FBQ2xCLEVBQVosQ0FBdEI7QUFDQTRCLFFBQUFBLFdBQVcsQ0FBQ2hDLEtBQUQsQ0FBWDtBQUNBK0IsUUFBQUEsVUFBVSxDQUFDL0IsS0FBRCxDQUFWO0FBRUFWLFFBQUFBLCtDQUFBLENBQVcsV0FBWDtBQUNEO0FBRUY7QUFHRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vcHVibGljL3NyYy9BZG1pbi9SaWdodHMvcmlnaHRzLmpzPzZlZTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL3JpZ2h0cy5zY3NzJztcclxuaW1wb3J0IHskLCBwb3B1cCwgcG9zdH0gZnJvbSAnLi4vLi4vY29tbW9uJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJpZ2h0cygpIHtcclxuXHJcbiAgJCgnLnJpZ2h0cy10YWJsZScpLm9uKCdjbGljaycsIGhhbmRsZSlcclxuXHJcbiAgZnVuY3Rpb24gaGFuZGxlKGUpIHtcclxuICAgIGlmIChlLnRhcmdldC5jbG9zZXN0KCcuZGVsJykpIGRlbChlLnRhcmdldC5jbG9zZXN0KCcuZGVsJykpXHJcbiAgICBpZiAoZS50YXJnZXQuY2xvc2VzdCgnLnNhdmUnKSkgc2F2ZShlLnRhcmdldC5jbG9zZXN0KCcuc2F2ZScpKVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vZGVsKGVsKSB7XHJcbiAgICAgIGxldCBkYXRhSWQgPSBlbC5kYXRhc2V0LmlkID8/ICduZXcnXHJcbiAgICAgIGxldCBmaWVsZHMgPSAkKGBbZGF0YS1pZD0nJHtkYXRhSWR9J11gKVxyXG4gICAgICBsZXQgbW9kZWwgPSB7fVxyXG4gICAgICBtb2RlbC50b1NlcnYgPSB7fVxyXG4gICAgICBtb2RlbC5lbXB0eSA9IHt9XHJcblxyXG4gICAgICBmaWVsZHMubWFwKChmKSA9PiB7XHJcbiAgICAgICAgaWYgKGYuY2xhc3NMaXN0LmNvbnRhaW5zKCdpZCcpKSB7XHJcbiAgICAgICAgICBtb2RlbC5pZCA9IGZcclxuICAgICAgICAgIG1vZGVsLnRvU2Vydi5pZCA9IGYuZGF0YXNldC5pZFxyXG4gICAgICAgIH0gZWxzZSBpZiAoZi5jbGFzc0xpc3QuY29udGFpbnMoJ25hbWUnKSkge1xyXG4gICAgICAgICAgbW9kZWwubmFtZSA9IGZcclxuICAgICAgICAgIG1vZGVsLnRvU2Vydi5uYW1lID0gZi5pbm5lclRleHQudHJpbSgpXHJcbiAgICAgICAgfSBlbHNlIGlmIChmLmNsYXNzTGlzdC5jb250YWlucygnZGVzY3JpcHRpb24nKSkge1xyXG4gICAgICAgICAgbW9kZWwuZGVzY3JpcHRpb24gPSBmXHJcbiAgICAgICAgICBtb2RlbC50b1NlcnYuZGVzY3JpcHRpb24gPSBmLmlubmVyVGV4dC50cmltKClcclxuICAgICAgICB9IGVsc2UgaWYgKGYuY2xhc3NMaXN0LmNvbnRhaW5zKCdzYXZlJykpIHtcclxuICAgICAgICAgIG1vZGVsLnNhdmUgPSBmXHJcbiAgICAgICAgfSBlbHNlIGlmIChmLmNsYXNzTGlzdC5jb250YWlucygnZGVsJykpIHtcclxuICAgICAgICAgIG1vZGVsLmRlbCA9IGZcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBtb2RlbC5lbXB0eS5kZWwgPSBtb2RlbC5pZC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmNsb25lTm9kZSh0cnVlKVxyXG4gICAgICBtb2RlbC5lbXB0eS5zYXZlID0gbW9kZWwuaWQucHJldmlvdXNFbGVtZW50U2libGluZy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmNsb25lTm9kZSh0cnVlKVxyXG4gICAgICBtb2RlbC5lbXB0eS5kZXNjcmlwdGlvbiA9IG1vZGVsLmlkLnByZXZpb3VzRWxlbWVudFNpYmxpbmcucHJldmlvdXNFbGVtZW50U2libGluZy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmNsb25lTm9kZSh0cnVlKVxyXG4gICAgICBtb2RlbC5lbXB0eS5uYW1lID0gbW9kZWwuaWQucHJldmlvdXNFbGVtZW50U2libGluZy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLnByZXZpb3VzRWxlbWVudFNpYmxpbmcucHJldmlvdXNFbGVtZW50U2libGluZy5jbG9uZU5vZGUodHJ1ZSlcclxuICAgICAgbW9kZWwuZW1wdHkuaWQgPSBtb2RlbC5pZC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLnByZXZpb3VzRWxlbWVudFNpYmxpbmcucHJldmlvdXNFbGVtZW50U2libGluZy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLnByZXZpb3VzRWxlbWVudFNpYmxpbmcuY2xvbmVOb2RlKHRydWUpXHJcblxyXG4gICAgICByZXR1cm4gbW9kZWxcclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gZGVsKGVsKSB7XHJcbiAgICAgIGxldCBtb2QgPSBtb2RlbChlbClcclxuICAgICAgaWYgKG1vZC50b1NlcnYuaWQgPT09ICduZXcnKSByZXR1cm5cclxuICAgICAgaWYgKGNvbmZpcm0oXCLQo9C00LDQu9C40YLRjCDQv9GA0LDQstC+P1wiKSkge1xyXG4gICAgICAgIGRlbERvbShtb2QpXHJcbiAgICAgICAgZGVsU2VydmVyKG1vZClcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGZ1bmN0aW9uIGRlbFNlcnZlcihtb2RlbCkge1xyXG4gICAgICBsZXQgcmVzID0gYXdhaXQgcG9zdCgnL3JpZ2h0L2RlbGV0ZScsIHtpZDogbW9kZWwudG9TZXJ2LmlkfSlcclxuICAgICAgcmVzID0gYXdhaXQgSlNPTi5wYXJzZShyZXMpXHJcbiAgICAgIGlmIChyZXMubXNnID09PSAnb2snKSB7XHJcbiAgICAgICAgcG9wdXAuc2hvdygn0KPQtNCw0LvQtdC90L4nKVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGVsRG9tKG1vZGVsKSB7XHJcbiAgICAgIG1vZGVsLmlkLnJlbW92ZSgpXHJcbiAgICAgIG1vZGVsLm5hbWUucmVtb3ZlKClcclxuICAgICAgbW9kZWwuZGVzY3JpcHRpb24ucmVtb3ZlKClcclxuICAgICAgbW9kZWwuc2F2ZS5yZW1vdmUoKVxyXG4gICAgICBtb2RlbC5kZWwucmVtb3ZlKClcclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZShlbCkge1xyXG4gICAgICBsZXQgbW9kID0gbW9kZWwoZWwpXHJcbiAgICAgIGlmIChtb2QudG9TZXJ2LmlkICE9PSAnbmV3Jykge1xyXG4gICAgICAgIHVwZGF0ZShtb2QudG9TZXJ2KVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmICghbW9kLnRvU2Vydi5uYW1lIHx8ICFtb2QudG9TZXJ2LmRlc2NyaXB0aW9uKSByZXR1cm4gZmFsc2VcclxuICAgICAgICBjcmVhdGUobW9kKVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZnVuY3Rpb24gdXBkYXRlKHRvU2Vydikge1xyXG4gICAgICBsZXQgcmVzID0gYXdhaXQgcG9zdCgnL3JpZ2h0L3VwZGF0ZScsIHRvU2VydilcclxuICAgICAgaWYgKGF3YWl0IEpTT04ucGFyc2UocmVzKS51cGRhdGVkKSB7XHJcbiAgICAgICAgcG9wdXAuc2hvdygn0J7QsdC90L7QstC70LXQvdC+JylcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNsZWFyTW9kZWwobW9kZWwpe1xyXG4gICAgICBtb2RlbC5uYW1lLmlubmVyVGV4dCA9IFwiXCJcclxuICAgICAgbW9kZWwuZGVzY3JpcHRpb24uaW5uZXJUZXh0ID0gXCJcIlxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZU9uRG9tKG1vZGVsKXtcclxuICAgICAgbGV0IGxhc3RFbGVtZW50ID0gJChcIi5pZFtkYXRhLWlkPSduZXcnXVwiKVswXVxyXG4gICAgICBsYXN0RWxlbWVudC5iZWZvcmUobW9kZWwuZW1wdHkuaWQpXHJcbiAgICAgIGxhc3RFbGVtZW50LmJlZm9yZShtb2RlbC5lbXB0eS5uYW1lKVxyXG4gICAgICBsYXN0RWxlbWVudC5iZWZvcmUobW9kZWwuZW1wdHkuZGVzY3JpcHRpb24pXHJcbiAgICAgIGxhc3RFbGVtZW50LmJlZm9yZShtb2RlbC5lbXB0eS5zYXZlKVxyXG4gICAgICBsYXN0RWxlbWVudC5iZWZvcmUobW9kZWwuZW1wdHkuZGVsKVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFzc2lnbk5ld1ZhbHVlc09uQ2xvbmUobW9kZWwsIGlkKXtcclxuICAgICAgbW9kZWwuZW1wdHkuaWQuZGF0YXNldC5pZCA9IGlkXHJcbiAgICAgIG1vZGVsLmVtcHR5LmlkLmlubmVyVGV4dCA9IGlkXHJcbiAgICAgIG1vZGVsLmVtcHR5Lm5hbWUuZGF0YXNldC5pZCA9IGlkXHJcbiAgICAgIG1vZGVsLmVtcHR5Lm5hbWUuaW5uZXJUZXh0ID0gbW9kZWwubmFtZS5pbm5lclRleHQudHJpbSgpXHJcbiAgICAgIG1vZGVsLmVtcHR5LmRlc2NyaXB0aW9uLmRhdGFzZXQuaWQgPSBpZFxyXG4gICAgICBtb2RlbC5lbXB0eS5kZXNjcmlwdGlvbi5pbm5lclRleHQgPSBtb2RlbC5kZXNjcmlwdGlvbi5pbm5lclRleHQudHJpbSgpXHJcbiAgICAgIG1vZGVsLmVtcHR5LnNhdmUuZGF0YXNldC5pZCA9IGlkXHJcbiAgICAgIG1vZGVsLmVtcHR5LmRlbC5kYXRhc2V0LmlkID0gaWRcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZShtb2RlbCkge1xyXG4gICAgICBsZXQgcmVzID0gYXdhaXQgcG9zdCgnL3JpZ2h0L2NyZWF0ZScsIG1vZGVsLnRvU2VydilcclxuICAgICAgcmVzID0gYXdhaXQgSlNPTi5wYXJzZShyZXMpXHJcblxyXG4gICAgICBpZiAocmVzLmlkKSB7XHJcblxyXG4gICAgICAgIGFzc2lnbk5ld1ZhbHVlc09uQ2xvbmUobW9kZWwsIHJlcy5pZClcclxuICAgICAgICBjcmVhdGVPbkRvbShtb2RlbClcclxuICAgICAgICBjbGVhck1vZGVsKG1vZGVsKVxyXG5cclxuICAgICAgICBwb3B1cC5zaG93KCfQodC+0YXRgNCw0L3QtdC90L4nKVxyXG4gICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbIiQiLCJwb3B1cCIsInBvc3QiLCJyaWdodHMiLCJvbiIsImhhbmRsZSIsImUiLCJ0YXJnZXQiLCJjbG9zZXN0IiwiZGVsIiwic2F2ZSIsIm1vZGVsIiwiZWwiLCJkYXRhSWQiLCJkYXRhc2V0IiwiaWQiLCJmaWVsZHMiLCJ0b1NlcnYiLCJlbXB0eSIsIm1hcCIsImYiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsIm5hbWUiLCJpbm5lclRleHQiLCJ0cmltIiwiZGVzY3JpcHRpb24iLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwiY2xvbmVOb2RlIiwibW9kIiwiY29uZmlybSIsImRlbERvbSIsImRlbFNlcnZlciIsInJlcyIsIkpTT04iLCJwYXJzZSIsIm1zZyIsInNob3ciLCJyZW1vdmUiLCJ1cGRhdGUiLCJjcmVhdGUiLCJ1cGRhdGVkIiwiY2xlYXJNb2RlbCIsImNyZWF0ZU9uRG9tIiwibGFzdEVsZW1lbnQiLCJiZWZvcmUiLCJhc3NpZ25OZXdWYWx1ZXNPbkNsb25lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/src/Admin/Rights/rights.js\n");

/***/ }),

/***/ "./public/src/Admin/Settings/settings.js":
/*!***********************************************!*\
  !*** ./public/src/Admin/Settings/settings.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ settings; }\n/* harmony export */ });\n/* harmony import */ var _users__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./users */ \"./public/src/Admin/Settings/users.js\");\n// import rights from '../Rights/rights'\n // import rights from \"./rights\";\n\nfunction settings() {\n  // rights()\n  (0,_users__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL0FkbWluL1NldHRpbmdzL3NldHRpbmdzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7Q0FFQTs7QUFFZSxTQUFTQyxRQUFULEdBQW1CO0FBRWhDO0FBQ0FELEVBQUFBLGtEQUFLO0FBRU4iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9wdWJsaWMvc3JjL0FkbWluL1NldHRpbmdzL3NldHRpbmdzLmpzPzc5ZTUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IHJpZ2h0cyBmcm9tICcuLi9SaWdodHMvcmlnaHRzJ1xyXG5pbXBvcnQgdXNlcnMgZnJvbSAnLi91c2VycydcclxuLy8gaW1wb3J0IHJpZ2h0cyBmcm9tIFwiLi9yaWdodHNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldHRpbmdzKCl7XHJcblxyXG4gIC8vIHJpZ2h0cygpXHJcbiAgdXNlcnMoKVxyXG5cclxufSJdLCJuYW1lcyI6WyJ1c2VycyIsInNldHRpbmdzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/src/Admin/Settings/settings.js\n");

/***/ }),

/***/ "./public/src/Admin/Settings/users.js":
/*!********************************************!*\
  !*** ./public/src/Admin/Settings/users.js ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ init; }\n/* harmony export */ });\n/* harmony import */ var _users_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./users.scss */ \"./public/src/Admin/Settings/users.scss\");\n\nfunction init() {}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL0FkbWluL1NldHRpbmdzL3VzZXJzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFFZSxTQUFTQSxJQUFULEdBQWUsQ0FFN0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9wdWJsaWMvc3JjL0FkbWluL1NldHRpbmdzL3VzZXJzLmpzPzY5ZmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL3VzZXJzLnNjc3MnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdCgpe1xyXG5cclxufSJdLCJuYW1lcyI6WyJpbml0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/src/Admin/Settings/users.js\n");

/***/ }),

/***/ "./public/src/Admin/admin.js":
/*!***********************************!*\
  !*** ./public/src/Admin/admin.js ***!
  \***********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _admin_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./admin.scss */ \"./public/src/Admin/admin.scss\");\n/* harmony import */ var _components_header_header_adm__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/header/header-adm */ \"./public/src/components/header/header-adm.js\");\n/* harmony import */ var _components_accordion_accordion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/accordion/accordion */ \"./public/src/components/accordion/accordion.js\");\n/* harmony import */ var _Test_test_results_test_results__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Test/test_results/test_results */ \"./public/src/Test/test_results/test_results.js\");\n/* harmony import */ var _Test_test_edit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Test/test-edit */ \"./public/src/Test/test-edit.js\");\n/* harmony import */ var _Test_do__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Test/do */ \"./public/src/Test/do.js\");\n/* harmony import */ var _Test_test_update__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Test/test-update */ \"./public/src/Test/test-update.js\");\n/* harmony import */ var _Settings_settings__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Settings/settings */ \"./public/src/Admin/Settings/settings.js\");\n/* harmony import */ var _Rights_rights__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Rights/rights */ \"./public/src/Admin/Rights/rights.js\");\n/* harmony import */ var _Planning_planning__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Planning/planning */ \"./public/src/Admin/Planning/planning.js\");\n/* harmony import */ var _CRM_user__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./CRM/user */ \"./public/src/Admin/CRM/user.js\");\n/* harmony import */ var _model_cache__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./model/cache */ \"./public/src/Admin/model/cache.js\");\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../common */ \"./public/src/common.js\");\n // import '../delete/main-menu/admin_main_menu'\n\n\n\n\n\n\n\n\n\n\n\n\n\nnavigate(window.location.pathname);\n\nfunction navigate(str) {\n  switch (true) {\n    case /\\/adminsc\\/settings/.test(str):\n    case /\\/adminsc\\/rights/.test(str):\n      (0,_Rights_rights__WEBPACK_IMPORTED_MODULE_8__[\"default\"])();\n      (0,_common__WEBPACK_IMPORTED_MODULE_12__.$)(\"[href='/adminsc/settings']\").addClass('current');\n      break;\n\n    case /\\/adminsc\\/Sitemap/.test(str):\n      (0,_Settings_settings__WEBPACK_IMPORTED_MODULE_7__[\"default\"])();\n      (0,_common__WEBPACK_IMPORTED_MODULE_12__.$)(\"[href='/adminsc/settings']\").addClass('current');\n      break;\n\n    case /\\/adminsc\\/crm\\/testresults/.test(str):\n      (0,_Test_test_results_test_results__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n      (0,_common__WEBPACK_IMPORTED_MODULE_12__.$)(\"[href='/adminsc/crm/testresults']\").addClass('current');\n      break;\n\n    case /\\/adminsc\\/crm\\/user/.test(str):\n      (0,_CRM_user__WEBPACK_IMPORTED_MODULE_10__[\"default\"])();\n      break;\n\n    case /\\/adminsc\\/crm/.test(str):\n      (0,_common__WEBPACK_IMPORTED_MODULE_12__.$)(\"[href='/adminsc/crm']\").addClass('current');\n      break;\n\n    case /\\/adminsc\\/catalog/.test(str):\n      (0,_common__WEBPACK_IMPORTED_MODULE_12__.$)(\"[href='/adminsc/catalog']\").addClass('current');\n      break;\n\n    case /\\/adminsc\\/planning/.test(str):\n      (0,_Planning_planning__WEBPACK_IMPORTED_MODULE_9__[\"default\"])();\n      (0,_common__WEBPACK_IMPORTED_MODULE_12__.$)(\"[href='/adminsc/planning']\").addClass('current');\n      break;\n\n    case /\\/adminsc\\/test\\/update/.test(str):\n      (0,_Test_test_update__WEBPACK_IMPORTED_MODULE_6__[\"default\"])();\n      break;\n    // case /\\/adminsc\\/test\\/pathshow/.test(str):\n\n    case /\\/adminsc\\/test\\/edit/.test(str):\n    case /\\/adminsc\\/test\\/show/.test(str):\n      (0,_Test_test_edit__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n      (0,_common__WEBPACK_IMPORTED_MODULE_12__.$)(\"[href='/adminsc/test/edit']\").addClass('current');\n      break;\n\n    case /\\/test/.test(str) || /\\/test\\/result/.test(str):\n      (0,_Test_do__WEBPACK_IMPORTED_MODULE_5__[\"default\"])();\n      (0,_common__WEBPACK_IMPORTED_MODULE_12__.$)(\"[href='/test/do']\").addClass('current');\n      break;\n\n    default:\n      (0,_common__WEBPACK_IMPORTED_MODULE_12__.$)(\"[href='/house']\").addClass('current');\n      break;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL0FkbWluL2FkbWluLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0NBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBR0FTLFFBQVEsQ0FBQ0MsTUFBTSxDQUFDQyxRQUFQLENBQWdCQyxRQUFqQixDQUFSOztBQUVBLFNBQVNILFFBQVQsQ0FBa0JJLEdBQWxCLEVBQXVCO0FBQ3JCLFVBQVEsSUFBUjtBQUNFLFNBQUssc0JBQXNCQyxJQUF0QixDQUEyQkQsR0FBM0IsQ0FBTDtBQUNBLFNBQUssb0JBQW9CQyxJQUFwQixDQUF5QkQsR0FBekIsQ0FBTDtBQUNFUixNQUFBQSwwREFBTTtBQUNORyxNQUFBQSwyQ0FBQyxDQUFDLDRCQUFELENBQUQsQ0FBZ0NPLFFBQWhDLENBQXlDLFNBQXpDO0FBQ0E7O0FBQ0YsU0FBSyxxQkFBcUJELElBQXJCLENBQTBCRCxHQUExQixDQUFMO0FBQ0VULE1BQUFBLDhEQUFRO0FBQ1JJLE1BQUFBLDJDQUFDLENBQUMsNEJBQUQsQ0FBRCxDQUFnQ08sUUFBaEMsQ0FBeUMsU0FBekM7QUFDQTs7QUFFRixTQUFLLDhCQUE4QkQsSUFBOUIsQ0FBbUNELEdBQW5DLENBQUw7QUFDRWIsTUFBQUEsMkVBQVc7QUFDWFEsTUFBQUEsMkNBQUMsQ0FBQyxtQ0FBRCxDQUFELENBQXVDTyxRQUF2QyxDQUFnRCxTQUFoRDtBQUNBOztBQUVGLFNBQUssdUJBQXVCRCxJQUF2QixDQUE0QkQsR0FBNUIsQ0FBTDtBQUNFTixNQUFBQSxzREFBSTtBQUNKOztBQUVGLFNBQUssaUJBQWlCTyxJQUFqQixDQUFzQkQsR0FBdEIsQ0FBTDtBQUNFTCxNQUFBQSwyQ0FBQyxDQUFDLHVCQUFELENBQUQsQ0FBMkJPLFFBQTNCLENBQW9DLFNBQXBDO0FBQ0E7O0FBRUYsU0FBSyxxQkFBcUJELElBQXJCLENBQTBCRCxHQUExQixDQUFMO0FBQ0VMLE1BQUFBLDJDQUFDLENBQUMsMkJBQUQsQ0FBRCxDQUErQk8sUUFBL0IsQ0FBd0MsU0FBeEM7QUFDQTs7QUFFRixTQUFLLHNCQUFzQkQsSUFBdEIsQ0FBMkJELEdBQTNCLENBQUw7QUFDRVAsTUFBQUEsOERBQVE7QUFDUkUsTUFBQUEsMkNBQUMsQ0FBQyw0QkFBRCxDQUFELENBQWdDTyxRQUFoQyxDQUF5QyxTQUF6QztBQUNBOztBQUVGLFNBQUssMEJBQTBCRCxJQUExQixDQUErQkQsR0FBL0IsQ0FBTDtBQUNFVixNQUFBQSw2REFBVTtBQUNWO0FBRUY7O0FBQ0EsU0FBSyx3QkFBd0JXLElBQXhCLENBQTZCRCxHQUE3QixDQUFMO0FBQ0EsU0FBSyx3QkFBd0JDLElBQXhCLENBQTZCRCxHQUE3QixDQUFMO0FBQ0VaLE1BQUFBLDJEQUFRO0FBQ1JPLE1BQUFBLDJDQUFDLENBQUMsNkJBQUQsQ0FBRCxDQUFpQ08sUUFBakMsQ0FBMEMsU0FBMUM7QUFDQTs7QUFFRixTQUFLLFNBQVNELElBQVQsQ0FBY0QsR0FBZCxLQUFvQixpQkFBaUJDLElBQWpCLENBQXNCRCxHQUF0QixDQUF6QjtBQUNFWCxNQUFBQSxvREFBTTtBQUNOTSxNQUFBQSwyQ0FBQyxDQUFDLG1CQUFELENBQUQsQ0FBdUJPLFFBQXZCLENBQWdDLFNBQWhDO0FBQ0E7O0FBRUY7QUFDRVAsTUFBQUEsMkNBQUMsQ0FBQyxpQkFBRCxDQUFELENBQXFCTyxRQUFyQixDQUE4QixTQUE5QjtBQUNBO0FBbkRKO0FBcUREIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vcHVibGljL3NyYy9BZG1pbi9hZG1pbi5qcz8yNWM0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnLi9hZG1pbi5zY3NzJ1xyXG4vLyBpbXBvcnQgJy4uL2RlbGV0ZS9tYWluLW1lbnUvYWRtaW5fbWFpbl9tZW51J1xyXG5cclxuaW1wb3J0ICcuLi9jb21wb25lbnRzL2hlYWRlci9oZWFkZXItYWRtJ1xyXG5pbXBvcnQgJy4uL2NvbXBvbmVudHMvYWNjb3JkaW9uL2FjY29yZGlvbidcclxuXHJcbmltcG9ydCB0ZXN0UmVzdWx0cyBmcm9tICcuLi9UZXN0L3Rlc3RfcmVzdWx0cy90ZXN0X3Jlc3VsdHMnXHJcbmltcG9ydCB0ZXN0RWRpdCBmcm9tICcuLi9UZXN0L3Rlc3QtZWRpdCdcclxuaW1wb3J0IHRlc3REbyBmcm9tICcuLi9UZXN0L2RvJ1xyXG5pbXBvcnQgdGVzdFVwZGF0ZSBmcm9tICcuLi9UZXN0L3Rlc3QtdXBkYXRlJ1xyXG5pbXBvcnQgc2V0dGluZ3MgZnJvbSAnLi9TZXR0aW5ncy9zZXR0aW5ncydcclxuaW1wb3J0IHJpZ2h0cyBmcm9tICcuL1JpZ2h0cy9yaWdodHMnXHJcbmltcG9ydCBwbGFubmluZyBmcm9tICcuL1BsYW5uaW5nL3BsYW5uaW5nJ1xyXG5pbXBvcnQgdXNlciBmcm9tICcuL0NSTS91c2VyJ1xyXG5cclxuXHJcbmltcG9ydCBcIi4vbW9kZWwvY2FjaGVcIjtcclxuXHJcbmltcG9ydCB7JH0gZnJvbSBcIi4uL2NvbW1vblwiO1xyXG5cclxuXHJcbm5hdmlnYXRlKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSlcclxuXHJcbmZ1bmN0aW9uIG5hdmlnYXRlKHN0cikge1xyXG4gIHN3aXRjaCAodHJ1ZSkge1xyXG4gICAgY2FzZSAvXFwvYWRtaW5zY1xcL3NldHRpbmdzLy50ZXN0KHN0cik6XHJcbiAgICBjYXNlIC9cXC9hZG1pbnNjXFwvcmlnaHRzLy50ZXN0KHN0cik6XHJcbiAgICAgIHJpZ2h0cygpXHJcbiAgICAgICQoXCJbaHJlZj0nL2FkbWluc2Mvc2V0dGluZ3MnXVwiKS5hZGRDbGFzcygnY3VycmVudCcpXHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAvXFwvYWRtaW5zY1xcL1NpdGVtYXAvLnRlc3Qoc3RyKTpcclxuICAgICAgc2V0dGluZ3MoKVxyXG4gICAgICAkKFwiW2hyZWY9Jy9hZG1pbnNjL3NldHRpbmdzJ11cIikuYWRkQ2xhc3MoJ2N1cnJlbnQnKVxyXG4gICAgICBicmVhaztcclxuXHJcbiAgICBjYXNlIC9cXC9hZG1pbnNjXFwvY3JtXFwvdGVzdHJlc3VsdHMvLnRlc3Qoc3RyKTpcclxuICAgICAgdGVzdFJlc3VsdHMoKVxyXG4gICAgICAkKFwiW2hyZWY9Jy9hZG1pbnNjL2NybS90ZXN0cmVzdWx0cyddXCIpLmFkZENsYXNzKCdjdXJyZW50JylcclxuICAgICAgYnJlYWs7XHJcblxyXG4gICAgY2FzZSAvXFwvYWRtaW5zY1xcL2NybVxcL3VzZXIvLnRlc3Qoc3RyKTpcclxuICAgICAgdXNlcigpXHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICAgIGNhc2UgL1xcL2FkbWluc2NcXC9jcm0vLnRlc3Qoc3RyKTpcclxuICAgICAgJChcIltocmVmPScvYWRtaW5zYy9jcm0nXVwiKS5hZGRDbGFzcygnY3VycmVudCcpXHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICAgIGNhc2UgL1xcL2FkbWluc2NcXC9jYXRhbG9nLy50ZXN0KHN0cik6XHJcbiAgICAgICQoXCJbaHJlZj0nL2FkbWluc2MvY2F0YWxvZyddXCIpLmFkZENsYXNzKCdjdXJyZW50JylcclxuICAgICAgYnJlYWs7XHJcblxyXG4gICAgY2FzZSAvXFwvYWRtaW5zY1xcL3BsYW5uaW5nLy50ZXN0KHN0cik6XHJcbiAgICAgIHBsYW5uaW5nKClcclxuICAgICAgJChcIltocmVmPScvYWRtaW5zYy9wbGFubmluZyddXCIpLmFkZENsYXNzKCdjdXJyZW50JylcclxuICAgICAgYnJlYWs7XHJcblxyXG4gICAgY2FzZSAvXFwvYWRtaW5zY1xcL3Rlc3RcXC91cGRhdGUvLnRlc3Qoc3RyKTpcclxuICAgICAgdGVzdFVwZGF0ZSgpXHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICAgIC8vIGNhc2UgL1xcL2FkbWluc2NcXC90ZXN0XFwvcGF0aHNob3cvLnRlc3Qoc3RyKTpcclxuICAgIGNhc2UgL1xcL2FkbWluc2NcXC90ZXN0XFwvZWRpdC8udGVzdChzdHIpOlxyXG4gICAgY2FzZSAvXFwvYWRtaW5zY1xcL3Rlc3RcXC9zaG93Ly50ZXN0KHN0cik6XHJcbiAgICAgIHRlc3RFZGl0KClcclxuICAgICAgJChcIltocmVmPScvYWRtaW5zYy90ZXN0L2VkaXQnXVwiKS5hZGRDbGFzcygnY3VycmVudCcpXHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICAgIGNhc2UgL1xcL3Rlc3QvLnRlc3Qoc3RyKXx8L1xcL3Rlc3RcXC9yZXN1bHQvLnRlc3Qoc3RyKTpcclxuICAgICAgdGVzdERvKClcclxuICAgICAgJChcIltocmVmPScvdGVzdC9kbyddXCIpLmFkZENsYXNzKCdjdXJyZW50JylcclxuICAgICAgYnJlYWs7XHJcblxyXG4gICAgZGVmYXVsdDpcclxuICAgICAgJChcIltocmVmPScvaG91c2UnXVwiKS5hZGRDbGFzcygnY3VycmVudCcpXHJcbiAgICAgIGJyZWFrO1xyXG4gIH1cclxufVxyXG5cclxuXHJcblxyXG4iXSwibmFtZXMiOlsidGVzdFJlc3VsdHMiLCJ0ZXN0RWRpdCIsInRlc3REbyIsInRlc3RVcGRhdGUiLCJzZXR0aW5ncyIsInJpZ2h0cyIsInBsYW5uaW5nIiwidXNlciIsIiQiLCJuYXZpZ2F0ZSIsIndpbmRvdyIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJzdHIiLCJ0ZXN0IiwiYWRkQ2xhc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/src/Admin/admin.js\n");

/***/ }),

/***/ "./public/src/Admin/model/cache.js":
/*!*****************************************!*\
  !*** ./public/src/Admin/model/cache.js ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ cache; }\n/* harmony export */ });\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common */ \"./public/src/common.js\");\n/* harmony import */ var _components_popup_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/popup.scss */ \"./public/src/components/popup.scss\");\n\n\nlet _cache = {\n  clearCache: async function () {\n    let res = await (0,_common__WEBPACK_IMPORTED_MODULE_0__.post)('/adminsc/clearCache', {});\n\n    if (res === 'Успешно') {\n      _common__WEBPACK_IMPORTED_MODULE_0__.popup.show(res);\n    }\n  }\n};\nfunction cache() {\n  (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.clearCache').on('click', _cache.clearCache);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL0FkbWluL21vZGVsL2NhY2hlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFHQSxJQUFJRyxNQUFNLEdBQUc7QUFDVEMsRUFBQUEsVUFBVSxFQUFFLGtCQUFrQjtBQUMxQixRQUFJQyxHQUFHLEdBQUcsTUFBTUgsNkNBQUksQ0FBQyxxQkFBRCxFQUF3QixFQUF4QixDQUFwQjs7QUFDQSxRQUFJRyxHQUFHLEtBQUcsU0FBVixFQUFxQjtBQUNqQkosTUFBQUEsK0NBQUEsQ0FBV0ksR0FBWDtBQUNIO0FBQ0o7QUFOUSxDQUFiO0FBU2UsU0FBU0UsS0FBVCxHQUFpQjtBQUM1QlAsRUFBQUEsMENBQUMsQ0FBQyxhQUFELENBQUQsQ0FBaUJRLEVBQWpCLENBQW9CLE9BQXBCLEVBQTZCTCxNQUFNLENBQUNDLFVBQXBDO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9wdWJsaWMvc3JjL0FkbWluL21vZGVsL2NhY2hlLmpzPzFlMTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHskLCBwb3B1cCwgcG9zdH0gZnJvbSBcIi4uLy4uL2NvbW1vblwiO1xyXG5pbXBvcnQgXCIuLi8uLi9jb21wb25lbnRzL3BvcHVwLnNjc3NcIjtcclxuXHJcblxyXG5sZXQgX2NhY2hlID0ge1xyXG4gICAgY2xlYXJDYWNoZTogYXN5bmMgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCByZXMgPSBhd2FpdCBwb3N0KCcvYWRtaW5zYy9jbGVhckNhY2hlJywge30pXHJcbiAgICAgICAgaWYgKHJlcz09PSfQo9GB0L/QtdGI0L3QvicpIHtcclxuICAgICAgICAgICAgcG9wdXAuc2hvdyhyZXMpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjYWNoZSgpIHtcclxuICAgICQoJy5jbGVhckNhY2hlJykub24oJ2NsaWNrJywgX2NhY2hlLmNsZWFyQ2FjaGUpXHJcbn0iXSwibmFtZXMiOlsiJCIsInBvcHVwIiwicG9zdCIsIl9jYWNoZSIsImNsZWFyQ2FjaGUiLCJyZXMiLCJzaG93IiwiY2FjaGUiLCJvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/src/Admin/model/cache.js\n");

/***/ }),

/***/ "./public/src/Test/accordion_show.js":
/*!*******************************************!*\
  !*** ./public/src/Test/accordion_show.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"accordion_show\": function() { return /* binding */ accordion_show; }\n/* harmony export */ });\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common */ \"./public/src/common.js\");\n\nfunction accordion_show() {\n  (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.test-edit__menu-toggle').on('click', e => {\n    let menu = (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.test-edit__accordion')[0];\n    menu.classList.toggle('open');\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL1Rlc3QvYWNjb3JkaW9uX3Nob3cuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUVPLFNBQVNDLGNBQVQsR0FBMEI7QUFFL0JELEVBQUFBLDBDQUFDLENBQUMseUJBQUQsQ0FBRCxDQUE2QkUsRUFBN0IsQ0FBZ0MsT0FBaEMsRUFBMENDLENBQUQsSUFBTztBQUM1QyxRQUFJQyxJQUFJLEdBQUdKLDBDQUFDLENBQUMsdUJBQUQsQ0FBRCxDQUEyQixDQUEzQixDQUFYO0FBQ0FJLElBQUFBLElBQUksQ0FBQ0MsU0FBTCxDQUFlQyxNQUFmLENBQXNCLE1BQXRCO0FBQ0QsR0FISDtBQUtEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vcHVibGljL3NyYy9UZXN0L2FjY29yZGlvbl9zaG93LmpzP2JmNTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHskfSBmcm9tIFwiLi4vY29tbW9uXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWNjb3JkaW9uX3Nob3coKSB7XHJcblxyXG4gICQoJy50ZXN0LWVkaXRfX21lbnUtdG9nZ2xlJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgbGV0IG1lbnUgPSAkKCcudGVzdC1lZGl0X19hY2NvcmRpb24nKVswXVxyXG4gICAgICBtZW51LmNsYXNzTGlzdC50b2dnbGUoJ29wZW4nKVxyXG4gICAgfSlcclxuXHJcbn1cclxuIl0sIm5hbWVzIjpbIiQiLCJhY2NvcmRpb25fc2hvdyIsIm9uIiwiZSIsIm1lbnUiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/src/Test/accordion_show.js\n");

/***/ }),

/***/ "./public/src/Test/do.js":
/*!*******************************!*\
  !*** ./public/src/Test/do.js ***!
  \*******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ testDo; }\n/* harmony export */ });\n/* harmony import */ var _do_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./do.scss */ \"./public/src/Test/do.scss\");\n/* harmony import */ var _components_header_autocomplete__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/header/autocomplete */ \"./public/src/components/header/autocomplete.js\");\n/* harmony import */ var _components_accordion_accordion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/accordion/accordion */ \"./public/src/components/accordion/accordion.js\");\n/* harmony import */ var _components_cookie_cookie__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/cookie/cookie */ \"./public/src/components/cookie/cookie.js\");\n/* harmony import */ var _model_test__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./model/test */ \"./public/src/Test/model/test.js\");\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common */ \"./public/src/common.js\");\n/* harmony import */ var _components_test_pagination_test_pagination__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/test-pagination/test-pagination */ \"./public/src/components/test-pagination/test-pagination.js\");\n/* harmony import */ var _accordion_show__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./accordion_show */ \"./public/src/Test/accordion_show.js\");\n\n\n\n\n\n\n\n\nfunction testDo() {\n  (0,_accordion_show__WEBPACK_IMPORTED_MODULE_7__.accordion_show)(); // $('.test-do__menu-slider').on('click', toggleMenu)\n  // function toggleMenu(e) {\n  //   let toggler = e.target\n  //   let togglerParent = toggler.closest('.test-do__menu-slider')\n  //   let menu = $(togglerParent).find('.menu')\n  //   menu.classList.toggle('menu-open')\n  // }\n  //Скрыть все вопросы\n\n  (0,_common__WEBPACK_IMPORTED_MODULE_5__.$)('.question').removeClass(\"flex1\"); //Показть первый вопрос\n\n  (0,_common__WEBPACK_IMPORTED_MODULE_5__.$)('.question:first-child').addClass(\"flex1\"); // Нажать первуюкнопку navigation\n\n  (0,_components_test_pagination_test_pagination__WEBPACK_IMPORTED_MODULE_6__.navInit)();\n  (0,_common__WEBPACK_IMPORTED_MODULE_5__.$)('.test-do__content [type=\"checkbox\"]').on('click', function (e) {\n    let a = e.target.labels[0];\n    a.classList.toggle('pushed');\n  });\n  (0,_common__WEBPACK_IMPORTED_MODULE_5__.$)('#prev').on('click', _model_test__WEBPACK_IMPORTED_MODULE_4__._test.prevQ);\n  (0,_common__WEBPACK_IMPORTED_MODULE_5__.$)('#next').on('click', _model_test__WEBPACK_IMPORTED_MODULE_4__._test.nextQ); /////////////////////////////////////////////////////////////////////////////\n  ///////////  RESULTS  TEST  Закончить тест/////////////////////////////\n  /////////////////////////////////////////////////////////////////////////////\n  // если это результат теста, деактивирукм кнопку Закончить тест\n\n  let button = (0,_common__WEBPACK_IMPORTED_MODULE_5__.$)('.test-do__finish-btn').el[0];\n\n  if (button) {\n    if (window.location.pathname.match('^/test/result/.?')) {\n      button.classList.add('inactive');\n    }\n  }\n\n  (0,_common__WEBPACK_IMPORTED_MODULE_5__.$)('.test-do__finish-btn').on('click', async function (e) {\n    let button = e.target;\n    if (button.classList.contains('inactive')) return false;\n    if (button.id !== 'btnn') return false;\n\n    if (button.text == \"ПРОЙТИ ТЕСТ ЗАНОВО\") {\n      location.reload();\n      return;\n    }\n\n    let corrAnswers = await (0,_common__WEBPACK_IMPORTED_MODULE_5__.post)('/test/getCorrectAnswers', {});\n    corrAnswers = JSON.parse(corrAnswers);\n    let errorCnt = colorView(corrAnswers);\n    let data = objToServer(errorCnt);\n    let res = await (0,_common__WEBPACK_IMPORTED_MODULE_5__.post)('/test/cachePageSendEmail', data);\n\n    if (res) {\n      (0,_common__WEBPACK_IMPORTED_MODULE_5__.$)(\"#btnn\").el[0].href = location.href;\n      (0,_common__WEBPACK_IMPORTED_MODULE_5__.$)(\"#btnn\").el[0].text = \"ПРОЙТИ ТЕСТ ЗАНОВО\";\n    }\n  });\n\n  function objToServer(errorCnt) {\n    let obj = {\n      token: document.querySelector('meta[name=\"token\"]').getAttribute('content'),\n      questionCnt: (0,_common__WEBPACK_IMPORTED_MODULE_5__.$)('.question').el.length,\n      errorCnt: errorCnt,\n      pageCache: `<!DOCTYPE ${document.doctype.name}>` + document.documentElement.outerHTML,\n      testId: (0,_common__WEBPACK_IMPORTED_MODULE_5__.$)('[data-test-id]').el[0].dataset.testId,\n      test_name: (0,_common__WEBPACK_IMPORTED_MODULE_5__.$)('.test-name').el[0].innerText,\n      userName: (0,_common__WEBPACK_IMPORTED_MODULE_5__.$)('.user-menu__fio').el[0].innerText\n    };\n    let formData = new FormData();\n    formData.append('token', obj.token);\n    formData.append('questionCnt', obj.questionCnt);\n    formData.append('errorCnt', obj.errorCnt);\n    formData.append('pageCache', obj.pageCache);\n    formData.append('testId', obj.testId);\n    formData.append('test_name', obj.test_name);\n    formData.append('userName', obj.userName);\n    return formData;\n    return obj;\n  }\n\n  function colorView(correctAnswers) {\n    let q = (0,_common__WEBPACK_IMPORTED_MODULE_5__.$)('.question').el;\n    Array.from(q).map((question, i) => {\n      let answers = question.querySelectorAll('.a'),\n          errors = [];\n      Array.from(answers).map(answer => {\n        let input = answer.getElementsByTagName('input')[0],\n            answerId = input.id.replace(\"answer-\", \"\"),\n            // id question\n        label = answer.getElementsByTagName('label')[0],\n            // Чтобы прикрепить зеленый значек к этому элементу\n        correctAnser = correctAnswers.indexOf(answerId) !== -1;\n\n        if (!checkCorrectAnswers(correctAnser, input, label)) {\n          errors.push(true);\n        }\n      });\n      let questId = +question.dataset['id'],\n          // id question\n      paginItem = (0,_common__WEBPACK_IMPORTED_MODULE_5__.$)('.pagination [data-pagination=\"' + questId + '\"]').el[0];\n\n      if (errors.length) {\n        (0,_common__WEBPACK_IMPORTED_MODULE_5__.$)(paginItem).addClass('redShadow');\n      } else {\n        (0,_common__WEBPACK_IMPORTED_MODULE_5__.$)(paginItem).addClass('greenShadow');\n      }\n    });\n    return (0,_common__WEBPACK_IMPORTED_MODULE_5__.$)('.redShadow').el.length;\n  }\n\n  function checkCorrectAnswers(correctAnser, input, label) {\n    if (input.checked && correctAnser) {\n      // checkbox нажат. а в correct answer нету. в correct_answers есть, его всегда подсвечиваем зеленым\n      label.classList.add('done'); //green check зеленый значек\n\n      return true;\n    } else if (input.checked && !correctAnser) {\n      // checkbox нажат,и есть в correct answer. в correct_answers нет, кнопка не нажата\n      return false;\n    } else if (!input.checked && correctAnser) {\n      // кнопка не нажата, в correct_answers есть\n      label.classList.add('done'); //green check зеленый значек\n\n      label.classList.add('done'); // green check зеленый значек\n\n      return false;\n    } else if (!input.checked && !correctAnser) {\n      // кнопка не нажата, в correct_answers нет\n      return true;\n    }\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0QsTUFBQUEsS0FBSyxDQUFDM0QsU0FBTixDQUFnQlUsR0FBaEIsQ0FBb0IsTUFBcEIsRUFEeUMsQ0FDWjs7QUFDN0JpRCxNQUFBQSxLQUFLLENBQUMzRCxTQUFOLENBQWdCVSxHQUFoQixDQUFvQixNQUFwQixFQUZ5QyxDQUViOztBQUM1QixhQUFPLEtBQVA7QUFDRCxLQUpNLE1BSUEsSUFBSSxDQUFDNkMsS0FBSyxDQUFDVyxPQUFQLElBQWtCLENBQUNOLFlBQXZCLEVBQXFDO0FBQUM7QUFDM0MsYUFBTyxJQUFQO0FBQ0Q7QUFDRjtBQUVGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vcHVibGljL3NyYy9UZXN0L2RvLmpzPzRjMzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL2RvLnNjc3MnXHJcbmltcG9ydCAnLi4vY29tcG9uZW50cy9oZWFkZXIvYXV0b2NvbXBsZXRlJ1xyXG5pbXBvcnQgJy4uL2NvbXBvbmVudHMvYWNjb3JkaW9uL2FjY29yZGlvbidcclxuaW1wb3J0ICcuLi9jb21wb25lbnRzL2Nvb2tpZS9jb29raWUnXHJcblxyXG5cclxuaW1wb3J0IHtfdGVzdH0gZnJvbSBcIi4vbW9kZWwvdGVzdFwiXHJcbmltcG9ydCB7cG9zdCwgJCwgZmV0Y2hXfSBmcm9tICcuLi9jb21tb24nXHJcbmltcG9ydCB7bmF2SW5pdH0gZnJvbSAnLi4vY29tcG9uZW50cy90ZXN0LXBhZ2luYXRpb24vdGVzdC1wYWdpbmF0aW9uJ1xyXG5pbXBvcnQge2FjY29yZGlvbl9zaG93fSBmcm9tIFwiLi9hY2NvcmRpb25fc2hvd1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGVzdERvKCkge1xyXG5cclxuICBhY2NvcmRpb25fc2hvdygpXHJcblxyXG4gIC8vICQoJy50ZXN0LWRvX19tZW51LXNsaWRlcicpLm9uKCdjbGljaycsIHRvZ2dsZU1lbnUpXHJcblxyXG4gIC8vIGZ1bmN0aW9uIHRvZ2dsZU1lbnUoZSkge1xyXG4gIC8vICAgbGV0IHRvZ2dsZXIgPSBlLnRhcmdldFxyXG4gIC8vICAgbGV0IHRvZ2dsZXJQYXJlbnQgPSB0b2dnbGVyLmNsb3Nlc3QoJy50ZXN0LWRvX19tZW51LXNsaWRlcicpXHJcbiAgLy8gICBsZXQgbWVudSA9ICQodG9nZ2xlclBhcmVudCkuZmluZCgnLm1lbnUnKVxyXG4gIC8vICAgbWVudS5jbGFzc0xpc3QudG9nZ2xlKCdtZW51LW9wZW4nKVxyXG4gIC8vIH1cclxuXHJcbi8v0KHQutGA0YvRgtGMINCy0YHQtSDQstC+0L/RgNC+0YHRi1xyXG4gICQoJy5xdWVzdGlvbicpLnJlbW92ZUNsYXNzKFwiZmxleDFcIilcclxuXHJcbi8v0J/QvtC60LDQt9GC0Ywg0L/QtdGA0LLRi9C5INCy0L7Qv9GA0L7RgVxyXG4gICQoJy5xdWVzdGlvbjpmaXJzdC1jaGlsZCcpLmFkZENsYXNzKFwiZmxleDFcIilcclxuLy8g0J3QsNC20LDRgtGMINC/0LXRgNCy0YPRjtC60L3QvtC/0LrRgyBuYXZpZ2F0aW9uXHJcbiAgbmF2SW5pdCgpXHJcbiAgJCgnLnRlc3QtZG9fX2NvbnRlbnQgW3R5cGU9XCJjaGVja2JveFwiXScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBsZXQgYSA9IGUudGFyZ2V0LmxhYmVsc1swXVxyXG4gICAgYS5jbGFzc0xpc3QudG9nZ2xlKCdwdXNoZWQnKVxyXG4gIH0pXHJcblxyXG5cclxuICAkKCcjcHJldicpLm9uKCdjbGljaycsIF90ZXN0LnByZXZRKVxyXG4gICQoJyNuZXh0Jykub24oJ2NsaWNrJywgX3Rlc3QubmV4dFEpXHJcblxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuLy8vLy8vLy8vLy8gIFJFU1VMVFMgIFRFU1QgINCX0LDQutC+0L3Rh9C40YLRjCDRgtC10YHRgi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4vLyDQtdGB0LvQuCDRjdGC0L4g0YDQtdC30YPQu9GM0YLQsNGCINGC0LXRgdGC0LAsINC00LXQsNC60YLQuNCy0LjRgNGD0LrQvCDQutC90L7Qv9C60YMg0JfQsNC60L7QvdGH0LjRgtGMINGC0LXRgdGCXHJcbiAgbGV0IGJ1dHRvbiA9ICQoJy50ZXN0LWRvX19maW5pc2gtYnRuJykuZWxbMF1cclxuICBpZiAoYnV0dG9uKSB7XHJcbiAgICBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLm1hdGNoKCdeL3Rlc3QvcmVzdWx0Ly4/JykpIHtcclxuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2luYWN0aXZlJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gICQoJy50ZXN0LWRvX19maW5pc2gtYnRuJykub24oJ2NsaWNrJywgYXN5bmMgZnVuY3Rpb24gKGUpIHtcclxuXHJcbiAgICBsZXQgYnV0dG9uID0gZS50YXJnZXQ7XHJcbiAgICBpZiAoYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnaW5hY3RpdmUnKSkgcmV0dXJuIGZhbHNlXHJcbiAgICBpZiAoYnV0dG9uLmlkICE9PSAnYnRubicpIHJldHVybiBmYWxzZVxyXG5cclxuICAgIGlmIChidXR0b24udGV4dCA9PSBcItCf0KDQntCZ0KLQmCDQotCV0KHQoiDQl9CQ0J3QntCS0J5cIikge1xyXG4gICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbGV0IGNvcnJBbnN3ZXJzID0gYXdhaXQgcG9zdCgnL3Rlc3QvZ2V0Q29ycmVjdEFuc3dlcnMnLCB7fSlcclxuICAgIGNvcnJBbnN3ZXJzID0gSlNPTi5wYXJzZShjb3JyQW5zd2VycylcclxuICAgIGxldCBlcnJvckNudCA9IGNvbG9yVmlldyhjb3JyQW5zd2VycylcclxuICAgIGxldCBkYXRhID0gb2JqVG9TZXJ2ZXIoZXJyb3JDbnQpXHJcbiAgICBsZXQgcmVzID0gYXdhaXQgcG9zdCgnL3Rlc3QvY2FjaGVQYWdlU2VuZEVtYWlsJywgZGF0YSlcclxuICAgIGlmIChyZXMpIHtcclxuICAgICAgJChcIiNidG5uXCIpLmVsWzBdLmhyZWYgPSBsb2NhdGlvbi5ocmVmXHJcbiAgICAgICQoXCIjYnRublwiKS5lbFswXS50ZXh0ID0gXCLQn9Cg0J7QmdCi0Jgg0KLQldCh0KIg0JfQkNCd0J7QktCeXCJcclxuICAgIH1cclxuICB9KVxyXG5cclxuICBmdW5jdGlvbiBvYmpUb1NlcnZlcihlcnJvckNudCkge1xyXG5cclxuICAgIGxldCBvYmogPSB7XHJcbiAgICAgIHRva2VuOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJ0b2tlblwiXScpLmdldEF0dHJpYnV0ZSgnY29udGVudCcpLFxyXG4gICAgICBxdWVzdGlvbkNudDogJCgnLnF1ZXN0aW9uJykuZWwubGVuZ3RoLFxyXG4gICAgICBlcnJvckNudDogZXJyb3JDbnQsXHJcbiAgICAgIHBhZ2VDYWNoZTogYDwhRE9DVFlQRSAke2RvY3VtZW50LmRvY3R5cGUubmFtZX0+YCArIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUwsXHJcbiAgICAgIHRlc3RJZDogJCgnW2RhdGEtdGVzdC1pZF0nKS5lbFswXS5kYXRhc2V0LnRlc3RJZCxcclxuICAgICAgdGVzdF9uYW1lOiAkKCcudGVzdC1uYW1lJykuZWxbMF0uaW5uZXJUZXh0LFxyXG4gICAgICB1c2VyTmFtZTogJCgnLnVzZXItbWVudV9fZmlvJykuZWxbMF0uaW5uZXJUZXh0LFxyXG4gICAgfVxyXG5cclxuICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgZm9ybURhdGEuYXBwZW5kKCd0b2tlbicsIG9iai50b2tlbik7XHJcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ3F1ZXN0aW9uQ250Jywgb2JqLnF1ZXN0aW9uQ250KTtcclxuICAgIGZvcm1EYXRhLmFwcGVuZCgnZXJyb3JDbnQnLCBvYmouZXJyb3JDbnQpO1xyXG4gICAgZm9ybURhdGEuYXBwZW5kKCdwYWdlQ2FjaGUnLCBvYmoucGFnZUNhY2hlKTtcclxuICAgIGZvcm1EYXRhLmFwcGVuZCgndGVzdElkJywgb2JqLnRlc3RJZCk7XHJcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ3Rlc3RfbmFtZScsIG9iai50ZXN0X25hbWUpO1xyXG4gICAgZm9ybURhdGEuYXBwZW5kKCd1c2VyTmFtZScsIG9iai51c2VyTmFtZSk7XHJcbiAgICByZXR1cm4gZm9ybURhdGFcclxuXHJcbiAgICByZXR1cm4gb2JqXHJcbiAgfVxyXG5cclxuXHJcbiAgZnVuY3Rpb24gY29sb3JWaWV3KGNvcnJlY3RBbnN3ZXJzKSB7XHJcbiAgICBsZXQgcSA9ICQoJy5xdWVzdGlvbicpLmVsXHJcbiAgICBBcnJheS5mcm9tKHEpLm1hcCgocXVlc3Rpb24sIGkpID0+IHtcclxuICAgICAgbGV0IGFuc3dlcnMgPSBxdWVzdGlvbi5xdWVyeVNlbGVjdG9yQWxsKCcuYScpLFxyXG4gICAgICAgIGVycm9ycyA9IFtdXHJcbiAgICAgIEFycmF5LmZyb20oYW5zd2VycykubWFwKChhbnN3ZXIpID0+IHtcclxuICAgICAgICBsZXQgaW5wdXQgPSBhbnN3ZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0JylbMF0sXHJcbiAgICAgICAgICBhbnN3ZXJJZCA9IGlucHV0LmlkLnJlcGxhY2UoXCJhbnN3ZXItXCIsIFwiXCIpLCAvLyBpZCBxdWVzdGlvblxyXG4gICAgICAgICAgbGFiZWwgPSBhbnN3ZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2xhYmVsJylbMF0sIC8vINCn0YLQvtCx0Ysg0L/RgNC40LrRgNC10L/QuNGC0Ywg0LfQtdC70LXQvdGL0Lkg0LfQvdCw0YfQtdC6INC6INGN0YLQvtC80YMg0Y3Qu9C10LzQtdC90YLRg1xyXG4gICAgICAgICAgY29ycmVjdEFuc2VyID0gY29ycmVjdEFuc3dlcnMuaW5kZXhPZihhbnN3ZXJJZCkgIT09IC0xXHJcbiAgICAgICAgaWYgKCFjaGVja0NvcnJlY3RBbnN3ZXJzKGNvcnJlY3RBbnNlciwgaW5wdXQsIGxhYmVsKSkge1xyXG4gICAgICAgICAgZXJyb3JzLnB1c2godHJ1ZSlcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBsZXQgcXVlc3RJZCA9ICtxdWVzdGlvbi5kYXRhc2V0WydpZCddLCAvLyBpZCBxdWVzdGlvblxyXG4gICAgICAgIHBhZ2luSXRlbSA9ICQoJy5wYWdpbmF0aW9uIFtkYXRhLXBhZ2luYXRpb249XCInICsgcXVlc3RJZCArICdcIl0nKS5lbFswXVxyXG4gICAgICBpZiAoZXJyb3JzLmxlbmd0aCkge1xyXG4gICAgICAgICQocGFnaW5JdGVtKS5hZGRDbGFzcygncmVkU2hhZG93JylcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkKHBhZ2luSXRlbSkuYWRkQ2xhc3MoJ2dyZWVuU2hhZG93JylcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIHJldHVybiAkKCcucmVkU2hhZG93JykuZWwubGVuZ3RoXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjaGVja0NvcnJlY3RBbnN3ZXJzKGNvcnJlY3RBbnNlciwgaW5wdXQsIGxhYmVsKSB7XHJcbiAgICBpZiAoaW5wdXQuY2hlY2tlZCAmJiBjb3JyZWN0QW5zZXIpIHsvLyBjaGVja2JveCDQvdCw0LbQsNGCLiDQsCDQsiBjb3JyZWN0IGFuc3dlciDQvdC10YLRgy4g0LIgY29ycmVjdF9hbnN3ZXJzINC10YHRgtGMLCDQtdCz0L4g0LLRgdC10LPQtNCwINC/0L7QtNGB0LLQtdGH0LjQstCw0LXQvCDQt9C10LvQtdC90YvQvFxyXG4gICAgICBsYWJlbC5jbGFzc0xpc3QuYWRkKCdkb25lJyk7IC8vZ3JlZW4gY2hlY2sg0LfQtdC70LXQvdGL0Lkg0LfQvdCw0YfQtdC6XHJcbiAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9IGVsc2UgaWYgKGlucHV0LmNoZWNrZWQgJiYgIWNvcnJlY3RBbnNlcikgey8vIGNoZWNrYm94INC90LDQttCw0YIs0Lgg0LXRgdGC0Ywg0LIgY29ycmVjdCBhbnN3ZXIuINCyIGNvcnJlY3RfYW5zd2VycyDQvdC10YIsINC60L3QvtC/0LrQsCDQvdC1INC90LDQttCw0YLQsFxyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH0gZWxzZSBpZiAoIWlucHV0LmNoZWNrZWQgJiYgY29ycmVjdEFuc2VyKSB7Ly8g0LrQvdC+0L/QutCwINC90LUg0L3QsNC20LDRgtCwLCDQsiBjb3JyZWN0X2Fuc3dlcnMg0LXRgdGC0YxcclxuICAgICAgbGFiZWwuY2xhc3NMaXN0LmFkZCgnZG9uZScpOyAvL2dyZWVuIGNoZWNrINC30LXQu9C10L3Ri9C5INC30L3QsNGH0LXQulxyXG4gICAgICBsYWJlbC5jbGFzc0xpc3QuYWRkKCdkb25lJyk7Ly8gZ3JlZW4gY2hlY2sg0LfQtdC70LXQvdGL0Lkg0LfQvdCw0YfQtdC6XHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfSBlbHNlIGlmICghaW5wdXQuY2hlY2tlZCAmJiAhY29ycmVjdEFuc2VyKSB7Ly8g0LrQvdC+0L/QutCwINC90LUg0L3QsNC20LDRgtCwLCDQsiBjb3JyZWN0X2Fuc3dlcnMg0L3QtdGCXHJcbiAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxufVxyXG5cclxuIl0sIm5hbWVzIjpbIl90ZXN0IiwicG9zdCIsIiQiLCJmZXRjaFciLCJuYXZJbml0IiwiYWNjb3JkaW9uX3Nob3ciLCJ0ZXN0RG8iLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwib24iLCJlIiwiYSIsInRhcmdldCIsImxhYmVscyIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInByZXZRIiwibmV4dFEiLCJidXR0b24iLCJlbCIsIndpbmRvdyIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJtYXRjaCIsImFkZCIsImNvbnRhaW5zIiwiaWQiLCJ0ZXh0IiwicmVsb2FkIiwiY29yckFuc3dlcnMiLCJKU09OIiwicGFyc2UiLCJlcnJvckNudCIsImNvbG9yVmlldyIsImRhdGEiLCJvYmpUb1NlcnZlciIsInJlcyIsImhyZWYiLCJvYmoiLCJ0b2tlbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImdldEF0dHJpYnV0ZSIsInF1ZXN0aW9uQ250IiwibGVuZ3RoIiwicGFnZUNhY2hlIiwiZG9jdHlwZSIsIm5hbWUiLCJkb2N1bWVudEVsZW1lbnQiLCJvdXRlckhUTUwiLCJ0ZXN0SWQiLCJkYXRhc2V0IiwidGVzdF9uYW1lIiwiaW5uZXJUZXh0IiwidXNlck5hbWUiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwiY29ycmVjdEFuc3dlcnMiLCJxIiwiQXJyYXkiLCJmcm9tIiwibWFwIiwicXVlc3Rpb24iLCJpIiwiYW5zd2VycyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlcnJvcnMiLCJhbnN3ZXIiLCJpbnB1dCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiYW5zd2VySWQiLCJyZXBsYWNlIiwibGFiZWwiLCJjb3JyZWN0QW5zZXIiLCJpbmRleE9mIiwiY2hlY2tDb3JyZWN0QW5zd2VycyIsInB1c2giLCJxdWVzdElkIiwicGFnaW5JdGVtIiwiY2hlY2tlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/src/Test/do.js\n");

/***/ }),

/***/ "./public/src/Test/model/_testResult.js":
/*!**********************************************!*\
  !*** ./public/src/Test/model/_testResult.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"_testResult\": function() { return /* binding */ _testResult; }\n/* harmony export */ });\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common */ \"./public/src/common.js\");\n\nconst _testResult = {\n  delServer: async id => {\n    let res = await (0,_common__WEBPACK_IMPORTED_MODULE_0__.post)('/test/resultdelete', {\n      id\n    });\n\n    if (res) {\n      _common__WEBPACK_IMPORTED_MODULE_0__.popup.show('Удалено');\n    }\n  },\n  delDom: e => {\n    let id = e.target.dataset.row;\n    Array.from((0,_common__WEBPACK_IMPORTED_MODULE_0__.$)(`[data-row = \"${id}\"]`).el).map(i => {\n      i.remove();\n    });\n    return id;\n  },\n  delete: e => {\n    if (confirm(\"Удалить результат теста?\")) {\n      let id = _testResult.delDom(e);\n\n      _testResult.delServer(id);\n    }\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL1Rlc3QvbW9kZWwvX3Rlc3RSZXN1bHQuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUVPLE1BQU1HLFdBQVcsR0FBRztBQUV6QkMsRUFBQUEsU0FBUyxFQUFFLE1BQU9DLEVBQVAsSUFBYztBQUN2QixRQUFJQyxHQUFHLEdBQUcsTUFBTUwsNkNBQUksQ0FBQyxvQkFBRCxFQUF1QjtBQUFDSSxNQUFBQTtBQUFELEtBQXZCLENBQXBCOztBQUNBLFFBQUlDLEdBQUosRUFBUztBQUNQSixNQUFBQSwrQ0FBQSxDQUFXLFNBQVg7QUFFRDtBQUNGLEdBUndCO0FBVXpCTSxFQUFBQSxNQUFNLEVBQUdDLENBQUQsSUFBTztBQUNiLFFBQUlKLEVBQUUsR0FBR0ksQ0FBQyxDQUFDQyxNQUFGLENBQVNDLE9BQVQsQ0FBaUJDLEdBQTFCO0FBQ0FDLElBQUFBLEtBQUssQ0FDRkMsSUFESCxDQUNRZCwwQ0FBQyxDQUFFLGdCQUFlSyxFQUFHLElBQXBCLENBQUQsQ0FBMEJVLEVBRGxDLEVBRUdDLEdBRkgsQ0FFUUMsQ0FBRCxJQUFPO0FBQ1ZBLE1BQUFBLENBQUMsQ0FBQ0MsTUFBRjtBQUNELEtBSkg7QUFLQSxXQUFPYixFQUFQO0FBRUQsR0FuQndCO0FBcUJ6QmMsRUFBQUEsTUFBTSxFQUFHVixDQUFELElBQU87QUFFYixRQUFJVyxPQUFPLENBQUMsMEJBQUQsQ0FBWCxFQUF5QztBQUN2QyxVQUFJZixFQUFFLEdBQUdGLFdBQVcsQ0FBQ0ssTUFBWixDQUFtQkMsQ0FBbkIsQ0FBVDs7QUFDQU4sTUFBQUEsV0FBVyxDQUFDQyxTQUFaLENBQXNCQyxFQUF0QjtBQUNEO0FBQ0Y7QUEzQndCLENBQXBCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vcHVibGljL3NyYy9UZXN0L21vZGVsL190ZXN0UmVzdWx0LmpzPzE2NjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHskLCBwb3N0LCBwb3B1cH0gZnJvbSBcIi4uLy4uL2NvbW1vblwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IF90ZXN0UmVzdWx0ID0ge1xyXG5cclxuICBkZWxTZXJ2ZXI6IGFzeW5jIChpZCkgPT4ge1xyXG4gICAgbGV0IHJlcyA9IGF3YWl0IHBvc3QoJy90ZXN0L3Jlc3VsdGRlbGV0ZScsIHtpZH0pXHJcbiAgICBpZiAocmVzKSB7XHJcbiAgICAgIHBvcHVwLnNob3coJ9Cj0LTQsNC70LXQvdC+JylcclxuXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgZGVsRG9tOiAoZSkgPT4ge1xyXG4gICAgbGV0IGlkID0gZS50YXJnZXQuZGF0YXNldC5yb3dcclxuICAgIEFycmF5XHJcbiAgICAgIC5mcm9tKCQoYFtkYXRhLXJvdyA9IFwiJHtpZH1cIl1gKS5lbClcclxuICAgICAgLm1hcCgoaSkgPT4ge1xyXG4gICAgICAgIGkucmVtb3ZlKClcclxuICAgICAgfSlcclxuICAgIHJldHVybiBpZFxyXG5cclxuICB9LFxyXG5cclxuICBkZWxldGU6IChlKSA9PiB7XHJcblxyXG4gICAgaWYgKGNvbmZpcm0oXCLQo9C00LDQu9C40YLRjCDRgNC10LfRg9C70YzRgtCw0YIg0YLQtdGB0YLQsD9cIikpIHtcclxuICAgICAgbGV0IGlkID0gX3Rlc3RSZXN1bHQuZGVsRG9tKGUpXHJcbiAgICAgIF90ZXN0UmVzdWx0LmRlbFNlcnZlcihpZClcclxuICAgIH1cclxuICB9LFxyXG5cclxuXHJcbn0iXSwibmFtZXMiOlsiJCIsInBvc3QiLCJwb3B1cCIsIl90ZXN0UmVzdWx0IiwiZGVsU2VydmVyIiwiaWQiLCJyZXMiLCJzaG93IiwiZGVsRG9tIiwiZSIsInRhcmdldCIsImRhdGFzZXQiLCJyb3ciLCJBcnJheSIsImZyb20iLCJlbCIsIm1hcCIsImkiLCJyZW1vdmUiLCJkZWxldGUiLCJjb25maXJtIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/src/Test/model/_testResult.js\n");

/***/ }),

/***/ "./public/src/Test/model/answer.js":
/*!*****************************************!*\
  !*** ./public/src/Test/model/answer.js ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"_answer\": function() { return /* binding */ _answer; }\n/* harmony export */ });\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common */ \"./public/src/common.js\");\n\nlet _answer = {\n  el: add_button => {\n    let answers = add_button.parentNode.querySelectorAll('.answer');\n    let prev_sort = 0;\n\n    if (answers.length) {\n      prev_sort = +(0,_common__WEBPACK_IMPORTED_MODULE_0__.$)(answers[answers.length - 1]).find('.answer__sort').innerText;\n    }\n\n    let el = (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.answer__create').find('.answer').cloneNode(true);\n    el.classList.add('answer');\n    el.classList.remove('answer__create'); // let delBtn = $(el).find('.answer__delete')\n    // $(delBtn).on('click', _answer.del)\n\n    return {\n      el: el,\n      id: 'new',\n      q_id: +add_button.closest('.question-edit').id,\n      previous_sort: prev_sort,\n      answerCnt: answers.length,\n      sort: (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)(el).find('.answer__sort'),\n      checked: (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)(el).find('input'),\n      text: (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)(el).find('.answer__text'),\n      delete: (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)((0,_common__WEBPACK_IMPORTED_MODULE_0__.$)(el).find('.answer__delete')).on('click', function () {\n        _answer.del(this);\n      })\n    };\n  },\n\n  getModelForServer(el) {\n    return {\n      answer: '',\n      parent_question: el.q_id,\n      correct_answer: 0,\n      pica: ''\n    };\n  },\n\n  async create(e) {\n    let button = e.target; // debugger\n\n    let a_id = await createOnServer(button);\n    show(a_id);\n\n    async function createOnServer(button) {\n      let newEl = _answer.getModelForServer(_answer.el(button));\n\n      let res = await (0,_common__WEBPACK_IMPORTED_MODULE_0__.post)('/answer/create', newEl);\n      res = JSON.parse(res);\n      return res.id;\n    }\n\n    function show(a_id) {\n      let el = _answer.el(button);\n\n      el.checked.checked = false;\n      el.el.dataset['answerId'] = a_id;\n      el.text.innerText = '';\n      el.sort.innerText = el.answerCnt + 1;\n      el.el.style.display = 'flex';\n      button.before(el.el);\n      el.el.style.opacity = 1;\n    }\n  },\n\n  async del(e) {\n    let del_button = e.type === \"click\" ? e.target : e;\n\n    if (confirm(\"Удалить этот ответ?\")) {\n      let res = await deleteFromServer(del_button);\n      deleteFromView(del_button);\n    }\n\n    function deleteFromView(del_button) {\n      del_button.closest('.answer').remove();\n    }\n\n    async function deleteFromServer(del_button) {\n      let a_id = +del_button.closest('.answer').dataset['answerId'];\n      let res = await (0,_common__WEBPACK_IMPORTED_MODULE_0__.post)('/answer/delete', {\n        a_id\n      });\n      res = JSON.parse(res);\n\n      if (res.msg === 'ok') {\n        _common__WEBPACK_IMPORTED_MODULE_0__.popup.show('Ответ удален');\n      }\n    }\n  }\n\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDaENBLE1BQUFBLFVBQVUsQ0FBQzlCLE9BQVgsQ0FBbUIsU0FBbkIsRUFBOEJILE1BQTlCO0FBQ0g7O0FBRUQsbUJBQWVvQyxnQkFBZixDQUFnQ0gsVUFBaEMsRUFBNEM7QUFFeEMsVUFBSVosSUFBSSxHQUFHLENBQUNZLFVBQVUsQ0FBQzlCLE9BQVgsQ0FBbUIsU0FBbkIsRUFBOEJ5QixPQUE5QixDQUFzQyxVQUF0QyxDQUFaO0FBQ0EsVUFBSUgsR0FBRyxHQUFHLE1BQU12Qyw2Q0FBSSxDQUFDLGdCQUFELEVBQW1CO0FBQUNtQyxRQUFBQTtBQUFELE9BQW5CLENBQXBCO0FBQ0FJLE1BQUFBLEdBQUcsR0FBR0MsSUFBSSxDQUFDQyxLQUFMLENBQVdGLEdBQVgsQ0FBTjs7QUFDQSxVQUFJQSxHQUFHLENBQUNhLEdBQUosS0FBWSxJQUFoQixFQUFzQjtBQUNsQnJELFFBQUFBLCtDQUFBLENBQVcsY0FBWDtBQUNIO0FBQ0o7QUFDSjs7QUFyRmdCLENBQWQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9wdWJsaWMvc3JjL1Rlc3QvbW9kZWwvYW5zd2VyLmpzPzk5YWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHskLCBwb3B1cCwgcG9zdH0gZnJvbSAnLi4vLi4vY29tbW9uJ1xyXG5cclxuZXhwb3J0IGxldCBfYW5zd2VyID0ge1xyXG5cclxuICAgIGVsOiAoYWRkX2J1dHRvbikgPT4ge1xyXG4gICAgICAgIGxldCBhbnN3ZXJzID0gYWRkX2J1dHRvbi5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbnN3ZXInKVxyXG4gICAgICAgIGxldCBwcmV2X3NvcnQgPSAwXHJcbiAgICAgICAgaWYgKGFuc3dlcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHByZXZfc29ydCA9ICskKGFuc3dlcnNbYW5zd2Vycy5sZW5ndGggLSAxXSkuZmluZCgnLmFuc3dlcl9fc29ydCcpLmlubmVyVGV4dFxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZWwgPSAkKCcuYW5zd2VyX19jcmVhdGUnKS5maW5kKCcuYW5zd2VyJykuY2xvbmVOb2RlKHRydWUpXHJcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnYW5zd2VyJylcclxuICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdhbnN3ZXJfX2NyZWF0ZScpXHJcbiAgICAgICAgLy8gbGV0IGRlbEJ0biA9ICQoZWwpLmZpbmQoJy5hbnN3ZXJfX2RlbGV0ZScpXHJcbiAgICAgICAgLy8gJChkZWxCdG4pLm9uKCdjbGljaycsIF9hbnN3ZXIuZGVsKVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGVsOiBlbCxcclxuICAgICAgICAgICAgaWQ6ICduZXcnLFxyXG4gICAgICAgICAgICBxX2lkOiArYWRkX2J1dHRvbi5jbG9zZXN0KCcucXVlc3Rpb24tZWRpdCcpLmlkLFxyXG4gICAgICAgICAgICBwcmV2aW91c19zb3J0OiBwcmV2X3NvcnQsXHJcbiAgICAgICAgICAgIGFuc3dlckNudDogYW5zd2Vycy5sZW5ndGgsXHJcbiAgICAgICAgICAgIHNvcnQ6ICQoZWwpLmZpbmQoJy5hbnN3ZXJfX3NvcnQnKSxcclxuICAgICAgICAgICAgY2hlY2tlZDogJChlbCkuZmluZCgnaW5wdXQnKSxcclxuICAgICAgICAgICAgdGV4dDogJChlbCkuZmluZCgnLmFuc3dlcl9fdGV4dCcpLFxyXG4gICAgICAgICAgICBkZWxldGU6ICQoJChlbCkuZmluZCgnLmFuc3dlcl9fZGVsZXRlJykpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF9hbnN3ZXIuZGVsKHRoaXMpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGdldE1vZGVsRm9yU2VydmVyKGVsKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYW5zd2VyOiAnJyxcclxuICAgICAgICAgICAgcGFyZW50X3F1ZXN0aW9uOiBlbC5xX2lkLFxyXG4gICAgICAgICAgICBjb3JyZWN0X2Fuc3dlcjogMCxcclxuICAgICAgICAgICAgcGljYTogJydcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIGFzeW5jIGNyZWF0ZShlKSB7XHJcbiAgICAgICAgbGV0IGJ1dHRvbiA9IGUudGFyZ2V0XHJcbiAgICAgICAgLy8gZGVidWdnZXJcclxuICAgICAgICBsZXQgYV9pZCA9IGF3YWl0IGNyZWF0ZU9uU2VydmVyKGJ1dHRvbilcclxuICAgICAgICBzaG93KGFfaWQpXHJcblxyXG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU9uU2VydmVyKGJ1dHRvbikge1xyXG4gICAgICAgICAgICBsZXQgbmV3RWwgPSBfYW5zd2VyLmdldE1vZGVsRm9yU2VydmVyKF9hbnN3ZXIuZWwoYnV0dG9uKSlcclxuXHJcbiAgICAgICAgICAgIGxldCByZXMgPSBhd2FpdCBwb3N0KCcvYW5zd2VyL2NyZWF0ZScsIG5ld0VsKVxyXG4gICAgICAgICAgICByZXMgPSBKU09OLnBhcnNlKHJlcylcclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXMuaWRcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNob3coYV9pZCkge1xyXG4gICAgICAgICAgICBsZXQgZWwgPSBfYW5zd2VyLmVsKGJ1dHRvbilcclxuXHJcbiAgICAgICAgICAgIGVsLmNoZWNrZWQuY2hlY2tlZCA9IGZhbHNlXHJcbiAgICAgICAgICAgIGVsLmVsLmRhdGFzZXRbJ2Fuc3dlcklkJ10gPSBhX2lkXHJcbiAgICAgICAgICAgIGVsLnRleHQuaW5uZXJUZXh0ID0gJydcclxuICAgICAgICAgICAgZWwuc29ydC5pbm5lclRleHQgPSBlbC5hbnN3ZXJDbnQgKyAxXHJcblxyXG4gICAgICAgICAgICBlbC5lbC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnXHJcbiAgICAgICAgICAgIGJ1dHRvbi5iZWZvcmUoZWwuZWwpXHJcbiAgICAgICAgICAgIGVsLmVsLnN0eWxlLm9wYWNpdHkgPSAxXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBhc3luYyBkZWwoZSkge1xyXG4gICAgICAgIGxldCBkZWxfYnV0dG9uID0gKGUudHlwZSA9PT0gXCJjbGlja1wiKT9lLnRhcmdldDplXHJcbiAgICAgICAgaWYgKGNvbmZpcm0oXCLQo9C00LDQu9C40YLRjCDRjdGC0L7RgiDQvtGC0LLQtdGCP1wiKSkge1xyXG4gICAgICAgICAgICBsZXQgcmVzID0gYXdhaXQgZGVsZXRlRnJvbVNlcnZlcihkZWxfYnV0dG9uKVxyXG4gICAgICAgICAgICBkZWxldGVGcm9tVmlldyhkZWxfYnV0dG9uKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZGVsZXRlRnJvbVZpZXcoZGVsX2J1dHRvbikge1xyXG4gICAgICAgICAgICBkZWxfYnV0dG9uLmNsb3Nlc3QoJy5hbnN3ZXInKS5yZW1vdmUoKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXN5bmMgZnVuY3Rpb24gZGVsZXRlRnJvbVNlcnZlcihkZWxfYnV0dG9uKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgYV9pZCA9ICtkZWxfYnV0dG9uLmNsb3Nlc3QoJy5hbnN3ZXInKS5kYXRhc2V0WydhbnN3ZXJJZCddXHJcbiAgICAgICAgICAgIGxldCByZXMgPSBhd2FpdCBwb3N0KCcvYW5zd2VyL2RlbGV0ZScsIHthX2lkfSlcclxuICAgICAgICAgICAgcmVzID0gSlNPTi5wYXJzZShyZXMpXHJcbiAgICAgICAgICAgIGlmIChyZXMubXNnID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgICAgICBwb3B1cC5zaG93KCfQntGC0LLQtdGCINGD0LTQsNC70LXQvScpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG59XHJcbiJdLCJuYW1lcyI6WyIkIiwicG9wdXAiLCJwb3N0IiwiX2Fuc3dlciIsImVsIiwiYWRkX2J1dHRvbiIsImFuc3dlcnMiLCJwYXJlbnROb2RlIiwicXVlcnlTZWxlY3RvckFsbCIsInByZXZfc29ydCIsImxlbmd0aCIsImZpbmQiLCJpbm5lclRleHQiLCJjbG9uZU5vZGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJpZCIsInFfaWQiLCJjbG9zZXN0IiwicHJldmlvdXNfc29ydCIsImFuc3dlckNudCIsInNvcnQiLCJjaGVja2VkIiwidGV4dCIsImRlbGV0ZSIsIm9uIiwiZGVsIiwiZ2V0TW9kZWxGb3JTZXJ2ZXIiLCJhbnN3ZXIiLCJwYXJlbnRfcXVlc3Rpb24iLCJjb3JyZWN0X2Fuc3dlciIsInBpY2EiLCJjcmVhdGUiLCJlIiwiYnV0dG9uIiwidGFyZ2V0IiwiYV9pZCIsImNyZWF0ZU9uU2VydmVyIiwic2hvdyIsIm5ld0VsIiwicmVzIiwiSlNPTiIsInBhcnNlIiwiZGF0YXNldCIsInN0eWxlIiwiZGlzcGxheSIsImJlZm9yZSIsIm9wYWNpdHkiLCJkZWxfYnV0dG9uIiwidHlwZSIsImNvbmZpcm0iLCJkZWxldGVGcm9tU2VydmVyIiwiZGVsZXRlRnJvbVZpZXciLCJtc2ciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/src/Test/model/answer.js\n");

/***/ }),

/***/ "./public/src/Test/model/question.js":
/*!*******************************************!*\
  !*** ./public/src/Test/model/question.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"_question\": function() { return /* binding */ _question; }\n/* harmony export */ });\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common */ \"./public/src/common.js\");\n/* harmony import */ var _answer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./answer */ \"./public/src/Test/model/answer.js\");\n\n\nlet _question = {\n  sort: async function (upToQestionNumber) {\n    let questions = [..._question.questions()];\n    let questionsEls = questions.filter(function (el, i) {\n      if (i + 1 < upToQestionNumber) return el;\n    });\n    let toChange = questionsEls.map(el => {\n      return el.id;\n    });\n    let res = await (0,_common__WEBPACK_IMPORTED_MODULE_0__.post)('/question/sort', {\n      toChange\n    });\n    res = JSON.parse(res);\n\n    if (res.msg) {\n      _common__WEBPACK_IMPORTED_MODULE_0__.popup.show(res.msg);\n    }\n\n    questionsEls.map((el, i) => {\n      (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)(el).find('.question__sort').innerText = i + 1;\n    });\n  },\n  changeParent: async function (e) {\n    let sel = e.target;\n    let opt = sel.options[sel.selectedIndex];\n    let id = sel.closest('.question-edit').id;\n    let test_id = opt.dataset['questionParentId'];\n    let test_name = opt.value;\n    let res = await (0,_common__WEBPACK_IMPORTED_MODULE_0__.post)('/question/changeParent', {\n      id,\n      test_id\n    });\n    res = JSON.parse(res);\n    if (res.msg !== 'ok') throw e;\n    let question = sel.closest('.question-edit');\n    question.remove();\n    _common__WEBPACK_IMPORTED_MODULE_0__.popup.show('Перемещен в ' + test_name); // debugger\n  },\n  showTip: (action, event) => {\n    let el = event.target;\n    let tip = document.createElement(\"div\");\n\n    if (action === 'save') {\n      (0,_common__WEBPACK_IMPORTED_MODULE_0__.addTooltip)(el, 'сохранить');\n    }\n  },\n  showFirst: () => {\n    let question = _question.cloneEmptyModel();\n\n    if (!question) return;\n\n    let model = _question.viewModel(question);\n\n    model.sort.innerText = '1';\n    (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)(model.save).on('click', _question.save);\n    (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)(model.del).on('click', _question.delete);\n    (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)(question).addClass('question-edit');\n    (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)(question).removeClass('question__create');\n    let questions = (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.questions').el[0];\n    questions.prepend(question);\n  },\n  cloneEmptyModel: () => {\n    let question = (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.questions .question__create .question-edit').el[0];\n    if (question) return question.cloneNode(true);\n  },\n  showAnswers: e => {\n    let text = e.target;\n    let parent = text.parentNode.parentNode;\n    let answers = (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)(parent).find('.question__answers');\n    answers.classList.toggle('height');\n    answers.classList.toggle('scale');\n    text.classList.toggle('rotate');\n  },\n  viewModel: el => {\n    return {\n      id: +el.id,\n      el: el,\n      sort: el.querySelector('.question__sort'),\n      save: el.querySelector('.question__save'),\n      text: el.querySelector('.question__text'),\n      del: el.querySelector('.question__delete'),\n      createAnswerButton: el.querySelector('.answer__create-button'),\n      addButton: (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)((0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.questions').el[0]).find('.question__create-button')\n    };\n  },\n  serverModel: () => {\n    return {\n      question: {\n        id: null,\n        qustion: '',\n        parent: +window.location.href.split('/').pop(),\n        sort: _question.lastSort()\n      }\n    };\n  },\n  questions: () => {\n    let qs = (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.questions>.question-edit'); // debugger\n\n    return (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.questions>.question-edit'); // return $('.questions>.question-edit').el\n  },\n  questionsCount: () => {\n    return (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.questions>.question-edit').el.length;\n  },\n  lastSort: () => {\n    let qs = _question.questions();\n\n    let length = qs.length - 1;\n    let last = +_question.viewModel(qs[length]).sort.innerText;\n    return last + 1;\n  },\n  create: async e => {\n    let q_id = await _question.createOnServer(e);\n\n    if (q_id) {\n      _question.createOnView(q_id);\n    }\n  },\n  createOnServer: async () => {\n    let question = _question.serverModel();\n\n    let res = await (0,_common__WEBPACK_IMPORTED_MODULE_0__.post)('/question/updateOrCreate', {\n      question: question.question,\n      answers: {}\n    });\n    res = await JSON.parse(res);\n    return res.id;\n  },\n  createOnView: q_id => {\n    let clone = _question.cloneEmptyModel();\n\n    let model = _question.viewModel(clone);\n\n    (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)(model.save).on('click', _question.save);\n    (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)(model.del).on('click', _question.delete);\n    (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)(model.text).on('click', _question.showAnswers);\n    (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)(model.createAnswerButton).on('click', _answer__WEBPACK_IMPORTED_MODULE_1__._answer.create);\n    model.sort.innerText = _question.lastSort();\n    model.text.innerText = '';\n    model.el.id = q_id;\n    model.addButton.before(clone);\n  },\n  save: async e => {\n    let question = e.target.closest('.question-edit');\n    let res = await (0,_common__WEBPACK_IMPORTED_MODULE_0__.post)('/question/UpdateOrCreate', {\n      question: _question.getModelForServer(question),\n      answers: _question.getAnswers(question)\n    });\n    res = await JSON.parse(res);\n    _common__WEBPACK_IMPORTED_MODULE_0__.popup.show(res.msg);\n  },\n  delete: async e => {\n    if (confirm(\"Удалить вопрос со всеми его ответами?\")) {\n      let viewModel = _question.viewModel(e.target.closest('.question-edit'));\n\n      let id = viewModel.id;\n      let deleted = await _question.deleteFromServer(id);\n\n      if (deleted) {\n        _question.deleteFromView(viewModel);\n\n        _common__WEBPACK_IMPORTED_MODULE_0__.popup.show(deleted.msg);\n      }\n    }\n  },\n  deleteFromView: async viewModel => {\n    viewModel.el.remove();\n  },\n  deleteFromServer: async q_id => {\n    let res = await (0,_common__WEBPACK_IMPORTED_MODULE_0__.post)('/question/delete', {\n      q_id\n    });\n    return JSON.parse(res);\n  },\n  getModelForServer: question => {\n    return {\n      id: +question.id,\n      parent: +(0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.test-name').el[0].getAttribute('value'),\n      picq: '',\n      qustion: (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)(question).find('.question__text').innerText,\n      sort: +(0,_common__WEBPACK_IMPORTED_MODULE_0__.$)(question).find('.question__sort').innerText\n    };\n  },\n  getAnswers: question => {\n    let answerBlocks = question.querySelectorAll('.answer');\n    return [...answerBlocks].map(a => {\n      return {\n        id: +a.dataset['answerId'],\n        answer: a.querySelector('.answer__text').innerText,\n        correct_answer: +a.querySelector('[type=\"checkbox\"]').checked,\n        parent_question: +question.id,\n        pica: ''\n      };\n    }, question);\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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U0FBMUIsQ0FBbkI7QUFDQSxXQUFPLENBQUMsR0FBR0QsWUFBSixFQUFrQjdFLEdBQWxCLENBQXVCK0UsQ0FBRCxJQUFPO0FBQ2xDLGFBQU87QUFDTDlFLFFBQUFBLEVBQUUsRUFBRSxDQUFDOEUsQ0FBQyxDQUFDN0QsT0FBRixDQUFVLFVBQVYsQ0FEQTtBQUVMOEQsUUFBQUEsTUFBTSxFQUFFRCxDQUFDLENBQUMvQixhQUFGLENBQWdCLGVBQWhCLEVBQWlDeEMsU0FGcEM7QUFHTHlFLFFBQUFBLGNBQWMsRUFBRSxDQUFDRixDQUFDLENBQUMvQixhQUFGLENBQWdCLG1CQUFoQixFQUFxQ2tDLE9BSGpEO0FBSUxDLFFBQUFBLGVBQWUsRUFBRSxDQUFDOUQsUUFBUSxDQUFDcEIsRUFKdEI7QUFLTG1GLFFBQUFBLElBQUksRUFBRTtBQUxELE9BQVA7QUFPRCxLQVJNLEVBUUovRCxRQVJJLENBQVA7QUFTRDtBQXZOa0IsQ0FBaEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9wdWJsaWMvc3JjL1Rlc3QvbW9kZWwvcXVlc3Rpb24uanM/MjNkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyQsIHBvcHVwLCBwb3N0LCBhZGRUb29sdGlwfSBmcm9tIFwiLi4vLi4vY29tbW9uXCJcclxuaW1wb3J0IHtfYW5zd2VyfSBmcm9tIFwiLi9hbnN3ZXJcIjtcclxuXHJcbmV4cG9ydCBsZXQgX3F1ZXN0aW9uID0ge1xyXG5cclxuICBzb3J0OiBhc3luYyBmdW5jdGlvbiAodXBUb1Flc3Rpb25OdW1iZXIpIHtcclxuICAgIGxldCBxdWVzdGlvbnMgPSBbLi4uX3F1ZXN0aW9uLnF1ZXN0aW9ucygpXVxyXG4gICAgbGV0IHF1ZXN0aW9uc0VscyA9IHF1ZXN0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKGVsLCBpKSB7XHJcbiAgICAgICAgaWYgKGkgKyAxIDwgdXBUb1Flc3Rpb25OdW1iZXIpIHJldHVybiBlbFxyXG4gICAgICB9XHJcbiAgICApXHJcbiAgICBsZXQgdG9DaGFuZ2UgPSBxdWVzdGlvbnNFbHMubWFwKChlbCkgPT4ge1xyXG4gICAgICByZXR1cm4gZWwuaWRcclxuICAgIH0pXHJcbiAgICBsZXQgcmVzID0gYXdhaXQgcG9zdCgnL3F1ZXN0aW9uL3NvcnQnLCB7dG9DaGFuZ2V9KVxyXG4gICAgcmVzID0gSlNPTi5wYXJzZShyZXMpXHJcbiAgICBpZiAocmVzLm1zZykge1xyXG4gICAgICBwb3B1cC5zaG93KHJlcy5tc2cpXHJcbiAgICB9XHJcbiAgICBxdWVzdGlvbnNFbHMubWFwKChlbCwgaSkgPT4ge1xyXG4gICAgICAkKGVsKS5maW5kKCcucXVlc3Rpb25fX3NvcnQnKS5pbm5lclRleHQgPSBpICsgMVxyXG5cclxuICAgIH0pXHJcbiAgfSxcclxuXHJcblxyXG4gIGNoYW5nZVBhcmVudDogYXN5bmMgZnVuY3Rpb24gKGUpIHtcclxuICAgIGxldCBzZWwgPSBlLnRhcmdldFxyXG4gICAgbGV0IG9wdCA9IHNlbC5vcHRpb25zW3NlbC5zZWxlY3RlZEluZGV4XVxyXG4gICAgbGV0IGlkID0gc2VsLmNsb3Nlc3QoJy5xdWVzdGlvbi1lZGl0JykuaWRcclxuICAgIGxldCB0ZXN0X2lkID0gb3B0LmRhdGFzZXRbJ3F1ZXN0aW9uUGFyZW50SWQnXVxyXG4gICAgbGV0IHRlc3RfbmFtZSA9IG9wdC52YWx1ZVxyXG4gICAgbGV0IHJlcyA9IGF3YWl0IHBvc3QoJy9xdWVzdGlvbi9jaGFuZ2VQYXJlbnQnLHtpZCwgdGVzdF9pZH0pXHJcbiAgICByZXMgPSBKU09OLnBhcnNlKHJlcylcclxuICAgIGlmIChyZXMubXNnICE9PSdvaycpIHRocm93IChlKTtcclxuICAgIGxldCBxdWVzdGlvbiA9IHNlbC5jbG9zZXN0KCcucXVlc3Rpb24tZWRpdCcpXHJcbiAgICBxdWVzdGlvbi5yZW1vdmUoKVxyXG4gICAgcG9wdXAuc2hvdygn0J/QtdGA0LXQvNC10YnQtdC9INCyICcrdGVzdF9uYW1lKVxyXG4gICAgLy8gZGVidWdnZXJcclxuICB9LFxyXG5cclxuXHJcbiAgc2hvd1RpcDogKGFjdGlvbiwgZXZlbnQpID0+IHtcclxuICAgIGxldCBlbCA9IGV2ZW50LnRhcmdldFxyXG4gICAgbGV0IHRpcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcclxuXHJcbiAgICBpZiAoYWN0aW9uID09PSAnc2F2ZScpIHtcclxuICAgICAgYWRkVG9vbHRpcChlbCwgJ9GB0L7RhdGA0LDQvdC40YLRjCcpXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgc2hvd0ZpcnN0OiAoKSA9PiB7XHJcbiAgICBsZXQgcXVlc3Rpb24gPSBfcXVlc3Rpb24uY2xvbmVFbXB0eU1vZGVsKClcclxuICAgIGlmICghcXVlc3Rpb24pIHJldHVyblxyXG5cclxuICAgIGxldCBtb2RlbCA9IF9xdWVzdGlvbi52aWV3TW9kZWwocXVlc3Rpb24pXHJcbiAgICBtb2RlbC5zb3J0LmlubmVyVGV4dCA9ICcxJ1xyXG4gICAgJChtb2RlbC5zYXZlKS5vbignY2xpY2snLCBfcXVlc3Rpb24uc2F2ZSlcclxuICAgICQobW9kZWwuZGVsKS5vbignY2xpY2snLCBfcXVlc3Rpb24uZGVsZXRlKVxyXG5cclxuICAgICQocXVlc3Rpb24pLmFkZENsYXNzKCdxdWVzdGlvbi1lZGl0JylcclxuICAgICQocXVlc3Rpb24pLnJlbW92ZUNsYXNzKCdxdWVzdGlvbl9fY3JlYXRlJylcclxuXHJcbiAgICBsZXQgcXVlc3Rpb25zID0gJCgnLnF1ZXN0aW9ucycpLmVsWzBdXHJcbiAgICBxdWVzdGlvbnMucHJlcGVuZChxdWVzdGlvbilcclxuICB9LFxyXG5cclxuICBjbG9uZUVtcHR5TW9kZWw6ICgpID0+IHtcclxuICAgIGxldCBxdWVzdGlvbiA9ICQoJy5xdWVzdGlvbnMgLnF1ZXN0aW9uX19jcmVhdGUgLnF1ZXN0aW9uLWVkaXQnKS5lbFswXVxyXG4gICAgaWYgKHF1ZXN0aW9uKSByZXR1cm4gcXVlc3Rpb24uY2xvbmVOb2RlKHRydWUpXHJcbiAgfSxcclxuXHJcbiAgc2hvd0Fuc3dlcnM6IChlKSA9PiB7XHJcbiAgICBsZXQgdGV4dCA9IGUudGFyZ2V0XHJcbiAgICBsZXQgcGFyZW50ID0gdGV4dC5wYXJlbnROb2RlLnBhcmVudE5vZGVcclxuICAgIGxldCBhbnN3ZXJzID0gJChwYXJlbnQpLmZpbmQoJy5xdWVzdGlvbl9fYW5zd2VycycpXHJcbiAgICBhbnN3ZXJzLmNsYXNzTGlzdC50b2dnbGUoJ2hlaWdodCcpXHJcbiAgICBhbnN3ZXJzLmNsYXNzTGlzdC50b2dnbGUoJ3NjYWxlJylcclxuICAgIHRleHQuY2xhc3NMaXN0LnRvZ2dsZSgncm90YXRlJylcclxuICB9LFxyXG5cclxuICB2aWV3TW9kZWw6IChlbCkgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWQ6ICtlbC5pZCxcclxuICAgICAgZWw6IGVsLFxyXG4gICAgICBzb3J0OiBlbC5xdWVyeVNlbGVjdG9yKCcucXVlc3Rpb25fX3NvcnQnKSxcclxuICAgICAgc2F2ZTogZWwucXVlcnlTZWxlY3RvcignLnF1ZXN0aW9uX19zYXZlJyksXHJcbiAgICAgIHRleHQ6IGVsLnF1ZXJ5U2VsZWN0b3IoJy5xdWVzdGlvbl9fdGV4dCcpLFxyXG4gICAgICBkZWw6IGVsLnF1ZXJ5U2VsZWN0b3IoJy5xdWVzdGlvbl9fZGVsZXRlJyksXHJcbiAgICAgIGNyZWF0ZUFuc3dlckJ1dHRvbjogZWwucXVlcnlTZWxlY3RvcignLmFuc3dlcl9fY3JlYXRlLWJ1dHRvbicpLFxyXG4gICAgICBhZGRCdXR0b246ICQoJCgnLnF1ZXN0aW9ucycpLmVsWzBdKS5maW5kKCcucXVlc3Rpb25fX2NyZWF0ZS1idXR0b24nKSxcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBzZXJ2ZXJNb2RlbDogKCkgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcXVlc3Rpb246IHtcclxuICAgICAgICBpZDogbnVsbCxcclxuICAgICAgICBxdXN0aW9uOiAnJyxcclxuICAgICAgICBwYXJlbnQ6ICt3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnLycpLnBvcCgpLFxyXG4gICAgICAgIHNvcnQ6IF9xdWVzdGlvbi5sYXN0U29ydCgpLFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgcXVlc3Rpb25zOiAoKSA9PiB7XHJcbiAgICBsZXQgcXMgPSAkKCcucXVlc3Rpb25zPi5xdWVzdGlvbi1lZGl0JylcclxuICAgIC8vIGRlYnVnZ2VyXHJcbiAgICByZXR1cm4gJCgnLnF1ZXN0aW9ucz4ucXVlc3Rpb24tZWRpdCcpXHJcbiAgICAvLyByZXR1cm4gJCgnLnF1ZXN0aW9ucz4ucXVlc3Rpb24tZWRpdCcpLmVsXHJcbiAgfSxcclxuXHJcbiAgcXVlc3Rpb25zQ291bnQ6ICgpID0+IHtcclxuICAgIHJldHVybiAkKCcucXVlc3Rpb25zPi5xdWVzdGlvbi1lZGl0JykuZWwubGVuZ3RoXHJcbiAgfSxcclxuXHJcbiAgbGFzdFNvcnQ6ICgpID0+IHtcclxuICAgIGxldCBxcyA9IF9xdWVzdGlvbi5xdWVzdGlvbnMoKVxyXG4gICAgbGV0IGxlbmd0aCA9IHFzLmxlbmd0aC0xXHJcbiAgICBsZXQgbGFzdCA9ICArX3F1ZXN0aW9uLnZpZXdNb2RlbChxc1tsZW5ndGhdKS5zb3J0LmlubmVyVGV4dFxyXG4gICAgcmV0dXJuIGxhc3QrMVxyXG4gIH0sXHJcblxyXG4gIGNyZWF0ZTpcclxuICAgIGFzeW5jIChlKSA9PiB7XHJcbiAgICAgIGxldCBxX2lkID0gYXdhaXQgX3F1ZXN0aW9uLmNyZWF0ZU9uU2VydmVyKGUpXHJcbiAgICAgIGlmIChxX2lkKSB7XHJcbiAgICAgICAgX3F1ZXN0aW9uLmNyZWF0ZU9uVmlldyhxX2lkKVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICBjcmVhdGVPblNlcnZlcjpcclxuICAgIGFzeW5jICgpID0+IHtcclxuICAgICAgbGV0IHF1ZXN0aW9uID0gX3F1ZXN0aW9uLnNlcnZlck1vZGVsKClcclxuICAgICAgbGV0IHJlcyA9IGF3YWl0IHBvc3QoJy9xdWVzdGlvbi91cGRhdGVPckNyZWF0ZScsIHtxdWVzdGlvbjogcXVlc3Rpb24ucXVlc3Rpb24sIGFuc3dlcnM6IHt9fSlcclxuICAgICAgcmVzID0gYXdhaXQgSlNPTi5wYXJzZShyZXMpXHJcblxyXG4gICAgICByZXR1cm4gcmVzLmlkXHJcbiAgICB9LFxyXG5cclxuICBjcmVhdGVPblZpZXc6XHJcbiAgICAocV9pZCkgPT4ge1xyXG4gICAgICBsZXQgY2xvbmUgPSBfcXVlc3Rpb24uY2xvbmVFbXB0eU1vZGVsKClcclxuXHJcbiAgICAgIGxldCBtb2RlbCA9IF9xdWVzdGlvbi52aWV3TW9kZWwoY2xvbmUpXHJcbiAgICAgICQobW9kZWwuc2F2ZSkub24oJ2NsaWNrJywgX3F1ZXN0aW9uLnNhdmUpXHJcbiAgICAgICQobW9kZWwuZGVsKS5vbignY2xpY2snLCBfcXVlc3Rpb24uZGVsZXRlKVxyXG4gICAgICAkKG1vZGVsLnRleHQpLm9uKCdjbGljaycsIF9xdWVzdGlvbi5zaG93QW5zd2VycylcclxuICAgICAgJChtb2RlbC5jcmVhdGVBbnN3ZXJCdXR0b24pLm9uKCdjbGljaycsIF9hbnN3ZXIuY3JlYXRlKVxyXG5cclxuICAgICAgbW9kZWwuc29ydC5pbm5lclRleHQgPSBfcXVlc3Rpb24ubGFzdFNvcnQoKVxyXG4gICAgICBtb2RlbC50ZXh0LmlubmVyVGV4dCA9ICcnXHJcbiAgICAgIG1vZGVsLmVsLmlkID0gcV9pZFxyXG5cclxuICAgICAgbW9kZWwuYWRkQnV0dG9uLmJlZm9yZShjbG9uZSlcclxuICAgIH0sXHJcblxyXG5cclxuICBzYXZlOlxyXG4gICAgYXN5bmMgKGUpID0+IHtcclxuICAgICAgbGV0IHF1ZXN0aW9uID0gZS50YXJnZXQuY2xvc2VzdCgnLnF1ZXN0aW9uLWVkaXQnKVxyXG4gICAgICBsZXQgcmVzID0gYXdhaXQgcG9zdChcclxuICAgICAgICAnL3F1ZXN0aW9uL1VwZGF0ZU9yQ3JlYXRlJyxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBxdWVzdGlvbjogX3F1ZXN0aW9uLmdldE1vZGVsRm9yU2VydmVyKHF1ZXN0aW9uKSxcclxuICAgICAgICAgIGFuc3dlcnM6IF9xdWVzdGlvbi5nZXRBbnN3ZXJzKHF1ZXN0aW9uKSxcclxuICAgICAgICB9KVxyXG4gICAgICByZXMgPSBhd2FpdCBKU09OLnBhcnNlKHJlcylcclxuICAgICAgcG9wdXAuc2hvdyhyZXMubXNnKVxyXG4gICAgfSxcclxuXHJcbiAgZGVsZXRlOlxyXG4gICAgYXN5bmMgKGUpID0+IHtcclxuICAgICAgaWYgKGNvbmZpcm0oXCLQo9C00LDQu9C40YLRjCDQstC+0L/RgNC+0YEg0YHQviDQstGB0LXQvNC4INC10LPQviDQvtGC0LLQtdGC0LDQvNC4P1wiKSkge1xyXG4gICAgICAgIGxldCB2aWV3TW9kZWwgPSBfcXVlc3Rpb24udmlld01vZGVsKGUudGFyZ2V0LmNsb3Nlc3QoJy5xdWVzdGlvbi1lZGl0JykpXHJcbiAgICAgICAgbGV0IGlkID0gdmlld01vZGVsLmlkXHJcblxyXG4gICAgICAgIGxldCBkZWxldGVkID0gYXdhaXQgX3F1ZXN0aW9uLmRlbGV0ZUZyb21TZXJ2ZXIoaWQpXHJcbiAgICAgICAgaWYgKGRlbGV0ZWQpIHtcclxuICAgICAgICAgIF9xdWVzdGlvbi5kZWxldGVGcm9tVmlldyh2aWV3TW9kZWwpXHJcbiAgICAgICAgICBwb3B1cC5zaG93KGRlbGV0ZWQubXNnKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgZGVsZXRlRnJvbVZpZXc6XHJcbiAgICBhc3luYyAodmlld01vZGVsKSA9PiB7XHJcbiAgICAgIHZpZXdNb2RlbC5lbC5yZW1vdmUoKVxyXG4gICAgfSxcclxuXHJcbiAgZGVsZXRlRnJvbVNlcnZlcjpcclxuICAgIGFzeW5jIChxX2lkKSA9PiB7XHJcbiAgICAgIGxldCByZXMgPSBhd2FpdCBwb3N0KCcvcXVlc3Rpb24vZGVsZXRlJywge3FfaWR9KVxyXG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShyZXMpXHJcbiAgICB9LFxyXG5cclxuICBnZXRNb2RlbEZvclNlcnZlcjpcclxuICAgIChxdWVzdGlvbikgPT4ge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGlkOiArcXVlc3Rpb24uaWQsXHJcbiAgICAgICAgcGFyZW50OiArJCgnLnRlc3QtbmFtZScpLmVsWzBdLmdldEF0dHJpYnV0ZSgndmFsdWUnKSxcclxuICAgICAgICBwaWNxOiAnJyxcclxuICAgICAgICBxdXN0aW9uOiAkKHF1ZXN0aW9uKS5maW5kKCcucXVlc3Rpb25fX3RleHQnKS5pbm5lclRleHQsXHJcbiAgICAgICAgc29ydDogKyQocXVlc3Rpb24pLmZpbmQoJy5xdWVzdGlvbl9fc29ydCcpLmlubmVyVGV4dCxcclxuICAgICAgfVxyXG4gICAgfSxcclxuICBnZXRBbnN3ZXJzOlxyXG4gICAgKHF1ZXN0aW9uKSA9PiB7XHJcbiAgICAgIGxldCBhbnN3ZXJCbG9ja3MgPSBxdWVzdGlvbi5xdWVyeVNlbGVjdG9yQWxsKCcuYW5zd2VyJylcclxuICAgICAgcmV0dXJuIFsuLi5hbnN3ZXJCbG9ja3NdLm1hcCgoYSkgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBpZDogK2EuZGF0YXNldFsnYW5zd2VySWQnXSxcclxuICAgICAgICAgIGFuc3dlcjogYS5xdWVyeVNlbGVjdG9yKCcuYW5zd2VyX190ZXh0JykuaW5uZXJUZXh0LFxyXG4gICAgICAgICAgY29ycmVjdF9hbnN3ZXI6ICthLnF1ZXJ5U2VsZWN0b3IoJ1t0eXBlPVwiY2hlY2tib3hcIl0nKS5jaGVja2VkLFxyXG4gICAgICAgICAgcGFyZW50X3F1ZXN0aW9uOiArcXVlc3Rpb24uaWQsXHJcbiAgICAgICAgICBwaWNhOiAnJyxcclxuICAgICAgICB9XHJcbiAgICAgIH0sIHF1ZXN0aW9uKVxyXG4gICAgfSxcclxufVxyXG5cclxuIl0sIm5hbWVzIjpbIiQiLCJwb3B1cCIsInBvc3QiLCJhZGRUb29sdGlwIiwiX2Fuc3dlciIsIl9xdWVzdGlvbiIsInNvcnQiLCJ1cFRvUWVzdGlvbk51bWJlciIsInF1ZXN0aW9ucyIsInF1ZXN0aW9uc0VscyIsImZpbHRlciIsImVsIiwiaSIsInRvQ2hhbmdlIiwibWFwIiwiaWQiLCJyZXMiLCJKU09OIiwicGFyc2UiLCJtc2ciLCJzaG93IiwiZmluZCIsImlubmVyVGV4dCIsImNoYW5nZVBhcmVudCIsImUiLCJzZWwiLCJ0YXJnZXQiLCJvcHQiLCJvcHRpb25zIiwic2VsZWN0ZWRJbmRleCIsImNsb3Nlc3QiLCJ0ZXN0X2lkIiwiZGF0YXNldCIsInRlc3RfbmFtZSIsInZhbHVlIiwicXVlc3Rpb24iLCJyZW1vdmUiLCJzaG93VGlwIiwiYWN0aW9uIiwiZXZlbnQiLCJ0aXAiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzaG93Rmlyc3QiLCJjbG9uZUVtcHR5TW9kZWwiLCJtb2RlbCIsInZpZXdNb2RlbCIsInNhdmUiLCJvbiIsImRlbCIsImRlbGV0ZSIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJwcmVwZW5kIiwiY2xvbmVOb2RlIiwic2hvd0Fuc3dlcnMiLCJ0ZXh0IiwicGFyZW50IiwicGFyZW50Tm9kZSIsImFuc3dlcnMiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJxdWVyeVNlbGVjdG9yIiwiY3JlYXRlQW5zd2VyQnV0dG9uIiwiYWRkQnV0dG9uIiwic2VydmVyTW9kZWwiLCJxdXN0aW9uIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwic3BsaXQiLCJwb3AiLCJsYXN0U29ydCIsInFzIiwicXVlc3Rpb25zQ291bnQiLCJsZW5ndGgiLCJsYXN0IiwiY3JlYXRlIiwicV9pZCIsImNyZWF0ZU9uU2VydmVyIiwiY3JlYXRlT25WaWV3IiwiY2xvbmUiLCJiZWZvcmUiLCJnZXRNb2RlbEZvclNlcnZlciIsImdldEFuc3dlcnMiLCJjb25maXJtIiwiZGVsZXRlZCIsImRlbGV0ZUZyb21TZXJ2ZXIiLCJkZWxldGVGcm9tVmlldyIsImdldEF0dHJpYnV0ZSIsInBpY3EiLCJhbnN3ZXJCbG9ja3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYSIsImFuc3dlciIsImNvcnJlY3RfYW5zd2VyIiwiY2hlY2tlZCIsInBhcmVudF9xdWVzdGlvbiIsInBpY2EiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/src/Test/model/question.js\n");

/***/ }),

/***/ "./public/src/Test/model/test.js":
/*!***************************************!*\
  !*** ./public/src/Test/model/test.js ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"_test\": function() { return /* binding */ _test; }\n/* harmony export */ });\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common */ \"./public/src/common.js\");\n\nconst _test = {\n  markCurrentInMenu: () => {\n    let currentTestId = (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.test-name').el[0];\n\n    if (currentTestId) {\n      currentTestId = +currentTestId.getAttribute('value');\n      let menuItemCollection = (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.accordion a').el;\n      Array.from(menuItemCollection).filter(a => {\n        if (+a.dataset.id === currentTestId) {\n          a.classList.add('current');\n        }\n      });\n    }\n  },\n  nextQ: () => {\n    let current = _test.currentQ();\n\n    if (current.id > current.navLength - 2) return false;\n\n    let aimNavId = _test.aimNavIdFunction(current.id, 'next');\n\n    let aimQEl = _test.aimQElFunction(current, 'next');\n\n    _test.pushNav(current.id, aimNavId);\n\n    _test.pushQ(current.QEl, aimQEl);\n  },\n  prevQ: () => {\n    let current = _test.currentQ();\n\n    if (current.id < 1) return false;\n\n    let aimNavId = _test.aimNavIdFunction(current.id, 'back');\n\n    let aimQEl = _test.aimQElFunction(current, 'back');\n\n    _test.pushNav(current.id, aimNavId);\n\n    _test.pushQ(current.QEl, aimQEl);\n  },\n  pushNav: (currentId, aimNavId) => {\n    let currNavEl = (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('[data-pagination]').el[currentId];\n    currNavEl.classList.toggle('nav-active');\n    let NavEl = (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('[data-pagination]').el[aimNavId];\n    NavEl.classList.toggle('nav-active');\n  },\n  pushQ: (currentEl, aimQEl) => {\n    currentEl.classList.toggle('flex1');\n    aimQEl.classList.toggle('flex1');\n  },\n  aimNavIdFunction: (currentId, direction) => {\n    let dir = currentId;\n\n    switch (true) {\n      case direction === 'next':\n        return dir += 1;\n        break;\n\n      case direction === 'back':\n        return dir -= 1;\n        break;\n    }\n  },\n  aimQElFunction: (current, direction) => {\n    switch (true) {\n      case direction === 'next':\n        return current.QNextEl;\n        break;\n\n      case direction === 'back':\n        return current.QPrevc;\n        break;\n    }\n  },\n  currentQ: () => {\n    return {\n      id: (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.nav-active').el[0].innerText - 1,\n      QEl: (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.question.flex1').el[0],\n      navLength: (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('[data-pagination]').length,\n      QPrevc: (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.question.flex1').el[0].previousElementSibling,\n      QNextEl: (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.question.flex1').el[0].nextElementSibling\n    };\n  },\n  viewModel: () => {\n    return {\n      id: +window.location.href.split('/').pop(),\n      test_name: (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('#test_name').text(),\n      enable: (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('#enable').el[0],\n      parent: (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('select').selectedIndexValue()\n    };\n  },\n  id: id => {\n    return id ?? (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.test-name').value();\n  },\n  children: () => {\n    let childrenLenght = (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.children').length;\n    if (childrenLenght) return childrenLenght;\n    return false;\n  },\n  path_create: async () => {\n    let test_path = _test.serverModel();\n\n    test_path.id = 0;\n    test_path.isTest = 0;\n    let url = `/test/create`;\n    let res = await (0,_common__WEBPACK_IMPORTED_MODULE_0__.post)(url, test_path);\n    res = await JSON.parse(res);\n\n    if (res) {\n      window.location.href = `/adminsc/test/edit/${res.id - 1}`;\n    }\n  },\n  name: () => {\n    return (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.test-name').el[0].innerText;\n  },\n  create: async () => {\n    let test = _test.serverModel();\n\n    test.id = 0;\n    test.isTest = 1;\n    let url = `/test/updateOrCreate`;\n    let res = await (0,_common__WEBPACK_IMPORTED_MODULE_0__.post)(url, test);\n    res = await JSON.parse(res);\n\n    if (res) {\n      window.location.href = `/adminsc/test/edit/${res.id - 1}`;\n    }\n  },\n\n  selectedValueCustomSelect(className) {\n    let select = (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)(`[data-custom-${className}]`)[0];\n    let selected = [...select.options].filter(opt => opt.selected);\n\n    if (selected) {\n      return +selected[0].value;\n    }\n  },\n\n  serverModel: () => {\n    return {\n      id: +window.location.href.split('/').pop(),\n      test_name: (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('#test_name').el[0].value,\n      isTest: +(0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('[isTest]').el[0].getAttribute('isTest'),\n      enable: _test.selectedValueCustomSelect('enable'),\n      parent: _test.selectedValueCustomSelect('parent')\n    };\n  },\n  update: async (parent, enable) => {\n    debugger;\n\n    let model = _test.serverModel(parent, enable);\n\n    let url = `/adminsc/test/update/${model.id}`;\n    let res = await (0,_common__WEBPACK_IMPORTED_MODULE_0__.post)(url, model);\n    res = await JSON.parse(res); // if (res) {\n    //   window.location.href = `/adminsc/test/edit/${model.id}`\n    // }\n  },\n  delete: async function () {\n    if (_test.children()) {\n      _common__WEBPACK_IMPORTED_MODULE_0__.popup.show('Сначала удалите все тесты из папки');\n      return false;\n    }\n\n    let viewModel = _test.viewModel();\n\n    viewModel.enable.checked = false;\n\n    let serverModel = _test.serverModel();\n\n    let res = await (0,_common__WEBPACK_IMPORTED_MODULE_0__.post)('/test/delete', {\n      test: serverModel\n    });\n    res = await JSON.parse(res);\n\n    if (res.notAdmin) {\n      _common__WEBPACK_IMPORTED_MODULE_0__.popup.show('Видимость теста скрыта. Чтобы удалить полностью - обратитесь к ГД');\n      setTimeout(() => {\n        window.location = '/adminsc/test/edit/400';\n      }, 4000);\n    } else {\n      window.location = '/adminsc/test/edit/400';\n    }\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUkrQyxHQUFHLEdBQUcsTUFBTTNELDZDQUFJLENBQUMwRCxHQUFELEVBQU1jLEtBQU4sQ0FBcEI7QUFDQWIsSUFBQUEsR0FBRyxHQUFHLE1BQU1DLElBQUksQ0FBQ0MsS0FBTCxDQUFXRixHQUFYLENBQVosQ0FMZ0MsQ0FNaEM7QUFDQTtBQUNBO0FBQ0QsR0FoS2tCO0FBa0tuQmMsRUFBQUEsTUFBTSxFQUFFLGtCQUFrQjtBQUV4QixRQUFJeEUsS0FBSyxDQUFDbUQsUUFBTixFQUFKLEVBQXNCO0FBQ3BCckQsTUFBQUEsK0NBQUEsQ0FBVyxvQ0FBWDtBQUNBLGFBQU8sS0FBUDtBQUNEOztBQUVELFFBQUl5QyxTQUFTLEdBQUd2QyxLQUFLLENBQUN1QyxTQUFOLEVBQWhCOztBQUNBQSxJQUFBQSxTQUFTLENBQUNRLE1BQVYsQ0FBaUIyQixPQUFqQixHQUEyQixLQUEzQjs7QUFDQSxRQUFJbkIsV0FBVyxHQUFHdkQsS0FBSyxDQUFDdUQsV0FBTixFQUFsQjs7QUFDQSxRQUFJRyxHQUFHLEdBQUcsTUFBTTNELDZDQUFJLENBQUMsY0FBRCxFQUFpQjtBQUNuQ2dFLE1BQUFBLElBQUksRUFBRVI7QUFENkIsS0FBakIsQ0FBcEI7QUFHQUcsSUFBQUEsR0FBRyxHQUFHLE1BQU1DLElBQUksQ0FBQ0MsS0FBTCxDQUFXRixHQUFYLENBQVo7O0FBQ0EsUUFBSUEsR0FBRyxDQUFDaUIsUUFBUixFQUFrQjtBQUNoQjdFLE1BQUFBLCtDQUFBLENBQVcsbUVBQVg7QUFDQThFLE1BQUFBLFVBQVUsQ0FBQyxNQUFNO0FBQ2ZwQyxRQUFBQSxNQUFNLENBQUNDLFFBQVAsR0FBa0Isd0JBQWxCO0FBQ0QsT0FGUyxFQUVQLElBRk8sQ0FBVjtBQUdELEtBTEQsTUFLTztBQUNMRCxNQUFBQSxNQUFNLENBQUNDLFFBQVAsR0FBa0Isd0JBQWxCO0FBQ0Q7QUFHRjtBQTFMa0IsQ0FBZCIsInNvdXJjZXMiOlsid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3B1YmxpYy9zcmMvVGVzdC9tb2RlbC90ZXN0LmpzPzlhNmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHskLCBwb3B1cCwgcG9zdH0gZnJvbSAnLi4vLi4vY29tbW9uJ1xyXG5cclxuZXhwb3J0IGNvbnN0IF90ZXN0ID0ge1xyXG5cclxuICBtYXJrQ3VycmVudEluTWVudTogKCkgPT4ge1xyXG4gICAgbGV0IGN1cnJlbnRUZXN0SWQgPSAkKCcudGVzdC1uYW1lJykuZWxbMF1cclxuICAgIGlmIChjdXJyZW50VGVzdElkKSB7XHJcbiAgICAgIGN1cnJlbnRUZXN0SWQgPSArY3VycmVudFRlc3RJZC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJylcclxuICAgICAgbGV0IG1lbnVJdGVtQ29sbGVjdGlvbiA9ICQoJy5hY2NvcmRpb24gYScpLmVsXHJcbiAgICAgIEFycmF5LmZyb20obWVudUl0ZW1Db2xsZWN0aW9uKS5maWx0ZXIoKGEpID0+IHtcclxuICAgICAgICBpZiAoK2EuZGF0YXNldC5pZCA9PT0gY3VycmVudFRlc3RJZCkge1xyXG4gICAgICAgICAgYS5jbGFzc0xpc3QuYWRkKCdjdXJyZW50JylcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgbmV4dFE6ICgpID0+IHtcclxuICAgIGxldCBjdXJyZW50ID0gX3Rlc3QuY3VycmVudFEoKVxyXG4gICAgaWYgKGN1cnJlbnQuaWQgPiBjdXJyZW50Lm5hdkxlbmd0aCAtIDIpIHJldHVybiBmYWxzZVxyXG5cclxuICAgIGxldCBhaW1OYXZJZCA9IF90ZXN0LmFpbU5hdklkRnVuY3Rpb24oY3VycmVudC5pZCwgJ25leHQnKVxyXG4gICAgbGV0IGFpbVFFbCA9IF90ZXN0LmFpbVFFbEZ1bmN0aW9uKGN1cnJlbnQsICduZXh0JylcclxuXHJcbiAgICBfdGVzdC5wdXNoTmF2KGN1cnJlbnQuaWQsIGFpbU5hdklkKVxyXG4gICAgX3Rlc3QucHVzaFEoY3VycmVudC5RRWwsIGFpbVFFbClcclxuICB9LFxyXG5cclxuICBwcmV2UTogKCkgPT4ge1xyXG4gICAgbGV0IGN1cnJlbnQgPSBfdGVzdC5jdXJyZW50USgpXHJcbiAgICBpZiAoY3VycmVudC5pZCA8IDEpIHJldHVybiBmYWxzZVxyXG5cclxuICAgIGxldCBhaW1OYXZJZCA9IF90ZXN0LmFpbU5hdklkRnVuY3Rpb24oY3VycmVudC5pZCwgJ2JhY2snKVxyXG4gICAgbGV0IGFpbVFFbCA9IF90ZXN0LmFpbVFFbEZ1bmN0aW9uKGN1cnJlbnQsICdiYWNrJylcclxuXHJcbiAgICBfdGVzdC5wdXNoTmF2KGN1cnJlbnQuaWQsIGFpbU5hdklkKVxyXG4gICAgX3Rlc3QucHVzaFEoY3VycmVudC5RRWwsIGFpbVFFbClcclxuICB9LFxyXG5cclxuICBwdXNoTmF2OiAoY3VycmVudElkLCBhaW1OYXZJZCkgPT4ge1xyXG4gICAgbGV0IGN1cnJOYXZFbCA9ICQoJ1tkYXRhLXBhZ2luYXRpb25dJylcclxuICAgICAgLmVsW2N1cnJlbnRJZF1cclxuICAgIGN1cnJOYXZFbC5jbGFzc0xpc3QudG9nZ2xlKCduYXYtYWN0aXZlJylcclxuXHJcbiAgICBsZXQgTmF2RWwgPSAkKCdbZGF0YS1wYWdpbmF0aW9uXScpXHJcbiAgICAgIC5lbFthaW1OYXZJZF1cclxuICAgIE5hdkVsLmNsYXNzTGlzdC50b2dnbGUoJ25hdi1hY3RpdmUnKVxyXG4gIH0sXHJcblxyXG4gIHB1c2hROiAoY3VycmVudEVsLCBhaW1RRWwpID0+IHtcclxuICAgIGN1cnJlbnRFbC5jbGFzc0xpc3QudG9nZ2xlKCdmbGV4MScpXHJcbiAgICBhaW1RRWwuY2xhc3NMaXN0LnRvZ2dsZSgnZmxleDEnKVxyXG4gIH0sXHJcblxyXG4gIGFpbU5hdklkRnVuY3Rpb246IChjdXJyZW50SWQsIGRpcmVjdGlvbikgPT4ge1xyXG4gICAgbGV0IGRpciA9IGN1cnJlbnRJZFxyXG4gICAgc3dpdGNoICh0cnVlKSB7XHJcbiAgICAgIGNhc2UgZGlyZWN0aW9uID09PSAnbmV4dCc6XHJcbiAgICAgICAgcmV0dXJuIGRpciArPSAxXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgY2FzZSBkaXJlY3Rpb24gPT09ICdiYWNrJzpcclxuICAgICAgICByZXR1cm4gZGlyIC09IDFcclxuICAgICAgICBicmVha1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGFpbVFFbEZ1bmN0aW9uOiAoY3VycmVudCwgZGlyZWN0aW9uKSA9PiB7XHJcbiAgICBzd2l0Y2ggKHRydWUpIHtcclxuICAgICAgY2FzZSBkaXJlY3Rpb24gPT09ICduZXh0JzpcclxuICAgICAgICByZXR1cm4gY3VycmVudC5RTmV4dEVsXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgY2FzZSBkaXJlY3Rpb24gPT09ICdiYWNrJzpcclxuICAgICAgICByZXR1cm4gY3VycmVudC5RUHJldmNcclxuICAgICAgICBicmVha1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGN1cnJlbnRROiAoKSA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpZDogJCgnLm5hdi1hY3RpdmUnKS5lbFswXS5pbm5lclRleHQgLSAxLFxyXG4gICAgICBRRWw6ICQoJy5xdWVzdGlvbi5mbGV4MScpLmVsWzBdLFxyXG4gICAgICBuYXZMZW5ndGg6ICQoJ1tkYXRhLXBhZ2luYXRpb25dJykubGVuZ3RoLFxyXG4gICAgICBRUHJldmM6ICQoJy5xdWVzdGlvbi5mbGV4MScpLmVsWzBdLnByZXZpb3VzRWxlbWVudFNpYmxpbmcsXHJcbiAgICAgIFFOZXh0RWw6ICQoJy5xdWVzdGlvbi5mbGV4MScpLmVsWzBdLm5leHRFbGVtZW50U2libGluZyxcclxuICAgIH1cclxuICB9LFxyXG5cclxuXHJcbiAgdmlld01vZGVsOiAoKSA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpZDogK3dpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KCcvJykucG9wKCksXHJcbiAgICAgIHRlc3RfbmFtZTogJCgnI3Rlc3RfbmFtZScpLnRleHQoKSxcclxuICAgICAgZW5hYmxlOiAkKCcjZW5hYmxlJykuZWxbMF0sXHJcbiAgICAgIHBhcmVudDogJCgnc2VsZWN0Jykuc2VsZWN0ZWRJbmRleFZhbHVlKCksXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgaWQ6IChpZCkgPT4ge1xyXG4gICAgcmV0dXJuIGlkID8/ICQoJy50ZXN0LW5hbWUnKS52YWx1ZSgpXHJcbiAgfSxcclxuICBjaGlsZHJlbjogKCkgPT4ge1xyXG4gICAgbGV0IGNoaWxkcmVuTGVuZ2h0ID0gJCgnLmNoaWxkcmVuJykubGVuZ3RoXHJcbiAgICBpZiAoY2hpbGRyZW5MZW5naHQpXHJcbiAgICAgIHJldHVybiBjaGlsZHJlbkxlbmdodFxyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfSxcclxuXHJcbiAgcGF0aF9jcmVhdGU6IGFzeW5jICgpID0+IHtcclxuICAgIGxldCB0ZXN0X3BhdGggPSBfdGVzdC5zZXJ2ZXJNb2RlbCgpXHJcbiAgICB0ZXN0X3BhdGguaWQgPSAwXHJcbiAgICB0ZXN0X3BhdGguaXNUZXN0ID0gMFxyXG4gICAgbGV0IHVybCA9IGAvdGVzdC9jcmVhdGVgXHJcbiAgICBsZXQgcmVzID0gYXdhaXQgcG9zdCh1cmwsIHRlc3RfcGF0aClcclxuICAgIHJlcyA9IGF3YWl0IEpTT04ucGFyc2UocmVzKVxyXG4gICAgaWYgKHJlcykge1xyXG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAvYWRtaW5zYy90ZXN0L2VkaXQvJHtyZXMuaWQgLSAxfWBcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBuYW1lOiAoKSA9PiB7XHJcbiAgICByZXR1cm4gJCgnLnRlc3QtbmFtZScpLmVsWzBdLmlubmVyVGV4dFxyXG4gIH0sXHJcblxyXG4gIGNyZWF0ZTogYXN5bmMgKCkgPT4ge1xyXG4gICAgbGV0IHRlc3QgPSBfdGVzdC5zZXJ2ZXJNb2RlbCgpXHJcbiAgICB0ZXN0LmlkID0gMFxyXG4gICAgdGVzdC5pc1Rlc3QgPSAxXHJcbiAgICBsZXQgdXJsID0gYC90ZXN0L3VwZGF0ZU9yQ3JlYXRlYFxyXG4gICAgbGV0IHJlcyA9IGF3YWl0IHBvc3QodXJsLCB0ZXN0KVxyXG4gICAgcmVzID0gYXdhaXQgSlNPTi5wYXJzZShyZXMpXHJcbiAgICBpZiAocmVzKSB7XHJcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYC9hZG1pbnNjL3Rlc3QvZWRpdC8ke3Jlcy5pZCAtIDF9YFxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIHNlbGVjdGVkVmFsdWVDdXN0b21TZWxlY3QoY2xhc3NOYW1lKSB7XHJcbiAgICBsZXQgc2VsZWN0ID0gJChgW2RhdGEtY3VzdG9tLSR7Y2xhc3NOYW1lfV1gKVswXVxyXG4gICAgbGV0IHNlbGVjdGVkID0gWy4uLnNlbGVjdC5vcHRpb25zXS5maWx0ZXIoKG9wdCk9Pm9wdC5zZWxlY3RlZClcclxuICAgIGlmIChzZWxlY3RlZCkge1xyXG4gICAgICByZXR1cm4gK3NlbGVjdGVkWzBdLnZhbHVlXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgc2VydmVyTW9kZWw6ICgpID0+IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlkOiArd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoJy8nKS5wb3AoKSxcclxuICAgICAgdGVzdF9uYW1lOiAkKCcjdGVzdF9uYW1lJykuZWxbMF0udmFsdWUsXHJcbiAgICAgIGlzVGVzdDogKyQoJ1tpc1Rlc3RdJykuZWxbMF0uZ2V0QXR0cmlidXRlKCdpc1Rlc3QnKSxcclxuICAgICAgZW5hYmxlOiBfdGVzdC5zZWxlY3RlZFZhbHVlQ3VzdG9tU2VsZWN0KCdlbmFibGUnKSxcclxuICAgICAgcGFyZW50OiBfdGVzdC5zZWxlY3RlZFZhbHVlQ3VzdG9tU2VsZWN0KCdwYXJlbnQnKSxcclxuICAgIH1cclxuICB9LFxyXG5cclxuICB1cGRhdGU6IGFzeW5jIChwYXJlbnQsIGVuYWJsZSkgPT4ge1xyXG4gICAgZGVidWdnZXJcclxuICAgIGxldCBtb2RlbCA9IF90ZXN0LnNlcnZlck1vZGVsKHBhcmVudCwgZW5hYmxlKVxyXG4gICAgbGV0IHVybCA9IGAvYWRtaW5zYy90ZXN0L3VwZGF0ZS8ke21vZGVsLmlkfWBcclxuICAgIGxldCByZXMgPSBhd2FpdCBwb3N0KHVybCwgbW9kZWwpXHJcbiAgICByZXMgPSBhd2FpdCBKU09OLnBhcnNlKHJlcylcclxuICAgIC8vIGlmIChyZXMpIHtcclxuICAgIC8vICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2FkbWluc2MvdGVzdC9lZGl0LyR7bW9kZWwuaWR9YFxyXG4gICAgLy8gfVxyXG4gIH0sXHJcblxyXG4gIGRlbGV0ZTogYXN5bmMgZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIGlmIChfdGVzdC5jaGlsZHJlbigpKSB7XHJcbiAgICAgIHBvcHVwLnNob3coJ9Ch0L3QsNGH0LDQu9CwINGD0LTQsNC70LjRgtC1INCy0YHQtSDRgtC10YHRgtGLINC40Lcg0L/QsNC/0LrQuCcpXHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG5cclxuICAgIGxldCB2aWV3TW9kZWwgPSBfdGVzdC52aWV3TW9kZWwoKVxyXG4gICAgdmlld01vZGVsLmVuYWJsZS5jaGVja2VkID0gZmFsc2VcclxuICAgIGxldCBzZXJ2ZXJNb2RlbCA9IF90ZXN0LnNlcnZlck1vZGVsKClcclxuICAgIGxldCByZXMgPSBhd2FpdCBwb3N0KCcvdGVzdC9kZWxldGUnLCB7XHJcbiAgICAgIHRlc3Q6IHNlcnZlck1vZGVsXHJcbiAgICB9KVxyXG4gICAgcmVzID0gYXdhaXQgSlNPTi5wYXJzZShyZXMpXHJcbiAgICBpZiAocmVzLm5vdEFkbWluKSB7XHJcbiAgICAgIHBvcHVwLnNob3coJ9CS0LjQtNC40LzQvtGB0YLRjCDRgtC10YHRgtCwINGB0LrRgNGL0YLQsC4g0KfRgtC+0LHRiyDRg9C00LDQu9C40YLRjCDQv9C+0LvQvdC+0YHRgtGM0Y4gLSDQvtCx0YDQsNGC0LjRgtC10YHRjCDQuiDQk9CUJylcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uID0gJy9hZG1pbnNjL3Rlc3QvZWRpdC80MDAnXHJcbiAgICAgIH0sIDQwMDApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB3aW5kb3cubG9jYXRpb24gPSAnL2FkbWluc2MvdGVzdC9lZGl0LzQwMCdcclxuICAgIH1cclxuXHJcblxyXG4gIH0sXHJcblxyXG59Il0sIm5hbWVzIjpbIiQiLCJwb3B1cCIsInBvc3QiLCJfdGVzdCIsIm1hcmtDdXJyZW50SW5NZW51IiwiY3VycmVudFRlc3RJZCIsImVsIiwiZ2V0QXR0cmlidXRlIiwibWVudUl0ZW1Db2xsZWN0aW9uIiwiQXJyYXkiLCJmcm9tIiwiZmlsdGVyIiwiYSIsImRhdGFzZXQiLCJpZCIsImNsYXNzTGlzdCIsImFkZCIsIm5leHRRIiwiY3VycmVudCIsImN1cnJlbnRRIiwibmF2TGVuZ3RoIiwiYWltTmF2SWQiLCJhaW1OYXZJZEZ1bmN0aW9uIiwiYWltUUVsIiwiYWltUUVsRnVuY3Rpb24iLCJwdXNoTmF2IiwicHVzaFEiLCJRRWwiLCJwcmV2USIsImN1cnJlbnRJZCIsImN1cnJOYXZFbCIsInRvZ2dsZSIsIk5hdkVsIiwiY3VycmVudEVsIiwiZGlyZWN0aW9uIiwiZGlyIiwiUU5leHRFbCIsIlFQcmV2YyIsImlubmVyVGV4dCIsImxlbmd0aCIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJuZXh0RWxlbWVudFNpYmxpbmciLCJ2aWV3TW9kZWwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJzcGxpdCIsInBvcCIsInRlc3RfbmFtZSIsInRleHQiLCJlbmFibGUiLCJwYXJlbnQiLCJzZWxlY3RlZEluZGV4VmFsdWUiLCJ2YWx1ZSIsImNoaWxkcmVuIiwiY2hpbGRyZW5MZW5naHQiLCJwYXRoX2NyZWF0ZSIsInRlc3RfcGF0aCIsInNlcnZlck1vZGVsIiwiaXNUZXN0IiwidXJsIiwicmVzIiwiSlNPTiIsInBhcnNlIiwibmFtZSIsImNyZWF0ZSIsInRlc3QiLCJzZWxlY3RlZFZhbHVlQ3VzdG9tU2VsZWN0IiwiY2xhc3NOYW1lIiwic2VsZWN0Iiwic2VsZWN0ZWQiLCJvcHRpb25zIiwib3B0IiwidXBkYXRlIiwibW9kZWwiLCJkZWxldGUiLCJzaG93IiwiY2hlY2tlZCIsIm5vdEFkbWluIiwic2V0VGltZW91dCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/src/Test/model/test.js\n");

/***/ }),

/***/ "./public/src/Test/test-edit.js":
/*!**************************************!*\
  !*** ./public/src/Test/test-edit.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ testEdit; }\n/* harmony export */ });\n/* harmony import */ var _components_footer_footer_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/footer/footer.scss */ \"./public/src/components/footer/footer.scss\");\n/* harmony import */ var _test_edit_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./test-edit.scss */ \"./public/src/Test/test-edit.scss\");\n/* harmony import */ var _test_edit_menu_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./test-edit-menu.scss */ \"./public/src/Test/test-edit-menu.scss\");\n/* harmony import */ var _test__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./test */ \"./public/src/Test/test.js\");\n/* harmony import */ var _test_update__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./test-update */ \"./public/src/Test/test-update.js\");\n/* harmony import */ var _Admin_admin__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Admin/admin */ \"./public/src/Admin/admin.js\");\n/* harmony import */ var _components_popup_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/popup.scss */ \"./public/src/components/popup.scss\");\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common */ \"./public/src/common.js\");\n/* harmony import */ var _model_test__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./model/test */ \"./public/src/Test/model/test.js\");\n/* harmony import */ var _model_question__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./model/question */ \"./public/src/Test/model/question.js\");\n/* harmony import */ var _model_answer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./model/answer */ \"./public/src/Test/model/answer.js\");\n/* harmony import */ var _components_sortable__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../components/sortable */ \"./public/src/components/sortable.js\");\n/* harmony import */ var _components_select_WDSSelect__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../components/select/WDSSelect */ \"./public/src/components/select/WDSSelect.js\");\n/* harmony import */ var _accordion_show__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./accordion_show */ \"./public/src/Test/accordion_show.js\");\n/* harmony import */ var _components_accordion_customContextMenu_customMenu__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../components/accordion/customContextMenu/customMenu */ \"./public/src/components/accordion/customContextMenu/customMenu.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n // import '../components/accordion/accordion'\n// import '../delete/main-menu/admin_main_menu'\n\nfunction testEdit() {\n  (0,_accordion_show__WEBPACK_IMPORTED_MODULE_13__.accordion_show)();\n  let parentSelect = new _components_select_WDSSelect__WEBPACK_IMPORTED_MODULE_12__[\"default\"]({\n    element: (0,_common__WEBPACK_IMPORTED_MODULE_7__.$)(\"[data-custom-parent]\")[0],\n    title: 'Папка',\n    class: 'parent'\n  });\n  let enableSelect = new _components_select_WDSSelect__WEBPACK_IMPORTED_MODULE_12__[\"default\"]({\n    element: (0,_common__WEBPACK_IMPORTED_MODULE_7__.$)(\"[data-custom-enable]\")[0],\n    title: 'Показывать пользователям',\n    class: 'enable'\n  });\n\n  if ((0,_common__WEBPACK_IMPORTED_MODULE_7__.$)(\"[data-question-parent-id]\")) {\n    (0,_common__WEBPACK_IMPORTED_MODULE_7__.$)(\".select__wrap select\").on('change', _model_question__WEBPACK_IMPORTED_MODULE_9__._question.changeParent);\n  } // подсветка текущего теста\n\n\n  _model_test__WEBPACK_IMPORTED_MODULE_8__._test.markCurrentInMenu();\n\n  _components_sortable__WEBPACK_IMPORTED_MODULE_11__.sortable.connect('.questions'); // при создании нового теста показать пустой вопрос\n\n  if (!_model_question__WEBPACK_IMPORTED_MODULE_9__._question.questions().length && /\\/adminsc\\/test\\/edit/.test(window.location.pathname)) {\n    _model_question__WEBPACK_IMPORTED_MODULE_9__._question.showFirst();\n  } // $('.test__update').on('click', _test.update.bind(null, parentSelect.selectedOption, enableSelect.selectedOption))\n\n\n  (0,_common__WEBPACK_IMPORTED_MODULE_7__.$)('.test-path__update').on('click', _model_test__WEBPACK_IMPORTED_MODULE_8__._test.update); // $('.question__sort').on('change', validate.sort)\n\n  (0,_common__WEBPACK_IMPORTED_MODULE_7__.$)('.question__save').on('click', _model_question__WEBPACK_IMPORTED_MODULE_9__._question.save);\n  (0,_common__WEBPACK_IMPORTED_MODULE_7__.$)('.question__show-answers').on('click', _model_question__WEBPACK_IMPORTED_MODULE_9__._question.showAnswers);\n  (0,_common__WEBPACK_IMPORTED_MODULE_7__.$)('.question__delete').on('click', _model_question__WEBPACK_IMPORTED_MODULE_9__._question[\"delete\"]);\n  (0,_common__WEBPACK_IMPORTED_MODULE_7__.$)('.question__create-button').on('click', _model_question__WEBPACK_IMPORTED_MODULE_9__._question.create);\n  (0,_common__WEBPACK_IMPORTED_MODULE_7__.$)('.answer__delete').on('click', _model_answer__WEBPACK_IMPORTED_MODULE_10__._answer.del);\n  (0,_common__WEBPACK_IMPORTED_MODULE_7__.$)('.answer__create-button').on('click', _model_answer__WEBPACK_IMPORTED_MODULE_10__._answer.create);\n  (0,_common__WEBPACK_IMPORTED_MODULE_7__.addTooltip)({\n    els: (0,_common__WEBPACK_IMPORTED_MODULE_7__.$)('.question__save').el,\n    message: 'Сохранить вопросы и ответы'\n  });\n  (0,_common__WEBPACK_IMPORTED_MODULE_7__.addTooltip)({\n    els: (0,_common__WEBPACK_IMPORTED_MODULE_7__.$)('.question__menu').el,\n    message: 'Переложить в другой тест'\n  });\n  (0,_common__WEBPACK_IMPORTED_MODULE_7__.addTooltip)({\n    els: (0,_common__WEBPACK_IMPORTED_MODULE_7__.$)('.question__delete').el,\n    message: 'Удалить вопросы и ответы'\n  });\n  (0,_common__WEBPACK_IMPORTED_MODULE_7__.addTooltip)({\n    els: (0,_common__WEBPACK_IMPORTED_MODULE_7__.$)('.question__show-answers').el,\n    message: 'Показать ответы'\n  });\n  (0,_common__WEBPACK_IMPORTED_MODULE_7__.addTooltip)({\n    els: (0,_common__WEBPACK_IMPORTED_MODULE_7__.$)('.test-edit-menu__params').el,\n    message: 'Редактировать'\n  });\n  (0,_common__WEBPACK_IMPORTED_MODULE_7__.addTooltip)({\n    els: (0,_common__WEBPACK_IMPORTED_MODULE_7__.$)('.question__menu').el,\n    message: 'Перенести в другой тест'\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFVLENBQUM7QUFDVCtCLElBQUFBLEdBQUcsRUFBRWhDLDBDQUFDLENBQUMseUJBQUQsQ0FBRCxDQUE2QmlDLEVBRHpCO0FBRVRDLElBQUFBLE9BQU8sRUFBRTtBQUZBLEdBQUQsQ0FBVjtBQUtBakMsRUFBQUEsbURBQVUsQ0FBQztBQUNUK0IsSUFBQUEsR0FBRyxFQUFFaEMsMENBQUMsQ0FBQyx5QkFBRCxDQUFELENBQTZCaUMsRUFEekI7QUFFVEMsSUFBQUEsT0FBTyxFQUFFO0FBRkEsR0FBRCxDQUFWO0FBS0FqQyxFQUFBQSxtREFBVSxDQUFDO0FBQ1QrQixJQUFBQSxHQUFHLEVBQUVoQywwQ0FBQyxDQUFDLGlCQUFELENBQUQsQ0FBcUJpQyxFQURqQjtBQUVUQyxJQUFBQSxPQUFPLEVBQUU7QUFGQSxHQUFELENBQVY7QUFLRCIsInNvdXJjZXMiOlsid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3B1YmxpYy9zcmMvVGVzdC90ZXN0LWVkaXQuanM/YWQ1YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4uL2NvbXBvbmVudHMvZm9vdGVyL2Zvb3Rlci5zY3NzJ1xyXG5cclxuaW1wb3J0ICcuL3Rlc3QtZWRpdC5zY3NzJ1xyXG5pbXBvcnQgJy4vdGVzdC1lZGl0LW1lbnUuc2NzcydcclxuaW1wb3J0ICcuL3Rlc3QnXHJcbmltcG9ydCAnLi90ZXN0LXVwZGF0ZSdcclxuaW1wb3J0ICcuLi9BZG1pbi9hZG1pbidcclxuXHJcbmltcG9ydCAnLi4vY29tcG9uZW50cy9wb3B1cC5zY3NzJ1xyXG5pbXBvcnQgeyQsIGFkZFRvb2x0aXB9IGZyb20gJy4uL2NvbW1vbidcclxuXHJcbmltcG9ydCB7X3Rlc3R9IGZyb20gXCIuL21vZGVsL3Rlc3RcIlxyXG5pbXBvcnQge19xdWVzdGlvbn0gZnJvbSBcIi4vbW9kZWwvcXVlc3Rpb25cIlxyXG5pbXBvcnQge19hbnN3ZXJ9IGZyb20gXCIuL21vZGVsL2Fuc3dlclwiXHJcbmltcG9ydCB7c29ydGFibGV9IGZyb20gXCIuLi9jb21wb25lbnRzL3NvcnRhYmxlXCJcclxuaW1wb3J0IFdEU1NlbGVjdCBmcm9tIFwiLi4vY29tcG9uZW50cy9zZWxlY3QvV0RTU2VsZWN0XCJcclxuaW1wb3J0IHthY2NvcmRpb25fc2hvd30gZnJvbSBcIi4vYWNjb3JkaW9uX3Nob3dcIjtcclxuaW1wb3J0IHNob3dDdXN0b21NZW51IGZyb20gXCIuLi9jb21wb25lbnRzL2FjY29yZGlvbi9jdXN0b21Db250ZXh0TWVudS9jdXN0b21NZW51XCI7XHJcblxyXG4vLyBpbXBvcnQgJy4uL2NvbXBvbmVudHMvYWNjb3JkaW9uL2FjY29yZGlvbidcclxuLy8gaW1wb3J0ICcuLi9kZWxldGUvbWFpbi1tZW51L2FkbWluX21haW5fbWVudSdcclxuXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGVzdEVkaXQoKSB7XHJcblxyXG4gIGFjY29yZGlvbl9zaG93KClcclxuXHJcbiAgbGV0IHBhcmVudFNlbGVjdCA9IG5ldyBXRFNTZWxlY3Qoe1xyXG4gICAgZWxlbWVudDogJChcIltkYXRhLWN1c3RvbS1wYXJlbnRdXCIpWzBdLFxyXG4gICAgdGl0bGU6ICfQn9Cw0L/QutCwJyxcclxuICAgIGNsYXNzOiAncGFyZW50J1xyXG4gIH0pXHJcblxyXG5cclxuICBsZXQgZW5hYmxlU2VsZWN0ID0gbmV3IFdEU1NlbGVjdCh7XHJcbiAgICBlbGVtZW50OiAkKFwiW2RhdGEtY3VzdG9tLWVuYWJsZV1cIilbMF0sXHJcbiAgICB0aXRsZTogJ9Cf0L7QutCw0LfRi9Cy0LDRgtGMINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj9C8JyxcclxuICAgIGNsYXNzOiAnZW5hYmxlJ1xyXG4gIH0pXHJcblxyXG5cclxuICBpZiAoJChcIltkYXRhLXF1ZXN0aW9uLXBhcmVudC1pZF1cIikpIHtcclxuICAgICQoXCIuc2VsZWN0X193cmFwIHNlbGVjdFwiKS5vbignY2hhbmdlJywgX3F1ZXN0aW9uLmNoYW5nZVBhcmVudClcclxuICB9XHJcblxyXG5cclxuLy8g0L/QvtC00YHQstC10YLQutCwINGC0LXQutGD0YnQtdCz0L4g0YLQtdGB0YLQsFxyXG4gIF90ZXN0Lm1hcmtDdXJyZW50SW5NZW51KClcclxuXHJcblxyXG4gIHNvcnRhYmxlLmNvbm5lY3QoJy5xdWVzdGlvbnMnKVxyXG5cclxuXHJcbi8vINC/0YDQuCDRgdC+0LfQtNCw0L3QuNC4INC90L7QstC+0LPQviDRgtC10YHRgtCwINC/0L7QutCw0LfQsNGC0Ywg0L/Rg9GB0YLQvtC5INCy0L7Qv9GA0L7RgVxyXG4gIGlmICghX3F1ZXN0aW9uLnF1ZXN0aW9ucygpLmxlbmd0aFxyXG4gICAgJiYgL1xcL2FkbWluc2NcXC90ZXN0XFwvZWRpdC8udGVzdCh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpKSB7XHJcbiAgICBfcXVlc3Rpb24uc2hvd0ZpcnN0KClcclxuICB9XHJcblxyXG5cclxuICAvLyAkKCcudGVzdF9fdXBkYXRlJykub24oJ2NsaWNrJywgX3Rlc3QudXBkYXRlLmJpbmQobnVsbCwgcGFyZW50U2VsZWN0LnNlbGVjdGVkT3B0aW9uLCBlbmFibGVTZWxlY3Quc2VsZWN0ZWRPcHRpb24pKVxyXG4gICQoJy50ZXN0LXBhdGhfX3VwZGF0ZScpLm9uKCdjbGljaycsIF90ZXN0LnVwZGF0ZSlcclxuXHJcbi8vICQoJy5xdWVzdGlvbl9fc29ydCcpLm9uKCdjaGFuZ2UnLCB2YWxpZGF0ZS5zb3J0KVxyXG4gICQoJy5xdWVzdGlvbl9fc2F2ZScpLm9uKCdjbGljaycsIF9xdWVzdGlvbi5zYXZlKVxyXG4gICQoJy5xdWVzdGlvbl9fc2hvdy1hbnN3ZXJzJykub24oJ2NsaWNrJywgX3F1ZXN0aW9uLnNob3dBbnN3ZXJzKVxyXG4gICQoJy5xdWVzdGlvbl9fZGVsZXRlJykub24oJ2NsaWNrJywgX3F1ZXN0aW9uLmRlbGV0ZSlcclxuICAkKCcucXVlc3Rpb25fX2NyZWF0ZS1idXR0b24nKS5vbignY2xpY2snLCBfcXVlc3Rpb24uY3JlYXRlKVxyXG5cclxuXHJcbiAgJCgnLmFuc3dlcl9fZGVsZXRlJykub24oJ2NsaWNrJywgX2Fuc3dlci5kZWwpXHJcbiAgJCgnLmFuc3dlcl9fY3JlYXRlLWJ1dHRvbicpLm9uKCdjbGljaycsIF9hbnN3ZXIuY3JlYXRlKVxyXG5cclxuXHJcbiAgYWRkVG9vbHRpcCh7XHJcbiAgICBlbHM6ICQoJy5xdWVzdGlvbl9fc2F2ZScpLmVsLFxyXG4gICAgbWVzc2FnZTogJ9Ch0L7RhdGA0LDQvdC40YLRjCDQstC+0L/RgNC+0YHRiyDQuCDQvtGC0LLQtdGC0YsnXHJcbiAgfSlcclxuXHJcbiAgYWRkVG9vbHRpcCh7XHJcbiAgICBlbHM6ICQoJy5xdWVzdGlvbl9fbWVudScpLmVsLFxyXG4gICAgbWVzc2FnZTogJ9Cf0LXRgNC10LvQvtC20LjRgtGMINCyINC00YDRg9Cz0L7QuSDRgtC10YHRgidcclxuICB9KVxyXG4gIGFkZFRvb2x0aXAoe1xyXG4gICAgZWxzOiAkKCcucXVlc3Rpb25fX2RlbGV0ZScpLmVsLFxyXG4gICAgbWVzc2FnZTogJ9Cj0LTQsNC70LjRgtGMINCy0L7Qv9GA0L7RgdGLINC4INC+0YLQstC10YLRiydcclxuICB9KVxyXG5cclxuICBhZGRUb29sdGlwKHtcclxuICAgIGVsczogJCgnLnF1ZXN0aW9uX19zaG93LWFuc3dlcnMnKS5lbCxcclxuICAgIG1lc3NhZ2U6ICfQn9C+0LrQsNC30LDRgtGMINC+0YLQstC10YLRiydcclxuICB9KVxyXG5cclxuICBhZGRUb29sdGlwKHtcclxuICAgIGVsczogJCgnLnRlc3QtZWRpdC1tZW51X19wYXJhbXMnKS5lbCxcclxuICAgIG1lc3NhZ2U6ICfQoNC10LTQsNC60YLQuNGA0L7QstCw0YLRjCdcclxuICB9KVxyXG5cclxuICBhZGRUb29sdGlwKHtcclxuICAgIGVsczogJCgnLnF1ZXN0aW9uX19tZW51JykuZWwsXHJcbiAgICBtZXNzYWdlOiAn0J/QtdGA0LXQvdC10YHRgtC4INCyINC00YDRg9Cz0L7QuSDRgtC10YHRgidcclxuICB9KVxyXG5cclxufVxyXG5cclxuXHJcbiJdLCJuYW1lcyI6WyIkIiwiYWRkVG9vbHRpcCIsIl90ZXN0IiwiX3F1ZXN0aW9uIiwiX2Fuc3dlciIsInNvcnRhYmxlIiwiV0RTU2VsZWN0IiwiYWNjb3JkaW9uX3Nob3ciLCJzaG93Q3VzdG9tTWVudSIsInRlc3RFZGl0IiwicGFyZW50U2VsZWN0IiwiZWxlbWVudCIsInRpdGxlIiwiY2xhc3MiLCJlbmFibGVTZWxlY3QiLCJvbiIsImNoYW5nZVBhcmVudCIsIm1hcmtDdXJyZW50SW5NZW51IiwiY29ubmVjdCIsInF1ZXN0aW9ucyIsImxlbmd0aCIsInRlc3QiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwic2hvd0ZpcnN0IiwidXBkYXRlIiwic2F2ZSIsInNob3dBbnN3ZXJzIiwiZGVsZXRlIiwiY3JlYXRlIiwiZGVsIiwiZWxzIiwiZWwiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/src/Test/test-edit.js\n");

/***/ }),

/***/ "./public/src/Test/test-update.js":
/*!****************************************!*\
  !*** ./public/src/Test/test-update.js ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ testUpdate; }\n/* harmony export */ });\n/* harmony import */ var _test_update_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./test-update.scss */ \"./public/src/Test/test-update.scss\");\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common */ \"./public/src/common.js\");\n/* harmony import */ var _model_test__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./model/test */ \"./public/src/Test/model/test.js\");\n/* harmony import */ var _components_select_WDSSelect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/select/WDSSelect */ \"./public/src/components/select/WDSSelect.js\");\n/* harmony import */ var _accordion_show__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./accordion_show */ \"./public/src/Test/accordion_show.js\");\n\n\n\n\n\nfunction testUpdate() {\n  (0,_accordion_show__WEBPACK_IMPORTED_MODULE_4__.accordion_show)();\n  let parentSelect = new _components_select_WDSSelect__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n    element: (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)(\"[data-custom-parent]\")[0],\n    title: 'Лежит в папке',\n    class: 'parent'\n  });\n  let enableSelect = new _components_select_WDSSelect__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n    element: (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)(\"[data-custom-enable]\")[0],\n    title: 'Показывать пользователям',\n    class: 'enable'\n  });\n  (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)(\".test__save\").on('click', _model_test__WEBPACK_IMPORTED_MODULE_2__._test.update);\n  (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)(\".test__delete\").on('click', _model_test__WEBPACK_IMPORTED_MODULE_2__._test[\"delete\"]);\n  (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)(\".test-path__create\").on('click', _model_test__WEBPACK_IMPORTED_MODULE_2__._test.path_create);\n  (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)(\".test__create\").on('click', _model_test__WEBPACK_IMPORTED_MODULE_2__._test.create);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL1Rlc3QvdGVzdC11cGRhdGUuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVlLFNBQVNJLFVBQVQsR0FBc0I7QUFFbkNELEVBQUFBLCtEQUFjO0FBRWQsTUFBSUUsWUFBWSxHQUFHLElBQUlILG9FQUFKLENBQWM7QUFDL0JJLElBQUFBLE9BQU8sRUFBRU4sMENBQUMsQ0FBQyxzQkFBRCxDQUFELENBQTBCLENBQTFCLENBRHNCO0FBRS9CTyxJQUFBQSxLQUFLLEVBQUUsZUFGd0I7QUFHL0JDLElBQUFBLEtBQUssRUFBRTtBQUh3QixHQUFkLENBQW5CO0FBT0EsTUFBSUMsWUFBWSxHQUFHLElBQUlQLG9FQUFKLENBQWM7QUFDL0JJLElBQUFBLE9BQU8sRUFBRU4sMENBQUMsQ0FBQyxzQkFBRCxDQUFELENBQTBCLENBQTFCLENBRHNCO0FBRS9CTyxJQUFBQSxLQUFLLEVBQUUsMEJBRndCO0FBRy9CQyxJQUFBQSxLQUFLLEVBQUU7QUFId0IsR0FBZCxDQUFuQjtBQU1BUixFQUFBQSwwQ0FBQyxDQUFDLGFBQUQsQ0FBRCxDQUFpQlUsRUFBakIsQ0FBb0IsT0FBcEIsRUFBNkJULHFEQUE3QjtBQUNBRCxFQUFBQSwwQ0FBQyxDQUFDLGVBQUQsQ0FBRCxDQUFtQlUsRUFBbkIsQ0FBc0IsT0FBdEIsRUFBK0JULHdEQUEvQjtBQUNBRCxFQUFBQSwwQ0FBQyxDQUFDLG9CQUFELENBQUQsQ0FBd0JVLEVBQXhCLENBQTJCLE9BQTNCLEVBQW9DVCwwREFBcEM7QUFDQUQsRUFBQUEsMENBQUMsQ0FBQyxlQUFELENBQUQsQ0FBbUJVLEVBQW5CLENBQXNCLE9BQXRCLEVBQStCVCxxREFBL0I7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3B1YmxpYy9zcmMvVGVzdC90ZXN0LXVwZGF0ZS5qcz82ZmZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnLi90ZXN0LXVwZGF0ZS5zY3NzJ1xyXG5pbXBvcnQgeyR9IGZyb20gJy4uL2NvbW1vbidcclxuaW1wb3J0IHtfdGVzdH0gZnJvbSAnLi9tb2RlbC90ZXN0J1xyXG5pbXBvcnQgV0RTU2VsZWN0IGZyb20gXCIuLi9jb21wb25lbnRzL3NlbGVjdC9XRFNTZWxlY3RcIlxyXG5pbXBvcnQge2FjY29yZGlvbl9zaG93fSBmcm9tIFwiLi9hY2NvcmRpb25fc2hvd1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGVzdFVwZGF0ZSgpIHtcclxuXHJcbiAgYWNjb3JkaW9uX3Nob3coKVxyXG5cclxuICBsZXQgcGFyZW50U2VsZWN0ID0gbmV3IFdEU1NlbGVjdCh7XHJcbiAgICBlbGVtZW50OiAkKFwiW2RhdGEtY3VzdG9tLXBhcmVudF1cIilbMF0sXHJcbiAgICB0aXRsZTogJ9Cb0LXQttC40YIg0LIg0L/QsNC/0LrQtScsXHJcbiAgICBjbGFzczogJ3BhcmVudCdcclxuICB9KVxyXG5cclxuXHJcbiAgbGV0IGVuYWJsZVNlbGVjdCA9IG5ldyBXRFNTZWxlY3Qoe1xyXG4gICAgZWxlbWVudDogJChcIltkYXRhLWN1c3RvbS1lbmFibGVdXCIpWzBdLFxyXG4gICAgdGl0bGU6ICfQn9C+0LrQsNC30YvQstCw0YLRjCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y/QvCcsXHJcbiAgICBjbGFzczogJ2VuYWJsZSdcclxuICB9KVxyXG5cclxuICAkKFwiLnRlc3RfX3NhdmVcIikub24oJ2NsaWNrJywgX3Rlc3QudXBkYXRlKVxyXG4gICQoXCIudGVzdF9fZGVsZXRlXCIpLm9uKCdjbGljaycsIF90ZXN0LmRlbGV0ZSlcclxuICAkKFwiLnRlc3QtcGF0aF9fY3JlYXRlXCIpLm9uKCdjbGljaycsIF90ZXN0LnBhdGhfY3JlYXRlKVxyXG4gICQoXCIudGVzdF9fY3JlYXRlXCIpLm9uKCdjbGljaycsIF90ZXN0LmNyZWF0ZSlcclxufVxyXG4iXSwibmFtZXMiOlsiJCIsIl90ZXN0IiwiV0RTU2VsZWN0IiwiYWNjb3JkaW9uX3Nob3ciLCJ0ZXN0VXBkYXRlIiwicGFyZW50U2VsZWN0IiwiZWxlbWVudCIsInRpdGxlIiwiY2xhc3MiLCJlbmFibGVTZWxlY3QiLCJvbiIsInVwZGF0ZSIsImRlbGV0ZSIsInBhdGhfY3JlYXRlIiwiY3JlYXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/src/Test/test-update.js\n");

/***/ }),

/***/ "./public/src/Test/test.js":
/*!*********************************!*\
  !*** ./public/src/Test/test.js ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _do__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./do */ \"./public/src/Test/do.js\");\n/* harmony import */ var _components_test_pagination_test_pagination__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/test-pagination/test-pagination */ \"./public/src/components/test-pagination/test-pagination.js\");\n/* harmony import */ var _components_header_header__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/header/header */ \"./public/src/components/header/header.js\");\n/* harmony import */ var _components_footer_footer_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/footer/footer.scss */ \"./public/src/components/footer/footer.scss\");\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL1Rlc3QvdGVzdC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBRUE7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3B1YmxpYy9zcmMvVGVzdC90ZXN0LmpzPzk1YmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL2RvJ1xyXG5cclxuaW1wb3J0ICcuLi9jb21wb25lbnRzL3Rlc3QtcGFnaW5hdGlvbi90ZXN0LXBhZ2luYXRpb24nXHJcblxyXG5pbXBvcnQgJy4uL2NvbXBvbmVudHMvaGVhZGVyL2hlYWRlcidcclxuaW1wb3J0ICcuLi9jb21wb25lbnRzL2Zvb3Rlci9mb290ZXIuc2NzcydcclxuXHJcblxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/src/Test/test.js\n");

/***/ }),

/***/ "./public/src/Test/test_results/test_results.js":
/*!******************************************************!*\
  !*** ./public/src/Test/test_results/test_results.js ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ testResults; }\n/* harmony export */ });\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common */ \"./public/src/common.js\");\n/* harmony import */ var _model_testResult__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/_testResult */ \"./public/src/Test/model/_testResult.js\");\n/* harmony import */ var _test_results_table_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./test-results__table.scss */ \"./public/src/Test/test_results/test-results__table.scss\");\n\n\n\nfunction testResults() {\n  (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.test-results__table .del').on('click', _model_testResult__WEBPACK_IMPORTED_MODULE_1__._testResult[\"delete\"]);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL1Rlc3QvdGVzdF9yZXN1bHRzL3Rlc3RfcmVzdWx0cy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRWUsU0FBU0UsV0FBVCxHQUF1QjtBQUNwQ0YsRUFBQUEsMENBQUMsQ0FBQywyQkFBRCxDQUFELENBQStCRyxFQUEvQixDQUFrQyxPQUFsQyxFQUEyQ0Ysb0VBQTNDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9wdWJsaWMvc3JjL1Rlc3QvdGVzdF9yZXN1bHRzL3Rlc3RfcmVzdWx0cy5qcz81MzRhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7JH0gZnJvbSAnLi4vLi4vY29tbW9uJ1xyXG5pbXBvcnQge190ZXN0UmVzdWx0fSBmcm9tICcuLi9tb2RlbC9fdGVzdFJlc3VsdCdcclxuaW1wb3J0ICcuL3Rlc3QtcmVzdWx0c19fdGFibGUuc2NzcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRlc3RSZXN1bHRzKCkge1xyXG4gICQoJy50ZXN0LXJlc3VsdHNfX3RhYmxlIC5kZWwnKS5vbignY2xpY2snLCBfdGVzdFJlc3VsdC5kZWxldGUpXHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6WyIkIiwiX3Rlc3RSZXN1bHQiLCJ0ZXN0UmVzdWx0cyIsIm9uIiwiZGVsZXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/src/Test/test_results/test_results.js\n");

/***/ }),

/***/ "./public/src/common.js":
/*!******************************!*\
  !*** ./public/src/common.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"dropDown\": function() { return /* binding */ dropDown; },\n/* harmony export */   \"addTooltip\": function() { return /* binding */ addTooltip; },\n/* harmony export */   \"popup\": function() { return /* binding */ popup; },\n/* harmony export */   \"test_delete_button\": function() { return /* binding */ test_delete_button; },\n/* harmony export */   \"post\": function() { return /* binding */ post; },\n/* harmony export */   \"get\": function() { return /* binding */ get; },\n/* harmony export */   \"uniq\": function() { return /* binding */ uniq; },\n/* harmony export */   \"validate\": function() { return /* binding */ validate; },\n/* harmony export */   \"$\": function() { return /* binding */ $; },\n/* harmony export */   \"fetchWrap\": function() { return /* binding */ fetchWrap; },\n/* harmony export */   \"fetchW\": function() { return /* binding */ fetchW; }\n/* harmony export */ });\n/* harmony import */ var _common_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.scss */ \"./public/src/common.scss\");\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nconst dropDown = function (elementId) {\n  var dropdown = document.getElementById(elementId);\n\n  try {\n    showDropdown(dropdown);\n  } catch (e) {}\n\n  return false;\n};\n\nconst showDropdown = function (element) {\n  var event;\n  event = document.createEvent('MouseEvents');\n  event.initMouseEvent('mousedown', true, true, window);\n  element.dispatchEvent(event);\n};\n\nlet validate = {\n  sort: () => {\n    let error = undefined.nextElementSibling;\n    let ar = undefined.value.match(/\\D+/);\n\n    if (ar) {\n      error.innerText = 'Только цифры';\n      error.style.opacity = '1';\n    } else {\n      if (error.style.opacity === \"1\") {\n        error.style.opacity = '0';\n      }\n    }\n  },\n  email: email => {\n    if (!email) return false;\n    let re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase());\n  },\n  password: password => {\n    if (!password) return false;\n    let re = /^[a-zA-Z\\-0-9]{6,20}$/;\n    return re.test(password);\n  }\n}; // function up() {\n//    var top = Math.max(document.body.scrollTop, document.documentElement.scrollTop);\n//    if (top > 0) {\n//       window.scrollBy(0, -100);\n//       var t = setTimeout('up()', 20);\n//    }\n//    else\n//       clearTimeout(t);\n//    return false;\n// }\n\nlet popup = {\n  show: function (txt, callback) {\n    let close = this.el('div', 'popup__close');\n    close.innerText = 'X';\n    let popup__item = this.el('div', 'popup__item');\n    popup__item.innerText = txt;\n    popup__item.append(close);\n    let popup = $('.popup').el[0];\n\n    if (!popup) {\n      popup = this.el('div', 'popup');\n    }\n\n    popup.append(popup__item);\n    popup.addEventListener('click', this.close, true);\n    document.body.append(popup);\n    let hideDelay = 5000;\n    setTimeout(() => {\n      popup__item.classList.remove('popup__item');\n      popup__item.classList.add('popup-hide');\n    }, hideDelay);\n    let removeDelay = hideDelay + 950;\n    setTimeout(() => {\n      popup__item.remove();\n\n      if (callback) {\n        callback();\n      }\n    }, removeDelay);\n  },\n  close: function (e) {\n    if (e.target.classList.contains('popup__close')) {\n      let popup = this.closest('.popup').remove();\n    }\n  },\n  el: function (tagName, className) {\n    let el = document.createElement(tagName);\n    el.classList.add(className);\n    return el;\n  }\n};\n\nconst uniq = array => Array.from(new Set(array));\n\nasync function get(key) {\n  let p = window.location.search;\n  p = p.match(new RegExp(key + '=([^&=]+)'));\n  return p ? p[1] : false;\n}\n\nasync function post(url) {\n  let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return new Promise(function (resolve, reject) {\n    data.token = document.querySelector('meta[name=\"token\"]').getAttribute('content');\n    let req = new XMLHttpRequest();\n    req.open('POST', url, true);\n    req.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n\n    if (data instanceof FormData) {\n      req.send(data);\n    } else {\n      req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n      req.send('param=' + JSON.stringify(data));\n    }\n\n    req.onerror = function (e) {\n      reject(Error(\"Network Error\" + e));\n    };\n\n    req.onload = async function () {\n      resolve(req.response);\n    };\n  });\n}\n\nclass ElementCollection extends Array {\n  constructor() {\n    super(...arguments);\n\n    _defineProperty(this, \"el\", this);\n\n    _defineProperty(this, \"elType\", function () {\n      return {}.toString.call(this);\n    });\n\n    _defineProperty(this, \"value\", function () {\n      return this[0].getAttribute('value');\n    });\n\n    _defineProperty(this, \"attr\", function (attrName, attrVal) {\n      if (attrVal) {\n        this[0].setAttribute(attrName, attrVal);\n      }\n\n      return this[0].getAttribute(attrName);\n    });\n\n    _defineProperty(this, \"selectedIndexValue\", function () {\n      if (this.length) return this[0].selectedOptions[0].value;\n    });\n\n    _defineProperty(this, \"options\", function () {\n      if (this.length) return this[0].options;\n    });\n\n    _defineProperty(this, \"count\", function () {\n      return this.length;\n    });\n\n    _defineProperty(this, \"text\", function () {\n      if (this.length) return this[0].innerText;\n    });\n\n    _defineProperty(this, \"checked\", function () {\n      if (this.length) return this[0].checked;\n    });\n\n    _defineProperty(this, \"getWithStyle\", function (attr, val) {\n      let arr = [];\n      this.forEach(s => {\n        if (s.style[attr] === val) {\n          arr.push(s);\n        }\n      });\n      return arr;\n    });\n\n    _defineProperty(this, \"addClass\", function (className) {\n      this.forEach(s => {\n        s.classList.add(className);\n      });\n    });\n\n    _defineProperty(this, \"removeClass\", function (className) {\n      this.forEach(s => {\n        s.classList.remove(className);\n      });\n    });\n\n    _defineProperty(this, \"hasClass\", function (className) {\n      if (this.classList.contains(className)) return true;\n    });\n\n    _defineProperty(this, \"append\", function (el) {\n      this[0].appendChild(el);\n    });\n\n    _defineProperty(this, \"find\", function (selector) {\n      // if ([\"[object HTMLDivElement]\", \"[object HTMLInputElement]\", \"[object HTMLLIElement]\"].includes(elType)) {\n      //   return this.querySelector(selector)\n      // }\n      // if ([\"[object NodeList]\", \"[object Array]\"].includes(elType)) {\n      return this[0].querySelector(selector);\n    });\n\n    _defineProperty(this, \"css\", function (attr, val) {\n      if (!val) {\n        return this[0].style[attr];\n      }\n\n      this.forEach(s => {\n        s.style[attr] = val;\n      });\n    });\n  }\n\n  on(event, cbOrSelector, cb) {\n    if (typeof cbOrSelector === 'function') {\n      this.forEach(e => e.addEventListener(event, cbOrSelector));\n    } else {\n      this.forEach(elem => {\n        elem.addEventListener(event, e => {\n          if (e.target.matches(cbOrSelector)) cb(e);\n        });\n      });\n    }\n  } // on = function (ev, f) {\n  //   if (!this.length) return\n  //     this.forEach((s) => s.addEventListener(ev, f, true))\n  // }\n\n\n  ready(cb) {\n    const isReady = this.some(e => {\n      return e.readyState != null && e.readyState != 'loading';\n    });\n\n    if (isReady) {\n      cb();\n    } else {\n      document.addEventListener('DOMContentLoaded', cb);\n    }\n  }\n\n}\n\nfunction $(selector) {\n  if (typeof selector === 'string' || selector instanceof String) {\n    return new ElementCollection(...document.querySelectorAll(selector));\n  } else {\n    return new ElementCollection(selector);\n  }\n}\n\nfunction addTooltip(args) {\n  let ar = [...args.els];\n  ar.map(el => {\n    el.onmouseenter = function () {\n      let tip = document.createElement('div');\n      $(tip).addClass('tip');\n      tip.innerText = args.message;\n      el.append(tip);\n\n      let remove = () => tip.remove();\n\n      tip.addEventListener('mousemove', remove.bind(tip), true);\n    }.bind(args);\n\n    el.onmouseleave = () => {\n      let tip = el.querySelector('.tip');\n      tip.remove();\n    };\n  }, [args]);\n}\n\nclass test_delete_button {\n  constructor(elem) {\n    if (!elem) return;\n    this._elem = $(elem).el[0];\n    this._elem.onclick = this.delete;\n    this._elem.onmouseenter = this.showToolip;\n    this._elem.onmouseleave = this.hideTooltip;\n    this._elem.onmousemove = this.changeTooltipPos;\n  }\n\n  async delete() {\n    if (confirm('Удалить тест?')) {\n      let res = test.del();\n\n      if (res.msg === 'ok') {\n        window.location = '/test/edit';\n      }\n    }\n  }\n\n  showToolip(e) {\n    let x = e.clientX;\n    let y = e.clientY;\n    let tip = document.createElement('div');\n    $(tip).addClass('tip');\n    tip.style.top = y + 70 + 'px';\n    tip.style.left = x - 170 + 'px';\n    tip.innerText = this.getAttribute('tip');\n    this.tip = tip;\n    document.body.append(tip);\n  }\n\n  hideTooltip() {\n    this.tip.remove();\n  }\n\n  changeTooltipPos(e) {\n    this.tip.style.top = e.pageY + 35 + 'px';\n    this.tip.style.left = e.pageX - 170 + 'px';\n  }\n\n}\n\nasync function fetchWrap(Obj, file) {\n  let data = new FormData();\n  data.append('ajax', true);\n  data.append('param', JSON.stringify(Obj));\n  file ? data.append('file', file) : '';\n  let prom = await fetch(`/adminsc`, {\n    body: data,\n    method: 'post'\n  });\n  return prom.text();\n}\n\nasync function fetchW(url, Obj) {\n  let prom = await fetch(url, {\n    body: 'param=' + JSON.stringify(Obj),\n    method: 'post',\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n      'HTTP_X_REQUESTED_WITH': 'XMLHttpRequest'\n    }\n  });\n  return prom;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFKLEVBQVg7QUFDQVgsRUFBQUEsSUFBSSxDQUFDN0IsTUFBTCxDQUFZLE1BQVosRUFBb0IsSUFBcEI7QUFDQTZCLEVBQUFBLElBQUksQ0FBQzdCLE1BQUwsQ0FBWSxPQUFaLEVBQXFCMEMsSUFBSSxDQUFDQyxTQUFMLENBQWVpRSxHQUFmLENBQXJCO0FBQ0FDLEVBQUFBLElBQUksR0FBR2hGLElBQUksQ0FBQzdCLE1BQUwsQ0FBWSxNQUFaLEVBQW9CNkcsSUFBcEIsQ0FBSCxHQUErQixFQUFuQztBQUNBLE1BQUlDLElBQUksR0FBRyxNQUFNQyxLQUFLLENBQUUsVUFBRixFQUFhO0FBQ2pDNUcsSUFBQUEsSUFBSSxFQUFFMEIsSUFEMkI7QUFFakNtRixJQUFBQSxNQUFNLEVBQUU7QUFGeUIsR0FBYixDQUF0QjtBQUlBLFNBQU9GLElBQUksQ0FBQ0csSUFBTCxFQUFQO0FBQ0Q7O0FBRUQsZUFBZUMsTUFBZixDQUFzQnRGLEdBQXRCLEVBQTJCZ0YsR0FBM0IsRUFBZ0M7QUFDOUIsTUFBSUUsSUFBSSxHQUFHLE1BQU1DLEtBQUssQ0FBQ25GLEdBQUQsRUFBTTtBQUMxQnpCLElBQUFBLElBQUksRUFBRSxXQUFXdUMsSUFBSSxDQUFDQyxTQUFMLENBQWVpRSxHQUFmLENBRFM7QUFFMUJJLElBQUFBLE1BQU0sRUFBRSxNQUZrQjtBQUcxQkcsSUFBQUEsT0FBTyxFQUFFO0FBQ1Asc0JBQWdCLG1DQURUO0FBRVAsK0JBQXlCO0FBRmxCO0FBSGlCLEdBQU4sQ0FBdEI7QUFRQSxTQUFPTCxJQUFQO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9wdWJsaWMvc3JjL2NvbW1vbi5qcz81OTIxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnLi9jb21tb24uc2NzcydcclxuXHJcbmV4cG9ydCBjb25zdCBkcm9wRG93biA9IGZ1bmN0aW9uIChlbGVtZW50SWQpIHtcclxuICB2YXIgZHJvcGRvd24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQpO1xyXG4gIHRyeSB7XHJcbiAgICBzaG93RHJvcGRvd24oZHJvcGRvd24pO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuXHJcbiAgfVxyXG4gIHJldHVybiBmYWxzZTtcclxufTtcclxuXHJcbmNvbnN0IHNob3dEcm9wZG93biA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgdmFyIGV2ZW50O1xyXG4gIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJyk7XHJcbiAgZXZlbnQuaW5pdE1vdXNlRXZlbnQoJ21vdXNlZG93bicsIHRydWUsIHRydWUsIHdpbmRvdyk7XHJcbiAgZWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcclxufTtcclxuXHJcblxyXG5sZXQgdmFsaWRhdGUgPSB7XHJcbiAgc29ydDogKCkgPT4ge1xyXG4gICAgbGV0IGVycm9yID0gdGhpcy5uZXh0RWxlbWVudFNpYmxpbmdcclxuICAgIGxldCBhciA9IHRoaXMudmFsdWUubWF0Y2goL1xcRCsvKVxyXG4gICAgaWYgKGFyKSB7XHJcbiAgICAgIGVycm9yLmlubmVyVGV4dCA9ICfQotC+0LvRjNC60L4g0YbQuNGE0YDRiydcclxuICAgICAgZXJyb3Iuc3R5bGUub3BhY2l0eSA9ICcxJ1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKGVycm9yLnN0eWxlLm9wYWNpdHkgPT09IFwiMVwiKSB7XHJcbiAgICAgICAgZXJyb3Iuc3R5bGUub3BhY2l0eSA9ICcwJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICBlbWFpbDogKGVtYWlsKSA9PiB7XHJcbiAgICBpZiAoIWVtYWlsKSByZXR1cm4gZmFsc2VcclxuICAgIGxldCByZSA9IC9eKChbXjw+KClbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFxdKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcclxuICAgIHJldHVybiByZS50ZXN0KFN0cmluZyhlbWFpbCkudG9Mb3dlckNhc2UoKSk7XHJcbiAgfSxcclxuICBwYXNzd29yZDogKHBhc3N3b3JkKSA9PiB7XHJcbiAgICBpZiAoIXBhc3N3b3JkKSByZXR1cm4gZmFsc2VcclxuICAgIGxldCByZSA9IC9eW2EtekEtWlxcLTAtOV17NiwyMH0kL1xyXG4gICAgcmV0dXJuIHJlLnRlc3QocGFzc3dvcmQpXHJcbiAgfVxyXG59XHJcblxyXG5cclxuLy8gZnVuY3Rpb24gdXAoKSB7XHJcbi8vICAgIHZhciB0b3AgPSBNYXRoLm1heChkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCk7XHJcbi8vICAgIGlmICh0b3AgPiAwKSB7XHJcbi8vICAgICAgIHdpbmRvdy5zY3JvbGxCeSgwLCAtMTAwKTtcclxuLy8gICAgICAgdmFyIHQgPSBzZXRUaW1lb3V0KCd1cCgpJywgMjApO1xyXG4vLyAgICB9XHJcbi8vICAgIGVsc2VcclxuLy8gICAgICAgY2xlYXJUaW1lb3V0KHQpO1xyXG4vLyAgICByZXR1cm4gZmFsc2U7XHJcbi8vIH1cclxuXHJcbmxldCBwb3B1cCA9IHtcclxuXHJcbiAgc2hvdzogZnVuY3Rpb24gKHR4dCwgY2FsbGJhY2spIHtcclxuICAgIGxldCBjbG9zZSA9IHRoaXMuZWwoJ2RpdicsICdwb3B1cF9fY2xvc2UnKVxyXG4gICAgY2xvc2UuaW5uZXJUZXh0ID0gJ1gnXHJcbiAgICBsZXQgcG9wdXBfX2l0ZW0gPSB0aGlzLmVsKCdkaXYnLCAncG9wdXBfX2l0ZW0nKVxyXG5cclxuICAgIHBvcHVwX19pdGVtLmlubmVyVGV4dCA9IHR4dFxyXG4gICAgcG9wdXBfX2l0ZW0uYXBwZW5kKGNsb3NlKVxyXG4gICAgbGV0IHBvcHVwID0gJCgnLnBvcHVwJykuZWxbMF1cclxuICAgIGlmICghcG9wdXApIHtcclxuICAgICAgcG9wdXAgPSB0aGlzLmVsKCdkaXYnLCAncG9wdXAnKVxyXG4gICAgfVxyXG4gICAgcG9wdXAuYXBwZW5kKHBvcHVwX19pdGVtKVxyXG4gICAgcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlLCB0cnVlKVxyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmQocG9wdXApXHJcbiAgICBsZXQgaGlkZURlbGF5ID0gNTAwMDtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBwb3B1cF9faXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9faXRlbScpXHJcbiAgICAgIHBvcHVwX19pdGVtLmNsYXNzTGlzdC5hZGQoJ3BvcHVwLWhpZGUnKVxyXG4gICAgfSwgaGlkZURlbGF5KVxyXG4gICAgbGV0IHJlbW92ZURlbGF5ID0gaGlkZURlbGF5ICsgOTUwO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHBvcHVwX19pdGVtLnJlbW92ZSgpXHJcbiAgICAgIGlmIChjYWxsYmFjaykge1xyXG4gICAgICAgIGNhbGxiYWNrKClcclxuICAgICAgfVxyXG4gICAgfSwgcmVtb3ZlRGVsYXkpXHJcbiAgfSxcclxuXHJcbiAgY2xvc2U6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fY2xvc2UnKSkge1xyXG4gICAgICBsZXQgcG9wdXAgPSB0aGlzLmNsb3Nlc3QoJy5wb3B1cCcpLnJlbW92ZSgpXHJcbiAgICB9XHJcbiAgfSxcclxuICBlbDogZnVuY3Rpb24gKHRhZ05hbWUsIGNsYXNzTmFtZSkge1xyXG4gICAgbGV0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKVxyXG4gICAgZWwuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpXHJcbiAgICByZXR1cm4gZWxcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IHVuaXEgPSAoYXJyYXkpID0+IEFycmF5LmZyb20obmV3IFNldChhcnJheSkpO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0KGtleSkge1xyXG4gIGxldCBwID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcclxuICBwID0gcC5tYXRjaChuZXcgUmVnRXhwKGtleSArICc9KFteJj1dKyknKSk7XHJcbiAgcmV0dXJuIHAgPyBwWzFdIDogZmFsc2U7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHBvc3QodXJsLCBkYXRhID0ge30pIHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgZGF0YS50b2tlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1cInRva2VuXCJdJykuZ2V0QXR0cmlidXRlKCdjb250ZW50JylcclxuICAgIGxldCByZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgIHJlcS5vcGVuKCdQT1NUJywgdXJsLCB0cnVlKTtcclxuICAgIHJlcS5zZXRSZXF1ZXN0SGVhZGVyKFwiWC1SZXF1ZXN0ZWQtV2l0aFwiLCBcIlhNTEh0dHBSZXF1ZXN0XCIpO1xyXG4gICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBGb3JtRGF0YSkge1xyXG4gICAgICByZXEuc2VuZChkYXRhKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlcS5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyk7XHJcbiAgICAgIHJlcS5zZW5kKCdwYXJhbT0nICsgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xyXG4gICAgfVxyXG4gICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICByZWplY3QoRXJyb3IoXCJOZXR3b3JrIEVycm9yXCIgKyBlKSk7XHJcbiAgICB9O1xyXG4gICAgcmVxLm9ubG9hZCA9IGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmVzb2x2ZShyZXEucmVzcG9uc2UpO1xyXG4gICAgfTtcclxuICB9KTtcclxufVxyXG5cclxuY2xhc3MgRWxlbWVudENvbGxlY3Rpb24gZXh0ZW5kcyBBcnJheSAge1xyXG5cclxuICBlbCA9IHRoaXNcclxuICBlbFR5cGUgPSBmdW5jdGlvbigpe3JldHVybiB7fS50b1N0cmluZy5jYWxsKHRoaXMpfVxyXG5cclxuICBvbihldmVudCwgY2JPclNlbGVjdG9yLCBjYikge1xyXG4gICAgaWYgKHR5cGVvZiBjYk9yU2VsZWN0b3IgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgdGhpcy5mb3JFYWNoKGUgPT4gZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBjYk9yU2VsZWN0b3IpKVxyXG4gICAgfWVsc2V7XHJcbiAgICAgIHRoaXMuZm9yRWFjaChlbGVtPT57XHJcbiAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBlID0+e1xyXG4gICAgICAgICAgaWYgKGUudGFyZ2V0Lm1hdGNoZXMoY2JPclNlbGVjdG9yKSkgY2IoZSlcclxuICAgICAgICB9KX0pXHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIG9uID0gZnVuY3Rpb24gKGV2LCBmKSB7XHJcbiAgLy8gICBpZiAoIXRoaXMubGVuZ3RoKSByZXR1cm5cclxuICAvLyAgICAgdGhpcy5mb3JFYWNoKChzKSA9PiBzLmFkZEV2ZW50TGlzdGVuZXIoZXYsIGYsIHRydWUpKVxyXG4gIC8vIH1cclxuXHJcbiAgdmFsdWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gdGhpc1swXS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJylcclxuICB9XHJcblxyXG4gIGF0dHIgPSBmdW5jdGlvbiAoYXR0ck5hbWUsIGF0dHJWYWwpIHtcclxuICAgIGlmIChhdHRyVmFsKSB7XHJcbiAgICAgIHRoaXNbMF0uc2V0QXR0cmlidXRlKGF0dHJOYW1lLCBhdHRyVmFsKVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXNbMF0uZ2V0QXR0cmlidXRlKGF0dHJOYW1lKVxyXG4gIH1cclxuXHJcbiAgc2VsZWN0ZWRJbmRleFZhbHVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKHRoaXMubGVuZ3RoKVxyXG4gICAgICByZXR1cm4gdGhpc1swXS5zZWxlY3RlZE9wdGlvbnNbMF0udmFsdWVcclxuICB9XHJcbiAgb3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICh0aGlzLmxlbmd0aCkgcmV0dXJuIHRoaXNbMF0ub3B0aW9uc1xyXG4gIH1cclxuICBjb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB0aGlzLmxlbmd0aFxyXG4gIH1cclxuICB0ZXh0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKHRoaXMubGVuZ3RoKSByZXR1cm4gdGhpc1swXS5pbm5lclRleHRcclxuICB9XHJcbiAgY2hlY2tlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICh0aGlzLmxlbmd0aCkgcmV0dXJuIHRoaXNbMF0uY2hlY2tlZFxyXG4gIH1cclxuXHJcbiAgZ2V0V2l0aFN0eWxlID0gZnVuY3Rpb24gKGF0dHIsIHZhbCkge1xyXG4gICAgbGV0IGFyciA9IFtdXHJcbiAgICB0aGlzLmZvckVhY2goKHMpID0+IHtcclxuICAgICAgaWYgKHMuc3R5bGVbYXR0cl0gPT09IHZhbCkge1xyXG4gICAgICAgIGFyci5wdXNoKHMpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICByZXR1cm4gYXJyXHJcbiAgfVxyXG4gIGFkZENsYXNzID0gZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xyXG4gICAgICB0aGlzLmZvckVhY2goKHMpID0+IHtcclxuICAgICAgICBzLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKVxyXG4gICAgICB9KVxyXG4gIH1cclxuICByZW1vdmVDbGFzcyA9IGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcclxuICAgICAgdGhpcy5mb3JFYWNoKChzKSA9PiB7XHJcbiAgICAgICAgcy5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSlcclxuICAgICAgfSlcclxuICB9XHJcbiAgaGFzQ2xhc3MgPSBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XHJcbiAgICBpZiAodGhpcy5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkgcmV0dXJuIHRydWVcclxuICB9XHJcbiAgYXBwZW5kID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICB0aGlzWzBdLmFwcGVuZENoaWxkKGVsKVxyXG4gIH1cclxuICBmaW5kID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XHJcbiAgICAvLyBpZiAoW1wiW29iamVjdCBIVE1MRGl2RWxlbWVudF1cIiwgXCJbb2JqZWN0IEhUTUxJbnB1dEVsZW1lbnRdXCIsIFwiW29iamVjdCBIVE1MTElFbGVtZW50XVwiXS5pbmNsdWRlcyhlbFR5cGUpKSB7XHJcbiAgICAvLyAgIHJldHVybiB0aGlzLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpXHJcbiAgICAvLyB9XHJcbiAgICAvLyBpZiAoW1wiW29iamVjdCBOb2RlTGlzdF1cIiwgXCJbb2JqZWN0IEFycmF5XVwiXS5pbmNsdWRlcyhlbFR5cGUpKSB7XHJcbiAgICAgIHJldHVybiB0aGlzWzBdLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpXHJcblxyXG4gIH1cclxuICBjc3MgPSBmdW5jdGlvbiAoYXR0ciwgdmFsKSB7XHJcbiAgICBpZiAoIXZhbCkge1xyXG4gICAgICByZXR1cm4gdGhpc1swXS5zdHlsZVthdHRyXVxyXG4gICAgfVxyXG4gICAgICB0aGlzLmZvckVhY2goKHMpID0+IHtcclxuICAgICAgICBzLnN0eWxlW2F0dHJdID0gdmFsXHJcbiAgICAgIH0pXHJcbiAgfVxyXG5cclxuICByZWFkeShjYikge1xyXG4gICAgY29uc3QgaXNSZWFkeSA9IHRoaXMuc29tZShlID0+IHtcclxuICAgICAgcmV0dXJuIGUucmVhZHlTdGF0ZSAhPSBudWxsICYmIGUucmVhZHlTdGF0ZSAhPSAnbG9hZGluZydcclxuICAgIH0pXHJcbiAgICBpZiAoaXNSZWFkeSkge1xyXG4gICAgICBjYigpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgY2IpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uICQoc2VsZWN0b3IpIHtcclxuICBpZiAodHlwZW9mIHNlbGVjdG9yID09PSAnc3RyaW5nJyB8fCBzZWxlY3RvciBpbnN0YW5jZW9mIFN0cmluZykge1xyXG4gICAgcmV0dXJuIG5ldyBFbGVtZW50Q29sbGVjdGlvbiguLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSlcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIG5ldyBFbGVtZW50Q29sbGVjdGlvbihzZWxlY3RvcilcclxuICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIGFkZFRvb2x0aXAoYXJncykge1xyXG4gIGxldCBhciA9IFsuLi5hcmdzLmVsc11cclxuICBhci5tYXAoKGVsKSA9PiB7XHJcbiAgICBlbC5vbm1vdXNlZW50ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGxldCB0aXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgICAkKHRpcCkuYWRkQ2xhc3MoJ3RpcCcpXHJcbiAgICAgIHRpcC5pbm5lclRleHQgPSBhcmdzLm1lc3NhZ2VcclxuICAgICAgZWwuYXBwZW5kKHRpcClcclxuICAgICAgbGV0IHJlbW92ZSA9ICgpID0+IHRpcC5yZW1vdmUoKVxyXG4gICAgICB0aXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgcmVtb3ZlLmJpbmQodGlwKSwgdHJ1ZSlcclxuICAgIH0uYmluZChhcmdzKVxyXG5cclxuICAgIGVsLm9ubW91c2VsZWF2ZSA9ICgpID0+IHtcclxuICAgICAgbGV0IHRpcCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy50aXAnKVxyXG4gICAgICB0aXAucmVtb3ZlKClcclxuICAgIH1cclxuICB9LCBbYXJnc10pXHJcbn1cclxuXHJcbmNsYXNzIHRlc3RfZGVsZXRlX2J1dHRvbiB7XHJcbiAgY29uc3RydWN0b3IoZWxlbSkge1xyXG4gICAgaWYgKCFlbGVtKSByZXR1cm5cclxuICAgIHRoaXMuX2VsZW0gPSAkKGVsZW0pLmVsWzBdO1xyXG4gICAgdGhpcy5fZWxlbS5vbmNsaWNrID0gdGhpcy5kZWxldGVcclxuICAgIHRoaXMuX2VsZW0ub25tb3VzZWVudGVyID0gdGhpcy5zaG93VG9vbGlwXHJcbiAgICB0aGlzLl9lbGVtLm9ubW91c2VsZWF2ZSA9IHRoaXMuaGlkZVRvb2x0aXBcclxuICAgIHRoaXMuX2VsZW0ub25tb3VzZW1vdmUgPSB0aGlzLmNoYW5nZVRvb2x0aXBQb3NcclxuICB9XHJcblxyXG4gIGFzeW5jIGRlbGV0ZSgpIHtcclxuICAgIGlmIChjb25maXJtKCfQo9C00LDQu9C40YLRjCDRgtC10YHRgj8nKSkge1xyXG4gICAgICBsZXQgcmVzID0gdGVzdC5kZWwoKVxyXG4gICAgICBpZiAocmVzLm1zZyA9PT0gJ29rJykge1xyXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9ICcvdGVzdC9lZGl0J1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzaG93VG9vbGlwKGUpIHtcclxuICAgIGxldCB4ID0gZS5jbGllbnRYXHJcbiAgICBsZXQgeSA9IGUuY2xpZW50WVxyXG4gICAgbGV0IHRpcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICAkKHRpcCkuYWRkQ2xhc3MoJ3RpcCcpXHJcbiAgICB0aXAuc3R5bGUudG9wID0geSArIDcwICsgJ3B4J1xyXG4gICAgdGlwLnN0eWxlLmxlZnQgPSB4IC0gMTcwICsgJ3B4J1xyXG4gICAgdGlwLmlubmVyVGV4dCA9IHRoaXMuZ2V0QXR0cmlidXRlKCd0aXAnKVxyXG4gICAgdGhpcy50aXAgPSB0aXBcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHRpcClcclxuICB9XHJcblxyXG4gIGhpZGVUb29sdGlwKCkge1xyXG4gICAgdGhpcy50aXAucmVtb3ZlKClcclxuICB9XHJcblxyXG4gIGNoYW5nZVRvb2x0aXBQb3MoZSkge1xyXG4gICAgdGhpcy50aXAuc3R5bGUudG9wID0gZS5wYWdlWSArIDM1ICsgJ3B4J1xyXG4gICAgdGhpcy50aXAuc3R5bGUubGVmdCA9IGUucGFnZVggLSAxNzAgKyAncHgnXHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBmZXRjaFdyYXAoT2JqLCBmaWxlKSB7XHJcbiAgbGV0IGRhdGEgPSBuZXcgRm9ybURhdGE7XHJcbiAgZGF0YS5hcHBlbmQoJ2FqYXgnLCB0cnVlKTtcclxuICBkYXRhLmFwcGVuZCgncGFyYW0nLCBKU09OLnN0cmluZ2lmeShPYmopKTtcclxuICBmaWxlID8gZGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKSA6ICcnO1xyXG4gIGxldCBwcm9tID0gYXdhaXQgZmV0Y2goYC9hZG1pbnNjYCwge1xyXG4gICAgYm9keTogZGF0YSxcclxuICAgIG1ldGhvZDogJ3Bvc3QnXHJcbiAgfSk7XHJcbiAgcmV0dXJuIHByb20udGV4dCgpO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBmZXRjaFcodXJsLCBPYmopIHtcclxuICBsZXQgcHJvbSA9IGF3YWl0IGZldGNoKHVybCwge1xyXG4gICAgYm9keTogJ3BhcmFtPScgKyBKU09OLnN0cmluZ2lmeShPYmopLFxyXG4gICAgbWV0aG9kOiAncG9zdCcsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcclxuICAgICAgJ0hUVFBfWF9SRVFVRVNURURfV0lUSCc6ICdYTUxIdHRwUmVxdWVzdCcsXHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgcmV0dXJuIHByb21cclxufVxyXG5cclxuZXhwb3J0IHthZGRUb29sdGlwLCBwb3B1cCwgdGVzdF9kZWxldGVfYnV0dG9uLCBwb3N0LCBnZXQsIHVuaXEsIHZhbGlkYXRlLCAkLCBmZXRjaFdyYXAsIGZldGNoV31cclxuIl0sIm5hbWVzIjpbImRyb3BEb3duIiwiZWxlbWVudElkIiwiZHJvcGRvd24iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwic2hvd0Ryb3Bkb3duIiwiZSIsImVsZW1lbnQiLCJldmVudCIsImNyZWF0ZUV2ZW50IiwiaW5pdE1vdXNlRXZlbnQiLCJ3aW5kb3ciLCJkaXNwYXRjaEV2ZW50IiwidmFsaWRhdGUiLCJzb3J0IiwiZXJyb3IiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJhciIsInZhbHVlIiwibWF0Y2giLCJpbm5lclRleHQiLCJzdHlsZSIsIm9wYWNpdHkiLCJlbWFpbCIsInJlIiwidGVzdCIsIlN0cmluZyIsInRvTG93ZXJDYXNlIiwicGFzc3dvcmQiLCJwb3B1cCIsInNob3ciLCJ0eHQiLCJjYWxsYmFjayIsImNsb3NlIiwiZWwiLCJwb3B1cF9faXRlbSIsImFwcGVuZCIsIiQiLCJhZGRFdmVudExpc3RlbmVyIiwiYm9keSIsImhpZGVEZWxheSIsInNldFRpbWVvdXQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJyZW1vdmVEZWxheSIsInRhcmdldCIsImNvbnRhaW5zIiwiY2xvc2VzdCIsInRhZ05hbWUiLCJjbGFzc05hbWUiLCJjcmVhdGVFbGVtZW50IiwidW5pcSIsImFycmF5IiwiQXJyYXkiLCJmcm9tIiwiU2V0IiwiZ2V0Iiwia2V5IiwicCIsImxvY2F0aW9uIiwic2VhcmNoIiwiUmVnRXhwIiwicG9zdCIsInVybCIsImRhdGEiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInRva2VuIiwicXVlcnlTZWxlY3RvciIsImdldEF0dHJpYnV0ZSIsInJlcSIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJGb3JtRGF0YSIsInNlbmQiLCJKU09OIiwic3RyaW5naWZ5Iiwib25lcnJvciIsIkVycm9yIiwib25sb2FkIiwicmVzcG9uc2UiLCJFbGVtZW50Q29sbGVjdGlvbiIsInRvU3RyaW5nIiwiY2FsbCIsImF0dHJOYW1lIiwiYXR0clZhbCIsInNldEF0dHJpYnV0ZSIsImxlbmd0aCIsInNlbGVjdGVkT3B0aW9ucyIsIm9wdGlvbnMiLCJjaGVja2VkIiwiYXR0ciIsInZhbCIsImFyciIsImZvckVhY2giLCJzIiwicHVzaCIsImFwcGVuZENoaWxkIiwic2VsZWN0b3IiLCJvbiIsImNiT3JTZWxlY3RvciIsImNiIiwiZWxlbSIsIm1hdGNoZXMiLCJyZWFkeSIsImlzUmVhZHkiLCJzb21lIiwicmVhZHlTdGF0ZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhZGRUb29sdGlwIiwiYXJncyIsImVscyIsIm1hcCIsIm9ubW91c2VlbnRlciIsInRpcCIsImFkZENsYXNzIiwibWVzc2FnZSIsImJpbmQiLCJvbm1vdXNlbGVhdmUiLCJ0ZXN0X2RlbGV0ZV9idXR0b24iLCJjb25zdHJ1Y3RvciIsIl9lbGVtIiwib25jbGljayIsImRlbGV0ZSIsInNob3dUb29saXAiLCJoaWRlVG9vbHRpcCIsIm9ubW91c2Vtb3ZlIiwiY2hhbmdlVG9vbHRpcFBvcyIsImNvbmZpcm0iLCJyZXMiLCJkZWwiLCJtc2ciLCJ4IiwiY2xpZW50WCIsInkiLCJjbGllbnRZIiwidG9wIiwibGVmdCIsInBhZ2VZIiwicGFnZVgiLCJmZXRjaFdyYXAiLCJPYmoiLCJmaWxlIiwicHJvbSIsImZldGNoIiwibWV0aG9kIiwidGV4dCIsImZldGNoVyIsImhlYWRlcnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/src/common.js\n");

/***/ }),

/***/ "./public/src/components/accordion/accordion.js":
/*!******************************************************!*\
  !*** ./public/src/components/accordion/accordion.js ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _accordion_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./accordion.scss */ \"./public/src/components/accordion/accordion.scss\");\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common */ \"./public/src/common.js\");\n\n\n(0,_common__WEBPACK_IMPORTED_MODULE_1__.$)('.accordion label').on('click', handleToggle);\n\nwindow.onload = function () {\n  // debugger\n  let checkboxes = (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)('.admin-layout__sidebar.accordion input[type=checkbox]').el;\n\n  if (checkboxes) {\n    [...checkboxes].filter(ch => {\n      ch.checked = false;\n    });\n  }\n};\n\nfunction handleToggle(e) {\n  let checkbox = e.target.previousElementSibling;\n  let parent = checkbox.closest('ul');\n  let ul = (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)(checkbox.parentNode).find('ul');\n\n  if (checkbox.checked) {\n    slideUp(ul, 0);\n  } else {\n    parent.style.height = \"auto\";\n    slideDown(ul);\n    let ulHeight = ul.scrollHeight;\n    increaseParent(parent, ulHeight); // debugger\n\n    closeSiblings(parent);\n  }\n}\n\nfunction increaseParent(parent, ulHeight) {\n  if (!parent.classList.contains('accordion')) {\n    let parentHeight = parseInt(parent.style.maxHeight) + ulHeight;\n    parent.style.maxHeight = parentHeight + \"px\";\n  }\n}\n\nfunction slideDown(ul, callback) {\n  ul.style.maxHeight = ul.scrollHeight + \"px\";\n\n  if (callback) {\n    callback();\n  }\n}\n\nfunction closeSiblings(parent) {\n  Array.from(parent.children).map(el => {\n    let elArr = Array.from(el.children);\n    elArr.map(ch => {\n      if (ch.type && ch.type === 'checkbox' && ch.checked) {\n        let ul = (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)(ch.parentNode).find('ul');\n        slideUp(ul, 0, function () {\n          ch.checked = false;\n        });\n      }\n    });\n  });\n}\n\nfunction slideUp(ul, interval, callback) {\n  ul.style.maxHeight = 0 + \"px\";\n\n  if (callback) {\n    callback();\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL2NvbXBvbmVudHMvYWNjb3JkaW9uL2FjY29yZGlvbi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUNBO0FBR0FBLDBDQUFDLENBQUMsa0JBQUQsQ0FBRCxDQUFzQkMsRUFBdEIsQ0FBeUIsT0FBekIsRUFBa0NDLFlBQWxDOztBQUVBQyxNQUFNLENBQUNDLE1BQVAsR0FBZ0IsWUFBWTtBQUM1QjtBQUNBLE1BQUlDLFVBQVUsR0FBR0wsMENBQUMsQ0FBQyx1REFBRCxDQUFELENBQTJETSxFQUE1RTs7QUFDRSxNQUFJRCxVQUFKLEVBQWU7QUFDYixLQUFDLEdBQUdBLFVBQUosRUFBZ0JFLE1BQWhCLENBQXVCQyxFQUFFLElBQUU7QUFDekJBLE1BQUFBLEVBQUUsQ0FBQ0MsT0FBSCxHQUFhLEtBQWI7QUFDRCxLQUZEO0FBR0Q7QUFDRixDQVJEOztBQVVBLFNBQVNQLFlBQVQsQ0FBc0JRLENBQXRCLEVBQXlCO0FBRXZCLE1BQUlDLFFBQVEsR0FBR0QsQ0FBQyxDQUFDRSxNQUFGLENBQVNDLHNCQUF4QjtBQUNBLE1BQUlDLE1BQU0sR0FBR0gsUUFBUSxDQUFDSSxPQUFULENBQWlCLElBQWpCLENBQWI7QUFDQSxNQUFJQyxFQUFFLEdBQUdoQiwwQ0FBQyxDQUFDVyxRQUFRLENBQUNNLFVBQVYsQ0FBRCxDQUF1QkMsSUFBdkIsQ0FBNEIsSUFBNUIsQ0FBVDs7QUFHQSxNQUFJUCxRQUFRLENBQUNGLE9BQWIsRUFBc0I7QUFDcEJVLElBQUFBLE9BQU8sQ0FBQ0gsRUFBRCxFQUFLLENBQUwsQ0FBUDtBQUNELEdBRkQsTUFFTztBQUNMRixJQUFBQSxNQUFNLENBQUNNLEtBQVAsQ0FBYUMsTUFBYixHQUFzQixNQUF0QjtBQUNBQyxJQUFBQSxTQUFTLENBQUNOLEVBQUQsQ0FBVDtBQUNBLFFBQUlPLFFBQVEsR0FBR1AsRUFBRSxDQUFDUSxZQUFsQjtBQUNBQyxJQUFBQSxjQUFjLENBQUNYLE1BQUQsRUFBU1MsUUFBVCxDQUFkLENBSkssQ0FLTDs7QUFDQUcsSUFBQUEsYUFBYSxDQUFDWixNQUFELENBQWI7QUFDRDtBQUNGOztBQUVELFNBQVNXLGNBQVQsQ0FBd0JYLE1BQXhCLEVBQWdDUyxRQUFoQyxFQUEwQztBQUN4QyxNQUFJLENBQUNULE1BQU0sQ0FBQ2EsU0FBUCxDQUFpQkMsUUFBakIsQ0FBMEIsV0FBMUIsQ0FBTCxFQUE2QztBQUMzQyxRQUFJQyxZQUFZLEdBQUdDLFFBQVEsQ0FBQ2hCLE1BQU0sQ0FBQ00sS0FBUCxDQUFhVyxTQUFkLENBQVIsR0FBbUNSLFFBQXREO0FBQ0FULElBQUFBLE1BQU0sQ0FBQ00sS0FBUCxDQUFhVyxTQUFiLEdBQXlCRixZQUFZLEdBQUcsSUFBeEM7QUFDRDtBQUNGOztBQUlELFNBQVNQLFNBQVQsQ0FBbUJOLEVBQW5CLEVBQXVCZ0IsUUFBdkIsRUFBaUM7QUFDL0JoQixFQUFBQSxFQUFFLENBQUNJLEtBQUgsQ0FBU1csU0FBVCxHQUFxQmYsRUFBRSxDQUFDUSxZQUFILEdBQWtCLElBQXZDOztBQUNBLE1BQUlRLFFBQUosRUFBYztBQUNaQSxJQUFBQSxRQUFRO0FBQ1Q7QUFDRjs7QUFFRCxTQUFTTixhQUFULENBQXVCWixNQUF2QixFQUErQjtBQUM3Qm1CLEVBQUFBLEtBQUssQ0FBQ0MsSUFBTixDQUFXcEIsTUFBTSxDQUFDcUIsUUFBbEIsRUFBNEJDLEdBQTVCLENBQWlDOUIsRUFBRCxJQUFRO0FBQ3BDLFFBQUkrQixLQUFLLEdBQUdKLEtBQUssQ0FBQ0MsSUFBTixDQUFXNUIsRUFBRSxDQUFDNkIsUUFBZCxDQUFaO0FBQ0FFLElBQUFBLEtBQUssQ0FBQ0QsR0FBTixDQUFXNUIsRUFBRCxJQUFRO0FBQ2hCLFVBQUlBLEVBQUUsQ0FBQzhCLElBQUgsSUFBVzlCLEVBQUUsQ0FBQzhCLElBQUgsS0FBWSxVQUF2QixJQUFxQzlCLEVBQUUsQ0FBQ0MsT0FBNUMsRUFBcUQ7QUFDbkQsWUFBSU8sRUFBRSxHQUFHaEIsMENBQUMsQ0FBQ1EsRUFBRSxDQUFDUyxVQUFKLENBQUQsQ0FBaUJDLElBQWpCLENBQXNCLElBQXRCLENBQVQ7QUFDQUMsUUFBQUEsT0FBTyxDQUFDSCxFQUFELEVBQUssQ0FBTCxFQUFRLFlBQVk7QUFDekJSLFVBQUFBLEVBQUUsQ0FBQ0MsT0FBSCxHQUFhLEtBQWI7QUFDRCxTQUZNLENBQVA7QUFHRDtBQUNGLEtBUEQ7QUFRRCxHQVZIO0FBWUQ7O0FBRUQsU0FBU1UsT0FBVCxDQUFpQkgsRUFBakIsRUFBcUJ1QixRQUFyQixFQUErQlAsUUFBL0IsRUFBeUM7QUFDdkNoQixFQUFBQSxFQUFFLENBQUNJLEtBQUgsQ0FBU1csU0FBVCxHQUFxQixJQUFJLElBQXpCOztBQUNBLE1BQUlDLFFBQUosRUFBYztBQUNaQSxJQUFBQSxRQUFRO0FBQ1Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3B1YmxpYy9zcmMvY29tcG9uZW50cy9hY2NvcmRpb24vYWNjb3JkaW9uLmpzPzI1YjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL2FjY29yZGlvbi5zY3NzJ1xyXG5pbXBvcnQgeyR9IGZyb20gJy4uLy4uL2NvbW1vbidcclxuXHJcblxyXG4kKCcuYWNjb3JkaW9uIGxhYmVsJykub24oJ2NsaWNrJywgaGFuZGxlVG9nZ2xlKVxyXG5cclxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuLy8gZGVidWdnZXJcclxubGV0IGNoZWNrYm94ZXMgPSAkKCcuYWRtaW4tbGF5b3V0X19zaWRlYmFyLmFjY29yZGlvbiBpbnB1dFt0eXBlPWNoZWNrYm94XScpLmVsXHJcbiAgaWYgKGNoZWNrYm94ZXMpe1xyXG4gICAgWy4uLmNoZWNrYm94ZXNdLmZpbHRlcihjaD0+e1xyXG4gICAgICBjaC5jaGVja2VkID0gZmFsc2VcclxuICAgIH0pXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVUb2dnbGUoZSkge1xyXG5cclxuICBsZXQgY2hlY2tib3ggPSBlLnRhcmdldC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nXHJcbiAgbGV0IHBhcmVudCA9IGNoZWNrYm94LmNsb3Nlc3QoJ3VsJylcclxuICBsZXQgdWwgPSAkKGNoZWNrYm94LnBhcmVudE5vZGUpLmZpbmQoJ3VsJylcclxuXHJcblxyXG4gIGlmIChjaGVja2JveC5jaGVja2VkKSB7XHJcbiAgICBzbGlkZVVwKHVsLCAwLClcclxuICB9IGVsc2Uge1xyXG4gICAgcGFyZW50LnN0eWxlLmhlaWdodCA9IFwiYXV0b1wiXHJcbiAgICBzbGlkZURvd24odWwpXHJcbiAgICBsZXQgdWxIZWlnaHQgPSB1bC5zY3JvbGxIZWlnaHRcclxuICAgIGluY3JlYXNlUGFyZW50KHBhcmVudCwgdWxIZWlnaHQpXHJcbiAgICAvLyBkZWJ1Z2dlclxyXG4gICAgY2xvc2VTaWJsaW5ncyhwYXJlbnQpXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBpbmNyZWFzZVBhcmVudChwYXJlbnQsIHVsSGVpZ2h0KSB7XHJcbiAgaWYgKCFwYXJlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NvcmRpb24nKSkge1xyXG4gICAgbGV0IHBhcmVudEhlaWdodCA9IHBhcnNlSW50KHBhcmVudC5zdHlsZS5tYXhIZWlnaHQpICsgdWxIZWlnaHRcclxuICAgIHBhcmVudC5zdHlsZS5tYXhIZWlnaHQgPSBwYXJlbnRIZWlnaHQgKyBcInB4XCI7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIHNsaWRlRG93bih1bCwgY2FsbGJhY2spIHtcclxuICB1bC5zdHlsZS5tYXhIZWlnaHQgPSB1bC5zY3JvbGxIZWlnaHQgKyBcInB4XCI7XHJcbiAgaWYgKGNhbGxiYWNrKSB7XHJcbiAgICBjYWxsYmFjaygpXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjbG9zZVNpYmxpbmdzKHBhcmVudCkge1xyXG4gIEFycmF5LmZyb20ocGFyZW50LmNoaWxkcmVuKS5tYXAoKGVsKSA9PiB7XHJcbiAgICAgIGxldCBlbEFyciA9IEFycmF5LmZyb20oZWwuY2hpbGRyZW4pXHJcbiAgICAgIGVsQXJyLm1hcCgoY2gpID0+IHtcclxuICAgICAgICBpZiAoY2gudHlwZSAmJiBjaC50eXBlID09PSAnY2hlY2tib3gnICYmIGNoLmNoZWNrZWQpIHtcclxuICAgICAgICAgIGxldCB1bCA9ICQoY2gucGFyZW50Tm9kZSkuZmluZCgndWwnKVxyXG4gICAgICAgICAgc2xpZGVVcCh1bCwgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjaC5jaGVja2VkID0gZmFsc2VcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIClcclxufVxyXG5cclxuZnVuY3Rpb24gc2xpZGVVcCh1bCwgaW50ZXJ2YWwsIGNhbGxiYWNrKSB7XHJcbiAgdWwuc3R5bGUubWF4SGVpZ2h0ID0gMCArIFwicHhcIjtcclxuICBpZiAoY2FsbGJhY2spIHtcclxuICAgIGNhbGxiYWNrKClcclxuICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG4iXSwibmFtZXMiOlsiJCIsIm9uIiwiaGFuZGxlVG9nZ2xlIiwid2luZG93Iiwib25sb2FkIiwiY2hlY2tib3hlcyIsImVsIiwiZmlsdGVyIiwiY2giLCJjaGVja2VkIiwiZSIsImNoZWNrYm94IiwidGFyZ2V0IiwicHJldmlvdXNFbGVtZW50U2libGluZyIsInBhcmVudCIsImNsb3Nlc3QiLCJ1bCIsInBhcmVudE5vZGUiLCJmaW5kIiwic2xpZGVVcCIsInN0eWxlIiwiaGVpZ2h0Iiwic2xpZGVEb3duIiwidWxIZWlnaHQiLCJzY3JvbGxIZWlnaHQiLCJpbmNyZWFzZVBhcmVudCIsImNsb3NlU2libGluZ3MiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInBhcmVudEhlaWdodCIsInBhcnNlSW50IiwibWF4SGVpZ2h0IiwiY2FsbGJhY2siLCJBcnJheSIsImZyb20iLCJjaGlsZHJlbiIsIm1hcCIsImVsQXJyIiwidHlwZSIsImludGVydmFsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/src/components/accordion/accordion.js\n");

/***/ }),

/***/ "./public/src/components/accordion/customContextMenu/customMenu.js":
/*!*************************************************************************!*\
  !*** ./public/src/components/accordion/customContextMenu/customMenu.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ showCustomMenu; }\n/* harmony export */ });\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../common */ \"./public/src/common.js\");\n\nfunction showCustomMenu(e) {\n  $remove();\n  let el = e.target;\n  el.append(render(e));\n  el.addEventListener('mouseleave', $remove.bind(null, this), true);\n}\n\nfunction $remove() {\n  let updates = document.querySelectorAll('.accordion .edit_update.php');\n  updates.forEach(el => el.remove());\n}\n\nfunction render(e) {\n  let div = document.createElement('a');\n  let id = e.target.dataset.id ?? e.target.getAttribute('for');\n  div.classList.add('edit_update.php');\n  div.href = `/adminsc/test/update/${id}`; // div.innerText = 'Изменить'\n\n  return div;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL2NvbXBvbmVudHMvYWNjb3JkaW9uL2N1c3RvbUNvbnRleHRNZW51L2N1c3RvbU1lbnUuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUVlLFNBQVNDLGNBQVQsQ0FBd0JDLENBQXhCLEVBQTJCO0FBQ3hDQyxFQUFBQSxPQUFPO0FBQ1AsTUFBSUMsRUFBRSxHQUFHRixDQUFDLENBQUNHLE1BQVg7QUFDQUQsRUFBQUEsRUFBRSxDQUFDRSxNQUFILENBQVVDLE1BQU0sQ0FBQ0wsQ0FBRCxDQUFoQjtBQUNBRSxFQUFBQSxFQUFFLENBQUNJLGdCQUFILENBQW9CLFlBQXBCLEVBQWtDTCxPQUFPLENBQUNNLElBQVIsQ0FBYSxJQUFiLEVBQW1CLElBQW5CLENBQWxDLEVBQTJELElBQTNEO0FBRUQ7O0FBRUQsU0FBU04sT0FBVCxHQUFtQjtBQUNqQixNQUFJTyxPQUFPLEdBQUdDLFFBQVEsQ0FBQ0MsZ0JBQVQsQ0FBMEIsNkJBQTFCLENBQWQ7QUFDQUYsRUFBQUEsT0FBTyxDQUFDRyxPQUFSLENBQWdCVCxFQUFFLElBQUlBLEVBQUUsQ0FBQ1UsTUFBSCxFQUF0QjtBQUdEOztBQUVELFNBQVNQLE1BQVQsQ0FBZ0JMLENBQWhCLEVBQW1CO0FBQ2pCLE1BQUlhLEdBQUcsR0FBR0osUUFBUSxDQUFDSyxhQUFULENBQXVCLEdBQXZCLENBQVY7QUFDQSxNQUFJQyxFQUFFLEdBQUlmLENBQUMsQ0FBQ0csTUFBRixDQUFTYSxPQUFULENBQWlCRCxFQUFqQixJQUFxQmYsQ0FBQyxDQUFDRyxNQUFGLENBQVNjLFlBQVQsQ0FBc0IsS0FBdEIsQ0FBL0I7QUFDQUosRUFBQUEsR0FBRyxDQUFDSyxTQUFKLENBQWNDLEdBQWQsQ0FBa0IsaUJBQWxCO0FBQ0FOLEVBQUFBLEdBQUcsQ0FBQ08sSUFBSixHQUFZLHdCQUF1QkwsRUFBRyxFQUF0QyxDQUppQixDQUtqQjs7QUFDQSxTQUFPRixHQUFQO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9wdWJsaWMvc3JjL2NvbXBvbmVudHMvYWNjb3JkaW9uL2N1c3RvbUNvbnRleHRNZW51L2N1c3RvbU1lbnUuanM/ZDM5YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyR9IGZyb20gXCIuLi8uLi8uLi9jb21tb25cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNob3dDdXN0b21NZW51KGUpIHtcclxuICAkcmVtb3ZlKClcclxuICBsZXQgZWwgPSBlLnRhcmdldFxyXG4gIGVsLmFwcGVuZChyZW5kZXIoZSkpXHJcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICRyZW1vdmUuYmluZChudWxsLCB0aGlzKSx0cnVlKVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gJHJlbW92ZSgpIHtcclxuICBsZXQgdXBkYXRlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpb24gLmVkaXRfdXBkYXRlLnBocCcpXHJcbiAgdXBkYXRlcy5mb3JFYWNoKGVsID0+IGVsLnJlbW92ZSgpKVxyXG5cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlcihlKSB7XHJcbiAgbGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKVxyXG4gIGxldCBpZCA9ICBlLnRhcmdldC5kYXRhc2V0LmlkPz9lLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2ZvcicpXHJcbiAgZGl2LmNsYXNzTGlzdC5hZGQoJ2VkaXRfdXBkYXRlLnBocCcpXHJcbiAgZGl2LmhyZWYgPSBgL2FkbWluc2MvdGVzdC91cGRhdGUvJHtpZH1gXHJcbiAgLy8gZGl2LmlubmVyVGV4dCA9ICfQmNC30LzQtdC90LjRgtGMJ1xyXG4gIHJldHVybiBkaXZcclxufSJdLCJuYW1lcyI6WyIkIiwic2hvd0N1c3RvbU1lbnUiLCJlIiwiJHJlbW92ZSIsImVsIiwidGFyZ2V0IiwiYXBwZW5kIiwicmVuZGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImJpbmQiLCJ1cGRhdGVzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsInJlbW92ZSIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJpZCIsImRhdGFzZXQiLCJnZXRBdHRyaWJ1dGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJocmVmIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/src/components/accordion/customContextMenu/customMenu.js\n");

/***/ }),

/***/ "./public/src/components/cookie/cookie.js":
/*!************************************************!*\
  !*** ./public/src/components/cookie/cookie.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _cookie_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cookie.scss */ \"./public/src/components/cookie/cookie.scss\");\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common */ \"./public/src/common.js\");\n\n\ncheck_cookie('cn');\n\nfunction check_cookie(cookie_name) {\n  if (getCookie(cookie_name)) (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)('#cookie-notice').css('bottom', '-100%');else (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)('#cookie-notice').css('bottom', \"0\");\n}\n\nfunction getCookie(cookie_name) {\n  return document.cookie.match('(^|;)?' + cookie_name + '=([^;]*)');\n}\n\n(0,_common__WEBPACK_IMPORTED_MODULE_1__.$)('#cn-accept-cookie').on('click', clicked);\n\nfunction clicked() {\n  setCookie();\n  (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)('#cookie-notice').css('bottom', '-100%');\n}\n\nfunction setCookie() {\n  const date = new Date(),\n        minute = 60 * 1000,\n        day = minute * 60 * 24;\n  let days = 3;\n  date.setTime(date.getTime() + days * day);\n  document.cookie = \"cn=1; expires=\" + date + \"path=/; SameSite=lax\";\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL2NvbXBvbmVudHMvY29va2llL2Nvb2tpZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUNBO0FBS0FDLFlBQVksQ0FBQyxJQUFELENBQVo7O0FBRUEsU0FBU0EsWUFBVCxDQUFzQkMsV0FBdEIsRUFBbUM7QUFDL0IsTUFBSUMsU0FBUyxDQUFDRCxXQUFELENBQWIsRUFDSUYsMENBQUMsQ0FBQyxnQkFBRCxDQUFELENBQW9CSSxHQUFwQixDQUF3QixRQUF4QixFQUFpQyxPQUFqQyxFQURKLEtBR0lKLDBDQUFDLENBQUMsZ0JBQUQsQ0FBRCxDQUFvQkksR0FBcEIsQ0FBd0IsUUFBeEIsRUFBa0MsR0FBbEM7QUFDUDs7QUFFRCxTQUFTRCxTQUFULENBQW1CRCxXQUFuQixFQUFnQztBQUM1QixTQUFPRyxRQUFRLENBQUNDLE1BQVQsQ0FBZ0JDLEtBQWhCLENBQXNCLFdBQVdMLFdBQVgsR0FBeUIsVUFBL0MsQ0FBUDtBQUNIOztBQU1ERiwwQ0FBQyxDQUFDLG1CQUFELENBQUQsQ0FBdUJRLEVBQXZCLENBQTBCLE9BQTFCLEVBQW1DQyxPQUFuQzs7QUFFQSxTQUFTQSxPQUFULEdBQW1CO0FBQ2ZDLEVBQUFBLFNBQVM7QUFDVFYsRUFBQUEsMENBQUMsQ0FBQyxnQkFBRCxDQUFELENBQW9CSSxHQUFwQixDQUF3QixRQUF4QixFQUFrQyxPQUFsQztBQUNIOztBQUVELFNBQVNNLFNBQVQsR0FBcUI7QUFDakIsUUFBTUMsSUFBSSxHQUFHLElBQUlDLElBQUosRUFBYjtBQUFBLFFBQ0lDLE1BQU0sR0FBRyxLQUFLLElBRGxCO0FBQUEsUUFFSUMsR0FBRyxHQUFHRCxNQUFNLEdBQUcsRUFBVCxHQUFjLEVBRnhCO0FBSUEsTUFBSUUsSUFBSSxHQUFHLENBQVg7QUFDQUosRUFBQUEsSUFBSSxDQUFDSyxPQUFMLENBQWFMLElBQUksQ0FBQ00sT0FBTCxLQUFrQkYsSUFBSSxHQUFHRCxHQUF0QztBQUNBVCxFQUFBQSxRQUFRLENBQUNDLE1BQVQsR0FBa0IsbUJBQW1CSyxJQUFuQixHQUEwQixzQkFBNUM7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3B1YmxpYy9zcmMvY29tcG9uZW50cy9jb29raWUvY29va2llLmpzP2Y5ZTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL2Nvb2tpZS5zY3NzJ1xyXG5pbXBvcnQgeyR9IGZyb20gXCIuLi8uLi9jb21tb25cIjtcclxuXHJcblxyXG5cclxuXHJcbmNoZWNrX2Nvb2tpZSgnY24nKVxyXG5cclxuZnVuY3Rpb24gY2hlY2tfY29va2llKGNvb2tpZV9uYW1lKSB7XHJcbiAgICBpZiAoZ2V0Q29va2llKGNvb2tpZV9uYW1lKSlcclxuICAgICAgICAkKCcjY29va2llLW5vdGljZScpLmNzcygnYm90dG9tJywnLTEwMCUnKTtcclxuICAgIGVsc2VcclxuICAgICAgICAkKCcjY29va2llLW5vdGljZScpLmNzcygnYm90dG9tJywgXCIwXCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDb29raWUoY29va2llX25hbWUpIHtcclxuICAgIHJldHVybiBkb2N1bWVudC5jb29raWUubWF0Y2goJyhefDspPycgKyBjb29raWVfbmFtZSArICc9KFteO10qKScpXHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG4kKCcjY24tYWNjZXB0LWNvb2tpZScpLm9uKCdjbGljaycsIGNsaWNrZWQpXHJcblxyXG5mdW5jdGlvbiBjbGlja2VkKCkge1xyXG4gICAgc2V0Q29va2llKClcclxuICAgICQoJyNjb29raWUtbm90aWNlJykuY3NzKCdib3R0b20nLCAnLTEwMCUnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0Q29va2llKCkge1xyXG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKCksXHJcbiAgICAgICAgbWludXRlID0gNjAgKiAxMDAwLFxyXG4gICAgICAgIGRheSA9IG1pbnV0ZSAqIDYwICogMjQ7XHJcblxyXG4gICAgbGV0IGRheXMgPSAzO1xyXG4gICAgZGF0ZS5zZXRUaW1lKGRhdGUuZ2V0VGltZSgpICsgKGRheXMgKiBkYXkpKVxyXG4gICAgZG9jdW1lbnQuY29va2llID0gXCJjbj0xOyBleHBpcmVzPVwiICsgZGF0ZSArIFwicGF0aD0vOyBTYW1lU2l0ZT1sYXhcIjtcclxufSJdLCJuYW1lcyI6WyIkIiwiY2hlY2tfY29va2llIiwiY29va2llX25hbWUiLCJnZXRDb29raWUiLCJjc3MiLCJkb2N1bWVudCIsImNvb2tpZSIsIm1hdGNoIiwib24iLCJjbGlja2VkIiwic2V0Q29va2llIiwiZGF0ZSIsIkRhdGUiLCJtaW51dGUiLCJkYXkiLCJkYXlzIiwic2V0VGltZSIsImdldFRpbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/src/components/cookie/cookie.js\n");

/***/ }),

/***/ "./public/src/components/header/autocomplete.js":
/*!******************************************************!*\
  !*** ./public/src/components/header/autocomplete.js ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _autocomplete_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./autocomplete.scss */ \"./public/src/components/header/autocomplete.scss\");\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common */ \"./public/src/common.js\");\n\n\n[...(0,_common__WEBPACK_IMPORTED_MODULE_1__.$)(\".search input\")].map(input => {\n  if (input) {\n    input.addEventListener('input', function () {\n      autocomplete(input);\n    }, true);\n  }\n});\n\nasync function autocomplete(input) {\n  let search = input.parentNode;\n  let result = (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)(search).find('.search__result');\n\n  if (input.value.length < 1) {\n    if (result) result.innerHTML = '';\n    return;\n  }\n\n  let data = await fetch('/search?q=' + input.value);\n  data = await data.json(data);\n\n  if (result.childNodes.length !== 0) {\n    result.innerHTML = '';\n  }\n\n  data.map(e => {\n    let a = document.createElement(\"a\");\n    a.href = e.alias;\n    a.innerHTML = `<img src='/pic/${e.preview_pic}' alt='${e.name}'>` + e.name;\n    result.appendChild(a);\n  });\n  (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)('body').on('click', function (e) {\n    if (result && e.target !== result) {\n      result.innerHTML = '';\n    }\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL2NvbXBvbmVudHMvaGVhZGVyL2F1dG9jb21wbGV0ZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUNBO0FBRUEsQ0FBQyxHQUFHQSwwQ0FBQyxDQUFDLGVBQUQsQ0FBTCxFQUF3QkMsR0FBeEIsQ0FBNkJDLEtBQUQsSUFBVztBQUNuQyxNQUFJQSxLQUFKLEVBQVc7QUFDUEEsSUFBQUEsS0FBSyxDQUFDQyxnQkFBTixDQUF1QixPQUF2QixFQUFnQyxZQUFZO0FBQ3hDQyxNQUFBQSxZQUFZLENBQUNGLEtBQUQsQ0FBWjtBQUNILEtBRkQsRUFFRyxJQUZIO0FBR0g7QUFDSixDQU5EOztBQVNBLGVBQWVFLFlBQWYsQ0FBNEJGLEtBQTVCLEVBQW1DO0FBQy9CLE1BQUlHLE1BQU0sR0FBR0gsS0FBSyxDQUFDSSxVQUFuQjtBQUNBLE1BQUlDLE1BQU0sR0FBR1AsMENBQUMsQ0FBQ0ssTUFBRCxDQUFELENBQVVHLElBQVYsQ0FBZSxpQkFBZixDQUFiOztBQUVBLE1BQUlOLEtBQUssQ0FBQ08sS0FBTixDQUFZQyxNQUFaLEdBQXFCLENBQXpCLEVBQTRCO0FBQ3hCLFFBQUlILE1BQUosRUFBWUEsTUFBTSxDQUFDSSxTQUFQLEdBQW1CLEVBQW5CO0FBQ1o7QUFDSDs7QUFFRCxNQUFJQyxJQUFJLEdBQUcsTUFBTUMsS0FBSyxDQUFDLGVBQWVYLEtBQUssQ0FBQ08sS0FBdEIsQ0FBdEI7QUFDQUcsRUFBQUEsSUFBSSxHQUFHLE1BQU1BLElBQUksQ0FBQ0UsSUFBTCxDQUFVRixJQUFWLENBQWI7O0FBRUEsTUFBSUwsTUFBTSxDQUFDUSxVQUFQLENBQWtCTCxNQUFsQixLQUEyQixDQUEvQixFQUFrQztBQUM5QkgsSUFBQUEsTUFBTSxDQUFDSSxTQUFQLEdBQW1CLEVBQW5CO0FBQ0g7O0FBRURDLEVBQUFBLElBQUksQ0FBQ1gsR0FBTCxDQUFTZSxDQUFDLElBQUk7QUFDVixRQUFJQyxDQUFDLEdBQUdDLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixHQUF2QixDQUFSO0FBQ0FGLElBQUFBLENBQUMsQ0FBQ0csSUFBRixHQUFTSixDQUFDLENBQUNLLEtBQVg7QUFDQUosSUFBQUEsQ0FBQyxDQUFDTixTQUFGLEdBQWUsa0JBQWlCSyxDQUFDLENBQUNNLFdBQVksVUFBU04sQ0FBQyxDQUFDTyxJQUFLLElBQWhELEdBQXNEUCxDQUFDLENBQUNPLElBQXRFO0FBQ0FoQixJQUFBQSxNQUFNLENBQUNpQixXQUFQLENBQW1CUCxDQUFuQjtBQUNILEdBTEQ7QUFPQWpCLEVBQUFBLDBDQUFDLENBQUMsTUFBRCxDQUFELENBQVV5QixFQUFWLENBQWEsT0FBYixFQUFzQixVQUFVVCxDQUFWLEVBQWE7QUFDL0IsUUFBSVQsTUFBTSxJQUFJUyxDQUFDLENBQUNVLE1BQUYsS0FBYW5CLE1BQTNCLEVBQW1DO0FBQy9CQSxNQUFBQSxNQUFNLENBQUNJLFNBQVAsR0FBbUIsRUFBbkI7QUFDSDtBQUNKLEdBSkQ7QUFLSCIsInNvdXJjZXMiOlsid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3B1YmxpYy9zcmMvY29tcG9uZW50cy9oZWFkZXIvYXV0b2NvbXBsZXRlLmpzP2RmMTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL2F1dG9jb21wbGV0ZS5zY3NzJztcclxuaW1wb3J0IHskfSBmcm9tICcuLi8uLi9jb21tb24nXHJcblxyXG5bLi4uJChcIi5zZWFyY2ggaW5wdXRcIildLm1hcCgoaW5wdXQpID0+IHtcclxuICAgIGlmIChpbnB1dCkge1xyXG4gICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBhdXRvY29tcGxldGUoaW5wdXQpXHJcbiAgICAgICAgfSwgdHJ1ZSlcclxuICAgIH1cclxufSlcclxuXHJcblxyXG5hc3luYyBmdW5jdGlvbiBhdXRvY29tcGxldGUoaW5wdXQpIHtcclxuICAgIGxldCBzZWFyY2ggPSBpbnB1dC5wYXJlbnROb2RlXHJcbiAgICBsZXQgcmVzdWx0ID0gJChzZWFyY2gpLmZpbmQoJy5zZWFyY2hfX3Jlc3VsdCcpXHJcblxyXG4gICAgaWYgKGlucHV0LnZhbHVlLmxlbmd0aCA8IDEpIHtcclxuICAgICAgICBpZiAocmVzdWx0KSByZXN1bHQuaW5uZXJIVE1MID0gJydcclxuICAgICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBsZXQgZGF0YSA9IGF3YWl0IGZldGNoKCcvc2VhcmNoP3E9JyArIGlucHV0LnZhbHVlKVxyXG4gICAgZGF0YSA9IGF3YWl0IGRhdGEuanNvbihkYXRhKVxyXG5cclxuICAgIGlmIChyZXN1bHQuY2hpbGROb2Rlcy5sZW5ndGghPT0wKSB7XHJcbiAgICAgICAgcmVzdWx0LmlubmVySFRNTCA9ICcnXHJcbiAgICB9XHJcblxyXG4gICAgZGF0YS5tYXAoZSA9PiB7XHJcbiAgICAgICAgbGV0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKVxyXG4gICAgICAgIGEuaHJlZiA9IGUuYWxpYXNcclxuICAgICAgICBhLmlubmVySFRNTCA9IGA8aW1nIHNyYz0nL3BpYy8ke2UucHJldmlld19waWN9JyBhbHQ9JyR7ZS5uYW1lfSc+YCArIGUubmFtZVxyXG4gICAgICAgIHJlc3VsdC5hcHBlbmRDaGlsZChhKVxyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnYm9keScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgaWYgKHJlc3VsdCAmJiBlLnRhcmdldCAhPT0gcmVzdWx0KSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuIl0sIm5hbWVzIjpbIiQiLCJtYXAiLCJpbnB1dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJhdXRvY29tcGxldGUiLCJzZWFyY2giLCJwYXJlbnROb2RlIiwicmVzdWx0IiwiZmluZCIsInZhbHVlIiwibGVuZ3RoIiwiaW5uZXJIVE1MIiwiZGF0YSIsImZldGNoIiwianNvbiIsImNoaWxkTm9kZXMiLCJlIiwiYSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImhyZWYiLCJhbGlhcyIsInByZXZpZXdfcGljIiwibmFtZSIsImFwcGVuZENoaWxkIiwib24iLCJ0YXJnZXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/src/components/header/autocomplete.js\n");

/***/ }),

/***/ "./public/src/components/header/header-adm.js":
/*!****************************************************!*\
  !*** ./public/src/components/header/header-adm.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _header_adm_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./header-adm.scss */ "./public/src/components/header/header-adm.scss");


/***/ }),

/***/ "./public/src/components/header/header.js":
/*!************************************************!*\
  !*** ./public/src/components/header/header.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common */ \"./public/src/common.js\");\n/* harmony import */ var _header_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./header.scss */ \"./public/src/components/header/header.scss\");\n\n\nlet mobileMenu = (0,_common__WEBPACK_IMPORTED_MODULE_0__.$)('.gamburger').on('click', mobile);\n\nfunction mobile(e) {\n  let mm = e.target.closest('.utils').querySelector('.mobile-menu');\n  mm.classList.toggle('show');\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL2NvbXBvbmVudHMvaGVhZGVyL2hlYWRlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUNBO0FBRUEsSUFBSUMsVUFBVSxHQUFHRCwwQ0FBQyxDQUFDLFlBQUQsQ0FBRCxDQUFnQkUsRUFBaEIsQ0FBbUIsT0FBbkIsRUFBNEJDLE1BQTVCLENBQWpCOztBQUVBLFNBQVNBLE1BQVQsQ0FBZ0JDLENBQWhCLEVBQW1CO0FBQ2pCLE1BQUlDLEVBQUUsR0FBR0QsQ0FBQyxDQUFDRSxNQUFGLENBQVNDLE9BQVQsQ0FBaUIsUUFBakIsRUFBMkJDLGFBQTNCLENBQXlDLGNBQXpDLENBQVQ7QUFDRUgsRUFBQUEsRUFBRSxDQUFDSSxTQUFILENBQWFDLE1BQWIsQ0FBb0IsTUFBcEI7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3B1YmxpYy9zcmMvY29tcG9uZW50cy9oZWFkZXIvaGVhZGVyLmpzPzI2MzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHskfSBmcm9tICcuLi8uLi9jb21tb24nXHJcbmltcG9ydCAnLi9oZWFkZXIuc2NzcydcclxuXHJcbmxldCBtb2JpbGVNZW51ID0gJCgnLmdhbWJ1cmdlcicpLm9uKCdjbGljaycsIG1vYmlsZSlcclxuXHJcbmZ1bmN0aW9uIG1vYmlsZShlKSB7XHJcbiAgbGV0IG1tID0gZS50YXJnZXQuY2xvc2VzdCgnLnV0aWxzJykucXVlcnlTZWxlY3RvcignLm1vYmlsZS1tZW51JylcclxuICAgIG1tLmNsYXNzTGlzdC50b2dnbGUoJ3Nob3cnKVxyXG59XHJcbiJdLCJuYW1lcyI6WyIkIiwibW9iaWxlTWVudSIsIm9uIiwibW9iaWxlIiwiZSIsIm1tIiwidGFyZ2V0IiwiY2xvc2VzdCIsInF1ZXJ5U2VsZWN0b3IiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/src/components/header/header.js\n");

/***/ }),

/***/ "./public/src/components/select/WDSSelect.js":
/*!***************************************************!*\
  !*** ./public/src/components/select/WDSSelect.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ WDSSelect; }\n/* harmony export */ });\n/* harmony import */ var _WDSSelect_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WDSSelect.scss */ \"./public/src/components/select/WDSSelect.scss\");\n\nclass WDSSelect {\n  constructor(props) {\n    if (!props.element) return false;\n    this.element = props.element;\n    this.title = props.title;\n    this.options = getFormattedOptions(this.element.querySelectorAll(\"option\"));\n    this.sel = document.createElement(\"div\");\n    this.sel.classList.add(props.class);\n    this.label = document.createElement(\"span\");\n    this.titleElement = document.createElement(\"div\");\n    this.ul = document.createElement(\"ul\");\n    setup(this);\n    this.element.style.display = \"none\";\n    this.element.after(this.sel);\n  }\n\n  get selectedOption() {\n    return this.options.find(option => option.selected);\n  }\n\n  get selectedOptionIndex() {\n    return this.options.indexOf(this.selectedOption);\n  }\n\n  selectValue(value) {\n    const newSelectedOption = this.options.find(option => {\n      return option.value === value;\n    });\n    const prevSelectedOption = this.selectedOption;\n    prevSelectedOption.selected = false;\n    prevSelectedOption.element.selected = false;\n    newSelectedOption.selected = true;\n    newSelectedOption.element.selected = true;\n    this.label.innerText = newSelectedOption.label;\n    this.ul.querySelector(`[data-value=\"${prevSelectedOption.value}\"]`).classList.remove(\"selected\");\n    const newCustomElement = this.ul.querySelector(`[data-value=\"${newSelectedOption.value}\"]`);\n    newCustomElement.classList.add(\"selected\");\n    newCustomElement.scrollIntoView({\n      block: \"nearest\"\n    });\n  }\n\n}\n\nfunction setup(select) {\n  select.sel.classList.add(\"custom-select-container\");\n  select.sel.tabIndex = 0;\n  select.titleElement.classList.add(\"custom-select-title\");\n  select.titleElement.innerText = select.title;\n  select.sel.append(select.titleElement); // debugger\n\n  select.label.classList.add(\"custom-select-value\");\n  select.label.innerText = select.selectedOption.label;\n  select.sel.append(select.label);\n  select.ul.classList.add(\"custom-select-options\");\n  select.options.forEach(option => {\n    setOption(option);\n  });\n\n  function setOption(option) {\n    const li = document.createElement(\"li\");\n    li.classList.add(\"custom-select-option\");\n    li.classList.toggle(\"selected\", option.selected);\n    li.innerText = option.label;\n    li.dataset.value = option.value;\n    li.addEventListener(\"click\", () => {\n      select.selectValue(option.value);\n      select.ul.classList.remove(\"show\");\n    });\n    select.ul.append(li);\n  }\n\n  select.sel.append(select.ul);\n  select.label.addEventListener(\"click\", () => {\n    select.ul.classList.toggle(\"show\");\n  });\n  select.sel.addEventListener(\"blur\", () => {\n    select.ul.classList.remove(\"show\");\n  });\n  let debounceTimeout;\n  let searchTerm = \"\";\n  select.sel.addEventListener(\"keydown\", e => {\n    switch (e.code) {\n      case \"Space\":\n        select.ul.classList.toggle(\"show\");\n        break;\n\n      case \"ArrowUp\":\n        {\n          const prevOption = select.options[select.selectedOptionIndex - 1];\n\n          if (prevOption) {\n            select.selectValue(prevOption.value);\n          }\n\n          break;\n        }\n\n      case \"ArrowDown\":\n        {\n          const nextOption = select.options[select.selectedOptionIndex + 1];\n\n          if (nextOption) {\n            select.selectValue(nextOption.value);\n          }\n\n          break;\n        }\n\n      case \"Enter\":\n      case \"Escape\":\n        select.ul.classList.remove(\"show\");\n        break;\n\n      default:\n        {\n          clearTimeout(debounceTimeout);\n          searchTerm += e.key;\n          debounceTimeout = setTimeout(() => {\n            searchTerm = \"\";\n          }, 500);\n          const searchedOption = select.options.find(option => {\n            return option.label.toLowerCase().startsWith(searchTerm);\n          });\n\n          if (searchedOption) {\n            select.selectValue(searchedOption.value);\n          }\n        }\n    }\n  });\n}\n\nfunction getFormattedOptions(options) {\n  return [...options].map(option => {\n    return {\n      value: option.value,\n      label: option.label,\n      selected: option.selected,\n      element: option\n    };\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL2NvbXBvbmVudHMvc2VsZWN0L1dEU1NlbGVjdC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBRWUsTUFBTUEsU0FBTixDQUFnQjtBQUM3QkMsRUFBQUEsV0FBVyxDQUFDQyxLQUFELEVBQVE7QUFFakIsUUFBSSxDQUFDQSxLQUFLLENBQUNDLE9BQVgsRUFBb0IsT0FBTyxLQUFQO0FBQ3BCLFNBQUtBLE9BQUwsR0FBZUQsS0FBSyxDQUFDQyxPQUFyQjtBQUNBLFNBQUtDLEtBQUwsR0FBYUYsS0FBSyxDQUFDRSxLQUFuQjtBQUNBLFNBQUtDLE9BQUwsR0FBZUMsbUJBQW1CLENBQUMsS0FBS0gsT0FBTCxDQUFhSSxnQkFBYixDQUE4QixRQUE5QixDQUFELENBQWxDO0FBQ0EsU0FBS0MsR0FBTCxHQUFXQyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBWDtBQUNBLFNBQUtGLEdBQUwsQ0FBU0csU0FBVCxDQUFtQkMsR0FBbkIsQ0FBdUJWLEtBQUssQ0FBQ1csS0FBN0I7QUFDQSxTQUFLQyxLQUFMLEdBQWFMLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixNQUF2QixDQUFiO0FBQ0EsU0FBS0ssWUFBTCxHQUFvQk4sUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXBCO0FBQ0EsU0FBS00sRUFBTCxHQUFVUCxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsSUFBdkIsQ0FBVjtBQUNBTyxJQUFBQSxLQUFLLENBQUMsSUFBRCxDQUFMO0FBQ0EsU0FBS2QsT0FBTCxDQUFhZSxLQUFiLENBQW1CQyxPQUFuQixHQUE2QixNQUE3QjtBQUNBLFNBQUtoQixPQUFMLENBQWFpQixLQUFiLENBQW1CLEtBQUtaLEdBQXhCO0FBQ0Q7O0FBRWlCLE1BQWRhLGNBQWMsR0FBRztBQUNuQixXQUFPLEtBQUtoQixPQUFMLENBQWFpQixJQUFiLENBQWtCQyxNQUFNLElBQUlBLE1BQU0sQ0FBQ0MsUUFBbkMsQ0FBUDtBQUNEOztBQUVzQixNQUFuQkMsbUJBQW1C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QUNELFdBRnNCLENBQXZCOztBQUdBLGNBQUlRLGNBQUosRUFBb0I7QUFDbEJsQixZQUFBQSxNQUFNLENBQUNWLFdBQVAsQ0FBbUI0QixjQUFjLENBQUMzQixLQUFsQztBQUNEO0FBQ0Y7QUFuQ0g7QUFxQ0QsR0F0Q0Q7QUF1Q0Q7O0FBRUQsU0FBU3RCLG1CQUFULENBQTZCRCxPQUE3QixFQUFzQztBQUNwQyxTQUFPLENBQUMsR0FBR0EsT0FBSixFQUFhcUQsR0FBYixDQUFpQm5DLE1BQU0sSUFBSTtBQUNoQyxXQUFPO0FBQ0xLLE1BQUFBLEtBQUssRUFBRUwsTUFBTSxDQUFDSyxLQURUO0FBRUxkLE1BQUFBLEtBQUssRUFBRVMsTUFBTSxDQUFDVCxLQUZUO0FBR0xVLE1BQUFBLFFBQVEsRUFBRUQsTUFBTSxDQUFDQyxRQUhaO0FBSUxyQixNQUFBQSxPQUFPLEVBQUVvQjtBQUpKLEtBQVA7QUFNRCxHQVBNLENBQVA7QUFRRCIsInNvdXJjZXMiOlsid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3B1YmxpYy9zcmMvY29tcG9uZW50cy9zZWxlY3QvV0RTU2VsZWN0LmpzP2M0MGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL1dEU1NlbGVjdC5zY3NzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV0RTU2VsZWN0IHtcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG5cclxuICAgIGlmICghcHJvcHMuZWxlbWVudCkgcmV0dXJuIGZhbHNlXHJcbiAgICB0aGlzLmVsZW1lbnQgPSBwcm9wcy5lbGVtZW50XHJcbiAgICB0aGlzLnRpdGxlID0gcHJvcHMudGl0bGVcclxuICAgIHRoaXMub3B0aW9ucyA9IGdldEZvcm1hdHRlZE9wdGlvbnModGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJvcHRpb25cIikpXHJcbiAgICB0aGlzLnNlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcclxuICAgIHRoaXMuc2VsLmNsYXNzTGlzdC5hZGQocHJvcHMuY2xhc3MpXHJcbiAgICB0aGlzLmxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIilcclxuICAgIHRoaXMudGl0bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxyXG4gICAgdGhpcy51bCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKVxyXG4gICAgc2V0dXAodGhpcylcclxuICAgIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcclxuICAgIHRoaXMuZWxlbWVudC5hZnRlcih0aGlzLnNlbClcclxuICB9XHJcblxyXG4gIGdldCBzZWxlY3RlZE9wdGlvbigpIHtcclxuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZmluZChvcHRpb24gPT4gb3B0aW9uLnNlbGVjdGVkKVxyXG4gIH1cclxuXHJcbiAgZ2V0IHNlbGVjdGVkT3B0aW9uSW5kZXgoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmluZGV4T2YodGhpcy5zZWxlY3RlZE9wdGlvbilcclxuICB9XHJcblxyXG4gIHNlbGVjdFZhbHVlKHZhbHVlKSB7XHJcbiAgICBjb25zdCBuZXdTZWxlY3RlZE9wdGlvbiA9IHRoaXMub3B0aW9ucy5maW5kKG9wdGlvbiA9PiB7XHJcbiAgICAgIHJldHVybiBvcHRpb24udmFsdWUgPT09IHZhbHVlXHJcbiAgICB9KVxyXG4gICAgY29uc3QgcHJldlNlbGVjdGVkT3B0aW9uID0gdGhpcy5zZWxlY3RlZE9wdGlvblxyXG4gICAgcHJldlNlbGVjdGVkT3B0aW9uLnNlbGVjdGVkID0gZmFsc2VcclxuICAgIHByZXZTZWxlY3RlZE9wdGlvbi5lbGVtZW50LnNlbGVjdGVkID0gZmFsc2VcclxuXHJcbiAgICBuZXdTZWxlY3RlZE9wdGlvbi5zZWxlY3RlZCA9IHRydWVcclxuICAgIG5ld1NlbGVjdGVkT3B0aW9uLmVsZW1lbnQuc2VsZWN0ZWQgPSB0cnVlXHJcblxyXG4gICAgdGhpcy5sYWJlbC5pbm5lclRleHQgPSBuZXdTZWxlY3RlZE9wdGlvbi5sYWJlbFxyXG4gICAgdGhpcy51bFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihgW2RhdGEtdmFsdWU9XCIke3ByZXZTZWxlY3RlZE9wdGlvbi52YWx1ZX1cIl1gKVxyXG4gICAgICAuY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGVkXCIpXHJcbiAgICBjb25zdCBuZXdDdXN0b21FbGVtZW50ID0gdGhpcy51bC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgW2RhdGEtdmFsdWU9XCIke25ld1NlbGVjdGVkT3B0aW9uLnZhbHVlfVwiXWBcclxuICAgIClcclxuICAgIG5ld0N1c3RvbUVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInNlbGVjdGVkXCIpXHJcbiAgICBuZXdDdXN0b21FbGVtZW50LnNjcm9sbEludG9WaWV3KHsgYmxvY2s6IFwibmVhcmVzdFwiIH0pXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzZXR1cChzZWxlY3QpIHtcclxuICBzZWxlY3Quc2VsLmNsYXNzTGlzdC5hZGQoXCJjdXN0b20tc2VsZWN0LWNvbnRhaW5lclwiKVxyXG4gIHNlbGVjdC5zZWwudGFiSW5kZXggPSAwXHJcblxyXG4gIHNlbGVjdC50aXRsZUVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImN1c3RvbS1zZWxlY3QtdGl0bGVcIilcclxuICBzZWxlY3QudGl0bGVFbGVtZW50LmlubmVyVGV4dCA9IHNlbGVjdC50aXRsZVxyXG4gIHNlbGVjdC5zZWwuYXBwZW5kKHNlbGVjdC50aXRsZUVsZW1lbnQpXHJcbiAgLy8gZGVidWdnZXJcclxuICBzZWxlY3QubGFiZWwuY2xhc3NMaXN0LmFkZChcImN1c3RvbS1zZWxlY3QtdmFsdWVcIilcclxuICBzZWxlY3QubGFiZWwuaW5uZXJUZXh0ID0gc2VsZWN0LnNlbGVjdGVkT3B0aW9uLmxhYmVsXHJcbiAgc2VsZWN0LnNlbC5hcHBlbmQoc2VsZWN0LmxhYmVsKVxyXG5cclxuICBzZWxlY3QudWwuY2xhc3NMaXN0LmFkZChcImN1c3RvbS1zZWxlY3Qtb3B0aW9uc1wiKVxyXG4gIHNlbGVjdC5vcHRpb25zLmZvckVhY2gob3B0aW9uID0+IHtcclxuICAgIHNldE9wdGlvbihvcHRpb24pXHJcbiAgfSlcclxuXHJcbiAgZnVuY3Rpb24gc2V0T3B0aW9uKG9wdGlvbil7XHJcbiAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKVxyXG4gICAgbGkuY2xhc3NMaXN0LmFkZChcImN1c3RvbS1zZWxlY3Qtb3B0aW9uXCIpXHJcbiAgICBsaS5jbGFzc0xpc3QudG9nZ2xlKFwic2VsZWN0ZWRcIiwgb3B0aW9uLnNlbGVjdGVkKVxyXG4gICAgbGkuaW5uZXJUZXh0ID0gb3B0aW9uLmxhYmVsXHJcbiAgICBsaS5kYXRhc2V0LnZhbHVlID0gb3B0aW9uLnZhbHVlXHJcbiAgICBsaS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBzZWxlY3Quc2VsZWN0VmFsdWUob3B0aW9uLnZhbHVlKVxyXG4gICAgICBzZWxlY3QudWwuY2xhc3NMaXN0LnJlbW92ZShcInNob3dcIilcclxuICAgIH0pXHJcbiAgICBzZWxlY3QudWwuYXBwZW5kKGxpKVxyXG4gIH1cclxuXHJcbiAgc2VsZWN0LnNlbC5hcHBlbmQoc2VsZWN0LnVsKVxyXG5cclxuICBzZWxlY3QubGFiZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIHNlbGVjdC51bC5jbGFzc0xpc3QudG9nZ2xlKFwic2hvd1wiKVxyXG4gIH0pXHJcblxyXG4gIHNlbGVjdC5zZWwuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgKCkgPT4ge1xyXG4gICAgc2VsZWN0LnVsLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpXHJcbiAgfSlcclxuXHJcbiAgbGV0IGRlYm91bmNlVGltZW91dFxyXG4gIGxldCBzZWFyY2hUZXJtID0gXCJcIlxyXG4gIHNlbGVjdC5zZWwuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZSA9PiB7XHJcbiAgICBzd2l0Y2ggKGUuY29kZSkge1xyXG4gICAgICBjYXNlIFwiU3BhY2VcIjpcclxuICAgICAgICBzZWxlY3QudWwuY2xhc3NMaXN0LnRvZ2dsZShcInNob3dcIilcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlIFwiQXJyb3dVcFwiOiB7XHJcbiAgICAgICAgY29uc3QgcHJldk9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW3NlbGVjdC5zZWxlY3RlZE9wdGlvbkluZGV4IC0gMV1cclxuICAgICAgICBpZiAocHJldk9wdGlvbikge1xyXG4gICAgICAgICAgc2VsZWN0LnNlbGVjdFZhbHVlKHByZXZPcHRpb24udmFsdWUpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIH1cclxuICAgICAgY2FzZSBcIkFycm93RG93blwiOiB7XHJcbiAgICAgICAgY29uc3QgbmV4dE9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW3NlbGVjdC5zZWxlY3RlZE9wdGlvbkluZGV4ICsgMV1cclxuICAgICAgICBpZiAobmV4dE9wdGlvbikge1xyXG4gICAgICAgICAgc2VsZWN0LnNlbGVjdFZhbHVlKG5leHRPcHRpb24udmFsdWUpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIH1cclxuICAgICAgY2FzZSBcIkVudGVyXCI6XHJcbiAgICAgIGNhc2UgXCJFc2NhcGVcIjpcclxuICAgICAgICBzZWxlY3QudWwuY2xhc3NMaXN0LnJlbW92ZShcInNob3dcIilcclxuICAgICAgICBicmVha1xyXG4gICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KGRlYm91bmNlVGltZW91dClcclxuICAgICAgICBzZWFyY2hUZXJtICs9IGUua2V5XHJcbiAgICAgICAgZGVib3VuY2VUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBzZWFyY2hUZXJtID0gXCJcIlxyXG4gICAgICAgIH0sIDUwMClcclxuXHJcbiAgICAgICAgY29uc3Qgc2VhcmNoZWRPcHRpb24gPSBzZWxlY3Qub3B0aW9ucy5maW5kKG9wdGlvbiA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gb3B0aW9uLmxhYmVsLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aChzZWFyY2hUZXJtKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYgKHNlYXJjaGVkT3B0aW9uKSB7XHJcbiAgICAgICAgICBzZWxlY3Quc2VsZWN0VmFsdWUoc2VhcmNoZWRPcHRpb24udmFsdWUpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0Rm9ybWF0dGVkT3B0aW9ucyhvcHRpb25zKSB7XHJcbiAgcmV0dXJuIFsuLi5vcHRpb25zXS5tYXAob3B0aW9uID0+IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHZhbHVlOiBvcHRpb24udmFsdWUsXHJcbiAgICAgIGxhYmVsOiBvcHRpb24ubGFiZWwsXHJcbiAgICAgIHNlbGVjdGVkOiBvcHRpb24uc2VsZWN0ZWQsXHJcbiAgICAgIGVsZW1lbnQ6IG9wdGlvbixcclxuICAgIH1cclxuICB9KVxyXG59Il0sIm5hbWVzIjpbIldEU1NlbGVjdCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJlbGVtZW50IiwidGl0bGUiLCJvcHRpb25zIiwiZ2V0Rm9ybWF0dGVkT3B0aW9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzZWwiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJjbGFzcyIsImxhYmVsIiwidGl0bGVFbGVtZW50IiwidWwiLCJzZXR1cCIsInN0eWxlIiwiZGlzcGxheSIsImFmdGVyIiwic2VsZWN0ZWRPcHRpb24iLCJmaW5kIiwib3B0aW9uIiwic2VsZWN0ZWQiLCJzZWxlY3RlZE9wdGlvbkluZGV4IiwiaW5kZXhPZiIsInNlbGVjdFZhbHVlIiwidmFsdWUiLCJuZXdTZWxlY3RlZE9wdGlvbiIsInByZXZTZWxlY3RlZE9wdGlvbiIsImlubmVyVGV4dCIsInF1ZXJ5U2VsZWN0b3IiLCJyZW1vdmUiLCJuZXdDdXN0b21FbGVtZW50Iiwic2Nyb2xsSW50b1ZpZXciLCJibG9jayIsInNlbGVjdCIsInRhYkluZGV4IiwiYXBwZW5kIiwiZm9yRWFjaCIsInNldE9wdGlvbiIsImxpIiwidG9nZ2xlIiwiZGF0YXNldCIsImFkZEV2ZW50TGlzdGVuZXIiLCJkZWJvdW5jZVRpbWVvdXQiLCJzZWFyY2hUZXJtIiwiZSIsImNvZGUiLCJwcmV2T3B0aW9uIiwibmV4dE9wdGlvbiIsImNsZWFyVGltZW91dCIsImtleSIsInNldFRpbWVvdXQiLCJzZWFyY2hlZE9wdGlvbiIsInRvTG93ZXJDYXNlIiwic3RhcnRzV2l0aCIsIm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/src/components/select/WDSSelect.js\n");

/***/ }),

/***/ "./public/src/components/sortable.js":
/*!*******************************************!*\
  !*** ./public/src/components/sortable.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"sortable\": function() { return /* binding */ sortable; }\n/* harmony export */ });\n/* harmony import */ var sortablejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sortablejs */ \"./node_modules/sortablejs/modular/sortable.esm.js\");\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common */ \"./public/src/common.js\");\n/* harmony import */ var _Test_model_question__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Test/model/question */ \"./public/src/Test/model/question.js\");\n\n\n\nlet sortable = {\n  connect: selector => {\n    let el = (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)(selector).el[0];\n\n    if (el) {\n      let sortable = sortablejs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create(el, {\n        animation: 150,\n        onEnd: function (evt) {\n          let oldI = evt.oldIndex;\n          let newI = evt.newIndex;\n\n          if (oldI > newI) {\n            let questions = _Test_model_question__WEBPACK_IMPORTED_MODULE_2__._question.questions();\n\n            _Test_model_question__WEBPACK_IMPORTED_MODULE_2__._question.sort(oldI);\n          } else {\n            let questions = _Test_model_question__WEBPACK_IMPORTED_MODULE_2__._question.questions();\n\n            _Test_model_question__WEBPACK_IMPORTED_MODULE_2__._question.sort(newI);\n          }\n        }\n      });\n    }\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL2NvbXBvbmVudHMvc29ydGFibGUuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVPLElBQUlHLFFBQVEsR0FBRztBQUVsQkMsRUFBQUEsT0FBTyxFQUFHQyxRQUFELElBQWM7QUFDbkIsUUFBSUMsRUFBRSxHQUFHTCwwQ0FBQyxDQUFDSSxRQUFELENBQUQsQ0FBWUMsRUFBWixDQUFlLENBQWYsQ0FBVDs7QUFDQSxRQUFJQSxFQUFKLEVBQVE7QUFDSixVQUFJSCxRQUFRLEdBQUdILHlEQUFBLENBQWdCTSxFQUFoQixFQUFvQjtBQUMvQkUsUUFBQUEsU0FBUyxFQUFFLEdBRG9CO0FBRS9CQyxRQUFBQSxLQUFLLEVBQUUsVUFBVUMsR0FBVixFQUFlO0FBQ2xCLGNBQUlDLElBQUksR0FBR0QsR0FBRyxDQUFDRSxRQUFmO0FBQ0EsY0FBSUMsSUFBSSxHQUFHSCxHQUFHLENBQUNJLFFBQWY7O0FBQ0EsY0FBSUgsSUFBSSxHQUFDRSxJQUFULEVBQWM7QUFDVixnQkFBSUUsU0FBUyxHQUFHYixxRUFBQSxFQUFoQjs7QUFDQUEsWUFBQUEsZ0VBQUEsQ0FBZVMsSUFBZjtBQUNILFdBSEQsTUFHSztBQUNELGdCQUFJSSxTQUFTLEdBQUdiLHFFQUFBLEVBQWhCOztBQUNBQSxZQUFBQSxnRUFBQSxDQUFlVyxJQUFmO0FBQ0g7QUFDSjtBQVo4QixPQUFwQixDQUFmO0FBY0g7QUFDSjtBQXBCaUIsQ0FBZiIsInNvdXJjZXMiOlsid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3B1YmxpYy9zcmMvY29tcG9uZW50cy9zb3J0YWJsZS5qcz9kY2Y1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTb3J0YWJsZSBmcm9tICdzb3J0YWJsZWpzJ1xyXG5pbXBvcnQgeyR9IGZyb20gJy4uL2NvbW1vbidcclxuaW1wb3J0IHtfcXVlc3Rpb259IGZyb20gXCIuLi9UZXN0L21vZGVsL3F1ZXN0aW9uXCI7XHJcblxyXG5leHBvcnQgbGV0IHNvcnRhYmxlID0ge1xyXG5cclxuICAgIGNvbm5lY3Q6IChzZWxlY3RvcikgPT4ge1xyXG4gICAgICAgIGxldCBlbCA9ICQoc2VsZWN0b3IpLmVsWzBdO1xyXG4gICAgICAgIGlmIChlbCkge1xyXG4gICAgICAgICAgICBsZXQgc29ydGFibGUgPSBTb3J0YWJsZS5jcmVhdGUoZWwsIHtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogMTUwLFxyXG4gICAgICAgICAgICAgICAgb25FbmQ6IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgb2xkSSA9IGV2dC5vbGRJbmRleFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdJID0gZXZ0Lm5ld0luZGV4XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9sZEk+bmV3SSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBxdWVzdGlvbnMgPSBfcXVlc3Rpb24ucXVlc3Rpb25zKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3F1ZXN0aW9uLnNvcnQob2xkSSlcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHF1ZXN0aW9ucyA9IF9xdWVzdGlvbi5xdWVzdGlvbnMoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfcXVlc3Rpb24uc29ydChuZXdJKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm5hbWVzIjpbIlNvcnRhYmxlIiwiJCIsIl9xdWVzdGlvbiIsInNvcnRhYmxlIiwiY29ubmVjdCIsInNlbGVjdG9yIiwiZWwiLCJjcmVhdGUiLCJhbmltYXRpb24iLCJvbkVuZCIsImV2dCIsIm9sZEkiLCJvbGRJbmRleCIsIm5ld0kiLCJuZXdJbmRleCIsInF1ZXN0aW9ucyIsInNvcnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/src/components/sortable.js\n");

/***/ }),

/***/ "./public/src/components/test-pagination/test-pagination.js":
/*!******************************************************************!*\
  !*** ./public/src/components/test-pagination/test-pagination.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"showHidePaginBtn\": function() { return /* binding */ showHidePaginBtn; },\n/* harmony export */   \"appendBlock\": function() { return /* binding */ appendBlock; },\n/* harmony export */   \"navInit\": function() { return /* binding */ navInit; }\n/* harmony export */ });\n/* harmony import */ var _test_pagination_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./test-pagination.scss */ \"./public/src/components/test-pagination/test-pagination.scss\");\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common */ \"./public/src/common.js\");\n/* harmony import */ var _Test_model_question__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Test/model/question */ \"./public/src/Test/model/question.js\");\n/* harmony import */ var _Test_model_answer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Test/model/answer */ \"./public/src/Test/model/answer.js\");\n\n\n\n // Показать первую кнопку\n\n(0,_common__WEBPACK_IMPORTED_MODULE_1__.$)('[data-pagination]:first-child').addClass('nav-active'); // $('.test-edit__content').addClass('flex1')\n//// add question\n\n(0,_common__WEBPACK_IMPORTED_MODULE_1__.$)('.pagination').on('click', function (e) {\n  if (e.target.classList.contains('add-question')) {\n    debugger;\n    show();\n    return;\n  } //// paginate\n\n\n  if (e.target.getAttribute('data-pagination')) {\n    paginate(e.target);\n    return;\n  }\n});\n\nfunction paginate(self) {\n  /// get clicked button Return if clicked is active\n  if (self.classList.contains('nav-active')) return;\n  let active_btn = (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)('.pagination .nav-active').el[0]; //// change active button\n\n  active_btn.classList.remove('nav-active');\n  self.classList.add('nav-active'); //// hide the card\n\n  let id_to_hide = active_btn.dataset['pagination'];\n  (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)(`#question-${id_to_hide}`).removeClass('flex1'); //// show the card\n\n  let id_to_show = self.dataset['pagination'];\n  (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)(`#question-${id_to_show}`).addClass('flex1');\n} //// добавление вопроса\n\n\nasync function show(e) {\n  let testid = +(0,_common__WEBPACK_IMPORTED_MODULE_1__.$)('.test-name').value();\n  let questCount = (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)(\"[data-pagination]\").count();\n  let res = await (0,_common__WEBPACK_IMPORTED_MODULE_1__.post)('/question/show', {\n    testid,\n    questCount\n  });\n  res = JSON.parse(res);\n  let Block = res.block;\n  let blocks = (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)('.blocks').el[0];\n  blocks.insertAdjacentHTML('afterBegin', Block);\n  let newBlock = (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)('.blocks .block:first-child').el[0];\n  document.querySelector('.flex1').classList.remove('flex1');\n  (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)(newBlock).addClass('flex1');\n  let save_button = (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)(newBlock).find('.question__save');\n  (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)(save_button).on('click', (0,_Test_model_question__WEBPACK_IMPORTED_MODULE_2__._question)().save);\n}\n\nfunction showHidePaginBtn(pagItem) {\n  let activePaginBtn = (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)('.pagination .nav-active').el[0];\n\n  if (activePaginBtn) {\n    activePaginBtn.classList.remove('nav-active');\n  }\n\n  (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)('.add-question').el[0].insertAdjacentHTML('beforeBegin', pagItem);\n}\n\nfunction appendBlock() {\n  let block = (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)('.overlay').find('.block');\n  (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)('.blocks').append(block);\n  (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)(block).addClass('flex1');\n  (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)('.a-add').on('click', _Test_model_answer__WEBPACK_IMPORTED_MODULE_3__._answer.create);\n  (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)('.q-delete').on('click', (0,_Test_model_question__WEBPACK_IMPORTED_MODULE_2__._question)().delete());\n  (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)('.a-del').on('click', _Test_model_answer__WEBPACK_IMPORTED_MODULE_3__._answer[\"delete\"]());\n}\n\nfunction navInit() {\n  let nav_buttons = (0,_common__WEBPACK_IMPORTED_MODULE_1__.$)('[data-pagination]');\n  if (!nav_buttons[0]) return false;\n  Array.from(nav_buttons).map(el => {\n    el.classList.remove('nav-active');\n  });\n  nav_buttons[0].classList.add('nav-active');\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL2NvbXBvbmVudHMvdGVzdC1wYWdpbmF0aW9uL3Rlc3QtcGFnaW5hdGlvbi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0NBR0E7O0FBQ0FBLDBDQUFDLENBQUMsK0JBQUQsQ0FBRCxDQUFtQ0ssUUFBbkMsQ0FBNEMsWUFBNUMsR0FDQTtBQUVBOztBQUNBTCwwQ0FBQyxDQUFDLGFBQUQsQ0FBRCxDQUFpQk0sRUFBakIsQ0FBb0IsT0FBcEIsRUFBNkIsVUFBVUMsQ0FBVixFQUFhO0FBQ3RDLE1BQUlBLENBQUMsQ0FBQ0MsTUFBRixDQUFTQyxTQUFULENBQW1CQyxRQUFuQixDQUE0QixjQUE1QixDQUFKLEVBQWlEO0FBQzdDO0FBQ0FDLElBQUFBLElBQUk7QUFDSjtBQUNILEdBTHFDLENBTTFDOzs7QUFDSSxNQUFJSixDQUFDLENBQUNDLE1BQUYsQ0FBU0ksWUFBVCxDQUFzQixpQkFBdEIsQ0FBSixFQUE4QztBQUMxQ0MsSUFBQUEsUUFBUSxDQUFDTixDQUFDLENBQUNDLE1BQUgsQ0FBUjtBQUNBO0FBQ0g7QUFDSixDQVhEOztBQWFBLFNBQVNLLFFBQVQsQ0FBa0JDLElBQWxCLEVBQXdCO0FBQ3hCO0FBQ0ksTUFBSUEsSUFBSSxDQUFDTCxTQUFMLENBQWVDLFFBQWYsQ0FBd0IsWUFBeEIsQ0FBSixFQUEyQztBQUMzQyxNQUFJSyxVQUFVLEdBQUdmLDBDQUFDLENBQUMseUJBQUQsQ0FBRCxDQUE2QmdCLEVBQTdCLENBQWdDLENBQWhDLENBQWpCLENBSG9CLENBSXhCOztBQUNJRCxFQUFBQSxVQUFVLENBQUNOLFNBQVgsQ0FBcUJRLE1BQXJCLENBQTRCLFlBQTVCO0FBQ0FILEVBQUFBLElBQUksQ0FBQ0wsU0FBTCxDQUFlUyxHQUFmLENBQW1CLFlBQW5CLEVBTm9CLENBT3hCOztBQUNJLE1BQUlDLFVBQVUsR0FBR0osVUFBVSxDQUFDSyxPQUFYLENBQW1CLFlBQW5CLENBQWpCO0FBQ0FwQixFQUFBQSwwQ0FBQyxD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LENBQWUsT0FBZixFQUF3QkYsaUVBQUEsRUFBeEI7QUFDSDs7QUFFRCxTQUFTMkMsT0FBVCxHQUFtQjtBQUNmLE1BQUlDLFdBQVcsR0FBR2hELDBDQUFDLENBQUMsbUJBQUQsQ0FBbkI7QUFDQSxNQUFJLENBQUNnRCxXQUFXLENBQUMsQ0FBRCxDQUFoQixFQUFxQixPQUFPLEtBQVA7QUFDckJDLEVBQUFBLEtBQUssQ0FBQ0MsSUFBTixDQUFXRixXQUFYLEVBQXdCRyxHQUF4QixDQUE2Qm5DLEVBQUQsSUFBTTtBQUM5QkEsSUFBQUEsRUFBRSxDQUFDUCxTQUFILENBQWFRLE1BQWIsQ0FBb0IsWUFBcEI7QUFDSCxHQUZEO0FBR0ErQixFQUFBQSxXQUFXLENBQUMsQ0FBRCxDQUFYLENBQWV2QyxTQUFmLENBQXlCUyxHQUF6QixDQUE2QixZQUE3QjtBQUVIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vcHVibGljL3NyYy9jb21wb25lbnRzL3Rlc3QtcGFnaW5hdGlvbi90ZXN0LXBhZ2luYXRpb24uanM/NGFlMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4vdGVzdC1wYWdpbmF0aW9uLnNjc3MnXHJcbmltcG9ydCB7JCwgcG9wdXAsIHBvc3R9IGZyb20gXCIuLi8uLi9jb21tb25cIjtcclxuaW1wb3J0IHtfcXVlc3Rpb259IGZyb20gXCIuLi8uLi9UZXN0L21vZGVsL3F1ZXN0aW9uXCI7XHJcbmltcG9ydCB7X2Fuc3dlcn0gZnJvbSBcIi4uLy4uL1Rlc3QvbW9kZWwvYW5zd2VyXCI7XHJcblxyXG4vLyDQn9C+0LrQsNC30LDRgtGMINC/0LXRgNCy0YPRjiDQutC90L7Qv9C60YNcclxuJCgnW2RhdGEtcGFnaW5hdGlvbl06Zmlyc3QtY2hpbGQnKS5hZGRDbGFzcygnbmF2LWFjdGl2ZScpXHJcbi8vICQoJy50ZXN0LWVkaXRfX2NvbnRlbnQnKS5hZGRDbGFzcygnZmxleDEnKVxyXG5cclxuLy8vLyBhZGQgcXVlc3Rpb25cclxuJCgnLnBhZ2luYXRpb24nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYWRkLXF1ZXN0aW9uJykpIHtcclxuICAgICAgICBkZWJ1Z2dlclxyXG4gICAgICAgIHNob3coKVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgfVxyXG4vLy8vIHBhZ2luYXRlXHJcbiAgICBpZiAoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXBhZ2luYXRpb24nKSkge1xyXG4gICAgICAgIHBhZ2luYXRlKGUudGFyZ2V0KVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgfVxyXG59KVxyXG5cclxuZnVuY3Rpb24gcGFnaW5hdGUoc2VsZikge1xyXG4vLy8gZ2V0IGNsaWNrZWQgYnV0dG9uIFJldHVybiBpZiBjbGlja2VkIGlzIGFjdGl2ZVxyXG4gICAgaWYgKHNlbGYuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtYWN0aXZlJykpIHJldHVyblxyXG4gICAgbGV0IGFjdGl2ZV9idG4gPSAkKCcucGFnaW5hdGlvbiAubmF2LWFjdGl2ZScpLmVsWzBdXHJcbi8vLy8gY2hhbmdlIGFjdGl2ZSBidXR0b25cclxuICAgIGFjdGl2ZV9idG4uY2xhc3NMaXN0LnJlbW92ZSgnbmF2LWFjdGl2ZScpXHJcbiAgICBzZWxmLmNsYXNzTGlzdC5hZGQoJ25hdi1hY3RpdmUnKVxyXG4vLy8vIGhpZGUgdGhlIGNhcmRcclxuICAgIGxldCBpZF90b19oaWRlID0gYWN0aXZlX2J0bi5kYXRhc2V0WydwYWdpbmF0aW9uJ11cclxuICAgICQoYCNxdWVzdGlvbi0ke2lkX3RvX2hpZGV9YCkucmVtb3ZlQ2xhc3MoJ2ZsZXgxJylcclxuLy8vLyBzaG93IHRoZSBjYXJkXHJcbiAgICBsZXQgaWRfdG9fc2hvdyA9IHNlbGYuZGF0YXNldFsncGFnaW5hdGlvbiddXHJcbiAgICAkKGAjcXVlc3Rpb24tJHtpZF90b19zaG93fWApLmFkZENsYXNzKCdmbGV4MScpXHJcbn1cclxuXHJcbi8vLy8g0LTQvtCx0LDQstC70LXQvdC40LUg0LLQvtC/0YDQvtGB0LBcclxuYXN5bmMgZnVuY3Rpb24gc2hvdyhlKSB7XHJcbiAgICBsZXQgdGVzdGlkID0gKyQoJy50ZXN0LW5hbWUnKS52YWx1ZSgpXHJcbiAgICBsZXQgcXVlc3RDb3VudCA9ICQoXCJbZGF0YS1wYWdpbmF0aW9uXVwiKS5jb3VudCgpXHJcblxyXG4gICAgbGV0IHJlcyA9IGF3YWl0IHBvc3QoXHJcbiAgICAgICAgJy9xdWVzdGlvbi9zaG93JyxcclxuICAgICAgICB7dGVzdGlkLCBxdWVzdENvdW50fSlcclxuICAgIHJlcyA9IEpTT04ucGFyc2UocmVzKVxyXG4gICAgbGV0IEJsb2NrID0gcmVzLmJsb2NrXHJcbiAgICBsZXQgYmxvY2tzID0gJCgnLmJsb2NrcycpLmVsWzBdXHJcbiAgICBibG9ja3MuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlckJlZ2luJywgQmxvY2spXHJcbiAgICBsZXQgbmV3QmxvY2sgPSAkKCcuYmxvY2tzIC5ibG9jazpmaXJzdC1jaGlsZCcpLmVsWzBdXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmxleDEnKS5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4MScpXHJcbiAgICAkKG5ld0Jsb2NrKS5hZGRDbGFzcygnZmxleDEnKVxyXG4gICAgbGV0IHNhdmVfYnV0dG9uID0gJChuZXdCbG9jaykuZmluZCgnLnF1ZXN0aW9uX19zYXZlJylcclxuICAgICAgICAkKHNhdmVfYnV0dG9uKS5vbignY2xpY2snLCBfcXVlc3Rpb24oKS5zYXZlKVxyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93SGlkZVBhZ2luQnRuKHBhZ0l0ZW0pIHtcclxuICAgIGxldCBhY3RpdmVQYWdpbkJ0biA9ICQoJy5wYWdpbmF0aW9uIC5uYXYtYWN0aXZlJykuZWxbMF1cclxuICAgIGlmIChhY3RpdmVQYWdpbkJ0bikge1xyXG4gICAgICAgIGFjdGl2ZVBhZ2luQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1hY3RpdmUnKVxyXG4gICAgfVxyXG4gICAgJCgnLmFkZC1xdWVzdGlvbicpLmVsWzBdLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlQmVnaW4nLCBwYWdJdGVtKVxyXG59XHJcblxyXG5mdW5jdGlvbiBhcHBlbmRCbG9jaygpIHtcclxuICAgIGxldCBibG9jayA9ICQoJy5vdmVybGF5JykuZmluZCgnLmJsb2NrJylcclxuICAgICQoJy5ibG9ja3MnKS5hcHBlbmQoYmxvY2spXHJcbiAgICAkKGJsb2NrKS5hZGRDbGFzcygnZmxleDEnKVxyXG4gICAgJCgnLmEtYWRkJykub24oJ2NsaWNrJywgX2Fuc3dlci5jcmVhdGUpXHJcbiAgICAkKCcucS1kZWxldGUnKS5vbignY2xpY2snLCBfcXVlc3Rpb24oKS5kZWxldGUoKSlcclxuICAgICQoJy5hLWRlbCcpLm9uKCdjbGljaycsIF9hbnN3ZXIuZGVsZXRlKCkpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIG5hdkluaXQoKSB7XHJcbiAgICBsZXQgbmF2X2J1dHRvbnMgPSAkKCdbZGF0YS1wYWdpbmF0aW9uXScpXHJcbiAgICBpZiAoIW5hdl9idXR0b25zWzBdKSByZXR1cm4gZmFsc2VcclxuICAgIEFycmF5LmZyb20obmF2X2J1dHRvbnMpLm1hcCgoZWwpPT57XHJcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnbmF2LWFjdGl2ZScpXHJcbiAgICB9KVxyXG4gICAgbmF2X2J1dHRvbnNbMF0uY2xhc3NMaXN0LmFkZCgnbmF2LWFjdGl2ZScpXHJcblxyXG59XHJcblxyXG5leHBvcnQge3Nob3dIaWRlUGFnaW5CdG4sIGFwcGVuZEJsb2NrLCBuYXZJbml0fVxyXG5cclxuXHJcbiJdLCJuYW1lcyI6WyIkIiwicG9wdXAiLCJwb3N0IiwiX3F1ZXN0aW9uIiwiX2Fuc3dlciIsImFkZENsYXNzIiwib24iLCJlIiwidGFyZ2V0IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJzaG93IiwiZ2V0QXR0cmlidXRlIiwicGFnaW5hdGUiLCJzZWxmIiwiYWN0aXZlX2J0biIsImVsIiwicmVtb3ZlIiwiYWRkIiwiaWRfdG9faGlkZSIsImRhdGFzZXQiLCJyZW1vdmVDbGFzcyIsImlkX3RvX3Nob3ciLCJ0ZXN0aWQiLCJ2YWx1ZSIsInF1ZXN0Q291bnQiLCJjb3VudCIsInJlcyIsIkpTT04iLCJwYXJzZSIsIkJsb2NrIiwiYmxvY2siLCJibG9ja3MiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJuZXdCbG9jayIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNhdmVfYnV0dG9uIiwiZmluZCIsInNhdmUiLCJzaG93SGlkZVBhZ2luQnRuIiwicGFnSXRlbSIsImFjdGl2ZVBhZ2luQnRuIiwiYXBwZW5kQmxvY2siLCJhcHBlbmQiLCJjcmVhdGUiLCJkZWxldGUiLCJuYXZJbml0IiwibmF2X2J1dHRvbnMiLCJBcnJheSIsImZyb20iLCJtYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/src/components/test-pagination/test-pagination.js\n");

/***/ }),

/***/ "./public/src/Admin/Planning/create/create.scss":
/*!******************************************************!*\
  !*** ./public/src/Admin/Planning/create/create.scss ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL0FkbWluL1BsYW5uaW5nL2NyZWF0ZS9jcmVhdGUuc2Nzcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9wdWJsaWMvc3JjL0FkbWluL1BsYW5uaW5nL2NyZWF0ZS9jcmVhdGUuc2Nzcz83Y2QzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/src/Admin/Planning/create/create.scss\n");

/***/ }),

/***/ "./public/src/Admin/Planning/planning.scss":
/*!*************************************************!*\
  !*** ./public/src/Admin/Planning/planning.scss ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL0FkbWluL1BsYW5uaW5nL3BsYW5uaW5nLnNjc3MuanMiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vcHVibGljL3NyYy9BZG1pbi9QbGFubmluZy9wbGFubmluZy5zY3NzP2Y4NTgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/src/Admin/Planning/planning.scss\n");

/***/ }),

/***/ "./public/src/Admin/Rights/rights.scss":
/*!*********************************************!*\
  !*** ./public/src/Admin/Rights/rights.scss ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL0FkbWluL1JpZ2h0cy9yaWdodHMuc2Nzcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9wdWJsaWMvc3JjL0FkbWluL1JpZ2h0cy9yaWdodHMuc2Nzcz82ODU0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/src/Admin/Rights/rights.scss\n");

/***/ }),

/***/ "./public/src/Admin/Settings/users.scss":
/*!**********************************************!*\
  !*** ./public/src/Admin/Settings/users.scss ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL0FkbWluL1NldHRpbmdzL3VzZXJzLnNjc3MuanMiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vcHVibGljL3NyYy9BZG1pbi9TZXR0aW5ncy91c2Vycy5zY3NzPzZkZGMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/src/Admin/Settings/users.scss\n");

/***/ }),

/***/ "./public/src/Admin/admin.scss":
/*!*************************************!*\
  !*** ./public/src/Admin/admin.scss ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL0FkbWluL2FkbWluLnNjc3MuanMiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vcHVibGljL3NyYy9BZG1pbi9hZG1pbi5zY3NzPzc3MDgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/src/Admin/admin.scss\n");

/***/ }),

/***/ "./public/src/Test/do.scss":
/*!*********************************!*\
  !*** ./public/src/Test/do.scss ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL1Rlc3QvZG8uc2Nzcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9wdWJsaWMvc3JjL1Rlc3QvZG8uc2Nzcz9lNTZiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/src/Test/do.scss\n");

/***/ }),

/***/ "./public/src/Test/test-edit-menu.scss":
/*!*********************************************!*\
  !*** ./public/src/Test/test-edit-menu.scss ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL1Rlc3QvdGVzdC1lZGl0LW1lbnUuc2Nzcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9wdWJsaWMvc3JjL1Rlc3QvdGVzdC1lZGl0LW1lbnUuc2Nzcz83ZTdjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/src/Test/test-edit-menu.scss\n");

/***/ }),

/***/ "./public/src/Test/test-edit.scss":
/*!****************************************!*\
  !*** ./public/src/Test/test-edit.scss ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL1Rlc3QvdGVzdC1lZGl0LnNjc3MuanMiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vcHVibGljL3NyYy9UZXN0L3Rlc3QtZWRpdC5zY3NzPzc2ODEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/src/Test/test-edit.scss\n");

/***/ }),

/***/ "./public/src/Test/test-update.scss":
/*!******************************************!*\
  !*** ./public/src/Test/test-update.scss ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL1Rlc3QvdGVzdC11cGRhdGUuc2Nzcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9wdWJsaWMvc3JjL1Rlc3QvdGVzdC11cGRhdGUuc2Nzcz8xMmY1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/src/Test/test-update.scss\n");

/***/ }),

/***/ "./public/src/Test/test_results/test-results__table.scss":
/*!***************************************************************!*\
  !*** ./public/src/Test/test_results/test-results__table.scss ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL1Rlc3QvdGVzdF9yZXN1bHRzL3Rlc3QtcmVzdWx0c19fdGFibGUuc2Nzcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9wdWJsaWMvc3JjL1Rlc3QvdGVzdF9yZXN1bHRzL3Rlc3QtcmVzdWx0c19fdGFibGUuc2Nzcz84NjY1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/src/Test/test_results/test-results__table.scss\n");

/***/ }),

/***/ "./public/src/common.scss":
/*!********************************!*\
  !*** ./public/src/common.scss ***!
  \********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL2NvbW1vbi5zY3NzLmpzIiwibWFwcGluZ3MiOiI7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3B1YmxpYy9zcmMvY29tbW9uLnNjc3M/YWRkNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/src/common.scss\n");

/***/ }),

/***/ "./public/src/components/accordion/accordion.scss":
/*!********************************************************!*\
  !*** ./public/src/components/accordion/accordion.scss ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL2NvbXBvbmVudHMvYWNjb3JkaW9uL2FjY29yZGlvbi5zY3NzLmpzIiwibWFwcGluZ3MiOiI7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3B1YmxpYy9zcmMvY29tcG9uZW50cy9hY2NvcmRpb24vYWNjb3JkaW9uLnNjc3M/ZDRkNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/src/components/accordion/accordion.scss\n");

/***/ }),

/***/ "./public/src/components/cookie/cookie.scss":
/*!**************************************************!*\
  !*** ./public/src/components/cookie/cookie.scss ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL2NvbXBvbmVudHMvY29va2llL2Nvb2tpZS5zY3NzLmpzIiwibWFwcGluZ3MiOiI7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3B1YmxpYy9zcmMvY29tcG9uZW50cy9jb29raWUvY29va2llLnNjc3M/YWU2YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/src/components/cookie/cookie.scss\n");

/***/ }),

/***/ "./public/src/components/footer/footer.scss":
/*!**************************************************!*\
  !*** ./public/src/components/footer/footer.scss ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL2NvbXBvbmVudHMvZm9vdGVyL2Zvb3Rlci5zY3NzLmpzIiwibWFwcGluZ3MiOiI7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3B1YmxpYy9zcmMvY29tcG9uZW50cy9mb290ZXIvZm9vdGVyLnNjc3M/ZTZjNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/src/components/footer/footer.scss\n");

/***/ }),

/***/ "./public/src/components/header/autocomplete.scss":
/*!********************************************************!*\
  !*** ./public/src/components/header/autocomplete.scss ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL2NvbXBvbmVudHMvaGVhZGVyL2F1dG9jb21wbGV0ZS5zY3NzLmpzIiwibWFwcGluZ3MiOiI7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3B1YmxpYy9zcmMvY29tcG9uZW50cy9oZWFkZXIvYXV0b2NvbXBsZXRlLnNjc3M/ODllYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/src/components/header/autocomplete.scss\n");

/***/ }),

/***/ "./public/src/components/header/header-adm.scss":
/*!******************************************************!*\
  !*** ./public/src/components/header/header-adm.scss ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL2NvbXBvbmVudHMvaGVhZGVyL2hlYWRlci1hZG0uc2Nzcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9wdWJsaWMvc3JjL2NvbXBvbmVudHMvaGVhZGVyL2hlYWRlci1hZG0uc2Nzcz9kMWU3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/src/components/header/header-adm.scss\n");

/***/ }),

/***/ "./public/src/components/header/header.scss":
/*!**************************************************!*\
  !*** ./public/src/components/header/header.scss ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL2NvbXBvbmVudHMvaGVhZGVyL2hlYWRlci5zY3NzLmpzIiwibWFwcGluZ3MiOiI7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3B1YmxpYy9zcmMvY29tcG9uZW50cy9oZWFkZXIvaGVhZGVyLnNjc3M/OGVmMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/src/components/header/header.scss\n");

/***/ }),

/***/ "./public/src/components/popup.scss":
/*!******************************************!*\
  !*** ./public/src/components/popup.scss ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL2NvbXBvbmVudHMvcG9wdXAuc2Nzcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9wdWJsaWMvc3JjL2NvbXBvbmVudHMvcG9wdXAuc2Nzcz9lYjM0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/src/components/popup.scss\n");

/***/ }),

/***/ "./public/src/components/select/WDSSelect.scss":
/*!*****************************************************!*\
  !*** ./public/src/components/select/WDSSelect.scss ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL2NvbXBvbmVudHMvc2VsZWN0L1dEU1NlbGVjdC5zY3NzLmpzIiwibWFwcGluZ3MiOiI7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3B1YmxpYy9zcmMvY29tcG9uZW50cy9zZWxlY3QvV0RTU2VsZWN0LnNjc3M/MzMzZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/src/components/select/WDSSelect.scss\n");

/***/ }),

/***/ "./public/src/components/test-pagination/test-pagination.scss":
/*!********************************************************************!*\
  !*** ./public/src/components/test-pagination/test-pagination.scss ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvc3JjL2NvbXBvbmVudHMvdGVzdC1wYWdpbmF0aW9uL3Rlc3QtcGFnaW5hdGlvbi5zY3NzLmpzIiwibWFwcGluZ3MiOiI7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3B1YmxpYy9zcmMvY29tcG9uZW50cy90ZXN0LXBhZ2luYXRpb24vdGVzdC1wYWdpbmF0aW9uLnNjc3M/MWRiYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/src/components/test-pagination/test-pagination.scss\n");

/***/ }),

/***/ "./node_modules/sortablejs/modular/sortable.esm.js":
/*!*********************************************************!*\
  !*** ./node_modules/sortablejs/modular/sortable.esm.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MultiDrag\": function() { return /* binding */ MultiDragPlugin; },\n/* harmony export */   \"Sortable\": function() { return /* binding */ Sortable; },\n/* harmony export */   \"Swap\": function() { return /* binding */ SwapPlugin; }\n/* harmony export */ });\n/**!\n * Sortable 1.14.0\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar version = \"1.14.0\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !! /*@__PURE__*/navigator.userAgent.match(pattern);\n  }\n}\n\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\n\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction matches(\n/**HTMLElement*/\nel,\n/**String*/\nselector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n\n  return false;\n}\n\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\n\nfunction closest(\n/**HTMLElement*/\nel,\n/**String*/\nselector,\n/**HTMLElement*/\nctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n\n  return null;\n}\n\nvar R_SPACE = /\\s+/g;\n\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\n\nfunction css(el, prop, val) {\n  var style = el && el.style;\n\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\n\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n\n    } while (!selfOnly && (el = el.parentNode));\n  }\n\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n\n  return matrixFn && new matrixFn(appliedTransforms);\n}\n\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n        i = 0,\n        n = list.length;\n\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n\n    return list;\n  }\n\n  return [];\n}\n\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n/**\n * Returns the \"bounding client rect\" of given element\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\n * @param  {[HTMLElement]} container              The parent the element will be placed in\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\n */\n\n\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n\n  if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n\n      } while (container = container.parentNode);\n    }\n  }\n\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n        scaleX = elMatrix && elMatrix.a,\n        scaleY = elMatrix && elMatrix.d;\n\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n/**\n * Checks if a side of an element is scrolled past a side of its parents\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\n */\n\n\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n      elSideVal = getRect(el)[elSide];\n  /* jshint boss:true */\n\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n        visible = void 0;\n\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n\n  return false;\n}\n/**\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n * and non-draggable elements\n * @param  {HTMLElement} el       The parent element\n * @param  {Number} childNum      The index of the child\n * @param  {Object} options       Parent Sortable's options\n * @return {HTMLElement}          The child at index childNum, or null if not found\n */\n\n\nfunction getChild(el, childNum, options, includeDragEl) {\n  var currentChild = 0,\n      i = 0,\n      children = el.children;\n\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && (includeDragEl || children[i] !== Sortable.dragged) && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n\n      currentChild++;\n    }\n\n    i++;\n  }\n\n  return null;\n}\n/**\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n * @param  {HTMLElement} el       Parent element\n * @param  {selector} selector    Any other elements that should be ignored\n * @return {HTMLElement}          The last child, ignoring ghostEl\n */\n\n\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n\n  return last || null;\n}\n/**\n * Returns the index of an element within its parent for a selected set of\n * elements\n * @param  {HTMLElement} el\n * @param  {selector} selector\n * @return {number}\n */\n\n\nfunction index(el, selector) {\n  var index = 0;\n\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n  /* jshint boss:true */\n\n\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n\n  return index;\n}\n/**\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n * The value is returned in real pixels.\n * @param  {HTMLElement} el\n * @return {Array}             Offsets in the format of [left, top]\n */\n\n\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n      offsetTop = 0,\n      winScroller = getWindowScrollingElement();\n\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n          scaleX = elMatrix.a,\n          scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n\n  return [offsetLeft, offsetTop];\n}\n/**\n * Returns the index of the object within the given array\n * @param  {Array} arr   Array that may or may not hold the object\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\n * @return {Number}      The index of the object in the array, or -1\n */\n\n\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n\n  return -1;\n}\n\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n\n  } while (elem = elem.parentNode);\n\n  return getWindowScrollingElement();\n}\n\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n\n  return dst;\n}\n\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\n\nvar _throttleTimeout;\n\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n          _this = this;\n\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\n\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\n\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\n\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\n\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\n\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\n\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n      animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n\n        var fromRect = _objectSpread2({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n\n      var animating = false,\n          animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n            target = state.target,\n            fromRect = target.fromRect,\n            toRect = getRect(target),\n            prevFromRect = target.prevFromRect,\n            prevToRect = target.prevToRect,\n            animatingRect = state.rect,\n            targetMatrix = matrix(target, true);\n\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n\n        target.toRect = toRect;\n\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        } // if fromRect != toRect: animate\n\n\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n\n          if (!time) {\n            time = _this.options.animation;\n          }\n\n          _this.animate(target, animatingRect, toRect, time);\n        }\n\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d,\n            translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n            translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        this.forRepaintDummy = repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\n\nfunction repaint(target) {\n  return target.offsetWidth;\n}\n\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n\n    plugins.forEach(function (p) {\n      if (p.pluginName === plugin.pluginName) {\n        throw \"Sortable: Cannot mount plugin \".concat(plugin.pluginName, \" more than once\");\n      }\n    });\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n\n    this.eventCanceled = false;\n\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      } // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n\n\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized; // Add default options from plugin\n\n      _extends(defaults, initialized.defaults);\n    });\n\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n      rootEl = _ref.rootEl,\n      name = _ref.name,\n      targetEl = _ref.targetEl,\n      cloneEl = _ref.cloneEl,\n      toEl = _ref.toEl,\n      fromEl = _ref.fromEl,\n      oldIndex = _ref.oldIndex,\n      newIndex = _ref.newIndex,\n      oldDraggableIndex = _ref.oldDraggableIndex,\n      newDraggableIndex = _ref.newDraggableIndex,\n      originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n      options = sortable.options,\n      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n  var allEventProperties = _objectSpread2(_objectSpread2({}, extraEventProperties), PluginManager.getEventProperties(name, sortable));\n\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar _excluded = [\"evt\"];\n\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      originalEvent = _ref.evt,\n      data = _objectWithoutProperties(_ref, _excluded);\n\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread2({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\n\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread2({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\n\nvar dragEl,\n    parentEl,\n    ghostEl,\n    rootEl,\n    nextEl,\n    lastDownEl,\n    cloneEl,\n    cloneHidden,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    activeGroup,\n    putSortable,\n    awaitingDragStarted = false,\n    ignoreNextClick = false,\n    sortables = [],\n    tapEvt,\n    touchEvt,\n    lastDx,\n    lastDy,\n    tapDistanceLeft,\n    tapDistanceTop,\n    moved,\n    lastTarget,\n    lastDirection,\n    pastFirstInvertThresh = false,\n    isCircumstantialInvert = false,\n    targetMoveDistance,\n    // For positioning ghost absolutely\nghostRelativeParent,\n    ghostRelativeParentInitialScroll = [],\n    // (left, top)\n_silent = false,\n    savedInputChecked = [];\n/** @const */\n\nvar documentExists = typeof document !== 'undefined',\n    PositionGhostAbsolutely = IOS,\n    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n    // This will not pass for IE9, because IE9 DnD only works on anchors\nsupportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n    supportCssPointerEvents = function () {\n  if (!documentExists) return; // false when <= IE11\n\n  if (IE11OrLess) {\n    return false;\n  }\n\n  var el = document.createElement('x');\n  el.style.cssText = 'pointer-events:auto';\n  return el.style.pointerEvents === 'auto';\n}(),\n    _detectDirection = function _detectDirection(el, options) {\n  var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n  if (elCSS.display === 'flex') {\n    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n  }\n\n  if (elCSS.display === 'grid') {\n    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n  }\n\n  if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n    var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n  }\n\n  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n},\n    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n},\n\n/**\n * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n * @param  {Number} x      X position\n * @param  {Number} y      Y position\n * @return {HTMLElement}   Element of the first found nearest Sortable\n */\n_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n  var ret;\n  sortables.some(function (sortable) {\n    var threshold = sortable[expando].options.emptyInsertThreshold;\n    if (!threshold || lastChild(sortable)) return;\n    var rect = getRect(sortable),\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n    if (insideHorizontally && insideVertically) {\n      return ret = sortable;\n    }\n  });\n  return ret;\n},\n    _prepareGroup = function _prepareGroup(options) {\n  function toFn(value, pull) {\n    return function (to, from, dragEl, evt) {\n      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n      if (value == null && (pull || sameGroup)) {\n        // Default pull value\n        // Default pull and put value if same group\n        return true;\n      } else if (value == null || value === false) {\n        return false;\n      } else if (pull && value === 'clone') {\n        return value;\n      } else if (typeof value === 'function') {\n        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n      } else {\n        var otherGroup = (pull ? to : from).options.group.name;\n        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n      }\n    };\n  }\n\n  var group = {};\n  var originalGroup = options.group;\n\n  if (!originalGroup || _typeof(originalGroup) != 'object') {\n    originalGroup = {\n      name: originalGroup\n    };\n  }\n\n  group.name = originalGroup.name;\n  group.checkPull = toFn(originalGroup.pull, true);\n  group.checkPut = toFn(originalGroup.put);\n  group.revertClone = originalGroup.revertClone;\n  options.group = group;\n},\n    _hideGhostForTarget = function _hideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', 'none');\n  }\n},\n    _unhideGhostForTarget = function _unhideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', '');\n  }\n}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\nif (documentExists) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\n\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\n\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n/**\n * @class  Sortable\n * @param  {HTMLElement}  el\n * @param  {Object}       [options]\n */\n\n\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n\n  this.el = el; // root element\n\n  this.options = options = _extends({}, options); // Export instance\n\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window && !Safari,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n\n  _prepareGroup(options); // Bind all private methods\n\n\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  } // Setup drag mode\n\n\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  } // Bind events\n\n\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n\n  sortables.push(this.el); // Restore sorting\n\n  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n  _extends(this, AnimationStateManager());\n}\n\nSortable.prototype =\n/** @lends Sortable.prototype */\n{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart(\n  /** Event|TouchEvent */\n  evt) {\n    if (!evt.cancelable) return;\n\n    var _this = this,\n        el = this.el,\n        options = this.options,\n        preventOnFilter = options.preventOnFilter,\n        type = evt.type,\n        touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n        target = (touch || evt).target,\n        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n        filter = options.filter;\n\n    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n    if (dragEl) {\n      return;\n    }\n\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    } // cancel dnd if original target is content editable\n\n\n    if (originalTarget.isContentEditable) {\n      return;\n    } // Safari ignores further event handling after mousedown\n\n\n    if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\n      return;\n    }\n\n    target = closest(target, options.draggable, el, false);\n\n    if (target && target.animated) {\n      return;\n    }\n\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    } // Get the index of the dragged element within its parent\n\n\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable); // Check filter\n\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n\n      if (filter) {\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    } // Prepare `dragstart`\n\n\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch,\n  /** HTMLElement */\n  target) {\n    var _this = this,\n        el = _this.el,\n        options = _this.options,\n        ownerDocument = el.ownerDocument,\n        dragStartFn;\n\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n\n          return;\n        } // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n\n\n        _this._disableDelayedDragEvents();\n\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        } // Bind the events: dragstart/dragend\n\n\n        _this._triggerDragStart(evt, touch); // Drag start event\n\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        }); // Chosen item\n\n\n        toggleClass(dragEl, options.chosenClass, true);\n      }; // Disable \"draggable\"\n\n\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mouseup', _this._onDrop);\n      on(ownerDocument, 'touchend', _this._onDrop);\n      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n\n      pluginEvent('delayStart', this, {\n        evt: evt\n      }); // Delay is impossible for native DnD in Edge or IE\n\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n\n          return;\n        } // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n\n\n        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n  /** TouchEvent|PointerEvent **/\n  e) {\n    var touch = e.touches ? e.touches[0] : e;\n\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n\n    try {\n      if (document.selection) {\n        // Timeout neccessary for IE9\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n\n    awaitingDragStarted = false;\n\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n\n      var options = this.options; // Apply effect\n\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost(); // Drag start event\n\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n\n      _hideGhostForTarget();\n\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n\n          target = parent; // store last element\n        }\n        /* jshint boss:true */\n        while (parent = parent.parentNode);\n      }\n\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove(\n  /**TouchEvent*/\n  evt) {\n    if (tapEvt) {\n      var options = this.options,\n          fallbackTolerance = options.fallbackTolerance,\n          fallbackOffset = options.fallbackOffset,\n          touch = evt.touches ? evt.touches[0] : evt,\n          ghostMatrix = ghostEl && matrix(ghostEl, true),\n          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n\n        this._onDragStart(evt, true);\n      }\n\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n          options = this.options; // Position absolutely\n\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl); // Set transform-origin\n\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart(\n  /**Event*/\n  evt,\n  /**boolean*/\n  fallback) {\n    var _this = this;\n\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n\n      return;\n    }\n\n    pluginEvent('setupClone', this);\n\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n\n      this._hideClone();\n\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    } // #1143: IFrame support workaround\n\n\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n\n      _this._hideClone();\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n\n      on(document, 'drop', _this); // #1276 fix:\n\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        target = evt.target,\n        dragRect,\n        targetRect,\n        revert,\n        options = this.options,\n        group = options.group,\n        activeSortable = Sortable.active,\n        isOwner = activeGroup === group,\n        canSort = options.sort,\n        fromSortable = putSortable || activeSortable,\n        vertical,\n        _this = this,\n        completedFired = false;\n\n    if (_silent) return;\n\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread2({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    } // Capture animation state\n\n\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n\n      _this.captureAnimationState();\n\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    } // Return invocation when dragEl is inserted (or completed)\n\n\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        } // Animation\n\n\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      } // Null lastTarget if it is not inside a previously swapped element\n\n\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      } // no bubbling and not fallback\n\n\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    } // Call when dragEl has been inserted\n\n\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n\n    ignoreNextClick = false;\n\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = parentEl !== rootEl) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (revert) {\n        parentEl = rootEl; // actualization\n\n        capture();\n\n        this._hideClone();\n\n        dragOverEvent('revert');\n\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n\n        return completed(true);\n      }\n\n      var elLastChild = lastChild(el, options.draggable);\n\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // Insert to end of list\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        } // if there is a last element, it is the target\n\n\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n\n        if (target) {\n          targetRect = getRect(target);\n        }\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n          el.appendChild(dragEl);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (elLastChild && _ghostIsFirst(evt, vertical, this)) {\n        // Insert to start of list\n        var firstChild = getChild(el, 0, options, true);\n\n        if (firstChild === dragEl) {\n          return completed(false);\n        }\n\n        target = firstChild;\n        targetRect = getRect(target);\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, false) !== false) {\n          capture();\n          el.insertBefore(dragEl, firstChild);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n            targetBeforeFirstSwap,\n            differentLevel = dragEl.parentNode !== el,\n            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n            side1 = vertical ? 'top' : 'left',\n            scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        } // If dragEl is already beside target: Do not insert\n\n\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n            after = false;\n        after = direction === 1;\n\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n\n          parentEl = dragEl.parentNode; // actualization\n          // must be done before animation\n\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n\n          changed();\n          return completed(true);\n        }\n      }\n\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        options = this.options; // Get the index of the dragged element within its parent\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n\n    if (Sortable.eventCanceled) {\n      this._nulling();\n\n      return;\n    }\n\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n\n    _cancelNextTick(this.cloneId);\n\n    _cancelNextTick(this._dragStartId); // Unbind events\n\n\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n\n    this._offMoveEvents();\n\n    this._offUpEvents();\n\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n\n    css(dragEl, 'transform', '');\n\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n\n        _disableDraggable(dragEl);\n\n        dragEl.style['will-change'] = ''; // Remove classes\n        // ghostClass is added in dragStarted\n\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n\n        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            }); // Remove event\n\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // drag from one list and drop into another\n\n\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          }); // Save sorting\n\n\n          this.save();\n        }\n      }\n    }\n\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent(\n  /**Event*/\n  evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n\n        break;\n\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n\n          _globalDragOver(evt);\n        }\n\n        break;\n\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n\n  /**\n   * Serializes the item into an array of string.\n   * @returns {String[]}\n   */\n  toArray: function toArray() {\n    var order = [],\n        el,\n        children = this.el.children,\n        i = 0,\n        n = children.length,\n        options = this.options;\n\n    for (; i < n; i++) {\n      el = children[i];\n\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n\n    return order;\n  },\n\n  /**\n   * Sorts the elements according to the array.\n   * @param  {String[]}  order  order of the items\n   */\n  sort: function sort(order, useAnimation) {\n    var items = {},\n        rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    useAnimation && this.captureAnimationState();\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n    useAnimation && this.animateAll();\n  },\n\n  /**\n   * Save the current sorting\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n\n  /**\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n   * @param   {HTMLElement}  el\n   * @param   {String}       [selector]  default: `options.draggable`\n   * @returns {HTMLElement|null}\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n\n  /**\n   * Set/get option\n   * @param   {string} name\n   * @param   {*}      [value]\n   * @returns {*}\n   */\n  option: function option(name, value) {\n    var options = this.options;\n\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n\n  /**\n   * Destroy\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    } // Remove draggable attributes\n\n\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n\n    this._onDrop();\n\n    this._disableDelayedDragEvents();\n\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n\n      return;\n    }\n\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n      if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\n\nfunction _globalDragOver(\n/**Event*/\nevt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n\n  evt.cancelable && evt.preventDefault();\n}\n\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n      sortable = fromEl[expando],\n      onMoveFn = sortable.options.onMove,\n      retVal; // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n\n  return retVal;\n}\n\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\n\nfunction _unsilent() {\n  _silent = false;\n}\n\nfunction _ghostIsFirst(evt, vertical, sortable) {\n  var rect = getRect(getChild(sortable.el, 0, sortable.options, true));\n  var spacer = 10;\n  return vertical ? evt.clientX < rect.left - spacer || evt.clientY < rect.top && evt.clientX < rect.right : evt.clientY < rect.top - spacer || evt.clientY < rect.bottom && evt.clientX < rect.left;\n}\n\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var spacer = 10;\n  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n}\n\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n      targetLength = vertical ? targetRect.height : targetRect.width,\n      targetS1 = vertical ? targetRect.top : targetRect.left,\n      targetS2 = vertical ? targetRect.bottom : targetRect.right,\n      invert = false;\n\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n\n  invert = invert || invertSwap;\n\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n/**\n * Gets the direction dragEl must be swapped relative to target in order to make it\n * seem that dragEl has been \"inserted\" into that element's position\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n * @return {Number}                   Direction dragEl must be swapped\n */\n\n\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n/**\n * Generate id\n * @param   {HTMLElement} el\n * @returns {String}\n * @private\n */\n\n\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n      i = str.length,\n      sum = 0;\n\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum.toString(36);\n}\n\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\n\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\n\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n} // Fixed #973:\n\n\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n} // Export utils\n\n\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild\n};\n/**\n * Get the Sortable instance of an element\n * @param  {HTMLElement} element The element\n * @return {Sortable|undefined}         The instance of Sortable\n */\n\nSortable.get = function (element) {\n  return element[expando];\n};\n/**\n * Mount a plugin to Sortable\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\n */\n\n\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n\n    if (plugin.utils) Sortable.utils = _objectSpread2(_objectSpread2({}, Sortable.utils), plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n/**\n * Create sortable instance\n * @param {HTMLElement}  el\n * @param {Object}      [options]\n */\n\n\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n}; // Export\n\n\nSortable.version = version;\n\nvar autoScrolls = [],\n    scrollEl,\n    scrollRootEl,\n    scrolling = false,\n    lastAutoScrollX,\n    lastAutoScrollY,\n    touchEvt$1,\n    pointerElemChangedInterval;\n\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      forceAutoScrollFallback: false,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    }; // Bind all private methods\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n\n      if (fallback || this.options.forceAutoScrollFallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\n\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\n\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\n\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n      y = (evt.touches ? evt.touches[0] : evt).clientY,\n      sens = options.scrollSensitivity,\n      speed = options.scrollSpeed,\n      winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n      scrollCustomFn; // New scroll root, set scrollEl\n\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n\n  var layersOut = 0;\n  var currentParent = scrollEl;\n\n  do {\n    var el = currentParent,\n        rect = getRect(el),\n        top = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right,\n        width = rect.width,\n        height = rect.height,\n        canScrollX = void 0,\n        canScrollY = void 0,\n        scrollWidth = el.scrollWidth,\n        scrollHeight = el.scrollHeight,\n        elCSS = css(el),\n        scrollPosX = el.scrollLeft,\n        scrollPosY = el.scrollTop;\n\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n          }\n\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      dragEl = _ref.dragEl,\n      activeSortable = _ref.activeSortable,\n      dispatchSortableEvent = _ref.dispatchSortableEvent,\n      hideGhostForTarget = _ref.hideGhostForTarget,\n      unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\n\nfunction Revert() {}\n\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n        putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n\n    this.sortable.animateAll();\n\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\n\nfunction Remove() {}\n\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n        putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar lastSwapEl;\n\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n          target = _ref2.target,\n          onMove = _ref2.onMove,\n          activeSortable = _ref2.activeSortable,\n          changed = _ref2.changed,\n          cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n          options = this.options;\n\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n          putSortable = _ref3.putSortable,\n          dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\n\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n      p2 = n2.parentNode,\n      i1,\n      i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n    multiDragClones = [],\n    lastMultiDragSelect,\n    // for selection with modifier key down (SHIFT)\nmultiDragSortable,\n    initialFolding = false,\n    // Initial multi-drag fold when drag started\nfolding = false,\n    // Folding any other time\ndragStarted = false,\n    dragEl$1,\n    clonesFromRect,\n    clonesHidden;\n\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n\n    if (sortable.options.supportPointer) {\n      on(document, 'pointerup', this._deselectMultiDrag);\n    } else {\n      on(document, 'mouseup', this._deselectMultiDrag);\n      on(document, 'touchend', this._deselectMultiDrag);\n    }\n\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n          cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n\n      sortable._hideClone();\n\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n          rootEl = _ref3.rootEl,\n          dispatchSortableEvent = _ref3.dispatchSortableEvent,\n          cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n          rootEl = _ref4.rootEl,\n          cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n\n      var sortable = _ref5.sortable,\n          cloneNowHidden = _ref5.cloneNowHidden,\n          cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      }); // Sort multi-drag elements\n\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n        sortable.captureAnimationState();\n\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        } // Remove all auxiliary multidrag items from el, if sorting enabled\n\n\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n          completed = _ref8.completed,\n          cancel = _ref8.cancel;\n\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n          rootEl = _ref9.rootEl,\n          sortable = _ref9.sortable,\n          dragRect = _ref9.dragRect;\n\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n          isOwner = _ref10.isOwner,\n          insertion = _ref10.insertion,\n          activeSortable = _ref10.activeSortable,\n          parentEl = _ref10.parentEl,\n          putSortable = _ref10.putSortable;\n      var options = this.options;\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n\n        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\n\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n\n            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n\n\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n          isOwner = _ref11.isOwner,\n          activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n          rootEl = _ref12.rootEl,\n          parentEl = _ref12.parentEl,\n          sortable = _ref12.sortable,\n          dispatchSortableEvent = _ref12.dispatchSortableEvent,\n          oldIndex = _ref12.oldIndex,\n          putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n          children = parentEl.children; // Multi-drag selection\n\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          }); // Modifier activated, select from last to dragEl\n\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n                currentIndex = index(dragEl$1);\n\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n              // (but previous selection existed)\n              var n, i;\n\n              if (currentIndex > lastIndex) {\n                i = lastIndex;\n                n = currentIndex;\n              } else {\n                i = currentIndex;\n                n = lastIndex + 1;\n              }\n\n              for (; i < n; i++) {\n                if (~multiDragElements.indexOf(children[i])) continue;\n                toggleClass(children[i], options.selectedClass, true);\n                multiDragElements.push(children[i]);\n                dispatchEvent({\n                  sortable: sortable,\n                  rootEl: rootEl,\n                  name: 'select',\n                  targetEl: children[i],\n                  originalEvt: evt\n                });\n              }\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          });\n        }\n      } // Multi-drag drop\n\n\n      if (dragStarted && this.isMultiDrag) {\n        folding = false; // Do not \"unfold\" after around dragEl if reverted\n\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect; // Prepare unfold animation\n\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n\n\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n\n              multiDragIndex++;\n            }); // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n\n              if (update) {\n                dispatchSortableEvent('update');\n              }\n            }\n          } // Must be done after capturing individual rects (scroll bar)\n\n\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n\n        multiDragSortable = toSortable;\n      } // Remove clones if necessary\n\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return; // Only deselect if selection is in this sortable\n\n      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n\n      if (evt && evt.button !== 0) return;\n\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvt: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\n       * Selects the provided multi-drag item\n       * @param  {HTMLElement} el    The element to be selected\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n\n          multiDragSortable = sortable;\n        }\n\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n\n      /**\n       * Deselects the provided multi-drag item\n       * @param  {HTMLElement} el    The element to be deselected\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n            index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n\n      var oldIndicies = [],\n          newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        }); // multiDragElements will already be sorted if folding\n\n        var newIndex;\n\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n\n        return key;\n      }\n    }\n  });\n}\n\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n/**\n * Insert multi-drag clones\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\n * @param  {HTMLElement} rootEl\n */\n\n\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\n\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nSortable.mount(new AutoScrollPlugin());\nSortable.mount(Remove, Revert);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Sortable);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc29ydGFibGVqcy9tb2R1bGFyL3NvcnRhYmxlLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQixzQkFBc0I7QUFDeEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYyx1QkFBdUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsZ0JBQWdCLDZCQUE2QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEseUNBQXlDLFNBQVM7O0FBRWxEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtB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QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTs7O0FBR1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRDs7QUFFaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnREFBZ0Q7O0FBRWhEO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7O0FBRTFDO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7O0FBRXRDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE1BQU07OztBQUdOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCwrREFBK0Q7O0FBRS9EO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQ0FBbUM7O0FBRW5DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQLE1BQU07OztBQUdOO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7O0FBR047QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7OztBQUdWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTs7O0FBR1I7QUFDQTtBQUNBLFFBQVE7OztBQUdSO0FBQ0EsaUVBQWlFOzs7QUFHakU7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTs7O0FBR047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJCQUEyQjs7QUFFM0I7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVOzs7QUFHVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qjs7QUFFekI7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUJBQXlCOztBQUV6QjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWixVQUFVOzs7QUFHVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBLFlBQVk7OztBQUdaO0FBQ0E7QUFDQTs7QUFFQSx3Q0FBd0M7QUFDeEM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7O0FBRWhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDRDQUE0Qzs7QUFFNUM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSx3Q0FBd0M7OztBQUd4QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSwwQ0FBMEM7QUFDMUM7O0FBRUE7QUFDQTtBQUNBOztBQUVBLDhEQUE4RDs7QUFFOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsR0FBRzs7O0FBR2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLEdBQUc7OztBQUdoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7O0FBRWY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7OztBQUdkO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFdBQVcsT0FBTztBQUNsQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLGNBQWMsV0FBVztBQUN6QjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxlQUFlLGNBQWM7QUFDN0IsZUFBZSxjQUFjO0FBQzdCLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWU7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07OztBQUdOO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMENBQTBDOztBQUUxQztBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjOztBQUVkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxhQUFhO0FBQ3pCLFlBQVksMEJBQTBCO0FBQ3RDOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsYUFBYTtBQUMxQixhQUFhO0FBQ2I7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7OztBQUdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGFBQWE7QUFDekIsWUFBWSw0QkFBNEI7QUFDeEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksb0NBQW9DO0FBQ2hEOzs7QUFHQTtBQUNBLHlFQUF5RSxhQUFhO0FBQ3RGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscUZBQXFGO0FBQ3JGOztBQUVBLHVFQUF1RTtBQUN2RTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsV0FBVyxhQUFhO0FBQ3hCOzs7QUFHQTtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVEQUF1RDs7QUFFdkQ7O0FBRUE7QUFDQSwyRUFBMkU7O0FBRTNFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjs7QUFFdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQixnQkFBZ0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Q7O0FBRXREOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0EsSUFBSTs7QUFFSixrQ0FBa0M7QUFDbEMsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLDhCQUE4QjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTyxHQUFHOztBQUVWO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxVQUFVOzs7QUFHVjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxXQUFXO0FBQ3ZCLFlBQVksYUFBYTtBQUN6Qjs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBLCtEQUFlLFFBQVEsRUFBQztBQUM4QyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL25vZGVfbW9kdWxlcy9zb3J0YWJsZWpzL21vZHVsYXIvc29ydGFibGUuZXNtLmpzP2FhNDciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIVxuICogU29ydGFibGUgMS4xNC4wXG4gKiBAYXV0aG9yXHRSdWJhWGEgICA8dHJhc2hAcnViYXhhLm9yZz5cbiAqIEBhdXRob3JcdG93ZW5tICAgIDxvd2VuMjMzNTVAZ21haWwuY29tPlxuICogQGxpY2Vuc2UgTUlUXG4gKi9cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkge1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTtcblxuICAgIGlmIChlbnVtZXJhYmxlT25seSkge1xuICAgICAgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7XG4gIH1cblxuICByZXR1cm4ga2V5cztcbn1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZDIodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307XG5cbiAgICBpZiAoaSAlIDIpIHtcbiAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcblxuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHtcbiAgICBfdHlwZW9mID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBfdHlwZW9mID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfdHlwZW9mKG9iaik7XG59XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG5cbiAgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpO1xuXG4gIHZhciBrZXksIGk7XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldO1xuICAgICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7XG4gICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTtcbn1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTtcblxuICByZXR1cm4gYXJyMjtcbn1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxudmFyIHZlcnNpb24gPSBcIjEuMTQuMFwiO1xuXG5mdW5jdGlvbiB1c2VyQWdlbnQocGF0dGVybikge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lm5hdmlnYXRvcikge1xuICAgIHJldHVybiAhISAvKkBfX1BVUkVfXyovbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaChwYXR0ZXJuKTtcbiAgfVxufVxuXG52YXIgSUUxMU9yTGVzcyA9IHVzZXJBZ2VudCgvKD86VHJpZGVudC4qcnZbIDpdPzExXFwufG1zaWV8aWVtb2JpbGV8V2luZG93cyBQaG9uZSkvaSk7XG52YXIgRWRnZSA9IHVzZXJBZ2VudCgvRWRnZS9pKTtcbnZhciBGaXJlRm94ID0gdXNlckFnZW50KC9maXJlZm94L2kpO1xudmFyIFNhZmFyaSA9IHVzZXJBZ2VudCgvc2FmYXJpL2kpICYmICF1c2VyQWdlbnQoL2Nocm9tZS9pKSAmJiAhdXNlckFnZW50KC9hbmRyb2lkL2kpO1xudmFyIElPUyA9IHVzZXJBZ2VudCgvaVAoYWR8b2R8aG9uZSkvaSk7XG52YXIgQ2hyb21lRm9yQW5kcm9pZCA9IHVzZXJBZ2VudCgvY2hyb21lL2kpICYmIHVzZXJBZ2VudCgvYW5kcm9pZC9pKTtcblxudmFyIGNhcHR1cmVNb2RlID0ge1xuICBjYXB0dXJlOiBmYWxzZSxcbiAgcGFzc2l2ZTogZmFsc2Vcbn07XG5cbmZ1bmN0aW9uIG9uKGVsLCBldmVudCwgZm4pIHtcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgZm4sICFJRTExT3JMZXNzICYmIGNhcHR1cmVNb2RlKTtcbn1cblxuZnVuY3Rpb24gb2ZmKGVsLCBldmVudCwgZm4pIHtcbiAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgZm4sICFJRTExT3JMZXNzICYmIGNhcHR1cmVNb2RlKTtcbn1cblxuZnVuY3Rpb24gbWF0Y2hlcyhcbi8qKkhUTUxFbGVtZW50Ki9cbmVsLFxuLyoqU3RyaW5nKi9cbnNlbGVjdG9yKSB7XG4gIGlmICghc2VsZWN0b3IpIHJldHVybjtcbiAgc2VsZWN0b3JbMF0gPT09ICc+JyAmJiAoc2VsZWN0b3IgPSBzZWxlY3Rvci5zdWJzdHJpbmcoMSkpO1xuXG4gIGlmIChlbCkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoZWwubWF0Y2hlcykge1xuICAgICAgICByZXR1cm4gZWwubWF0Y2hlcyhzZWxlY3Rvcik7XG4gICAgICB9IGVsc2UgaWYgKGVsLm1zTWF0Y2hlc1NlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBlbC5tc01hdGNoZXNTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICB9IGVsc2UgaWYgKGVsLndlYmtpdE1hdGNoZXNTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZWwud2Via2l0TWF0Y2hlc1NlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChfKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRQYXJlbnRPckhvc3QoZWwpIHtcbiAgcmV0dXJuIGVsLmhvc3QgJiYgZWwgIT09IGRvY3VtZW50ICYmIGVsLmhvc3Qubm9kZVR5cGUgPyBlbC5ob3N0IDogZWwucGFyZW50Tm9kZTtcbn1cblxuZnVuY3Rpb24gY2xvc2VzdChcbi8qKkhUTUxFbGVtZW50Ki9cbmVsLFxuLyoqU3RyaW5nKi9cbnNlbGVjdG9yLFxuLyoqSFRNTEVsZW1lbnQqL1xuY3R4LCBpbmNsdWRlQ1RYKSB7XG4gIGlmIChlbCkge1xuICAgIGN0eCA9IGN0eCB8fCBkb2N1bWVudDtcblxuICAgIGRvIHtcbiAgICAgIGlmIChzZWxlY3RvciAhPSBudWxsICYmIChzZWxlY3RvclswXSA9PT0gJz4nID8gZWwucGFyZW50Tm9kZSA9PT0gY3R4ICYmIG1hdGNoZXMoZWwsIHNlbGVjdG9yKSA6IG1hdGNoZXMoZWwsIHNlbGVjdG9yKSkgfHwgaW5jbHVkZUNUWCAmJiBlbCA9PT0gY3R4KSB7XG4gICAgICAgIHJldHVybiBlbDtcbiAgICAgIH1cblxuICAgICAgaWYgKGVsID09PSBjdHgpIGJyZWFrO1xuICAgICAgLyoganNoaW50IGJvc3M6dHJ1ZSAqL1xuICAgIH0gd2hpbGUgKGVsID0gZ2V0UGFyZW50T3JIb3N0KGVsKSk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxudmFyIFJfU1BBQ0UgPSAvXFxzKy9nO1xuXG5mdW5jdGlvbiB0b2dnbGVDbGFzcyhlbCwgbmFtZSwgc3RhdGUpIHtcbiAgaWYgKGVsICYmIG5hbWUpIHtcbiAgICBpZiAoZWwuY2xhc3NMaXN0KSB7XG4gICAgICBlbC5jbGFzc0xpc3Rbc3RhdGUgPyAnYWRkJyA6ICdyZW1vdmUnXShuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGNsYXNzTmFtZSA9ICgnICcgKyBlbC5jbGFzc05hbWUgKyAnICcpLnJlcGxhY2UoUl9TUEFDRSwgJyAnKS5yZXBsYWNlKCcgJyArIG5hbWUgKyAnICcsICcgJyk7XG4gICAgICBlbC5jbGFzc05hbWUgPSAoY2xhc3NOYW1lICsgKHN0YXRlID8gJyAnICsgbmFtZSA6ICcnKSkucmVwbGFjZShSX1NQQUNFLCAnICcpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjc3MoZWwsIHByb3AsIHZhbCkge1xuICB2YXIgc3R5bGUgPSBlbCAmJiBlbC5zdHlsZTtcblxuICBpZiAoc3R5bGUpIHtcbiAgICBpZiAodmFsID09PSB2b2lkIDApIHtcbiAgICAgIGlmIChkb2N1bWVudC5kZWZhdWx0VmlldyAmJiBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKSB7XG4gICAgICAgIHZhbCA9IGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWwsICcnKTtcbiAgICAgIH0gZWxzZSBpZiAoZWwuY3VycmVudFN0eWxlKSB7XG4gICAgICAgIHZhbCA9IGVsLmN1cnJlbnRTdHlsZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByb3AgPT09IHZvaWQgMCA/IHZhbCA6IHZhbFtwcm9wXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCEocHJvcCBpbiBzdHlsZSkgJiYgcHJvcC5pbmRleE9mKCd3ZWJraXQnKSA9PT0gLTEpIHtcbiAgICAgICAgcHJvcCA9ICctd2Via2l0LScgKyBwcm9wO1xuICAgICAgfVxuXG4gICAgICBzdHlsZVtwcm9wXSA9IHZhbCArICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/ICcnIDogJ3B4Jyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG1hdHJpeChlbCwgc2VsZk9ubHkpIHtcbiAgdmFyIGFwcGxpZWRUcmFuc2Zvcm1zID0gJyc7XG5cbiAgaWYgKHR5cGVvZiBlbCA9PT0gJ3N0cmluZycpIHtcbiAgICBhcHBsaWVkVHJhbnNmb3JtcyA9IGVsO1xuICB9IGVsc2Uge1xuICAgIGRvIHtcbiAgICAgIHZhciB0cmFuc2Zvcm0gPSBjc3MoZWwsICd0cmFuc2Zvcm0nKTtcblxuICAgICAgaWYgKHRyYW5zZm9ybSAmJiB0cmFuc2Zvcm0gIT09ICdub25lJykge1xuICAgICAgICBhcHBsaWVkVHJhbnNmb3JtcyA9IHRyYW5zZm9ybSArICcgJyArIGFwcGxpZWRUcmFuc2Zvcm1zO1xuICAgICAgfVxuICAgICAgLyoganNoaW50IGJvc3M6dHJ1ZSAqL1xuXG4gICAgfSB3aGlsZSAoIXNlbGZPbmx5ICYmIChlbCA9IGVsLnBhcmVudE5vZGUpKTtcbiAgfVxuXG4gIHZhciBtYXRyaXhGbiA9IHdpbmRvdy5ET01NYXRyaXggfHwgd2luZG93LldlYktpdENTU01hdHJpeCB8fCB3aW5kb3cuQ1NTTWF0cml4IHx8IHdpbmRvdy5NU0NTU01hdHJpeDtcbiAgLypqc2hpbnQgLVcwNTYgKi9cblxuICByZXR1cm4gbWF0cml4Rm4gJiYgbmV3IG1hdHJpeEZuKGFwcGxpZWRUcmFuc2Zvcm1zKTtcbn1cblxuZnVuY3Rpb24gZmluZChjdHgsIHRhZ05hbWUsIGl0ZXJhdG9yKSB7XG4gIGlmIChjdHgpIHtcbiAgICB2YXIgbGlzdCA9IGN0eC5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWdOYW1lKSxcbiAgICAgICAgaSA9IDAsXG4gICAgICAgIG4gPSBsaXN0Lmxlbmd0aDtcblxuICAgIGlmIChpdGVyYXRvcikge1xuICAgICAgZm9yICg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgaXRlcmF0b3IobGlzdFtpXSwgaSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cblxuICByZXR1cm4gW107XG59XG5cbmZ1bmN0aW9uIGdldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKSB7XG4gIHZhciBzY3JvbGxpbmdFbGVtZW50ID0gZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudDtcblxuICBpZiAoc2Nyb2xsaW5nRWxlbWVudCkge1xuICAgIHJldHVybiBzY3JvbGxpbmdFbGVtZW50O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIH1cbn1cbi8qKlxuICogUmV0dXJucyB0aGUgXCJib3VuZGluZyBjbGllbnQgcmVjdFwiIG9mIGdpdmVuIGVsZW1lbnRcbiAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSBlbCAgICAgICAgICAgICAgICAgICAgICAgVGhlIGVsZW1lbnQgd2hvc2UgYm91bmRpbmdDbGllbnRSZWN0IGlzIHdhbnRlZFxuICogQHBhcmFtICB7W0Jvb2xlYW5dfSByZWxhdGl2ZVRvQ29udGFpbmluZ0Jsb2NrICBXaGV0aGVyIHRoZSByZWN0IHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgY29udGFpbmluZyBibG9jayBvZiAoaW5jbHVkaW5nKSB0aGUgY29udGFpbmVyXG4gKiBAcGFyYW0gIHtbQm9vbGVhbl19IHJlbGF0aXZlVG9Ob25TdGF0aWNQYXJlbnQgIFdoZXRoZXIgdGhlIHJlY3Qgc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSByZWxhdGl2ZSBwYXJlbnQgb2YgKGluY2x1ZGluZykgdGhlIGNvbnRhaWVuclxuICogQHBhcmFtICB7W0Jvb2xlYW5dfSB1bmRvU2NhbGUgICAgICAgICAgICAgICAgICBXaGV0aGVyIHRoZSBjb250YWluZXIncyBzY2FsZSgpIHNob3VsZCBiZSB1bmRvbmVcbiAqIEBwYXJhbSAge1tIVE1MRWxlbWVudF19IGNvbnRhaW5lciAgICAgICAgICAgICAgVGhlIHBhcmVudCB0aGUgZWxlbWVudCB3aWxsIGJlIHBsYWNlZCBpblxuICogQHJldHVybiB7T2JqZWN0fSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGUgYm91bmRpbmdDbGllbnRSZWN0IG9mIGVsLCB3aXRoIHNwZWNpZmllZCBhZGp1c3RtZW50c1xuICovXG5cblxuZnVuY3Rpb24gZ2V0UmVjdChlbCwgcmVsYXRpdmVUb0NvbnRhaW5pbmdCbG9jaywgcmVsYXRpdmVUb05vblN0YXRpY1BhcmVudCwgdW5kb1NjYWxlLCBjb250YWluZXIpIHtcbiAgaWYgKCFlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QgJiYgZWwgIT09IHdpbmRvdykgcmV0dXJuO1xuICB2YXIgZWxSZWN0LCB0b3AsIGxlZnQsIGJvdHRvbSwgcmlnaHQsIGhlaWdodCwgd2lkdGg7XG5cbiAgaWYgKGVsICE9PSB3aW5kb3cgJiYgZWwucGFyZW50Tm9kZSAmJiBlbCAhPT0gZ2V0V2luZG93U2Nyb2xsaW5nRWxlbWVudCgpKSB7XG4gICAgZWxSZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdG9wID0gZWxSZWN0LnRvcDtcbiAgICBsZWZ0ID0gZWxSZWN0LmxlZnQ7XG4gICAgYm90dG9tID0gZWxSZWN0LmJvdHRvbTtcbiAgICByaWdodCA9IGVsUmVjdC5yaWdodDtcbiAgICBoZWlnaHQgPSBlbFJlY3QuaGVpZ2h0O1xuICAgIHdpZHRoID0gZWxSZWN0LndpZHRoO1xuICB9IGVsc2Uge1xuICAgIHRvcCA9IDA7XG4gICAgbGVmdCA9IDA7XG4gICAgYm90dG9tID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIHJpZ2h0ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gIH1cblxuICBpZiAoKHJlbGF0aXZlVG9Db250YWluaW5nQmxvY2sgfHwgcmVsYXRpdmVUb05vblN0YXRpY1BhcmVudCkgJiYgZWwgIT09IHdpbmRvdykge1xuICAgIC8vIEFkanVzdCBmb3IgdHJhbnNsYXRlKClcbiAgICBjb250YWluZXIgPSBjb250YWluZXIgfHwgZWwucGFyZW50Tm9kZTsgLy8gc29sdmVzICMxMTIzIChzZWU6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zNzk1MzgwNi82MDg4MzEyKVxuICAgIC8vIE5vdCBuZWVkZWQgb24gPD0gSUUxMVxuXG4gICAgaWYgKCFJRTExT3JMZXNzKSB7XG4gICAgICBkbyB7XG4gICAgICAgIGlmIChjb250YWluZXIgJiYgY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCAmJiAoY3NzKGNvbnRhaW5lciwgJ3RyYW5zZm9ybScpICE9PSAnbm9uZScgfHwgcmVsYXRpdmVUb05vblN0YXRpY1BhcmVudCAmJiBjc3MoY29udGFpbmVyLCAncG9zaXRpb24nKSAhPT0gJ3N0YXRpYycpKSB7XG4gICAgICAgICAgdmFyIGNvbnRhaW5lclJlY3QgPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IC8vIFNldCByZWxhdGl2ZSB0byBlZGdlcyBvZiBwYWRkaW5nIGJveCBvZiBjb250YWluZXJcblxuICAgICAgICAgIHRvcCAtPSBjb250YWluZXJSZWN0LnRvcCArIHBhcnNlSW50KGNzcyhjb250YWluZXIsICdib3JkZXItdG9wLXdpZHRoJykpO1xuICAgICAgICAgIGxlZnQgLT0gY29udGFpbmVyUmVjdC5sZWZ0ICsgcGFyc2VJbnQoY3NzKGNvbnRhaW5lciwgJ2JvcmRlci1sZWZ0LXdpZHRoJykpO1xuICAgICAgICAgIGJvdHRvbSA9IHRvcCArIGVsUmVjdC5oZWlnaHQ7XG4gICAgICAgICAgcmlnaHQgPSBsZWZ0ICsgZWxSZWN0LndpZHRoO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8qIGpzaGludCBib3NzOnRydWUgKi9cblxuICAgICAgfSB3aGlsZSAoY29udGFpbmVyID0gY29udGFpbmVyLnBhcmVudE5vZGUpO1xuICAgIH1cbiAgfVxuXG4gIGlmICh1bmRvU2NhbGUgJiYgZWwgIT09IHdpbmRvdykge1xuICAgIC8vIEFkanVzdCBmb3Igc2NhbGUoKVxuICAgIHZhciBlbE1hdHJpeCA9IG1hdHJpeChjb250YWluZXIgfHwgZWwpLFxuICAgICAgICBzY2FsZVggPSBlbE1hdHJpeCAmJiBlbE1hdHJpeC5hLFxuICAgICAgICBzY2FsZVkgPSBlbE1hdHJpeCAmJiBlbE1hdHJpeC5kO1xuXG4gICAgaWYgKGVsTWF0cml4KSB7XG4gICAgICB0b3AgLz0gc2NhbGVZO1xuICAgICAgbGVmdCAvPSBzY2FsZVg7XG4gICAgICB3aWR0aCAvPSBzY2FsZVg7XG4gICAgICBoZWlnaHQgLz0gc2NhbGVZO1xuICAgICAgYm90dG9tID0gdG9wICsgaGVpZ2h0O1xuICAgICAgcmlnaHQgPSBsZWZ0ICsgd2lkdGg7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0b3A6IHRvcCxcbiAgICBsZWZ0OiBsZWZ0LFxuICAgIGJvdHRvbTogYm90dG9tLFxuICAgIHJpZ2h0OiByaWdodCxcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgaGVpZ2h0OiBoZWlnaHRcbiAgfTtcbn1cbi8qKlxuICogQ2hlY2tzIGlmIGEgc2lkZSBvZiBhbiBlbGVtZW50IGlzIHNjcm9sbGVkIHBhc3QgYSBzaWRlIG9mIGl0cyBwYXJlbnRzXG4gKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gIGVsICAgICAgICAgICBUaGUgZWxlbWVudCB3aG8ncyBzaWRlIGJlaW5nIHNjcm9sbGVkIG91dCBvZiB2aWV3IGlzIGluIHF1ZXN0aW9uXG4gKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgIGVsU2lkZSAgICAgICBTaWRlIG9mIHRoZSBlbGVtZW50IGluIHF1ZXN0aW9uICgndG9wJywgJ2xlZnQnLCAncmlnaHQnLCAnYm90dG9tJylcbiAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgcGFyZW50U2lkZSAgIFNpZGUgb2YgdGhlIHBhcmVudCBpbiBxdWVzdGlvbiAoJ3RvcCcsICdsZWZ0JywgJ3JpZ2h0JywgJ2JvdHRvbScpXG4gKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gICAgICAgICAgICAgICBUaGUgcGFyZW50IHNjcm9sbCBlbGVtZW50IHRoYXQgdGhlIGVsJ3Mgc2lkZSBpcyBzY3JvbGxlZCBwYXN0LCBvciBudWxsIGlmIHRoZXJlIGlzIG5vIHN1Y2ggZWxlbWVudFxuICovXG5cblxuZnVuY3Rpb24gaXNTY3JvbGxlZFBhc3QoZWwsIGVsU2lkZSwgcGFyZW50U2lkZSkge1xuICB2YXIgcGFyZW50ID0gZ2V0UGFyZW50QXV0b1Njcm9sbEVsZW1lbnQoZWwsIHRydWUpLFxuICAgICAgZWxTaWRlVmFsID0gZ2V0UmVjdChlbClbZWxTaWRlXTtcbiAgLyoganNoaW50IGJvc3M6dHJ1ZSAqL1xuXG4gIHdoaWxlIChwYXJlbnQpIHtcbiAgICB2YXIgcGFyZW50U2lkZVZhbCA9IGdldFJlY3QocGFyZW50KVtwYXJlbnRTaWRlXSxcbiAgICAgICAgdmlzaWJsZSA9IHZvaWQgMDtcblxuICAgIGlmIChwYXJlbnRTaWRlID09PSAndG9wJyB8fCBwYXJlbnRTaWRlID09PSAnbGVmdCcpIHtcbiAgICAgIHZpc2libGUgPSBlbFNpZGVWYWwgPj0gcGFyZW50U2lkZVZhbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmlzaWJsZSA9IGVsU2lkZVZhbCA8PSBwYXJlbnRTaWRlVmFsO1xuICAgIH1cblxuICAgIGlmICghdmlzaWJsZSkgcmV0dXJuIHBhcmVudDtcbiAgICBpZiAocGFyZW50ID09PSBnZXRXaW5kb3dTY3JvbGxpbmdFbGVtZW50KCkpIGJyZWFrO1xuICAgIHBhcmVudCA9IGdldFBhcmVudEF1dG9TY3JvbGxFbGVtZW50KHBhcmVudCwgZmFsc2UpO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBHZXRzIG50aCBjaGlsZCBvZiBlbCwgaWdub3JpbmcgaGlkZGVuIGNoaWxkcmVuLCBzb3J0YWJsZSdzIGVsZW1lbnRzIChkb2VzIG5vdCBpZ25vcmUgY2xvbmUgaWYgaXQncyB2aXNpYmxlKVxuICogYW5kIG5vbi1kcmFnZ2FibGUgZWxlbWVudHNcbiAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSBlbCAgICAgICBUaGUgcGFyZW50IGVsZW1lbnRcbiAqIEBwYXJhbSAge051bWJlcn0gY2hpbGROdW0gICAgICBUaGUgaW5kZXggb2YgdGhlIGNoaWxkXG4gKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnMgICAgICAgUGFyZW50IFNvcnRhYmxlJ3Mgb3B0aW9uc1xuICogQHJldHVybiB7SFRNTEVsZW1lbnR9ICAgICAgICAgIFRoZSBjaGlsZCBhdCBpbmRleCBjaGlsZE51bSwgb3IgbnVsbCBpZiBub3QgZm91bmRcbiAqL1xuXG5cbmZ1bmN0aW9uIGdldENoaWxkKGVsLCBjaGlsZE51bSwgb3B0aW9ucywgaW5jbHVkZURyYWdFbCkge1xuICB2YXIgY3VycmVudENoaWxkID0gMCxcbiAgICAgIGkgPSAwLFxuICAgICAgY2hpbGRyZW4gPSBlbC5jaGlsZHJlbjtcblxuICB3aGlsZSAoaSA8IGNoaWxkcmVuLmxlbmd0aCkge1xuICAgIGlmIChjaGlsZHJlbltpXS5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZScgJiYgY2hpbGRyZW5baV0gIT09IFNvcnRhYmxlLmdob3N0ICYmIChpbmNsdWRlRHJhZ0VsIHx8IGNoaWxkcmVuW2ldICE9PSBTb3J0YWJsZS5kcmFnZ2VkKSAmJiBjbG9zZXN0KGNoaWxkcmVuW2ldLCBvcHRpb25zLmRyYWdnYWJsZSwgZWwsIGZhbHNlKSkge1xuICAgICAgaWYgKGN1cnJlbnRDaGlsZCA9PT0gY2hpbGROdW0pIHtcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuW2ldO1xuICAgICAgfVxuXG4gICAgICBjdXJyZW50Q2hpbGQrKztcbiAgICB9XG5cbiAgICBpKys7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogR2V0cyB0aGUgbGFzdCBjaGlsZCBpbiB0aGUgZWwsIGlnbm9yaW5nIGdob3N0RWwgb3IgaW52aXNpYmxlIGVsZW1lbnRzIChjbG9uZXMpXG4gKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWwgICAgICAgUGFyZW50IGVsZW1lbnRcbiAqIEBwYXJhbSAge3NlbGVjdG9yfSBzZWxlY3RvciAgICBBbnkgb3RoZXIgZWxlbWVudHMgdGhhdCBzaG91bGQgYmUgaWdub3JlZFxuICogQHJldHVybiB7SFRNTEVsZW1lbnR9ICAgICAgICAgIFRoZSBsYXN0IGNoaWxkLCBpZ25vcmluZyBnaG9zdEVsXG4gKi9cblxuXG5mdW5jdGlvbiBsYXN0Q2hpbGQoZWwsIHNlbGVjdG9yKSB7XG4gIHZhciBsYXN0ID0gZWwubGFzdEVsZW1lbnRDaGlsZDtcblxuICB3aGlsZSAobGFzdCAmJiAobGFzdCA9PT0gU29ydGFibGUuZ2hvc3QgfHwgY3NzKGxhc3QsICdkaXNwbGF5JykgPT09ICdub25lJyB8fCBzZWxlY3RvciAmJiAhbWF0Y2hlcyhsYXN0LCBzZWxlY3RvcikpKSB7XG4gICAgbGFzdCA9IGxhc3QucHJldmlvdXNFbGVtZW50U2libGluZztcbiAgfVxuXG4gIHJldHVybiBsYXN0IHx8IG51bGw7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGluZGV4IG9mIGFuIGVsZW1lbnQgd2l0aGluIGl0cyBwYXJlbnQgZm9yIGEgc2VsZWN0ZWQgc2V0IG9mXG4gKiBlbGVtZW50c1xuICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IGVsXG4gKiBAcGFyYW0gIHtzZWxlY3Rvcn0gc2VsZWN0b3JcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuXG5cbmZ1bmN0aW9uIGluZGV4KGVsLCBzZWxlY3Rvcikge1xuICB2YXIgaW5kZXggPSAwO1xuXG4gIGlmICghZWwgfHwgIWVsLnBhcmVudE5vZGUpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgLyoganNoaW50IGJvc3M6dHJ1ZSAqL1xuXG5cbiAgd2hpbGUgKGVsID0gZWwucHJldmlvdXNFbGVtZW50U2libGluZykge1xuICAgIGlmIChlbC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpICE9PSAnVEVNUExBVEUnICYmIGVsICE9PSBTb3J0YWJsZS5jbG9uZSAmJiAoIXNlbGVjdG9yIHx8IG1hdGNoZXMoZWwsIHNlbGVjdG9yKSkpIHtcbiAgICAgIGluZGV4Kys7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGluZGV4O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzY3JvbGwgb2Zmc2V0IG9mIHRoZSBnaXZlbiBlbGVtZW50LCBhZGRlZCB3aXRoIGFsbCB0aGUgc2Nyb2xsIG9mZnNldHMgb2YgcGFyZW50IGVsZW1lbnRzLlxuICogVGhlIHZhbHVlIGlzIHJldHVybmVkIGluIHJlYWwgcGl4ZWxzLlxuICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IGVsXG4gKiBAcmV0dXJuIHtBcnJheX0gICAgICAgICAgICAgT2Zmc2V0cyBpbiB0aGUgZm9ybWF0IG9mIFtsZWZ0LCB0b3BdXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRSZWxhdGl2ZVNjcm9sbE9mZnNldChlbCkge1xuICB2YXIgb2Zmc2V0TGVmdCA9IDAsXG4gICAgICBvZmZzZXRUb3AgPSAwLFxuICAgICAgd2luU2Nyb2xsZXIgPSBnZXRXaW5kb3dTY3JvbGxpbmdFbGVtZW50KCk7XG5cbiAgaWYgKGVsKSB7XG4gICAgZG8ge1xuICAgICAgdmFyIGVsTWF0cml4ID0gbWF0cml4KGVsKSxcbiAgICAgICAgICBzY2FsZVggPSBlbE1hdHJpeC5hLFxuICAgICAgICAgIHNjYWxlWSA9IGVsTWF0cml4LmQ7XG4gICAgICBvZmZzZXRMZWZ0ICs9IGVsLnNjcm9sbExlZnQgKiBzY2FsZVg7XG4gICAgICBvZmZzZXRUb3AgKz0gZWwuc2Nyb2xsVG9wICogc2NhbGVZO1xuICAgIH0gd2hpbGUgKGVsICE9PSB3aW5TY3JvbGxlciAmJiAoZWwgPSBlbC5wYXJlbnROb2RlKSk7XG4gIH1cblxuICByZXR1cm4gW29mZnNldExlZnQsIG9mZnNldFRvcF07XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBvYmplY3Qgd2l0aGluIHRoZSBnaXZlbiBhcnJheVxuICogQHBhcmFtICB7QXJyYXl9IGFyciAgIEFycmF5IHRoYXQgbWF5IG9yIG1heSBub3QgaG9sZCB0aGUgb2JqZWN0XG4gKiBAcGFyYW0gIHtPYmplY3R9IG9iaiAgQW4gb2JqZWN0IHRoYXQgaGFzIGEga2V5LXZhbHVlIHBhaXIgdW5pcXVlIHRvIGFuZCBpZGVudGljYWwgdG8gYSBrZXktdmFsdWUgcGFpciBpbiB0aGUgb2JqZWN0IHlvdSB3YW50IHRvIGZpbmRcbiAqIEByZXR1cm4ge051bWJlcn0gICAgICBUaGUgaW5kZXggb2YgdGhlIG9iamVjdCBpbiB0aGUgYXJyYXksIG9yIC0xXG4gKi9cblxuXG5mdW5jdGlvbiBpbmRleE9mT2JqZWN0KGFyciwgb2JqKSB7XG4gIGZvciAodmFyIGkgaW4gYXJyKSB7XG4gICAgaWYgKCFhcnIuaGFzT3duUHJvcGVydHkoaSkpIGNvbnRpbnVlO1xuXG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIG9ialtrZXldID09PSBhcnJbaV1ba2V5XSkgcmV0dXJuIE51bWJlcihpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTE7XG59XG5cbmZ1bmN0aW9uIGdldFBhcmVudEF1dG9TY3JvbGxFbGVtZW50KGVsLCBpbmNsdWRlU2VsZikge1xuICAvLyBza2lwIHRvIHdpbmRvd1xuICBpZiAoIWVsIHx8ICFlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QpIHJldHVybiBnZXRXaW5kb3dTY3JvbGxpbmdFbGVtZW50KCk7XG4gIHZhciBlbGVtID0gZWw7XG4gIHZhciBnb3RTZWxmID0gZmFsc2U7XG5cbiAgZG8ge1xuICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gZ2V0IGVsZW0gY3NzIGlmIGl0IGlzbid0IGV2ZW4gb3ZlcmZsb3dpbmcgaW4gdGhlIGZpcnN0IHBsYWNlIChwZXJmb3JtYW5jZSlcbiAgICBpZiAoZWxlbS5jbGllbnRXaWR0aCA8IGVsZW0uc2Nyb2xsV2lkdGggfHwgZWxlbS5jbGllbnRIZWlnaHQgPCBlbGVtLnNjcm9sbEhlaWdodCkge1xuICAgICAgdmFyIGVsZW1DU1MgPSBjc3MoZWxlbSk7XG5cbiAgICAgIGlmIChlbGVtLmNsaWVudFdpZHRoIDwgZWxlbS5zY3JvbGxXaWR0aCAmJiAoZWxlbUNTUy5vdmVyZmxvd1ggPT0gJ2F1dG8nIHx8IGVsZW1DU1Mub3ZlcmZsb3dYID09ICdzY3JvbGwnKSB8fCBlbGVtLmNsaWVudEhlaWdodCA8IGVsZW0uc2Nyb2xsSGVpZ2h0ICYmIChlbGVtQ1NTLm92ZXJmbG93WSA9PSAnYXV0bycgfHwgZWxlbUNTUy5vdmVyZmxvd1kgPT0gJ3Njcm9sbCcpKSB7XG4gICAgICAgIGlmICghZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QgfHwgZWxlbSA9PT0gZG9jdW1lbnQuYm9keSkgcmV0dXJuIGdldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKTtcbiAgICAgICAgaWYgKGdvdFNlbGYgfHwgaW5jbHVkZVNlbGYpIHJldHVybiBlbGVtO1xuICAgICAgICBnb3RTZWxmID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoganNoaW50IGJvc3M6dHJ1ZSAqL1xuXG4gIH0gd2hpbGUgKGVsZW0gPSBlbGVtLnBhcmVudE5vZGUpO1xuXG4gIHJldHVybiBnZXRXaW5kb3dTY3JvbGxpbmdFbGVtZW50KCk7XG59XG5cbmZ1bmN0aW9uIGV4dGVuZChkc3QsIHNyYykge1xuICBpZiAoZHN0ICYmIHNyYykge1xuICAgIGZvciAodmFyIGtleSBpbiBzcmMpIHtcbiAgICAgIGlmIChzcmMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBkc3Rba2V5XSA9IHNyY1trZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkc3Q7XG59XG5cbmZ1bmN0aW9uIGlzUmVjdEVxdWFsKHJlY3QxLCByZWN0Mikge1xuICByZXR1cm4gTWF0aC5yb3VuZChyZWN0MS50b3ApID09PSBNYXRoLnJvdW5kKHJlY3QyLnRvcCkgJiYgTWF0aC5yb3VuZChyZWN0MS5sZWZ0KSA9PT0gTWF0aC5yb3VuZChyZWN0Mi5sZWZ0KSAmJiBNYXRoLnJvdW5kKHJlY3QxLmhlaWdodCkgPT09IE1hdGgucm91bmQocmVjdDIuaGVpZ2h0KSAmJiBNYXRoLnJvdW5kKHJlY3QxLndpZHRoKSA9PT0gTWF0aC5yb3VuZChyZWN0Mi53aWR0aCk7XG59XG5cbnZhciBfdGhyb3R0bGVUaW1lb3V0O1xuXG5mdW5jdGlvbiB0aHJvdHRsZShjYWxsYmFjaywgbXMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIV90aHJvdHRsZVRpbWVvdXQpIHtcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwoX3RoaXMsIGFyZ3NbMF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2suYXBwbHkoX3RoaXMsIGFyZ3MpO1xuICAgICAgfVxuXG4gICAgICBfdGhyb3R0bGVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aHJvdHRsZVRpbWVvdXQgPSB2b2lkIDA7XG4gICAgICB9LCBtcyk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBjYW5jZWxUaHJvdHRsZSgpIHtcbiAgY2xlYXJUaW1lb3V0KF90aHJvdHRsZVRpbWVvdXQpO1xuICBfdGhyb3R0bGVUaW1lb3V0ID0gdm9pZCAwO1xufVxuXG5mdW5jdGlvbiBzY3JvbGxCeShlbCwgeCwgeSkge1xuICBlbC5zY3JvbGxMZWZ0ICs9IHg7XG4gIGVsLnNjcm9sbFRvcCArPSB5O1xufVxuXG5mdW5jdGlvbiBjbG9uZShlbCkge1xuICB2YXIgUG9seW1lciA9IHdpbmRvdy5Qb2x5bWVyO1xuICB2YXIgJCA9IHdpbmRvdy5qUXVlcnkgfHwgd2luZG93LlplcHRvO1xuXG4gIGlmIChQb2x5bWVyICYmIFBvbHltZXIuZG9tKSB7XG4gICAgcmV0dXJuIFBvbHltZXIuZG9tKGVsKS5jbG9uZU5vZGUodHJ1ZSk7XG4gIH0gZWxzZSBpZiAoJCkge1xuICAgIHJldHVybiAkKGVsKS5jbG9uZSh0cnVlKVswXTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZWwuY2xvbmVOb2RlKHRydWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNldFJlY3QoZWwsIHJlY3QpIHtcbiAgY3NzKGVsLCAncG9zaXRpb24nLCAnYWJzb2x1dGUnKTtcbiAgY3NzKGVsLCAndG9wJywgcmVjdC50b3ApO1xuICBjc3MoZWwsICdsZWZ0JywgcmVjdC5sZWZ0KTtcbiAgY3NzKGVsLCAnd2lkdGgnLCByZWN0LndpZHRoKTtcbiAgY3NzKGVsLCAnaGVpZ2h0JywgcmVjdC5oZWlnaHQpO1xufVxuXG5mdW5jdGlvbiB1bnNldFJlY3QoZWwpIHtcbiAgY3NzKGVsLCAncG9zaXRpb24nLCAnJyk7XG4gIGNzcyhlbCwgJ3RvcCcsICcnKTtcbiAgY3NzKGVsLCAnbGVmdCcsICcnKTtcbiAgY3NzKGVsLCAnd2lkdGgnLCAnJyk7XG4gIGNzcyhlbCwgJ2hlaWdodCcsICcnKTtcbn1cblxudmFyIGV4cGFuZG8gPSAnU29ydGFibGUnICsgbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbmZ1bmN0aW9uIEFuaW1hdGlvblN0YXRlTWFuYWdlcigpIHtcbiAgdmFyIGFuaW1hdGlvblN0YXRlcyA9IFtdLFxuICAgICAgYW5pbWF0aW9uQ2FsbGJhY2tJZDtcbiAgcmV0dXJuIHtcbiAgICBjYXB0dXJlQW5pbWF0aW9uU3RhdGU6IGZ1bmN0aW9uIGNhcHR1cmVBbmltYXRpb25TdGF0ZSgpIHtcbiAgICAgIGFuaW1hdGlvblN0YXRlcyA9IFtdO1xuICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuYW5pbWF0aW9uKSByZXR1cm47XG4gICAgICB2YXIgY2hpbGRyZW4gPSBbXS5zbGljZS5jYWxsKHRoaXMuZWwuY2hpbGRyZW4pO1xuICAgICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgaWYgKGNzcyhjaGlsZCwgJ2Rpc3BsYXknKSA9PT0gJ25vbmUnIHx8IGNoaWxkID09PSBTb3J0YWJsZS5naG9zdCkgcmV0dXJuO1xuICAgICAgICBhbmltYXRpb25TdGF0ZXMucHVzaCh7XG4gICAgICAgICAgdGFyZ2V0OiBjaGlsZCxcbiAgICAgICAgICByZWN0OiBnZXRSZWN0KGNoaWxkKVxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgZnJvbVJlY3QgPSBfb2JqZWN0U3ByZWFkMih7fSwgYW5pbWF0aW9uU3RhdGVzW2FuaW1hdGlvblN0YXRlcy5sZW5ndGggLSAxXS5yZWN0KTsgLy8gSWYgYW5pbWF0aW5nOiBjb21wZW5zYXRlIGZvciBjdXJyZW50IGFuaW1hdGlvblxuXG5cbiAgICAgICAgaWYgKGNoaWxkLnRoaXNBbmltYXRpb25EdXJhdGlvbikge1xuICAgICAgICAgIHZhciBjaGlsZE1hdHJpeCA9IG1hdHJpeChjaGlsZCwgdHJ1ZSk7XG5cbiAgICAgICAgICBpZiAoY2hpbGRNYXRyaXgpIHtcbiAgICAgICAgICAgIGZyb21SZWN0LnRvcCAtPSBjaGlsZE1hdHJpeC5mO1xuICAgICAgICAgICAgZnJvbVJlY3QubGVmdCAtPSBjaGlsZE1hdHJpeC5lO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNoaWxkLmZyb21SZWN0ID0gZnJvbVJlY3Q7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGFkZEFuaW1hdGlvblN0YXRlOiBmdW5jdGlvbiBhZGRBbmltYXRpb25TdGF0ZShzdGF0ZSkge1xuICAgICAgYW5pbWF0aW9uU3RhdGVzLnB1c2goc3RhdGUpO1xuICAgIH0sXG4gICAgcmVtb3ZlQW5pbWF0aW9uU3RhdGU6IGZ1bmN0aW9uIHJlbW92ZUFuaW1hdGlvblN0YXRlKHRhcmdldCkge1xuICAgICAgYW5pbWF0aW9uU3RhdGVzLnNwbGljZShpbmRleE9mT2JqZWN0KGFuaW1hdGlvblN0YXRlcywge1xuICAgICAgICB0YXJnZXQ6IHRhcmdldFxuICAgICAgfSksIDEpO1xuICAgIH0sXG4gICAgYW5pbWF0ZUFsbDogZnVuY3Rpb24gYW5pbWF0ZUFsbChjYWxsYmFjaykge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuYW5pbWF0aW9uKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChhbmltYXRpb25DYWxsYmFja0lkKTtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgYW5pbWF0aW5nID0gZmFsc2UsXG4gICAgICAgICAgYW5pbWF0aW9uVGltZSA9IDA7XG4gICAgICBhbmltYXRpb25TdGF0ZXMuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdmFyIHRpbWUgPSAwLFxuICAgICAgICAgICAgdGFyZ2V0ID0gc3RhdGUudGFyZ2V0LFxuICAgICAgICAgICAgZnJvbVJlY3QgPSB0YXJnZXQuZnJvbVJlY3QsXG4gICAgICAgICAgICB0b1JlY3QgPSBnZXRSZWN0KHRhcmdldCksXG4gICAgICAgICAgICBwcmV2RnJvbVJlY3QgPSB0YXJnZXQucHJldkZyb21SZWN0LFxuICAgICAgICAgICAgcHJldlRvUmVjdCA9IHRhcmdldC5wcmV2VG9SZWN0LFxuICAgICAgICAgICAgYW5pbWF0aW5nUmVjdCA9IHN0YXRlLnJlY3QsXG4gICAgICAgICAgICB0YXJnZXRNYXRyaXggPSBtYXRyaXgodGFyZ2V0LCB0cnVlKTtcblxuICAgICAgICBpZiAodGFyZ2V0TWF0cml4KSB7XG4gICAgICAgICAgLy8gQ29tcGVuc2F0ZSBmb3IgY3VycmVudCBhbmltYXRpb25cbiAgICAgICAgICB0b1JlY3QudG9wIC09IHRhcmdldE1hdHJpeC5mO1xuICAgICAgICAgIHRvUmVjdC5sZWZ0IC09IHRhcmdldE1hdHJpeC5lO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFyZ2V0LnRvUmVjdCA9IHRvUmVjdDtcblxuICAgICAgICBpZiAodGFyZ2V0LnRoaXNBbmltYXRpb25EdXJhdGlvbikge1xuICAgICAgICAgIC8vIENvdWxkIGFsc28gY2hlY2sgaWYgYW5pbWF0aW5nUmVjdCBpcyBiZXR3ZWVuIGZyb21SZWN0IGFuZCB0b1JlY3RcbiAgICAgICAgICBpZiAoaXNSZWN0RXF1YWwocHJldkZyb21SZWN0LCB0b1JlY3QpICYmICFpc1JlY3RFcXVhbChmcm9tUmVjdCwgdG9SZWN0KSAmJiAvLyBNYWtlIHN1cmUgYW5pbWF0aW5nUmVjdCBpcyBvbiBsaW5lIGJldHdlZW4gdG9SZWN0ICYgZnJvbVJlY3RcbiAgICAgICAgICAoYW5pbWF0aW5nUmVjdC50b3AgLSB0b1JlY3QudG9wKSAvIChhbmltYXRpbmdSZWN0LmxlZnQgLSB0b1JlY3QubGVmdCkgPT09IChmcm9tUmVjdC50b3AgLSB0b1JlY3QudG9wKSAvIChmcm9tUmVjdC5sZWZ0IC0gdG9SZWN0LmxlZnQpKSB7XG4gICAgICAgICAgICAvLyBJZiByZXR1cm5pbmcgdG8gc2FtZSBwbGFjZSBhcyBzdGFydGVkIGZyb20gYW5pbWF0aW9uIGFuZCBvbiBzYW1lIGF4aXNcbiAgICAgICAgICAgIHRpbWUgPSBjYWxjdWxhdGVSZWFsVGltZShhbmltYXRpbmdSZWN0LCBwcmV2RnJvbVJlY3QsIHByZXZUb1JlY3QsIF90aGlzLm9wdGlvbnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBpZiBmcm9tUmVjdCAhPSB0b1JlY3Q6IGFuaW1hdGVcblxuXG4gICAgICAgIGlmICghaXNSZWN0RXF1YWwodG9SZWN0LCBmcm9tUmVjdCkpIHtcbiAgICAgICAgICB0YXJnZXQucHJldkZyb21SZWN0ID0gZnJvbVJlY3Q7XG4gICAgICAgICAgdGFyZ2V0LnByZXZUb1JlY3QgPSB0b1JlY3Q7XG5cbiAgICAgICAgICBpZiAoIXRpbWUpIHtcbiAgICAgICAgICAgIHRpbWUgPSBfdGhpcy5vcHRpb25zLmFuaW1hdGlvbjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfdGhpcy5hbmltYXRlKHRhcmdldCwgYW5pbWF0aW5nUmVjdCwgdG9SZWN0LCB0aW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aW1lKSB7XG4gICAgICAgICAgYW5pbWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICBhbmltYXRpb25UaW1lID0gTWF0aC5tYXgoYW5pbWF0aW9uVGltZSwgdGltZSk7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRhcmdldC5hbmltYXRpb25SZXNldFRpbWVyKTtcbiAgICAgICAgICB0YXJnZXQuYW5pbWF0aW9uUmVzZXRUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGFyZ2V0LmFuaW1hdGlvblRpbWUgPSAwO1xuICAgICAgICAgICAgdGFyZ2V0LnByZXZGcm9tUmVjdCA9IG51bGw7XG4gICAgICAgICAgICB0YXJnZXQuZnJvbVJlY3QgPSBudWxsO1xuICAgICAgICAgICAgdGFyZ2V0LnByZXZUb1JlY3QgPSBudWxsO1xuICAgICAgICAgICAgdGFyZ2V0LnRoaXNBbmltYXRpb25EdXJhdGlvbiA9IG51bGw7XG4gICAgICAgICAgfSwgdGltZSk7XG4gICAgICAgICAgdGFyZ2V0LnRoaXNBbmltYXRpb25EdXJhdGlvbiA9IHRpbWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY2xlYXJUaW1lb3V0KGFuaW1hdGlvbkNhbGxiYWNrSWQpO1xuXG4gICAgICBpZiAoIWFuaW1hdGluZykge1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjaygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYW5pbWF0aW9uQ2FsbGJhY2tJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKCk7XG4gICAgICAgIH0sIGFuaW1hdGlvblRpbWUpO1xuICAgICAgfVxuXG4gICAgICBhbmltYXRpb25TdGF0ZXMgPSBbXTtcbiAgICB9LFxuICAgIGFuaW1hdGU6IGZ1bmN0aW9uIGFuaW1hdGUodGFyZ2V0LCBjdXJyZW50UmVjdCwgdG9SZWN0LCBkdXJhdGlvbikge1xuICAgICAgaWYgKGR1cmF0aW9uKSB7XG4gICAgICAgIGNzcyh0YXJnZXQsICd0cmFuc2l0aW9uJywgJycpO1xuICAgICAgICBjc3ModGFyZ2V0LCAndHJhbnNmb3JtJywgJycpO1xuICAgICAgICB2YXIgZWxNYXRyaXggPSBtYXRyaXgodGhpcy5lbCksXG4gICAgICAgICAgICBzY2FsZVggPSBlbE1hdHJpeCAmJiBlbE1hdHJpeC5hLFxuICAgICAgICAgICAgc2NhbGVZID0gZWxNYXRyaXggJiYgZWxNYXRyaXguZCxcbiAgICAgICAgICAgIHRyYW5zbGF0ZVggPSAoY3VycmVudFJlY3QubGVmdCAtIHRvUmVjdC5sZWZ0KSAvIChzY2FsZVggfHwgMSksXG4gICAgICAgICAgICB0cmFuc2xhdGVZID0gKGN1cnJlbnRSZWN0LnRvcCAtIHRvUmVjdC50b3ApIC8gKHNjYWxlWSB8fCAxKTtcbiAgICAgICAgdGFyZ2V0LmFuaW1hdGluZ1ggPSAhIXRyYW5zbGF0ZVg7XG4gICAgICAgIHRhcmdldC5hbmltYXRpbmdZID0gISF0cmFuc2xhdGVZO1xuICAgICAgICBjc3ModGFyZ2V0LCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZTNkKCcgKyB0cmFuc2xhdGVYICsgJ3B4LCcgKyB0cmFuc2xhdGVZICsgJ3B4LDApJyk7XG4gICAgICAgIHRoaXMuZm9yUmVwYWludER1bW15ID0gcmVwYWludCh0YXJnZXQpOyAvLyByZXBhaW50XG5cbiAgICAgICAgY3NzKHRhcmdldCwgJ3RyYW5zaXRpb24nLCAndHJhbnNmb3JtICcgKyBkdXJhdGlvbiArICdtcycgKyAodGhpcy5vcHRpb25zLmVhc2luZyA/ICcgJyArIHRoaXMub3B0aW9ucy5lYXNpbmcgOiAnJykpO1xuICAgICAgICBjc3ModGFyZ2V0LCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZTNkKDAsMCwwKScpO1xuICAgICAgICB0eXBlb2YgdGFyZ2V0LmFuaW1hdGVkID09PSAnbnVtYmVyJyAmJiBjbGVhclRpbWVvdXQodGFyZ2V0LmFuaW1hdGVkKTtcbiAgICAgICAgdGFyZ2V0LmFuaW1hdGVkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY3NzKHRhcmdldCwgJ3RyYW5zaXRpb24nLCAnJyk7XG4gICAgICAgICAgY3NzKHRhcmdldCwgJ3RyYW5zZm9ybScsICcnKTtcbiAgICAgICAgICB0YXJnZXQuYW5pbWF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICB0YXJnZXQuYW5pbWF0aW5nWCA9IGZhbHNlO1xuICAgICAgICAgIHRhcmdldC5hbmltYXRpbmdZID0gZmFsc2U7XG4gICAgICAgIH0sIGR1cmF0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIHJlcGFpbnQodGFyZ2V0KSB7XG4gIHJldHVybiB0YXJnZXQub2Zmc2V0V2lkdGg7XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZVJlYWxUaW1lKGFuaW1hdGluZ1JlY3QsIGZyb21SZWN0LCB0b1JlY3QsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhmcm9tUmVjdC50b3AgLSBhbmltYXRpbmdSZWN0LnRvcCwgMikgKyBNYXRoLnBvdyhmcm9tUmVjdC5sZWZ0IC0gYW5pbWF0aW5nUmVjdC5sZWZ0LCAyKSkgLyBNYXRoLnNxcnQoTWF0aC5wb3coZnJvbVJlY3QudG9wIC0gdG9SZWN0LnRvcCwgMikgKyBNYXRoLnBvdyhmcm9tUmVjdC5sZWZ0IC0gdG9SZWN0LmxlZnQsIDIpKSAqIG9wdGlvbnMuYW5pbWF0aW9uO1xufVxuXG52YXIgcGx1Z2lucyA9IFtdO1xudmFyIGRlZmF1bHRzID0ge1xuICBpbml0aWFsaXplQnlEZWZhdWx0OiB0cnVlXG59O1xudmFyIFBsdWdpbk1hbmFnZXIgPSB7XG4gIG1vdW50OiBmdW5jdGlvbiBtb3VudChwbHVnaW4pIHtcbiAgICAvLyBTZXQgZGVmYXVsdCBzdGF0aWMgcHJvcGVydGllc1xuICAgIGZvciAodmFyIG9wdGlvbiBpbiBkZWZhdWx0cykge1xuICAgICAgaWYgKGRlZmF1bHRzLmhhc093blByb3BlcnR5KG9wdGlvbikgJiYgIShvcHRpb24gaW4gcGx1Z2luKSkge1xuICAgICAgICBwbHVnaW5bb3B0aW9uXSA9IGRlZmF1bHRzW29wdGlvbl07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7XG4gICAgICBpZiAocC5wbHVnaW5OYW1lID09PSBwbHVnaW4ucGx1Z2luTmFtZSkge1xuICAgICAgICB0aHJvdyBcIlNvcnRhYmxlOiBDYW5ub3QgbW91bnQgcGx1Z2luIFwiLmNvbmNhdChwbHVnaW4ucGx1Z2luTmFtZSwgXCIgbW9yZSB0aGFuIG9uY2VcIik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcGx1Z2lucy5wdXNoKHBsdWdpbik7XG4gIH0sXG4gIHBsdWdpbkV2ZW50OiBmdW5jdGlvbiBwbHVnaW5FdmVudChldmVudE5hbWUsIHNvcnRhYmxlLCBldnQpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdGhpcy5ldmVudENhbmNlbGVkID0gZmFsc2U7XG5cbiAgICBldnQuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuZXZlbnRDYW5jZWxlZCA9IHRydWU7XG4gICAgfTtcblxuICAgIHZhciBldmVudE5hbWVHbG9iYWwgPSBldmVudE5hbWUgKyAnR2xvYmFsJztcbiAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgaWYgKCFzb3J0YWJsZVtwbHVnaW4ucGx1Z2luTmFtZV0pIHJldHVybjsgLy8gRmlyZSBnbG9iYWwgZXZlbnRzIGlmIGl0IGV4aXN0cyBpbiB0aGlzIHNvcnRhYmxlXG5cbiAgICAgIGlmIChzb3J0YWJsZVtwbHVnaW4ucGx1Z2luTmFtZV1bZXZlbnROYW1lR2xvYmFsXSkge1xuICAgICAgICBzb3J0YWJsZVtwbHVnaW4ucGx1Z2luTmFtZV1bZXZlbnROYW1lR2xvYmFsXShfb2JqZWN0U3ByZWFkMih7XG4gICAgICAgICAgc29ydGFibGU6IHNvcnRhYmxlXG4gICAgICAgIH0sIGV2dCkpO1xuICAgICAgfSAvLyBPbmx5IGZpcmUgcGx1Z2luIGV2ZW50IGlmIHBsdWdpbiBpcyBlbmFibGVkIGluIHRoaXMgc29ydGFibGUsXG4gICAgICAvLyBhbmQgcGx1Z2luIGhhcyBldmVudCBkZWZpbmVkXG5cblxuICAgICAgaWYgKHNvcnRhYmxlLm9wdGlvbnNbcGx1Z2luLnBsdWdpbk5hbWVdICYmIHNvcnRhYmxlW3BsdWdpbi5wbHVnaW5OYW1lXVtldmVudE5hbWVdKSB7XG4gICAgICAgIHNvcnRhYmxlW3BsdWdpbi5wbHVnaW5OYW1lXVtldmVudE5hbWVdKF9vYmplY3RTcHJlYWQyKHtcbiAgICAgICAgICBzb3J0YWJsZTogc29ydGFibGVcbiAgICAgICAgfSwgZXZ0KSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIGluaXRpYWxpemVQbHVnaW5zOiBmdW5jdGlvbiBpbml0aWFsaXplUGx1Z2lucyhzb3J0YWJsZSwgZWwsIGRlZmF1bHRzLCBvcHRpb25zKSB7XG4gICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgIHZhciBwbHVnaW5OYW1lID0gcGx1Z2luLnBsdWdpbk5hbWU7XG4gICAgICBpZiAoIXNvcnRhYmxlLm9wdGlvbnNbcGx1Z2luTmFtZV0gJiYgIXBsdWdpbi5pbml0aWFsaXplQnlEZWZhdWx0KSByZXR1cm47XG4gICAgICB2YXIgaW5pdGlhbGl6ZWQgPSBuZXcgcGx1Z2luKHNvcnRhYmxlLCBlbCwgc29ydGFibGUub3B0aW9ucyk7XG4gICAgICBpbml0aWFsaXplZC5zb3J0YWJsZSA9IHNvcnRhYmxlO1xuICAgICAgaW5pdGlhbGl6ZWQub3B0aW9ucyA9IHNvcnRhYmxlLm9wdGlvbnM7XG4gICAgICBzb3J0YWJsZVtwbHVnaW5OYW1lXSA9IGluaXRpYWxpemVkOyAvLyBBZGQgZGVmYXVsdCBvcHRpb25zIGZyb20gcGx1Z2luXG5cbiAgICAgIF9leHRlbmRzKGRlZmF1bHRzLCBpbml0aWFsaXplZC5kZWZhdWx0cyk7XG4gICAgfSk7XG5cbiAgICBmb3IgKHZhciBvcHRpb24gaW4gc29ydGFibGUub3B0aW9ucykge1xuICAgICAgaWYgKCFzb3J0YWJsZS5vcHRpb25zLmhhc093blByb3BlcnR5KG9wdGlvbikpIGNvbnRpbnVlO1xuICAgICAgdmFyIG1vZGlmaWVkID0gdGhpcy5tb2RpZnlPcHRpb24oc29ydGFibGUsIG9wdGlvbiwgc29ydGFibGUub3B0aW9uc1tvcHRpb25dKTtcblxuICAgICAgaWYgKHR5cGVvZiBtb2RpZmllZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc29ydGFibGUub3B0aW9uc1tvcHRpb25dID0gbW9kaWZpZWQ7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBnZXRFdmVudFByb3BlcnRpZXM6IGZ1bmN0aW9uIGdldEV2ZW50UHJvcGVydGllcyhuYW1lLCBzb3J0YWJsZSkge1xuICAgIHZhciBldmVudFByb3BlcnRpZXMgPSB7fTtcbiAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgaWYgKHR5cGVvZiBwbHVnaW4uZXZlbnRQcm9wZXJ0aWVzICE9PSAnZnVuY3Rpb24nKSByZXR1cm47XG5cbiAgICAgIF9leHRlbmRzKGV2ZW50UHJvcGVydGllcywgcGx1Z2luLmV2ZW50UHJvcGVydGllcy5jYWxsKHNvcnRhYmxlW3BsdWdpbi5wbHVnaW5OYW1lXSwgbmFtZSkpO1xuICAgIH0pO1xuICAgIHJldHVybiBldmVudFByb3BlcnRpZXM7XG4gIH0sXG4gIG1vZGlmeU9wdGlvbjogZnVuY3Rpb24gbW9kaWZ5T3B0aW9uKHNvcnRhYmxlLCBuYW1lLCB2YWx1ZSkge1xuICAgIHZhciBtb2RpZmllZFZhbHVlO1xuICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAvLyBQbHVnaW4gbXVzdCBleGlzdCBvbiB0aGUgU29ydGFibGVcbiAgICAgIGlmICghc29ydGFibGVbcGx1Z2luLnBsdWdpbk5hbWVdKSByZXR1cm47IC8vIElmIHN0YXRpYyBvcHRpb24gbGlzdGVuZXIgZXhpc3RzIGZvciB0aGlzIG9wdGlvbiwgY2FsbCBpbiB0aGUgY29udGV4dCBvZiB0aGUgU29ydGFibGUncyBpbnN0YW5jZSBvZiB0aGlzIHBsdWdpblxuXG4gICAgICBpZiAocGx1Z2luLm9wdGlvbkxpc3RlbmVycyAmJiB0eXBlb2YgcGx1Z2luLm9wdGlvbkxpc3RlbmVyc1tuYW1lXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBtb2RpZmllZFZhbHVlID0gcGx1Z2luLm9wdGlvbkxpc3RlbmVyc1tuYW1lXS5jYWxsKHNvcnRhYmxlW3BsdWdpbi5wbHVnaW5OYW1lXSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBtb2RpZmllZFZhbHVlO1xuICB9XG59O1xuXG5mdW5jdGlvbiBkaXNwYXRjaEV2ZW50KF9yZWYpIHtcbiAgdmFyIHNvcnRhYmxlID0gX3JlZi5zb3J0YWJsZSxcbiAgICAgIHJvb3RFbCA9IF9yZWYucm9vdEVsLFxuICAgICAgbmFtZSA9IF9yZWYubmFtZSxcbiAgICAgIHRhcmdldEVsID0gX3JlZi50YXJnZXRFbCxcbiAgICAgIGNsb25lRWwgPSBfcmVmLmNsb25lRWwsXG4gICAgICB0b0VsID0gX3JlZi50b0VsLFxuICAgICAgZnJvbUVsID0gX3JlZi5mcm9tRWwsXG4gICAgICBvbGRJbmRleCA9IF9yZWYub2xkSW5kZXgsXG4gICAgICBuZXdJbmRleCA9IF9yZWYubmV3SW5kZXgsXG4gICAgICBvbGREcmFnZ2FibGVJbmRleCA9IF9yZWYub2xkRHJhZ2dhYmxlSW5kZXgsXG4gICAgICBuZXdEcmFnZ2FibGVJbmRleCA9IF9yZWYubmV3RHJhZ2dhYmxlSW5kZXgsXG4gICAgICBvcmlnaW5hbEV2ZW50ID0gX3JlZi5vcmlnaW5hbEV2ZW50LFxuICAgICAgcHV0U29ydGFibGUgPSBfcmVmLnB1dFNvcnRhYmxlLFxuICAgICAgZXh0cmFFdmVudFByb3BlcnRpZXMgPSBfcmVmLmV4dHJhRXZlbnRQcm9wZXJ0aWVzO1xuICBzb3J0YWJsZSA9IHNvcnRhYmxlIHx8IHJvb3RFbCAmJiByb290RWxbZXhwYW5kb107XG4gIGlmICghc29ydGFibGUpIHJldHVybjtcbiAgdmFyIGV2dCxcbiAgICAgIG9wdGlvbnMgPSBzb3J0YWJsZS5vcHRpb25zLFxuICAgICAgb25OYW1lID0gJ29uJyArIG5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnN1YnN0cigxKTsgLy8gU3VwcG9ydCBmb3IgbmV3IEN1c3RvbUV2ZW50IGZlYXR1cmVcblxuICBpZiAod2luZG93LkN1c3RvbUV2ZW50ICYmICFJRTExT3JMZXNzICYmICFFZGdlKSB7XG4gICAgZXZ0ID0gbmV3IEN1c3RvbUV2ZW50KG5hbWUsIHtcbiAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgZXZ0LmluaXRFdmVudChuYW1lLCB0cnVlLCB0cnVlKTtcbiAgfVxuXG4gIGV2dC50byA9IHRvRWwgfHwgcm9vdEVsO1xuICBldnQuZnJvbSA9IGZyb21FbCB8fCByb290RWw7XG4gIGV2dC5pdGVtID0gdGFyZ2V0RWwgfHwgcm9vdEVsO1xuICBldnQuY2xvbmUgPSBjbG9uZUVsO1xuICBldnQub2xkSW5kZXggPSBvbGRJbmRleDtcbiAgZXZ0Lm5ld0luZGV4ID0gbmV3SW5kZXg7XG4gIGV2dC5vbGREcmFnZ2FibGVJbmRleCA9IG9sZERyYWdnYWJsZUluZGV4O1xuICBldnQubmV3RHJhZ2dhYmxlSW5kZXggPSBuZXdEcmFnZ2FibGVJbmRleDtcbiAgZXZ0Lm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuICBldnQucHVsbE1vZGUgPSBwdXRTb3J0YWJsZSA/IHB1dFNvcnRhYmxlLmxhc3RQdXRNb2RlIDogdW5kZWZpbmVkO1xuXG4gIHZhciBhbGxFdmVudFByb3BlcnRpZXMgPSBfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMih7fSwgZXh0cmFFdmVudFByb3BlcnRpZXMpLCBQbHVnaW5NYW5hZ2VyLmdldEV2ZW50UHJvcGVydGllcyhuYW1lLCBzb3J0YWJsZSkpO1xuXG4gIGZvciAodmFyIG9wdGlvbiBpbiBhbGxFdmVudFByb3BlcnRpZXMpIHtcbiAgICBldnRbb3B0aW9uXSA9IGFsbEV2ZW50UHJvcGVydGllc1tvcHRpb25dO1xuICB9XG5cbiAgaWYgKHJvb3RFbCkge1xuICAgIHJvb3RFbC5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gIH1cblxuICBpZiAob3B0aW9uc1tvbk5hbWVdKSB7XG4gICAgb3B0aW9uc1tvbk5hbWVdLmNhbGwoc29ydGFibGUsIGV2dCk7XG4gIH1cbn1cblxudmFyIF9leGNsdWRlZCA9IFtcImV2dFwiXTtcblxudmFyIHBsdWdpbkV2ZW50ID0gZnVuY3Rpb24gcGx1Z2luRXZlbnQoZXZlbnROYW1lLCBzb3J0YWJsZSkge1xuICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge30sXG4gICAgICBvcmlnaW5hbEV2ZW50ID0gX3JlZi5ldnQsXG4gICAgICBkYXRhID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIF9leGNsdWRlZCk7XG5cbiAgUGx1Z2luTWFuYWdlci5wbHVnaW5FdmVudC5iaW5kKFNvcnRhYmxlKShldmVudE5hbWUsIHNvcnRhYmxlLCBfb2JqZWN0U3ByZWFkMih7XG4gICAgZHJhZ0VsOiBkcmFnRWwsXG4gICAgcGFyZW50RWw6IHBhcmVudEVsLFxuICAgIGdob3N0RWw6IGdob3N0RWwsXG4gICAgcm9vdEVsOiByb290RWwsXG4gICAgbmV4dEVsOiBuZXh0RWwsXG4gICAgbGFzdERvd25FbDogbGFzdERvd25FbCxcbiAgICBjbG9uZUVsOiBjbG9uZUVsLFxuICAgIGNsb25lSGlkZGVuOiBjbG9uZUhpZGRlbixcbiAgICBkcmFnU3RhcnRlZDogbW92ZWQsXG4gICAgcHV0U29ydGFibGU6IHB1dFNvcnRhYmxlLFxuICAgIGFjdGl2ZVNvcnRhYmxlOiBTb3J0YWJsZS5hY3RpdmUsXG4gICAgb3JpZ2luYWxFdmVudDogb3JpZ2luYWxFdmVudCxcbiAgICBvbGRJbmRleDogb2xkSW5kZXgsXG4gICAgb2xkRHJhZ2dhYmxlSW5kZXg6IG9sZERyYWdnYWJsZUluZGV4LFxuICAgIG5ld0luZGV4OiBuZXdJbmRleCxcbiAgICBuZXdEcmFnZ2FibGVJbmRleDogbmV3RHJhZ2dhYmxlSW5kZXgsXG4gICAgaGlkZUdob3N0Rm9yVGFyZ2V0OiBfaGlkZUdob3N0Rm9yVGFyZ2V0LFxuICAgIHVuaGlkZUdob3N0Rm9yVGFyZ2V0OiBfdW5oaWRlR2hvc3RGb3JUYXJnZXQsXG4gICAgY2xvbmVOb3dIaWRkZW46IGZ1bmN0aW9uIGNsb25lTm93SGlkZGVuKCkge1xuICAgICAgY2xvbmVIaWRkZW4gPSB0cnVlO1xuICAgIH0sXG4gICAgY2xvbmVOb3dTaG93bjogZnVuY3Rpb24gY2xvbmVOb3dTaG93bigpIHtcbiAgICAgIGNsb25lSGlkZGVuID0gZmFsc2U7XG4gICAgfSxcbiAgICBkaXNwYXRjaFNvcnRhYmxlRXZlbnQ6IGZ1bmN0aW9uIGRpc3BhdGNoU29ydGFibGVFdmVudChuYW1lKSB7XG4gICAgICBfZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgIHNvcnRhYmxlOiBzb3J0YWJsZSxcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgb3JpZ2luYWxFdmVudDogb3JpZ2luYWxFdmVudFxuICAgICAgfSk7XG4gICAgfVxuICB9LCBkYXRhKSk7XG59O1xuXG5mdW5jdGlvbiBfZGlzcGF0Y2hFdmVudChpbmZvKSB7XG4gIGRpc3BhdGNoRXZlbnQoX29iamVjdFNwcmVhZDIoe1xuICAgIHB1dFNvcnRhYmxlOiBwdXRTb3J0YWJsZSxcbiAgICBjbG9uZUVsOiBjbG9uZUVsLFxuICAgIHRhcmdldEVsOiBkcmFnRWwsXG4gICAgcm9vdEVsOiByb290RWwsXG4gICAgb2xkSW5kZXg6IG9sZEluZGV4LFxuICAgIG9sZERyYWdnYWJsZUluZGV4OiBvbGREcmFnZ2FibGVJbmRleCxcbiAgICBuZXdJbmRleDogbmV3SW5kZXgsXG4gICAgbmV3RHJhZ2dhYmxlSW5kZXg6IG5ld0RyYWdnYWJsZUluZGV4XG4gIH0sIGluZm8pKTtcbn1cblxudmFyIGRyYWdFbCxcbiAgICBwYXJlbnRFbCxcbiAgICBnaG9zdEVsLFxuICAgIHJvb3RFbCxcbiAgICBuZXh0RWwsXG4gICAgbGFzdERvd25FbCxcbiAgICBjbG9uZUVsLFxuICAgIGNsb25lSGlkZGVuLFxuICAgIG9sZEluZGV4LFxuICAgIG5ld0luZGV4LFxuICAgIG9sZERyYWdnYWJsZUluZGV4LFxuICAgIG5ld0RyYWdnYWJsZUluZGV4LFxuICAgIGFjdGl2ZUdyb3VwLFxuICAgIHB1dFNvcnRhYmxlLFxuICAgIGF3YWl0aW5nRHJhZ1N0YXJ0ZWQgPSBmYWxzZSxcbiAgICBpZ25vcmVOZXh0Q2xpY2sgPSBmYWxzZSxcbiAgICBzb3J0YWJsZXMgPSBbXSxcbiAgICB0YXBFdnQsXG4gICAgdG91Y2hFdnQsXG4gICAgbGFzdER4LFxuICAgIGxhc3REeSxcbiAgICB0YXBEaXN0YW5jZUxlZnQsXG4gICAgdGFwRGlzdGFuY2VUb3AsXG4gICAgbW92ZWQsXG4gICAgbGFzdFRhcmdldCxcbiAgICBsYXN0RGlyZWN0aW9uLFxuICAgIHBhc3RGaXJzdEludmVydFRocmVzaCA9IGZhbHNlLFxuICAgIGlzQ2lyY3Vtc3RhbnRpYWxJbnZlcnQgPSBmYWxzZSxcbiAgICB0YXJnZXRNb3ZlRGlzdGFuY2UsXG4gICAgLy8gRm9yIHBvc2l0aW9uaW5nIGdob3N0IGFic29sdXRlbHlcbmdob3N0UmVsYXRpdmVQYXJlbnQsXG4gICAgZ2hvc3RSZWxhdGl2ZVBhcmVudEluaXRpYWxTY3JvbGwgPSBbXSxcbiAgICAvLyAobGVmdCwgdG9wKVxuX3NpbGVudCA9IGZhbHNlLFxuICAgIHNhdmVkSW5wdXRDaGVja2VkID0gW107XG4vKiogQGNvbnN0ICovXG5cbnZhciBkb2N1bWVudEV4aXN0cyA9IHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcsXG4gICAgUG9zaXRpb25HaG9zdEFic29sdXRlbHkgPSBJT1MsXG4gICAgQ1NTRmxvYXRQcm9wZXJ0eSA9IEVkZ2UgfHwgSUUxMU9yTGVzcyA/ICdjc3NGbG9hdCcgOiAnZmxvYXQnLFxuICAgIC8vIFRoaXMgd2lsbCBub3QgcGFzcyBmb3IgSUU5LCBiZWNhdXNlIElFOSBEbkQgb25seSB3b3JrcyBvbiBhbmNob3JzXG5zdXBwb3J0RHJhZ2dhYmxlID0gZG9jdW1lbnRFeGlzdHMgJiYgIUNocm9tZUZvckFuZHJvaWQgJiYgIUlPUyAmJiAnZHJhZ2dhYmxlJyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICBzdXBwb3J0Q3NzUG9pbnRlckV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCFkb2N1bWVudEV4aXN0cykgcmV0dXJuOyAvLyBmYWxzZSB3aGVuIDw9IElFMTFcblxuICBpZiAoSUUxMU9yTGVzcykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3gnKTtcbiAgZWwuc3R5bGUuY3NzVGV4dCA9ICdwb2ludGVyLWV2ZW50czphdXRvJztcbiAgcmV0dXJuIGVsLnN0eWxlLnBvaW50ZXJFdmVudHMgPT09ICdhdXRvJztcbn0oKSxcbiAgICBfZGV0ZWN0RGlyZWN0aW9uID0gZnVuY3Rpb24gX2RldGVjdERpcmVjdGlvbihlbCwgb3B0aW9ucykge1xuICB2YXIgZWxDU1MgPSBjc3MoZWwpLFxuICAgICAgZWxXaWR0aCA9IHBhcnNlSW50KGVsQ1NTLndpZHRoKSAtIHBhcnNlSW50KGVsQ1NTLnBhZGRpbmdMZWZ0KSAtIHBhcnNlSW50KGVsQ1NTLnBhZGRpbmdSaWdodCkgLSBwYXJzZUludChlbENTUy5ib3JkZXJMZWZ0V2lkdGgpIC0gcGFyc2VJbnQoZWxDU1MuYm9yZGVyUmlnaHRXaWR0aCksXG4gICAgICBjaGlsZDEgPSBnZXRDaGlsZChlbCwgMCwgb3B0aW9ucyksXG4gICAgICBjaGlsZDIgPSBnZXRDaGlsZChlbCwgMSwgb3B0aW9ucyksXG4gICAgICBmaXJzdENoaWxkQ1NTID0gY2hpbGQxICYmIGNzcyhjaGlsZDEpLFxuICAgICAgc2Vjb25kQ2hpbGRDU1MgPSBjaGlsZDIgJiYgY3NzKGNoaWxkMiksXG4gICAgICBmaXJzdENoaWxkV2lkdGggPSBmaXJzdENoaWxkQ1NTICYmIHBhcnNlSW50KGZpcnN0Q2hpbGRDU1MubWFyZ2luTGVmdCkgKyBwYXJzZUludChmaXJzdENoaWxkQ1NTLm1hcmdpblJpZ2h0KSArIGdldFJlY3QoY2hpbGQxKS53aWR0aCxcbiAgICAgIHNlY29uZENoaWxkV2lkdGggPSBzZWNvbmRDaGlsZENTUyAmJiBwYXJzZUludChzZWNvbmRDaGlsZENTUy5tYXJnaW5MZWZ0KSArIHBhcnNlSW50KHNlY29uZENoaWxkQ1NTLm1hcmdpblJpZ2h0KSArIGdldFJlY3QoY2hpbGQyKS53aWR0aDtcblxuICBpZiAoZWxDU1MuZGlzcGxheSA9PT0gJ2ZsZXgnKSB7XG4gICAgcmV0dXJuIGVsQ1NTLmZsZXhEaXJlY3Rpb24gPT09ICdjb2x1bW4nIHx8IGVsQ1NTLmZsZXhEaXJlY3Rpb24gPT09ICdjb2x1bW4tcmV2ZXJzZScgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnO1xuICB9XG5cbiAgaWYgKGVsQ1NTLmRpc3BsYXkgPT09ICdncmlkJykge1xuICAgIHJldHVybiBlbENTUy5ncmlkVGVtcGxhdGVDb2x1bW5zLnNwbGl0KCcgJykubGVuZ3RoIDw9IDEgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnO1xuICB9XG5cbiAgaWYgKGNoaWxkMSAmJiBmaXJzdENoaWxkQ1NTW1wiZmxvYXRcIl0gJiYgZmlyc3RDaGlsZENTU1tcImZsb2F0XCJdICE9PSAnbm9uZScpIHtcbiAgICB2YXIgdG91Y2hpbmdTaWRlQ2hpbGQyID0gZmlyc3RDaGlsZENTU1tcImZsb2F0XCJdID09PSAnbGVmdCcgPyAnbGVmdCcgOiAncmlnaHQnO1xuICAgIHJldHVybiBjaGlsZDIgJiYgKHNlY29uZENoaWxkQ1NTLmNsZWFyID09PSAnYm90aCcgfHwgc2Vjb25kQ2hpbGRDU1MuY2xlYXIgPT09IHRvdWNoaW5nU2lkZUNoaWxkMikgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkMSAmJiAoZmlyc3RDaGlsZENTUy5kaXNwbGF5ID09PSAnYmxvY2snIHx8IGZpcnN0Q2hpbGRDU1MuZGlzcGxheSA9PT0gJ2ZsZXgnIHx8IGZpcnN0Q2hpbGRDU1MuZGlzcGxheSA9PT0gJ3RhYmxlJyB8fCBmaXJzdENoaWxkQ1NTLmRpc3BsYXkgPT09ICdncmlkJyB8fCBmaXJzdENoaWxkV2lkdGggPj0gZWxXaWR0aCAmJiBlbENTU1tDU1NGbG9hdFByb3BlcnR5XSA9PT0gJ25vbmUnIHx8IGNoaWxkMiAmJiBlbENTU1tDU1NGbG9hdFByb3BlcnR5XSA9PT0gJ25vbmUnICYmIGZpcnN0Q2hpbGRXaWR0aCArIHNlY29uZENoaWxkV2lkdGggPiBlbFdpZHRoKSA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCc7XG59LFxuICAgIF9kcmFnRWxJblJvd0NvbHVtbiA9IGZ1bmN0aW9uIF9kcmFnRWxJblJvd0NvbHVtbihkcmFnUmVjdCwgdGFyZ2V0UmVjdCwgdmVydGljYWwpIHtcbiAgdmFyIGRyYWdFbFMxT3BwID0gdmVydGljYWwgPyBkcmFnUmVjdC5sZWZ0IDogZHJhZ1JlY3QudG9wLFxuICAgICAgZHJhZ0VsUzJPcHAgPSB2ZXJ0aWNhbCA/IGRyYWdSZWN0LnJpZ2h0IDogZHJhZ1JlY3QuYm90dG9tLFxuICAgICAgZHJhZ0VsT3BwTGVuZ3RoID0gdmVydGljYWwgPyBkcmFnUmVjdC53aWR0aCA6IGRyYWdSZWN0LmhlaWdodCxcbiAgICAgIHRhcmdldFMxT3BwID0gdmVydGljYWwgPyB0YXJnZXRSZWN0LmxlZnQgOiB0YXJnZXRSZWN0LnRvcCxcbiAgICAgIHRhcmdldFMyT3BwID0gdmVydGljYWwgPyB0YXJnZXRSZWN0LnJpZ2h0IDogdGFyZ2V0UmVjdC5ib3R0b20sXG4gICAgICB0YXJnZXRPcHBMZW5ndGggPSB2ZXJ0aWNhbCA/IHRhcmdldFJlY3Qud2lkdGggOiB0YXJnZXRSZWN0LmhlaWdodDtcbiAgcmV0dXJuIGRyYWdFbFMxT3BwID09PSB0YXJnZXRTMU9wcCB8fCBkcmFnRWxTMk9wcCA9PT0gdGFyZ2V0UzJPcHAgfHwgZHJhZ0VsUzFPcHAgKyBkcmFnRWxPcHBMZW5ndGggLyAyID09PSB0YXJnZXRTMU9wcCArIHRhcmdldE9wcExlbmd0aCAvIDI7XG59LFxuXG4vKipcbiAqIERldGVjdHMgZmlyc3QgbmVhcmVzdCBlbXB0eSBzb3J0YWJsZSB0byBYIGFuZCBZIHBvc2l0aW9uIHVzaW5nIGVtcHR5SW5zZXJ0VGhyZXNob2xkLlxuICogQHBhcmFtICB7TnVtYmVyfSB4ICAgICAgWCBwb3NpdGlvblxuICogQHBhcmFtICB7TnVtYmVyfSB5ICAgICAgWSBwb3NpdGlvblxuICogQHJldHVybiB7SFRNTEVsZW1lbnR9ICAgRWxlbWVudCBvZiB0aGUgZmlyc3QgZm91bmQgbmVhcmVzdCBTb3J0YWJsZVxuICovXG5fZGV0ZWN0TmVhcmVzdEVtcHR5U29ydGFibGUgPSBmdW5jdGlvbiBfZGV0ZWN0TmVhcmVzdEVtcHR5U29ydGFibGUoeCwgeSkge1xuICB2YXIgcmV0O1xuICBzb3J0YWJsZXMuc29tZShmdW5jdGlvbiAoc29ydGFibGUpIHtcbiAgICB2YXIgdGhyZXNob2xkID0gc29ydGFibGVbZXhwYW5kb10ub3B0aW9ucy5lbXB0eUluc2VydFRocmVzaG9sZDtcbiAgICBpZiAoIXRocmVzaG9sZCB8fCBsYXN0Q2hpbGQoc29ydGFibGUpKSByZXR1cm47XG4gICAgdmFyIHJlY3QgPSBnZXRSZWN0KHNvcnRhYmxlKSxcbiAgICAgICAgaW5zaWRlSG9yaXpvbnRhbGx5ID0geCA+PSByZWN0LmxlZnQgLSB0aHJlc2hvbGQgJiYgeCA8PSByZWN0LnJpZ2h0ICsgdGhyZXNob2xkLFxuICAgICAgICBpbnNpZGVWZXJ0aWNhbGx5ID0geSA+PSByZWN0LnRvcCAtIHRocmVzaG9sZCAmJiB5IDw9IHJlY3QuYm90dG9tICsgdGhyZXNob2xkO1xuXG4gICAgaWYgKGluc2lkZUhvcml6b250YWxseSAmJiBpbnNpZGVWZXJ0aWNhbGx5KSB7XG4gICAgICByZXR1cm4gcmV0ID0gc29ydGFibGU7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJldDtcbn0sXG4gICAgX3ByZXBhcmVHcm91cCA9IGZ1bmN0aW9uIF9wcmVwYXJlR3JvdXAob3B0aW9ucykge1xuICBmdW5jdGlvbiB0b0ZuKHZhbHVlLCBwdWxsKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0bywgZnJvbSwgZHJhZ0VsLCBldnQpIHtcbiAgICAgIHZhciBzYW1lR3JvdXAgPSB0by5vcHRpb25zLmdyb3VwLm5hbWUgJiYgZnJvbS5vcHRpb25zLmdyb3VwLm5hbWUgJiYgdG8ub3B0aW9ucy5ncm91cC5uYW1lID09PSBmcm9tLm9wdGlvbnMuZ3JvdXAubmFtZTtcblxuICAgICAgaWYgKHZhbHVlID09IG51bGwgJiYgKHB1bGwgfHwgc2FtZUdyb3VwKSkge1xuICAgICAgICAvLyBEZWZhdWx0IHB1bGwgdmFsdWVcbiAgICAgICAgLy8gRGVmYXVsdCBwdWxsIGFuZCBwdXQgdmFsdWUgaWYgc2FtZSBncm91cFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChwdWxsICYmIHZhbHVlID09PSAnY2xvbmUnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB0b0ZuKHZhbHVlKHRvLCBmcm9tLCBkcmFnRWwsIGV2dCksIHB1bGwpKHRvLCBmcm9tLCBkcmFnRWwsIGV2dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgb3RoZXJHcm91cCA9IChwdWxsID8gdG8gOiBmcm9tKS5vcHRpb25zLmdyb3VwLm5hbWU7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZSB8fCB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlID09PSBvdGhlckdyb3VwIHx8IHZhbHVlLmpvaW4gJiYgdmFsdWUuaW5kZXhPZihvdGhlckdyb3VwKSA+IC0xO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICB2YXIgZ3JvdXAgPSB7fTtcbiAgdmFyIG9yaWdpbmFsR3JvdXAgPSBvcHRpb25zLmdyb3VwO1xuXG4gIGlmICghb3JpZ2luYWxHcm91cCB8fCBfdHlwZW9mKG9yaWdpbmFsR3JvdXApICE9ICdvYmplY3QnKSB7XG4gICAgb3JpZ2luYWxHcm91cCA9IHtcbiAgICAgIG5hbWU6IG9yaWdpbmFsR3JvdXBcbiAgICB9O1xuICB9XG5cbiAgZ3JvdXAubmFtZSA9IG9yaWdpbmFsR3JvdXAubmFtZTtcbiAgZ3JvdXAuY2hlY2tQdWxsID0gdG9GbihvcmlnaW5hbEdyb3VwLnB1bGwsIHRydWUpO1xuICBncm91cC5jaGVja1B1dCA9IHRvRm4ob3JpZ2luYWxHcm91cC5wdXQpO1xuICBncm91cC5yZXZlcnRDbG9uZSA9IG9yaWdpbmFsR3JvdXAucmV2ZXJ0Q2xvbmU7XG4gIG9wdGlvbnMuZ3JvdXAgPSBncm91cDtcbn0sXG4gICAgX2hpZGVHaG9zdEZvclRhcmdldCA9IGZ1bmN0aW9uIF9oaWRlR2hvc3RGb3JUYXJnZXQoKSB7XG4gIGlmICghc3VwcG9ydENzc1BvaW50ZXJFdmVudHMgJiYgZ2hvc3RFbCkge1xuICAgIGNzcyhnaG9zdEVsLCAnZGlzcGxheScsICdub25lJyk7XG4gIH1cbn0sXG4gICAgX3VuaGlkZUdob3N0Rm9yVGFyZ2V0ID0gZnVuY3Rpb24gX3VuaGlkZUdob3N0Rm9yVGFyZ2V0KCkge1xuICBpZiAoIXN1cHBvcnRDc3NQb2ludGVyRXZlbnRzICYmIGdob3N0RWwpIHtcbiAgICBjc3MoZ2hvc3RFbCwgJ2Rpc3BsYXknLCAnJyk7XG4gIH1cbn07IC8vICMxMTg0IGZpeCAtIFByZXZlbnQgY2xpY2sgZXZlbnQgb24gZmFsbGJhY2sgaWYgZHJhZ2dlZCBidXQgaXRlbSBub3QgY2hhbmdlZCBwb3NpdGlvblxuXG5cbmlmIChkb2N1bWVudEV4aXN0cykge1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldnQpIHtcbiAgICBpZiAoaWdub3JlTmV4dENsaWNrKSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24gJiYgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZXZ0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiAmJiBldnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICBpZ25vcmVOZXh0Q2xpY2sgPSBmYWxzZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sIHRydWUpO1xufVxuXG52YXIgbmVhcmVzdEVtcHR5SW5zZXJ0RGV0ZWN0RXZlbnQgPSBmdW5jdGlvbiBuZWFyZXN0RW1wdHlJbnNlcnREZXRlY3RFdmVudChldnQpIHtcbiAgaWYgKGRyYWdFbCkge1xuICAgIGV2dCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0gOiBldnQ7XG5cbiAgICB2YXIgbmVhcmVzdCA9IF9kZXRlY3ROZWFyZXN0RW1wdHlTb3J0YWJsZShldnQuY2xpZW50WCwgZXZ0LmNsaWVudFkpO1xuXG4gICAgaWYgKG5lYXJlc3QpIHtcbiAgICAgIC8vIENyZWF0ZSBpbWl0YXRpb24gZXZlbnRcbiAgICAgIHZhciBldmVudCA9IHt9O1xuXG4gICAgICBmb3IgKHZhciBpIGluIGV2dCkge1xuICAgICAgICBpZiAoZXZ0Lmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgZXZlbnRbaV0gPSBldnRbaV07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZXZlbnQudGFyZ2V0ID0gZXZlbnQucm9vdEVsID0gbmVhcmVzdDtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0ID0gdm9pZCAwO1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uID0gdm9pZCAwO1xuXG4gICAgICBuZWFyZXN0W2V4cGFuZG9dLl9vbkRyYWdPdmVyKGV2ZW50KTtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBfY2hlY2tPdXRzaWRlVGFyZ2V0RWwgPSBmdW5jdGlvbiBfY2hlY2tPdXRzaWRlVGFyZ2V0RWwoZXZ0KSB7XG4gIGlmIChkcmFnRWwpIHtcbiAgICBkcmFnRWwucGFyZW50Tm9kZVtleHBhbmRvXS5faXNPdXRzaWRlVGhpc0VsKGV2dC50YXJnZXQpO1xuICB9XG59O1xuLyoqXG4gKiBAY2xhc3MgIFNvcnRhYmxlXG4gKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gIGVsXG4gKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgIFtvcHRpb25zXVxuICovXG5cblxuZnVuY3Rpb24gU29ydGFibGUoZWwsIG9wdGlvbnMpIHtcbiAgaWYgKCEoZWwgJiYgZWwubm9kZVR5cGUgJiYgZWwubm9kZVR5cGUgPT09IDEpKSB7XG4gICAgdGhyb3cgXCJTb3J0YWJsZTogYGVsYCBtdXN0IGJlIGFuIEhUTUxFbGVtZW50LCBub3QgXCIuY29uY2F0KHt9LnRvU3RyaW5nLmNhbGwoZWwpKTtcbiAgfVxuXG4gIHRoaXMuZWwgPSBlbDsgLy8gcm9vdCBlbGVtZW50XG5cbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyA9IF9leHRlbmRzKHt9LCBvcHRpb25zKTsgLy8gRXhwb3J0IGluc3RhbmNlXG5cbiAgZWxbZXhwYW5kb10gPSB0aGlzO1xuICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgZ3JvdXA6IG51bGwsXG4gICAgc29ydDogdHJ1ZSxcbiAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgc3RvcmU6IG51bGwsXG4gICAgaGFuZGxlOiBudWxsLFxuICAgIGRyYWdnYWJsZTogL15bdW9dbCQvaS50ZXN0KGVsLm5vZGVOYW1lKSA/ICc+bGknIDogJz4qJyxcbiAgICBzd2FwVGhyZXNob2xkOiAxLFxuICAgIC8vIHBlcmNlbnRhZ2U7IDAgPD0geCA8PSAxXG4gICAgaW52ZXJ0U3dhcDogZmFsc2UsXG4gICAgLy8gaW52ZXJ0IGFsd2F5c1xuICAgIGludmVydGVkU3dhcFRocmVzaG9sZDogbnVsbCxcbiAgICAvLyB3aWxsIGJlIHNldCB0byBzYW1lIGFzIHN3YXBUaHJlc2hvbGQgaWYgZGVmYXVsdFxuICAgIHJlbW92ZUNsb25lT25IaWRlOiB0cnVlLFxuICAgIGRpcmVjdGlvbjogZnVuY3Rpb24gZGlyZWN0aW9uKCkge1xuICAgICAgcmV0dXJuIF9kZXRlY3REaXJlY3Rpb24oZWwsIHRoaXMub3B0aW9ucyk7XG4gICAgfSxcbiAgICBnaG9zdENsYXNzOiAnc29ydGFibGUtZ2hvc3QnLFxuICAgIGNob3NlbkNsYXNzOiAnc29ydGFibGUtY2hvc2VuJyxcbiAgICBkcmFnQ2xhc3M6ICdzb3J0YWJsZS1kcmFnJyxcbiAgICBpZ25vcmU6ICdhLCBpbWcnLFxuICAgIGZpbHRlcjogbnVsbCxcbiAgICBwcmV2ZW50T25GaWx0ZXI6IHRydWUsXG4gICAgYW5pbWF0aW9uOiAwLFxuICAgIGVhc2luZzogbnVsbCxcbiAgICBzZXREYXRhOiBmdW5jdGlvbiBzZXREYXRhKGRhdGFUcmFuc2ZlciwgZHJhZ0VsKSB7XG4gICAgICBkYXRhVHJhbnNmZXIuc2V0RGF0YSgnVGV4dCcsIGRyYWdFbC50ZXh0Q29udGVudCk7XG4gICAgfSxcbiAgICBkcm9wQnViYmxlOiBmYWxzZSxcbiAgICBkcmFnb3ZlckJ1YmJsZTogZmFsc2UsXG4gICAgZGF0YUlkQXR0cjogJ2RhdGEtaWQnLFxuICAgIGRlbGF5OiAwLFxuICAgIGRlbGF5T25Ub3VjaE9ubHk6IGZhbHNlLFxuICAgIHRvdWNoU3RhcnRUaHJlc2hvbGQ6IChOdW1iZXIucGFyc2VJbnQgPyBOdW1iZXIgOiB3aW5kb3cpLnBhcnNlSW50KHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLCAxMCkgfHwgMSxcbiAgICBmb3JjZUZhbGxiYWNrOiBmYWxzZSxcbiAgICBmYWxsYmFja0NsYXNzOiAnc29ydGFibGUtZmFsbGJhY2snLFxuICAgIGZhbGxiYWNrT25Cb2R5OiBmYWxzZSxcbiAgICBmYWxsYmFja1RvbGVyYW5jZTogMCxcbiAgICBmYWxsYmFja09mZnNldDoge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDBcbiAgICB9LFxuICAgIHN1cHBvcnRQb2ludGVyOiBTb3J0YWJsZS5zdXBwb3J0UG9pbnRlciAhPT0gZmFsc2UgJiYgJ1BvaW50ZXJFdmVudCcgaW4gd2luZG93ICYmICFTYWZhcmksXG4gICAgZW1wdHlJbnNlcnRUaHJlc2hvbGQ6IDVcbiAgfTtcbiAgUGx1Z2luTWFuYWdlci5pbml0aWFsaXplUGx1Z2lucyh0aGlzLCBlbCwgZGVmYXVsdHMpOyAvLyBTZXQgZGVmYXVsdCBvcHRpb25zXG5cbiAgZm9yICh2YXIgbmFtZSBpbiBkZWZhdWx0cykge1xuICAgICEobmFtZSBpbiBvcHRpb25zKSAmJiAob3B0aW9uc1tuYW1lXSA9IGRlZmF1bHRzW25hbWVdKTtcbiAgfVxuXG4gIF9wcmVwYXJlR3JvdXAob3B0aW9ucyk7IC8vIEJpbmQgYWxsIHByaXZhdGUgbWV0aG9kc1xuXG5cbiAgZm9yICh2YXIgZm4gaW4gdGhpcykge1xuICAgIGlmIChmbi5jaGFyQXQoMCkgPT09ICdfJyAmJiB0eXBlb2YgdGhpc1tmbl0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXNbZm5dID0gdGhpc1tmbl0uYmluZCh0aGlzKTtcbiAgICB9XG4gIH0gLy8gU2V0dXAgZHJhZyBtb2RlXG5cblxuICB0aGlzLm5hdGl2ZURyYWdnYWJsZSA9IG9wdGlvbnMuZm9yY2VGYWxsYmFjayA/IGZhbHNlIDogc3VwcG9ydERyYWdnYWJsZTtcblxuICBpZiAodGhpcy5uYXRpdmVEcmFnZ2FibGUpIHtcbiAgICAvLyBUb3VjaCBzdGFydCB0aHJlc2hvbGQgY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiB0aGUgbmF0aXZlIGRyYWdzdGFydCB0aHJlc2hvbGRcbiAgICB0aGlzLm9wdGlvbnMudG91Y2hTdGFydFRocmVzaG9sZCA9IDE7XG4gIH0gLy8gQmluZCBldmVudHNcblxuXG4gIGlmIChvcHRpb25zLnN1cHBvcnRQb2ludGVyKSB7XG4gICAgb24oZWwsICdwb2ludGVyZG93bicsIHRoaXMuX29uVGFwU3RhcnQpO1xuICB9IGVsc2Uge1xuICAgIG9uKGVsLCAnbW91c2Vkb3duJywgdGhpcy5fb25UYXBTdGFydCk7XG4gICAgb24oZWwsICd0b3VjaHN0YXJ0JywgdGhpcy5fb25UYXBTdGFydCk7XG4gIH1cblxuICBpZiAodGhpcy5uYXRpdmVEcmFnZ2FibGUpIHtcbiAgICBvbihlbCwgJ2RyYWdvdmVyJywgdGhpcyk7XG4gICAgb24oZWwsICdkcmFnZW50ZXInLCB0aGlzKTtcbiAgfVxuXG4gIHNvcnRhYmxlcy5wdXNoKHRoaXMuZWwpOyAvLyBSZXN0b3JlIHNvcnRpbmdcblxuICBvcHRpb25zLnN0b3JlICYmIG9wdGlvbnMuc3RvcmUuZ2V0ICYmIHRoaXMuc29ydChvcHRpb25zLnN0b3JlLmdldCh0aGlzKSB8fCBbXSk7IC8vIEFkZCBhbmltYXRpb24gc3RhdGUgbWFuYWdlclxuXG4gIF9leHRlbmRzKHRoaXMsIEFuaW1hdGlvblN0YXRlTWFuYWdlcigpKTtcbn1cblxuU29ydGFibGUucHJvdG90eXBlID1cbi8qKiBAbGVuZHMgU29ydGFibGUucHJvdG90eXBlICovXG57XG4gIGNvbnN0cnVjdG9yOiBTb3J0YWJsZSxcbiAgX2lzT3V0c2lkZVRoaXNFbDogZnVuY3Rpb24gX2lzT3V0c2lkZVRoaXNFbCh0YXJnZXQpIHtcbiAgICBpZiAoIXRoaXMuZWwuY29udGFpbnModGFyZ2V0KSAmJiB0YXJnZXQgIT09IHRoaXMuZWwpIHtcbiAgICAgIGxhc3RUYXJnZXQgPSBudWxsO1xuICAgIH1cbiAgfSxcbiAgX2dldERpcmVjdGlvbjogZnVuY3Rpb24gX2dldERpcmVjdGlvbihldnQsIHRhcmdldCkge1xuICAgIHJldHVybiB0eXBlb2YgdGhpcy5vcHRpb25zLmRpcmVjdGlvbiA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMub3B0aW9ucy5kaXJlY3Rpb24uY2FsbCh0aGlzLCBldnQsIHRhcmdldCwgZHJhZ0VsKSA6IHRoaXMub3B0aW9ucy5kaXJlY3Rpb247XG4gIH0sXG4gIF9vblRhcFN0YXJ0OiBmdW5jdGlvbiBfb25UYXBTdGFydChcbiAgLyoqIEV2ZW50fFRvdWNoRXZlbnQgKi9cbiAgZXZ0KSB7XG4gICAgaWYgKCFldnQuY2FuY2VsYWJsZSkgcmV0dXJuO1xuXG4gICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgZWwgPSB0aGlzLmVsLFxuICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICBwcmV2ZW50T25GaWx0ZXIgPSBvcHRpb25zLnByZXZlbnRPbkZpbHRlcixcbiAgICAgICAgdHlwZSA9IGV2dC50eXBlLFxuICAgICAgICB0b3VjaCA9IGV2dC50b3VjaGVzICYmIGV2dC50b3VjaGVzWzBdIHx8IGV2dC5wb2ludGVyVHlwZSAmJiBldnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcgJiYgZXZ0LFxuICAgICAgICB0YXJnZXQgPSAodG91Y2ggfHwgZXZ0KS50YXJnZXQsXG4gICAgICAgIG9yaWdpbmFsVGFyZ2V0ID0gZXZ0LnRhcmdldC5zaGFkb3dSb290ICYmIChldnQucGF0aCAmJiBldnQucGF0aFswXSB8fCBldnQuY29tcG9zZWRQYXRoICYmIGV2dC5jb21wb3NlZFBhdGgoKVswXSkgfHwgdGFyZ2V0LFxuICAgICAgICBmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcblxuICAgIF9zYXZlSW5wdXRDaGVja2VkU3RhdGUoZWwpOyAvLyBEb24ndCB0cmlnZ2VyIHN0YXJ0IGV2ZW50IHdoZW4gYW4gZWxlbWVudCBpcyBiZWVuIGRyYWdnZWQsIG90aGVyd2lzZSB0aGUgZXZ0Lm9sZGluZGV4IGFsd2F5cyB3cm9uZyB3aGVuIHNldCBvcHRpb24uZ3JvdXAuXG5cblxuICAgIGlmIChkcmFnRWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoL21vdXNlZG93bnxwb2ludGVyZG93bi8udGVzdCh0eXBlKSAmJiBldnQuYnV0dG9uICE9PSAwIHx8IG9wdGlvbnMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybjsgLy8gb25seSBsZWZ0IGJ1dHRvbiBhbmQgZW5hYmxlZFxuICAgIH0gLy8gY2FuY2VsIGRuZCBpZiBvcmlnaW5hbCB0YXJnZXQgaXMgY29udGVudCBlZGl0YWJsZVxuXG5cbiAgICBpZiAob3JpZ2luYWxUYXJnZXQuaXNDb250ZW50RWRpdGFibGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIFNhZmFyaSBpZ25vcmVzIGZ1cnRoZXIgZXZlbnQgaGFuZGxpbmcgYWZ0ZXIgbW91c2Vkb3duXG5cblxuICAgIGlmICghdGhpcy5uYXRpdmVEcmFnZ2FibGUgJiYgU2FmYXJpICYmIHRhcmdldCAmJiB0YXJnZXQudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09PSAnU0VMRUNUJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRhcmdldCA9IGNsb3Nlc3QodGFyZ2V0LCBvcHRpb25zLmRyYWdnYWJsZSwgZWwsIGZhbHNlKTtcblxuICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0LmFuaW1hdGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGxhc3REb3duRWwgPT09IHRhcmdldCkge1xuICAgICAgLy8gSWdub3JpbmcgZHVwbGljYXRlIGBkb3duYFxuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gR2V0IHRoZSBpbmRleCBvZiB0aGUgZHJhZ2dlZCBlbGVtZW50IHdpdGhpbiBpdHMgcGFyZW50XG5cblxuICAgIG9sZEluZGV4ID0gaW5kZXgodGFyZ2V0KTtcbiAgICBvbGREcmFnZ2FibGVJbmRleCA9IGluZGV4KHRhcmdldCwgb3B0aW9ucy5kcmFnZ2FibGUpOyAvLyBDaGVjayBmaWx0ZXJcblxuICAgIGlmICh0eXBlb2YgZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAoZmlsdGVyLmNhbGwodGhpcywgZXZ0LCB0YXJnZXQsIHRoaXMpKSB7XG4gICAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICBzb3J0YWJsZTogX3RoaXMsXG4gICAgICAgICAgcm9vdEVsOiBvcmlnaW5hbFRhcmdldCxcbiAgICAgICAgICBuYW1lOiAnZmlsdGVyJyxcbiAgICAgICAgICB0YXJnZXRFbDogdGFyZ2V0LFxuICAgICAgICAgIHRvRWw6IGVsLFxuICAgICAgICAgIGZyb21FbDogZWxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcGx1Z2luRXZlbnQoJ2ZpbHRlcicsIF90aGlzLCB7XG4gICAgICAgICAgZXZ0OiBldnRcbiAgICAgICAgfSk7XG4gICAgICAgIHByZXZlbnRPbkZpbHRlciAmJiBldnQuY2FuY2VsYWJsZSAmJiBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuOyAvLyBjYW5jZWwgZG5kXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChmaWx0ZXIpIHtcbiAgICAgIGZpbHRlciA9IGZpbHRlci5zcGxpdCgnLCcpLnNvbWUoZnVuY3Rpb24gKGNyaXRlcmlhKSB7XG4gICAgICAgIGNyaXRlcmlhID0gY2xvc2VzdChvcmlnaW5hbFRhcmdldCwgY3JpdGVyaWEudHJpbSgpLCBlbCwgZmFsc2UpO1xuXG4gICAgICAgIGlmIChjcml0ZXJpYSkge1xuICAgICAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgIHNvcnRhYmxlOiBfdGhpcyxcbiAgICAgICAgICAgIHJvb3RFbDogY3JpdGVyaWEsXG4gICAgICAgICAgICBuYW1lOiAnZmlsdGVyJyxcbiAgICAgICAgICAgIHRhcmdldEVsOiB0YXJnZXQsXG4gICAgICAgICAgICBmcm9tRWw6IGVsLFxuICAgICAgICAgICAgdG9FbDogZWxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHBsdWdpbkV2ZW50KCdmaWx0ZXInLCBfdGhpcywge1xuICAgICAgICAgICAgZXZ0OiBldnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChmaWx0ZXIpIHtcbiAgICAgICAgcHJldmVudE9uRmlsdGVyICYmIGV2dC5jYW5jZWxhYmxlICYmIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47IC8vIGNhbmNlbCBkbmRcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5oYW5kbGUgJiYgIWNsb3Nlc3Qob3JpZ2luYWxUYXJnZXQsIG9wdGlvbnMuaGFuZGxlLCBlbCwgZmFsc2UpKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBQcmVwYXJlIGBkcmFnc3RhcnRgXG5cblxuICAgIHRoaXMuX3ByZXBhcmVEcmFnU3RhcnQoZXZ0LCB0b3VjaCwgdGFyZ2V0KTtcbiAgfSxcbiAgX3ByZXBhcmVEcmFnU3RhcnQ6IGZ1bmN0aW9uIF9wcmVwYXJlRHJhZ1N0YXJ0KFxuICAvKiogRXZlbnQgKi9cbiAgZXZ0LFxuICAvKiogVG91Y2ggKi9cbiAgdG91Y2gsXG4gIC8qKiBIVE1MRWxlbWVudCAqL1xuICB0YXJnZXQpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzLFxuICAgICAgICBlbCA9IF90aGlzLmVsLFxuICAgICAgICBvcHRpb25zID0gX3RoaXMub3B0aW9ucyxcbiAgICAgICAgb3duZXJEb2N1bWVudCA9IGVsLm93bmVyRG9jdW1lbnQsXG4gICAgICAgIGRyYWdTdGFydEZuO1xuXG4gICAgaWYgKHRhcmdldCAmJiAhZHJhZ0VsICYmIHRhcmdldC5wYXJlbnROb2RlID09PSBlbCkge1xuICAgICAgdmFyIGRyYWdSZWN0ID0gZ2V0UmVjdCh0YXJnZXQpO1xuICAgICAgcm9vdEVsID0gZWw7XG4gICAgICBkcmFnRWwgPSB0YXJnZXQ7XG4gICAgICBwYXJlbnRFbCA9IGRyYWdFbC5wYXJlbnROb2RlO1xuICAgICAgbmV4dEVsID0gZHJhZ0VsLm5leHRTaWJsaW5nO1xuICAgICAgbGFzdERvd25FbCA9IHRhcmdldDtcbiAgICAgIGFjdGl2ZUdyb3VwID0gb3B0aW9ucy5ncm91cDtcbiAgICAgIFNvcnRhYmxlLmRyYWdnZWQgPSBkcmFnRWw7XG4gICAgICB0YXBFdnQgPSB7XG4gICAgICAgIHRhcmdldDogZHJhZ0VsLFxuICAgICAgICBjbGllbnRYOiAodG91Y2ggfHwgZXZ0KS5jbGllbnRYLFxuICAgICAgICBjbGllbnRZOiAodG91Y2ggfHwgZXZ0KS5jbGllbnRZXG4gICAgICB9O1xuICAgICAgdGFwRGlzdGFuY2VMZWZ0ID0gdGFwRXZ0LmNsaWVudFggLSBkcmFnUmVjdC5sZWZ0O1xuICAgICAgdGFwRGlzdGFuY2VUb3AgPSB0YXBFdnQuY2xpZW50WSAtIGRyYWdSZWN0LnRvcDtcbiAgICAgIHRoaXMuX2xhc3RYID0gKHRvdWNoIHx8IGV2dCkuY2xpZW50WDtcbiAgICAgIHRoaXMuX2xhc3RZID0gKHRvdWNoIHx8IGV2dCkuY2xpZW50WTtcbiAgICAgIGRyYWdFbC5zdHlsZVsnd2lsbC1jaGFuZ2UnXSA9ICdhbGwnO1xuXG4gICAgICBkcmFnU3RhcnRGbiA9IGZ1bmN0aW9uIGRyYWdTdGFydEZuKCkge1xuICAgICAgICBwbHVnaW5FdmVudCgnZGVsYXlFbmRlZCcsIF90aGlzLCB7XG4gICAgICAgICAgZXZ0OiBldnRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKFNvcnRhYmxlLmV2ZW50Q2FuY2VsZWQpIHtcbiAgICAgICAgICBfdGhpcy5fb25Ecm9wKCk7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gLy8gRGVsYXllZCBkcmFnIGhhcyBiZWVuIHRyaWdnZXJlZFxuICAgICAgICAvLyB3ZSBjYW4gcmUtZW5hYmxlIHRoZSBldmVudHM6IHRvdWNobW92ZS9tb3VzZW1vdmVcblxuXG4gICAgICAgIF90aGlzLl9kaXNhYmxlRGVsYXllZERyYWdFdmVudHMoKTtcblxuICAgICAgICBpZiAoIUZpcmVGb3ggJiYgX3RoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG4gICAgICAgICAgZHJhZ0VsLmRyYWdnYWJsZSA9IHRydWU7XG4gICAgICAgIH0gLy8gQmluZCB0aGUgZXZlbnRzOiBkcmFnc3RhcnQvZHJhZ2VuZFxuXG5cbiAgICAgICAgX3RoaXMuX3RyaWdnZXJEcmFnU3RhcnQoZXZ0LCB0b3VjaCk7IC8vIERyYWcgc3RhcnQgZXZlbnRcblxuXG4gICAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICBzb3J0YWJsZTogX3RoaXMsXG4gICAgICAgICAgbmFtZTogJ2Nob29zZScsXG4gICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZ0XG4gICAgICAgIH0pOyAvLyBDaG9zZW4gaXRlbVxuXG5cbiAgICAgICAgdG9nZ2xlQ2xhc3MoZHJhZ0VsLCBvcHRpb25zLmNob3NlbkNsYXNzLCB0cnVlKTtcbiAgICAgIH07IC8vIERpc2FibGUgXCJkcmFnZ2FibGVcIlxuXG5cbiAgICAgIG9wdGlvbnMuaWdub3JlLnNwbGl0KCcsJykuZm9yRWFjaChmdW5jdGlvbiAoY3JpdGVyaWEpIHtcbiAgICAgICAgZmluZChkcmFnRWwsIGNyaXRlcmlhLnRyaW0oKSwgX2Rpc2FibGVEcmFnZ2FibGUpO1xuICAgICAgfSk7XG4gICAgICBvbihvd25lckRvY3VtZW50LCAnZHJhZ292ZXInLCBuZWFyZXN0RW1wdHlJbnNlcnREZXRlY3RFdmVudCk7XG4gICAgICBvbihvd25lckRvY3VtZW50LCAnbW91c2Vtb3ZlJywgbmVhcmVzdEVtcHR5SW5zZXJ0RGV0ZWN0RXZlbnQpO1xuICAgICAgb24ob3duZXJEb2N1bWVudCwgJ3RvdWNobW92ZScsIG5lYXJlc3RFbXB0eUluc2VydERldGVjdEV2ZW50KTtcbiAgICAgIG9uKG93bmVyRG9jdW1lbnQsICdtb3VzZXVwJywgX3RoaXMuX29uRHJvcCk7XG4gICAgICBvbihvd25lckRvY3VtZW50LCAndG91Y2hlbmQnLCBfdGhpcy5fb25Ecm9wKTtcbiAgICAgIG9uKG93bmVyRG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIF90aGlzLl9vbkRyb3ApOyAvLyBNYWtlIGRyYWdFbCBkcmFnZ2FibGUgKG11c3QgYmUgYmVmb3JlIGRlbGF5IGZvciBGaXJlRm94KVxuXG4gICAgICBpZiAoRmlyZUZveCAmJiB0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuICAgICAgICB0aGlzLm9wdGlvbnMudG91Y2hTdGFydFRocmVzaG9sZCA9IDQ7XG4gICAgICAgIGRyYWdFbC5kcmFnZ2FibGUgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBwbHVnaW5FdmVudCgnZGVsYXlTdGFydCcsIHRoaXMsIHtcbiAgICAgICAgZXZ0OiBldnRcbiAgICAgIH0pOyAvLyBEZWxheSBpcyBpbXBvc3NpYmxlIGZvciBuYXRpdmUgRG5EIGluIEVkZ2Ugb3IgSUVcblxuICAgICAgaWYgKG9wdGlvbnMuZGVsYXkgJiYgKCFvcHRpb25zLmRlbGF5T25Ub3VjaE9ubHkgfHwgdG91Y2gpICYmICghdGhpcy5uYXRpdmVEcmFnZ2FibGUgfHwgIShFZGdlIHx8IElFMTFPckxlc3MpKSkge1xuICAgICAgICBpZiAoU29ydGFibGUuZXZlbnRDYW5jZWxlZCkge1xuICAgICAgICAgIHRoaXMuX29uRHJvcCgpO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IC8vIElmIHRoZSB1c2VyIG1vdmVzIHRoZSBwb2ludGVyIG9yIGxldCBnbyB0aGUgY2xpY2sgb3IgdG91Y2hcbiAgICAgICAgLy8gYmVmb3JlIHRoZSBkZWxheSBoYXMgYmVlbiByZWFjaGVkOlxuICAgICAgICAvLyBkaXNhYmxlIHRoZSBkZWxheWVkIGRyYWdcblxuXG4gICAgICAgIG9uKG93bmVyRG9jdW1lbnQsICdtb3VzZXVwJywgX3RoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG4gICAgICAgIG9uKG93bmVyRG9jdW1lbnQsICd0b3VjaGVuZCcsIF90aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuICAgICAgICBvbihvd25lckRvY3VtZW50LCAndG91Y2hjYW5jZWwnLCBfdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcbiAgICAgICAgb24ob3duZXJEb2N1bWVudCwgJ21vdXNlbW92ZScsIF90aGlzLl9kZWxheWVkRHJhZ1RvdWNoTW92ZUhhbmRsZXIpO1xuICAgICAgICBvbihvd25lckRvY3VtZW50LCAndG91Y2htb3ZlJywgX3RoaXMuX2RlbGF5ZWREcmFnVG91Y2hNb3ZlSGFuZGxlcik7XG4gICAgICAgIG9wdGlvbnMuc3VwcG9ydFBvaW50ZXIgJiYgb24ob3duZXJEb2N1bWVudCwgJ3BvaW50ZXJtb3ZlJywgX3RoaXMuX2RlbGF5ZWREcmFnVG91Y2hNb3ZlSGFuZGxlcik7XG4gICAgICAgIF90aGlzLl9kcmFnU3RhcnRUaW1lciA9IHNldFRpbWVvdXQoZHJhZ1N0YXJ0Rm4sIG9wdGlvbnMuZGVsYXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZHJhZ1N0YXJ0Rm4oKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIF9kZWxheWVkRHJhZ1RvdWNoTW92ZUhhbmRsZXI6IGZ1bmN0aW9uIF9kZWxheWVkRHJhZ1RvdWNoTW92ZUhhbmRsZXIoXG4gIC8qKiBUb3VjaEV2ZW50fFBvaW50ZXJFdmVudCAqKi9cbiAgZSkge1xuICAgIHZhciB0b3VjaCA9IGUudG91Y2hlcyA/IGUudG91Y2hlc1swXSA6IGU7XG5cbiAgICBpZiAoTWF0aC5tYXgoTWF0aC5hYnModG91Y2guY2xpZW50WCAtIHRoaXMuX2xhc3RYKSwgTWF0aC5hYnModG91Y2guY2xpZW50WSAtIHRoaXMuX2xhc3RZKSkgPj0gTWF0aC5mbG9vcih0aGlzLm9wdGlvbnMudG91Y2hTdGFydFRocmVzaG9sZCAvICh0aGlzLm5hdGl2ZURyYWdnYWJsZSAmJiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKSkpIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVEZWxheWVkRHJhZygpO1xuICAgIH1cbiAgfSxcbiAgX2Rpc2FibGVEZWxheWVkRHJhZzogZnVuY3Rpb24gX2Rpc2FibGVEZWxheWVkRHJhZygpIHtcbiAgICBkcmFnRWwgJiYgX2Rpc2FibGVEcmFnZ2FibGUoZHJhZ0VsKTtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fZHJhZ1N0YXJ0VGltZXIpO1xuXG4gICAgdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnRXZlbnRzKCk7XG4gIH0sXG4gIF9kaXNhYmxlRGVsYXllZERyYWdFdmVudHM6IGZ1bmN0aW9uIF9kaXNhYmxlRGVsYXllZERyYWdFdmVudHMoKSB7XG4gICAgdmFyIG93bmVyRG9jdW1lbnQgPSB0aGlzLmVsLm93bmVyRG9jdW1lbnQ7XG4gICAgb2ZmKG93bmVyRG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcbiAgICBvZmYob3duZXJEb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcbiAgICBvZmYob3duZXJEb2N1bWVudCwgJ3RvdWNoY2FuY2VsJywgdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcbiAgICBvZmYob3duZXJEb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX2RlbGF5ZWREcmFnVG91Y2hNb3ZlSGFuZGxlcik7XG4gICAgb2ZmKG93bmVyRG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9kZWxheWVkRHJhZ1RvdWNoTW92ZUhhbmRsZXIpO1xuICAgIG9mZihvd25lckRvY3VtZW50LCAncG9pbnRlcm1vdmUnLCB0aGlzLl9kZWxheWVkRHJhZ1RvdWNoTW92ZUhhbmRsZXIpO1xuICB9LFxuICBfdHJpZ2dlckRyYWdTdGFydDogZnVuY3Rpb24gX3RyaWdnZXJEcmFnU3RhcnQoXG4gIC8qKiBFdmVudCAqL1xuICBldnQsXG4gIC8qKiBUb3VjaCAqL1xuICB0b3VjaCkge1xuICAgIHRvdWNoID0gdG91Y2ggfHwgZXZ0LnBvaW50ZXJUeXBlID09ICd0b3VjaCcgJiYgZXZ0O1xuXG4gICAgaWYgKCF0aGlzLm5hdGl2ZURyYWdnYWJsZSB8fCB0b3VjaCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5zdXBwb3J0UG9pbnRlcikge1xuICAgICAgICBvbihkb2N1bWVudCwgJ3BvaW50ZXJtb3ZlJywgdGhpcy5fb25Ub3VjaE1vdmUpO1xuICAgICAgfSBlbHNlIGlmICh0b3VjaCkge1xuICAgICAgICBvbihkb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgdGhpcy5fb25Ub3VjaE1vdmUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBvbihkcmFnRWwsICdkcmFnZW5kJywgdGhpcyk7XG4gICAgICBvbihyb290RWwsICdkcmFnc3RhcnQnLCB0aGlzLl9vbkRyYWdTdGFydCk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChkb2N1bWVudC5zZWxlY3Rpb24pIHtcbiAgICAgICAgLy8gVGltZW91dCBuZWNjZXNzYXJ5IGZvciBJRTlcbiAgICAgICAgX25leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBkb2N1bWVudC5zZWxlY3Rpb24uZW1wdHkoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7fVxuICB9LFxuICBfZHJhZ1N0YXJ0ZWQ6IGZ1bmN0aW9uIF9kcmFnU3RhcnRlZChmYWxsYmFjaywgZXZ0KSB7XG5cbiAgICBhd2FpdGluZ0RyYWdTdGFydGVkID0gZmFsc2U7XG5cbiAgICBpZiAocm9vdEVsICYmIGRyYWdFbCkge1xuICAgICAgcGx1Z2luRXZlbnQoJ2RyYWdTdGFydGVkJywgdGhpcywge1xuICAgICAgICBldnQ6IGV2dFxuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuICAgICAgICBvbihkb2N1bWVudCwgJ2RyYWdvdmVyJywgX2NoZWNrT3V0c2lkZVRhcmdldEVsKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7IC8vIEFwcGx5IGVmZmVjdFxuXG4gICAgICAhZmFsbGJhY2sgJiYgdG9nZ2xlQ2xhc3MoZHJhZ0VsLCBvcHRpb25zLmRyYWdDbGFzcywgZmFsc2UpO1xuICAgICAgdG9nZ2xlQ2xhc3MoZHJhZ0VsLCBvcHRpb25zLmdob3N0Q2xhc3MsIHRydWUpO1xuICAgICAgU29ydGFibGUuYWN0aXZlID0gdGhpcztcbiAgICAgIGZhbGxiYWNrICYmIHRoaXMuX2FwcGVuZEdob3N0KCk7IC8vIERyYWcgc3RhcnQgZXZlbnRcblxuICAgICAgX2Rpc3BhdGNoRXZlbnQoe1xuICAgICAgICBzb3J0YWJsZTogdGhpcyxcbiAgICAgICAgbmFtZTogJ3N0YXJ0JyxcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZ0XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbnVsbGluZygpO1xuICAgIH1cbiAgfSxcbiAgX2VtdWxhdGVEcmFnT3ZlcjogZnVuY3Rpb24gX2VtdWxhdGVEcmFnT3ZlcigpIHtcbiAgICBpZiAodG91Y2hFdnQpIHtcbiAgICAgIHRoaXMuX2xhc3RYID0gdG91Y2hFdnQuY2xpZW50WDtcbiAgICAgIHRoaXMuX2xhc3RZID0gdG91Y2hFdnQuY2xpZW50WTtcblxuICAgICAgX2hpZGVHaG9zdEZvclRhcmdldCgpO1xuXG4gICAgICB2YXIgdGFyZ2V0ID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCh0b3VjaEV2dC5jbGllbnRYLCB0b3VjaEV2dC5jbGllbnRZKTtcbiAgICAgIHZhciBwYXJlbnQgPSB0YXJnZXQ7XG5cbiAgICAgIHdoaWxlICh0YXJnZXQgJiYgdGFyZ2V0LnNoYWRvd1Jvb3QpIHtcbiAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnNoYWRvd1Jvb3QuZWxlbWVudEZyb21Qb2ludCh0b3VjaEV2dC5jbGllbnRYLCB0b3VjaEV2dC5jbGllbnRZKTtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gcGFyZW50KSBicmVhaztcbiAgICAgICAgcGFyZW50ID0gdGFyZ2V0O1xuICAgICAgfVxuXG4gICAgICBkcmFnRWwucGFyZW50Tm9kZVtleHBhbmRvXS5faXNPdXRzaWRlVGhpc0VsKHRhcmdldCk7XG5cbiAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIGlmIChwYXJlbnRbZXhwYW5kb10pIHtcbiAgICAgICAgICAgIHZhciBpbnNlcnRlZCA9IHZvaWQgMDtcbiAgICAgICAgICAgIGluc2VydGVkID0gcGFyZW50W2V4cGFuZG9dLl9vbkRyYWdPdmVyKHtcbiAgICAgICAgICAgICAgY2xpZW50WDogdG91Y2hFdnQuY2xpZW50WCxcbiAgICAgICAgICAgICAgY2xpZW50WTogdG91Y2hFdnQuY2xpZW50WSxcbiAgICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgICAgICAgIHJvb3RFbDogcGFyZW50XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGluc2VydGVkICYmICF0aGlzLm9wdGlvbnMuZHJhZ292ZXJCdWJibGUpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGFyZ2V0ID0gcGFyZW50OyAvLyBzdG9yZSBsYXN0IGVsZW1lbnRcbiAgICAgICAgfVxuICAgICAgICAvKiBqc2hpbnQgYm9zczp0cnVlICovXG4gICAgICAgIHdoaWxlIChwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZSk7XG4gICAgICB9XG5cbiAgICAgIF91bmhpZGVHaG9zdEZvclRhcmdldCgpO1xuICAgIH1cbiAgfSxcbiAgX29uVG91Y2hNb3ZlOiBmdW5jdGlvbiBfb25Ub3VjaE1vdmUoXG4gIC8qKlRvdWNoRXZlbnQqL1xuICBldnQpIHtcbiAgICBpZiAodGFwRXZ0KSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICBmYWxsYmFja1RvbGVyYW5jZSA9IG9wdGlvbnMuZmFsbGJhY2tUb2xlcmFuY2UsXG4gICAgICAgICAgZmFsbGJhY2tPZmZzZXQgPSBvcHRpb25zLmZhbGxiYWNrT2Zmc2V0LFxuICAgICAgICAgIHRvdWNoID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXSA6IGV2dCxcbiAgICAgICAgICBnaG9zdE1hdHJpeCA9IGdob3N0RWwgJiYgbWF0cml4KGdob3N0RWwsIHRydWUpLFxuICAgICAgICAgIHNjYWxlWCA9IGdob3N0RWwgJiYgZ2hvc3RNYXRyaXggJiYgZ2hvc3RNYXRyaXguYSxcbiAgICAgICAgICBzY2FsZVkgPSBnaG9zdEVsICYmIGdob3N0TWF0cml4ICYmIGdob3N0TWF0cml4LmQsXG4gICAgICAgICAgcmVsYXRpdmVTY3JvbGxPZmZzZXQgPSBQb3NpdGlvbkdob3N0QWJzb2x1dGVseSAmJiBnaG9zdFJlbGF0aXZlUGFyZW50ICYmIGdldFJlbGF0aXZlU2Nyb2xsT2Zmc2V0KGdob3N0UmVsYXRpdmVQYXJlbnQpLFxuICAgICAgICAgIGR4ID0gKHRvdWNoLmNsaWVudFggLSB0YXBFdnQuY2xpZW50WCArIGZhbGxiYWNrT2Zmc2V0LngpIC8gKHNjYWxlWCB8fCAxKSArIChyZWxhdGl2ZVNjcm9sbE9mZnNldCA/IHJlbGF0aXZlU2Nyb2xsT2Zmc2V0WzBdIC0gZ2hvc3RSZWxhdGl2ZVBhcmVudEluaXRpYWxTY3JvbGxbMF0gOiAwKSAvIChzY2FsZVggfHwgMSksXG4gICAgICAgICAgZHkgPSAodG91Y2guY2xpZW50WSAtIHRhcEV2dC5jbGllbnRZICsgZmFsbGJhY2tPZmZzZXQueSkgLyAoc2NhbGVZIHx8IDEpICsgKHJlbGF0aXZlU2Nyb2xsT2Zmc2V0ID8gcmVsYXRpdmVTY3JvbGxPZmZzZXRbMV0gLSBnaG9zdFJlbGF0aXZlUGFyZW50SW5pdGlhbFNjcm9sbFsxXSA6IDApIC8gKHNjYWxlWSB8fCAxKTsgLy8gb25seSBzZXQgdGhlIHN0YXR1cyB0byBkcmFnZ2luZywgd2hlbiB3ZSBhcmUgYWN0dWFsbHkgZHJhZ2dpbmdcblxuICAgICAgaWYgKCFTb3J0YWJsZS5hY3RpdmUgJiYgIWF3YWl0aW5nRHJhZ1N0YXJ0ZWQpIHtcbiAgICAgICAgaWYgKGZhbGxiYWNrVG9sZXJhbmNlICYmIE1hdGgubWF4KE1hdGguYWJzKHRvdWNoLmNsaWVudFggLSB0aGlzLl9sYXN0WCksIE1hdGguYWJzKHRvdWNoLmNsaWVudFkgLSB0aGlzLl9sYXN0WSkpIDwgZmFsbGJhY2tUb2xlcmFuY2UpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9vbkRyYWdTdGFydChldnQsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZ2hvc3RFbCkge1xuICAgICAgICBpZiAoZ2hvc3RNYXRyaXgpIHtcbiAgICAgICAgICBnaG9zdE1hdHJpeC5lICs9IGR4IC0gKGxhc3REeCB8fCAwKTtcbiAgICAgICAgICBnaG9zdE1hdHJpeC5mICs9IGR5IC0gKGxhc3REeSB8fCAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBnaG9zdE1hdHJpeCA9IHtcbiAgICAgICAgICAgIGE6IDEsXG4gICAgICAgICAgICBiOiAwLFxuICAgICAgICAgICAgYzogMCxcbiAgICAgICAgICAgIGQ6IDEsXG4gICAgICAgICAgICBlOiBkeCxcbiAgICAgICAgICAgIGY6IGR5XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjc3NNYXRyaXggPSBcIm1hdHJpeChcIi5jb25jYXQoZ2hvc3RNYXRyaXguYSwgXCIsXCIpLmNvbmNhdChnaG9zdE1hdHJpeC5iLCBcIixcIikuY29uY2F0KGdob3N0TWF0cml4LmMsIFwiLFwiKS5jb25jYXQoZ2hvc3RNYXRyaXguZCwgXCIsXCIpLmNvbmNhdChnaG9zdE1hdHJpeC5lLCBcIixcIikuY29uY2F0KGdob3N0TWF0cml4LmYsIFwiKVwiKTtcbiAgICAgICAgY3NzKGdob3N0RWwsICd3ZWJraXRUcmFuc2Zvcm0nLCBjc3NNYXRyaXgpO1xuICAgICAgICBjc3MoZ2hvc3RFbCwgJ21velRyYW5zZm9ybScsIGNzc01hdHJpeCk7XG4gICAgICAgIGNzcyhnaG9zdEVsLCAnbXNUcmFuc2Zvcm0nLCBjc3NNYXRyaXgpO1xuICAgICAgICBjc3MoZ2hvc3RFbCwgJ3RyYW5zZm9ybScsIGNzc01hdHJpeCk7XG4gICAgICAgIGxhc3REeCA9IGR4O1xuICAgICAgICBsYXN0RHkgPSBkeTtcbiAgICAgICAgdG91Y2hFdnQgPSB0b3VjaDtcbiAgICAgIH1cblxuICAgICAgZXZ0LmNhbmNlbGFibGUgJiYgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9LFxuICBfYXBwZW5kR2hvc3Q6IGZ1bmN0aW9uIF9hcHBlbmRHaG9zdCgpIHtcbiAgICAvLyBCdWcgaWYgdXNpbmcgc2NhbGUoKTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjYzNzA1OFxuICAgIC8vIE5vdCBiZWluZyBhZGp1c3RlZCBmb3JcbiAgICBpZiAoIWdob3N0RWwpIHtcbiAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLm9wdGlvbnMuZmFsbGJhY2tPbkJvZHkgPyBkb2N1bWVudC5ib2R5IDogcm9vdEVsLFxuICAgICAgICAgIHJlY3QgPSBnZXRSZWN0KGRyYWdFbCwgdHJ1ZSwgUG9zaXRpb25HaG9zdEFic29sdXRlbHksIHRydWUsIGNvbnRhaW5lciksXG4gICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9uczsgLy8gUG9zaXRpb24gYWJzb2x1dGVseVxuXG4gICAgICBpZiAoUG9zaXRpb25HaG9zdEFic29sdXRlbHkpIHtcbiAgICAgICAgLy8gR2V0IHJlbGF0aXZlbHkgcG9zaXRpb25lZCBwYXJlbnRcbiAgICAgICAgZ2hvc3RSZWxhdGl2ZVBhcmVudCA9IGNvbnRhaW5lcjtcblxuICAgICAgICB3aGlsZSAoY3NzKGdob3N0UmVsYXRpdmVQYXJlbnQsICdwb3NpdGlvbicpID09PSAnc3RhdGljJyAmJiBjc3MoZ2hvc3RSZWxhdGl2ZVBhcmVudCwgJ3RyYW5zZm9ybScpID09PSAnbm9uZScgJiYgZ2hvc3RSZWxhdGl2ZVBhcmVudCAhPT0gZG9jdW1lbnQpIHtcbiAgICAgICAgICBnaG9zdFJlbGF0aXZlUGFyZW50ID0gZ2hvc3RSZWxhdGl2ZVBhcmVudC5wYXJlbnROb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdob3N0UmVsYXRpdmVQYXJlbnQgIT09IGRvY3VtZW50LmJvZHkgJiYgZ2hvc3RSZWxhdGl2ZVBhcmVudCAhPT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICAgICAgaWYgKGdob3N0UmVsYXRpdmVQYXJlbnQgPT09IGRvY3VtZW50KSBnaG9zdFJlbGF0aXZlUGFyZW50ID0gZ2V0V2luZG93U2Nyb2xsaW5nRWxlbWVudCgpO1xuICAgICAgICAgIHJlY3QudG9wICs9IGdob3N0UmVsYXRpdmVQYXJlbnQuc2Nyb2xsVG9wO1xuICAgICAgICAgIHJlY3QubGVmdCArPSBnaG9zdFJlbGF0aXZlUGFyZW50LnNjcm9sbExlZnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZ2hvc3RSZWxhdGl2ZVBhcmVudCA9IGdldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdob3N0UmVsYXRpdmVQYXJlbnRJbml0aWFsU2Nyb2xsID0gZ2V0UmVsYXRpdmVTY3JvbGxPZmZzZXQoZ2hvc3RSZWxhdGl2ZVBhcmVudCk7XG4gICAgICB9XG5cbiAgICAgIGdob3N0RWwgPSBkcmFnRWwuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgdG9nZ2xlQ2xhc3MoZ2hvc3RFbCwgb3B0aW9ucy5naG9zdENsYXNzLCBmYWxzZSk7XG4gICAgICB0b2dnbGVDbGFzcyhnaG9zdEVsLCBvcHRpb25zLmZhbGxiYWNrQ2xhc3MsIHRydWUpO1xuICAgICAgdG9nZ2xlQ2xhc3MoZ2hvc3RFbCwgb3B0aW9ucy5kcmFnQ2xhc3MsIHRydWUpO1xuICAgICAgY3NzKGdob3N0RWwsICd0cmFuc2l0aW9uJywgJycpO1xuICAgICAgY3NzKGdob3N0RWwsICd0cmFuc2Zvcm0nLCAnJyk7XG4gICAgICBjc3MoZ2hvc3RFbCwgJ2JveC1zaXppbmcnLCAnYm9yZGVyLWJveCcpO1xuICAgICAgY3NzKGdob3N0RWwsICdtYXJnaW4nLCAwKTtcbiAgICAgIGNzcyhnaG9zdEVsLCAndG9wJywgcmVjdC50b3ApO1xuICAgICAgY3NzKGdob3N0RWwsICdsZWZ0JywgcmVjdC5sZWZ0KTtcbiAgICAgIGNzcyhnaG9zdEVsLCAnd2lkdGgnLCByZWN0LndpZHRoKTtcbiAgICAgIGNzcyhnaG9zdEVsLCAnaGVpZ2h0JywgcmVjdC5oZWlnaHQpO1xuICAgICAgY3NzKGdob3N0RWwsICdvcGFjaXR5JywgJzAuOCcpO1xuICAgICAgY3NzKGdob3N0RWwsICdwb3NpdGlvbicsIFBvc2l0aW9uR2hvc3RBYnNvbHV0ZWx5ID8gJ2Fic29sdXRlJyA6ICdmaXhlZCcpO1xuICAgICAgY3NzKGdob3N0RWwsICd6SW5kZXgnLCAnMTAwMDAwJyk7XG4gICAgICBjc3MoZ2hvc3RFbCwgJ3BvaW50ZXJFdmVudHMnLCAnbm9uZScpO1xuICAgICAgU29ydGFibGUuZ2hvc3QgPSBnaG9zdEVsO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGdob3N0RWwpOyAvLyBTZXQgdHJhbnNmb3JtLW9yaWdpblxuXG4gICAgICBjc3MoZ2hvc3RFbCwgJ3RyYW5zZm9ybS1vcmlnaW4nLCB0YXBEaXN0YW5jZUxlZnQgLyBwYXJzZUludChnaG9zdEVsLnN0eWxlLndpZHRoKSAqIDEwMCArICclICcgKyB0YXBEaXN0YW5jZVRvcCAvIHBhcnNlSW50KGdob3N0RWwuc3R5bGUuaGVpZ2h0KSAqIDEwMCArICclJyk7XG4gICAgfVxuICB9LFxuICBfb25EcmFnU3RhcnQ6IGZ1bmN0aW9uIF9vbkRyYWdTdGFydChcbiAgLyoqRXZlbnQqL1xuICBldnQsXG4gIC8qKmJvb2xlYW4qL1xuICBmYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgZGF0YVRyYW5zZmVyID0gZXZ0LmRhdGFUcmFuc2ZlcjtcbiAgICB2YXIgb3B0aW9ucyA9IF90aGlzLm9wdGlvbnM7XG4gICAgcGx1Z2luRXZlbnQoJ2RyYWdTdGFydCcsIHRoaXMsIHtcbiAgICAgIGV2dDogZXZ0XG4gICAgfSk7XG5cbiAgICBpZiAoU29ydGFibGUuZXZlbnRDYW5jZWxlZCkge1xuICAgICAgdGhpcy5fb25Ecm9wKCk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBwbHVnaW5FdmVudCgnc2V0dXBDbG9uZScsIHRoaXMpO1xuXG4gICAgaWYgKCFTb3J0YWJsZS5ldmVudENhbmNlbGVkKSB7XG4gICAgICBjbG9uZUVsID0gY2xvbmUoZHJhZ0VsKTtcbiAgICAgIGNsb25lRWwuZHJhZ2dhYmxlID0gZmFsc2U7XG4gICAgICBjbG9uZUVsLnN0eWxlWyd3aWxsLWNoYW5nZSddID0gJyc7XG5cbiAgICAgIHRoaXMuX2hpZGVDbG9uZSgpO1xuXG4gICAgICB0b2dnbGVDbGFzcyhjbG9uZUVsLCB0aGlzLm9wdGlvbnMuY2hvc2VuQ2xhc3MsIGZhbHNlKTtcbiAgICAgIFNvcnRhYmxlLmNsb25lID0gY2xvbmVFbDtcbiAgICB9IC8vICMxMTQzOiBJRnJhbWUgc3VwcG9ydCB3b3JrYXJvdW5kXG5cblxuICAgIF90aGlzLmNsb25lSWQgPSBfbmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgcGx1Z2luRXZlbnQoJ2Nsb25lJywgX3RoaXMpO1xuICAgICAgaWYgKFNvcnRhYmxlLmV2ZW50Q2FuY2VsZWQpIHJldHVybjtcblxuICAgICAgaWYgKCFfdGhpcy5vcHRpb25zLnJlbW92ZUNsb25lT25IaWRlKSB7XG4gICAgICAgIHJvb3RFbC5pbnNlcnRCZWZvcmUoY2xvbmVFbCwgZHJhZ0VsKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuX2hpZGVDbG9uZSgpO1xuXG4gICAgICBfZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgIHNvcnRhYmxlOiBfdGhpcyxcbiAgICAgICAgbmFtZTogJ2Nsb25lJ1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgIWZhbGxiYWNrICYmIHRvZ2dsZUNsYXNzKGRyYWdFbCwgb3B0aW9ucy5kcmFnQ2xhc3MsIHRydWUpOyAvLyBTZXQgcHJvcGVyIGRyb3AgZXZlbnRzXG5cbiAgICBpZiAoZmFsbGJhY2spIHtcbiAgICAgIGlnbm9yZU5leHRDbGljayA9IHRydWU7XG4gICAgICBfdGhpcy5fbG9vcElkID0gc2V0SW50ZXJ2YWwoX3RoaXMuX2VtdWxhdGVEcmFnT3ZlciwgNTApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBVbmRvIHdoYXQgd2FzIHNldCBpbiBfcHJlcGFyZURyYWdTdGFydCBiZWZvcmUgZHJhZyBzdGFydGVkXG4gICAgICBvZmYoZG9jdW1lbnQsICdtb3VzZXVwJywgX3RoaXMuX29uRHJvcCk7XG4gICAgICBvZmYoZG9jdW1lbnQsICd0b3VjaGVuZCcsIF90aGlzLl9vbkRyb3ApO1xuICAgICAgb2ZmKGRvY3VtZW50LCAndG91Y2hjYW5jZWwnLCBfdGhpcy5fb25Ecm9wKTtcblxuICAgICAgaWYgKGRhdGFUcmFuc2Zlcikge1xuICAgICAgICBkYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdtb3ZlJztcbiAgICAgICAgb3B0aW9ucy5zZXREYXRhICYmIG9wdGlvbnMuc2V0RGF0YS5jYWxsKF90aGlzLCBkYXRhVHJhbnNmZXIsIGRyYWdFbCk7XG4gICAgICB9XG5cbiAgICAgIG9uKGRvY3VtZW50LCAnZHJvcCcsIF90aGlzKTsgLy8gIzEyNzYgZml4OlxuXG4gICAgICBjc3MoZHJhZ0VsLCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZVooMCknKTtcbiAgICB9XG5cbiAgICBhd2FpdGluZ0RyYWdTdGFydGVkID0gdHJ1ZTtcbiAgICBfdGhpcy5fZHJhZ1N0YXJ0SWQgPSBfbmV4dFRpY2soX3RoaXMuX2RyYWdTdGFydGVkLmJpbmQoX3RoaXMsIGZhbGxiYWNrLCBldnQpKTtcbiAgICBvbihkb2N1bWVudCwgJ3NlbGVjdHN0YXJ0JywgX3RoaXMpO1xuICAgIG1vdmVkID0gdHJ1ZTtcblxuICAgIGlmIChTYWZhcmkpIHtcbiAgICAgIGNzcyhkb2N1bWVudC5ib2R5LCAndXNlci1zZWxlY3QnLCAnbm9uZScpO1xuICAgIH1cbiAgfSxcbiAgLy8gUmV0dXJucyB0cnVlIC0gaWYgbm8gZnVydGhlciBhY3Rpb24gaXMgbmVlZGVkIChlaXRoZXIgaW5zZXJ0ZWQgb3IgYW5vdGhlciBjb25kaXRpb24pXG4gIF9vbkRyYWdPdmVyOiBmdW5jdGlvbiBfb25EcmFnT3ZlcihcbiAgLyoqRXZlbnQqL1xuICBldnQpIHtcbiAgICB2YXIgZWwgPSB0aGlzLmVsLFxuICAgICAgICB0YXJnZXQgPSBldnQudGFyZ2V0LFxuICAgICAgICBkcmFnUmVjdCxcbiAgICAgICAgdGFyZ2V0UmVjdCxcbiAgICAgICAgcmV2ZXJ0LFxuICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICBncm91cCA9IG9wdGlvbnMuZ3JvdXAsXG4gICAgICAgIGFjdGl2ZVNvcnRhYmxlID0gU29ydGFibGUuYWN0aXZlLFxuICAgICAgICBpc093bmVyID0gYWN0aXZlR3JvdXAgPT09IGdyb3VwLFxuICAgICAgICBjYW5Tb3J0ID0gb3B0aW9ucy5zb3J0LFxuICAgICAgICBmcm9tU29ydGFibGUgPSBwdXRTb3J0YWJsZSB8fCBhY3RpdmVTb3J0YWJsZSxcbiAgICAgICAgdmVydGljYWwsXG4gICAgICAgIF90aGlzID0gdGhpcyxcbiAgICAgICAgY29tcGxldGVkRmlyZWQgPSBmYWxzZTtcblxuICAgIGlmIChfc2lsZW50KSByZXR1cm47XG5cbiAgICBmdW5jdGlvbiBkcmFnT3ZlckV2ZW50KG5hbWUsIGV4dHJhKSB7XG4gICAgICBwbHVnaW5FdmVudChuYW1lLCBfdGhpcywgX29iamVjdFNwcmVhZDIoe1xuICAgICAgICBldnQ6IGV2dCxcbiAgICAgICAgaXNPd25lcjogaXNPd25lcixcbiAgICAgICAgYXhpczogdmVydGljYWwgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnLFxuICAgICAgICByZXZlcnQ6IHJldmVydCxcbiAgICAgICAgZHJhZ1JlY3Q6IGRyYWdSZWN0LFxuICAgICAgICB0YXJnZXRSZWN0OiB0YXJnZXRSZWN0LFxuICAgICAgICBjYW5Tb3J0OiBjYW5Tb3J0LFxuICAgICAgICBmcm9tU29ydGFibGU6IGZyb21Tb3J0YWJsZSxcbiAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgIGNvbXBsZXRlZDogY29tcGxldGVkLFxuICAgICAgICBvbk1vdmU6IGZ1bmN0aW9uIG9uTW92ZSh0YXJnZXQsIGFmdGVyKSB7XG4gICAgICAgICAgcmV0dXJuIF9vbk1vdmUocm9vdEVsLCBlbCwgZHJhZ0VsLCBkcmFnUmVjdCwgdGFyZ2V0LCBnZXRSZWN0KHRhcmdldCksIGV2dCwgYWZ0ZXIpO1xuICAgICAgICB9LFxuICAgICAgICBjaGFuZ2VkOiBjaGFuZ2VkXG4gICAgICB9LCBleHRyYSkpO1xuICAgIH0gLy8gQ2FwdHVyZSBhbmltYXRpb24gc3RhdGVcblxuXG4gICAgZnVuY3Rpb24gY2FwdHVyZSgpIHtcbiAgICAgIGRyYWdPdmVyRXZlbnQoJ2RyYWdPdmVyQW5pbWF0aW9uQ2FwdHVyZScpO1xuXG4gICAgICBfdGhpcy5jYXB0dXJlQW5pbWF0aW9uU3RhdGUoKTtcblxuICAgICAgaWYgKF90aGlzICE9PSBmcm9tU29ydGFibGUpIHtcbiAgICAgICAgZnJvbVNvcnRhYmxlLmNhcHR1cmVBbmltYXRpb25TdGF0ZSgpO1xuICAgICAgfVxuICAgIH0gLy8gUmV0dXJuIGludm9jYXRpb24gd2hlbiBkcmFnRWwgaXMgaW5zZXJ0ZWQgKG9yIGNvbXBsZXRlZClcblxuXG4gICAgZnVuY3Rpb24gY29tcGxldGVkKGluc2VydGlvbikge1xuICAgICAgZHJhZ092ZXJFdmVudCgnZHJhZ092ZXJDb21wbGV0ZWQnLCB7XG4gICAgICAgIGluc2VydGlvbjogaW5zZXJ0aW9uXG4gICAgICB9KTtcblxuICAgICAgaWYgKGluc2VydGlvbikge1xuICAgICAgICAvLyBDbG9uZXMgbXVzdCBiZSBoaWRkZW4gYmVmb3JlIGZvbGRpbmcgYW5pbWF0aW9uIHRvIGNhcHR1cmUgZHJhZ1JlY3RBYnNvbHV0ZSBwcm9wZXJseVxuICAgICAgICBpZiAoaXNPd25lcikge1xuICAgICAgICAgIGFjdGl2ZVNvcnRhYmxlLl9oaWRlQ2xvbmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhY3RpdmVTb3J0YWJsZS5fc2hvd0Nsb25lKF90aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfdGhpcyAhPT0gZnJvbVNvcnRhYmxlKSB7XG4gICAgICAgICAgLy8gU2V0IGdob3N0IGNsYXNzIHRvIG5ldyBzb3J0YWJsZSdzIGdob3N0IGNsYXNzXG4gICAgICAgICAgdG9nZ2xlQ2xhc3MoZHJhZ0VsLCBwdXRTb3J0YWJsZSA/IHB1dFNvcnRhYmxlLm9wdGlvbnMuZ2hvc3RDbGFzcyA6IGFjdGl2ZVNvcnRhYmxlLm9wdGlvbnMuZ2hvc3RDbGFzcywgZmFsc2UpO1xuICAgICAgICAgIHRvZ2dsZUNsYXNzKGRyYWdFbCwgb3B0aW9ucy5naG9zdENsYXNzLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwdXRTb3J0YWJsZSAhPT0gX3RoaXMgJiYgX3RoaXMgIT09IFNvcnRhYmxlLmFjdGl2ZSkge1xuICAgICAgICAgIHB1dFNvcnRhYmxlID0gX3RoaXM7XG4gICAgICAgIH0gZWxzZSBpZiAoX3RoaXMgPT09IFNvcnRhYmxlLmFjdGl2ZSAmJiBwdXRTb3J0YWJsZSkge1xuICAgICAgICAgIHB1dFNvcnRhYmxlID0gbnVsbDtcbiAgICAgICAgfSAvLyBBbmltYXRpb25cblxuXG4gICAgICAgIGlmIChmcm9tU29ydGFibGUgPT09IF90aGlzKSB7XG4gICAgICAgICAgX3RoaXMuX2lnbm9yZVdoaWxlQW5pbWF0aW5nID0gdGFyZ2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuYW5pbWF0ZUFsbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZHJhZ092ZXJFdmVudCgnZHJhZ092ZXJBbmltYXRpb25Db21wbGV0ZScpO1xuICAgICAgICAgIF90aGlzLl9pZ25vcmVXaGlsZUFuaW1hdGluZyA9IG51bGw7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChfdGhpcyAhPT0gZnJvbVNvcnRhYmxlKSB7XG4gICAgICAgICAgZnJvbVNvcnRhYmxlLmFuaW1hdGVBbGwoKTtcbiAgICAgICAgICBmcm9tU29ydGFibGUuX2lnbm9yZVdoaWxlQW5pbWF0aW5nID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSAvLyBOdWxsIGxhc3RUYXJnZXQgaWYgaXQgaXMgbm90IGluc2lkZSBhIHByZXZpb3VzbHkgc3dhcHBlZCBlbGVtZW50XG5cblxuICAgICAgaWYgKHRhcmdldCA9PT0gZHJhZ0VsICYmICFkcmFnRWwuYW5pbWF0ZWQgfHwgdGFyZ2V0ID09PSBlbCAmJiAhdGFyZ2V0LmFuaW1hdGVkKSB7XG4gICAgICAgIGxhc3RUYXJnZXQgPSBudWxsO1xuICAgICAgfSAvLyBubyBidWJibGluZyBhbmQgbm90IGZhbGxiYWNrXG5cblxuICAgICAgaWYgKCFvcHRpb25zLmRyYWdvdmVyQnViYmxlICYmICFldnQucm9vdEVsICYmIHRhcmdldCAhPT0gZG9jdW1lbnQpIHtcbiAgICAgICAgZHJhZ0VsLnBhcmVudE5vZGVbZXhwYW5kb10uX2lzT3V0c2lkZVRoaXNFbChldnQudGFyZ2V0KTsgLy8gRG8gbm90IGRldGVjdCBmb3IgZW1wdHkgaW5zZXJ0IGlmIGFscmVhZHkgaW5zZXJ0ZWRcblxuXG4gICAgICAgICFpbnNlcnRpb24gJiYgbmVhcmVzdEVtcHR5SW5zZXJ0RGV0ZWN0RXZlbnQoZXZ0KTtcbiAgICAgIH1cblxuICAgICAgIW9wdGlvbnMuZHJhZ292ZXJCdWJibGUgJiYgZXZ0LnN0b3BQcm9wYWdhdGlvbiAmJiBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICByZXR1cm4gY29tcGxldGVkRmlyZWQgPSB0cnVlO1xuICAgIH0gLy8gQ2FsbCB3aGVuIGRyYWdFbCBoYXMgYmVlbiBpbnNlcnRlZFxuXG5cbiAgICBmdW5jdGlvbiBjaGFuZ2VkKCkge1xuICAgICAgbmV3SW5kZXggPSBpbmRleChkcmFnRWwpO1xuICAgICAgbmV3RHJhZ2dhYmxlSW5kZXggPSBpbmRleChkcmFnRWwsIG9wdGlvbnMuZHJhZ2dhYmxlKTtcblxuICAgICAgX2Rpc3BhdGNoRXZlbnQoe1xuICAgICAgICBzb3J0YWJsZTogX3RoaXMsXG4gICAgICAgIG5hbWU6ICdjaGFuZ2UnLFxuICAgICAgICB0b0VsOiBlbCxcbiAgICAgICAgbmV3SW5kZXg6IG5ld0luZGV4LFxuICAgICAgICBuZXdEcmFnZ2FibGVJbmRleDogbmV3RHJhZ2dhYmxlSW5kZXgsXG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2dFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGV2dC5wcmV2ZW50RGVmYXVsdCAhPT0gdm9pZCAwKSB7XG4gICAgICBldnQuY2FuY2VsYWJsZSAmJiBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICB0YXJnZXQgPSBjbG9zZXN0KHRhcmdldCwgb3B0aW9ucy5kcmFnZ2FibGUsIGVsLCB0cnVlKTtcbiAgICBkcmFnT3ZlckV2ZW50KCdkcmFnT3ZlcicpO1xuICAgIGlmIChTb3J0YWJsZS5ldmVudENhbmNlbGVkKSByZXR1cm4gY29tcGxldGVkRmlyZWQ7XG5cbiAgICBpZiAoZHJhZ0VsLmNvbnRhaW5zKGV2dC50YXJnZXQpIHx8IHRhcmdldC5hbmltYXRlZCAmJiB0YXJnZXQuYW5pbWF0aW5nWCAmJiB0YXJnZXQuYW5pbWF0aW5nWSB8fCBfdGhpcy5faWdub3JlV2hpbGVBbmltYXRpbmcgPT09IHRhcmdldCkge1xuICAgICAgcmV0dXJuIGNvbXBsZXRlZChmYWxzZSk7XG4gICAgfVxuXG4gICAgaWdub3JlTmV4dENsaWNrID0gZmFsc2U7XG5cbiAgICBpZiAoYWN0aXZlU29ydGFibGUgJiYgIW9wdGlvbnMuZGlzYWJsZWQgJiYgKGlzT3duZXIgPyBjYW5Tb3J0IHx8IChyZXZlcnQgPSBwYXJlbnRFbCAhPT0gcm9vdEVsKSAvLyBSZXZlcnRpbmcgaXRlbSBpbnRvIHRoZSBvcmlnaW5hbCBsaXN0XG4gICAgOiBwdXRTb3J0YWJsZSA9PT0gdGhpcyB8fCAodGhpcy5sYXN0UHV0TW9kZSA9IGFjdGl2ZUdyb3VwLmNoZWNrUHVsbCh0aGlzLCBhY3RpdmVTb3J0YWJsZSwgZHJhZ0VsLCBldnQpKSAmJiBncm91cC5jaGVja1B1dCh0aGlzLCBhY3RpdmVTb3J0YWJsZSwgZHJhZ0VsLCBldnQpKSkge1xuICAgICAgdmVydGljYWwgPSB0aGlzLl9nZXREaXJlY3Rpb24oZXZ0LCB0YXJnZXQpID09PSAndmVydGljYWwnO1xuICAgICAgZHJhZ1JlY3QgPSBnZXRSZWN0KGRyYWdFbCk7XG4gICAgICBkcmFnT3ZlckV2ZW50KCdkcmFnT3ZlclZhbGlkJyk7XG4gICAgICBpZiAoU29ydGFibGUuZXZlbnRDYW5jZWxlZCkgcmV0dXJuIGNvbXBsZXRlZEZpcmVkO1xuXG4gICAgICBpZiAocmV2ZXJ0KSB7XG4gICAgICAgIHBhcmVudEVsID0gcm9vdEVsOyAvLyBhY3R1YWxpemF0aW9uXG5cbiAgICAgICAgY2FwdHVyZSgpO1xuXG4gICAgICAgIHRoaXMuX2hpZGVDbG9uZSgpO1xuXG4gICAgICAgIGRyYWdPdmVyRXZlbnQoJ3JldmVydCcpO1xuXG4gICAgICAgIGlmICghU29ydGFibGUuZXZlbnRDYW5jZWxlZCkge1xuICAgICAgICAgIGlmIChuZXh0RWwpIHtcbiAgICAgICAgICAgIHJvb3RFbC5pbnNlcnRCZWZvcmUoZHJhZ0VsLCBuZXh0RWwpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByb290RWwuYXBwZW5kQ2hpbGQoZHJhZ0VsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29tcGxldGVkKHRydWUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZWxMYXN0Q2hpbGQgPSBsYXN0Q2hpbGQoZWwsIG9wdGlvbnMuZHJhZ2dhYmxlKTtcblxuICAgICAgaWYgKCFlbExhc3RDaGlsZCB8fCBfZ2hvc3RJc0xhc3QoZXZ0LCB2ZXJ0aWNhbCwgdGhpcykgJiYgIWVsTGFzdENoaWxkLmFuaW1hdGVkKSB7XG4gICAgICAgIC8vIEluc2VydCB0byBlbmQgb2YgbGlzdFxuICAgICAgICAvLyBJZiBhbHJlYWR5IGF0IGVuZCBvZiBsaXN0OiBEbyBub3QgaW5zZXJ0XG4gICAgICAgIGlmIChlbExhc3RDaGlsZCA9PT0gZHJhZ0VsKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbXBsZXRlZChmYWxzZSk7XG4gICAgICAgIH0gLy8gaWYgdGhlcmUgaXMgYSBsYXN0IGVsZW1lbnQsIGl0IGlzIHRoZSB0YXJnZXRcblxuXG4gICAgICAgIGlmIChlbExhc3RDaGlsZCAmJiBlbCA9PT0gZXZ0LnRhcmdldCkge1xuICAgICAgICAgIHRhcmdldCA9IGVsTGFzdENoaWxkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgIHRhcmdldFJlY3QgPSBnZXRSZWN0KHRhcmdldCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX29uTW92ZShyb290RWwsIGVsLCBkcmFnRWwsIGRyYWdSZWN0LCB0YXJnZXQsIHRhcmdldFJlY3QsIGV2dCwgISF0YXJnZXQpICE9PSBmYWxzZSkge1xuICAgICAgICAgIGNhcHR1cmUoKTtcbiAgICAgICAgICBlbC5hcHBlbmRDaGlsZChkcmFnRWwpO1xuICAgICAgICAgIHBhcmVudEVsID0gZWw7IC8vIGFjdHVhbGl6YXRpb25cblxuICAgICAgICAgIGNoYW5nZWQoKTtcbiAgICAgICAgICByZXR1cm4gY29tcGxldGVkKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGVsTGFzdENoaWxkICYmIF9naG9zdElzRmlyc3QoZXZ0LCB2ZXJ0aWNhbCwgdGhpcykpIHtcbiAgICAgICAgLy8gSW5zZXJ0IHRvIHN0YXJ0IG9mIGxpc3RcbiAgICAgICAgdmFyIGZpcnN0Q2hpbGQgPSBnZXRDaGlsZChlbCwgMCwgb3B0aW9ucywgdHJ1ZSk7XG5cbiAgICAgICAgaWYgKGZpcnN0Q2hpbGQgPT09IGRyYWdFbCkge1xuICAgICAgICAgIHJldHVybiBjb21wbGV0ZWQoZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFyZ2V0ID0gZmlyc3RDaGlsZDtcbiAgICAgICAgdGFyZ2V0UmVjdCA9IGdldFJlY3QodGFyZ2V0KTtcblxuICAgICAgICBpZiAoX29uTW92ZShyb290RWwsIGVsLCBkcmFnRWwsIGRyYWdSZWN0LCB0YXJnZXQsIHRhcmdldFJlY3QsIGV2dCwgZmFsc2UpICE9PSBmYWxzZSkge1xuICAgICAgICAgIGNhcHR1cmUoKTtcbiAgICAgICAgICBlbC5pbnNlcnRCZWZvcmUoZHJhZ0VsLCBmaXJzdENoaWxkKTtcbiAgICAgICAgICBwYXJlbnRFbCA9IGVsOyAvLyBhY3R1YWxpemF0aW9uXG5cbiAgICAgICAgICBjaGFuZ2VkKCk7XG4gICAgICAgICAgcmV0dXJuIGNvbXBsZXRlZCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0YXJnZXQucGFyZW50Tm9kZSA9PT0gZWwpIHtcbiAgICAgICAgdGFyZ2V0UmVjdCA9IGdldFJlY3QodGFyZ2V0KTtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IDAsXG4gICAgICAgICAgICB0YXJnZXRCZWZvcmVGaXJzdFN3YXAsXG4gICAgICAgICAgICBkaWZmZXJlbnRMZXZlbCA9IGRyYWdFbC5wYXJlbnROb2RlICE9PSBlbCxcbiAgICAgICAgICAgIGRpZmZlcmVudFJvd0NvbCA9ICFfZHJhZ0VsSW5Sb3dDb2x1bW4oZHJhZ0VsLmFuaW1hdGVkICYmIGRyYWdFbC50b1JlY3QgfHwgZHJhZ1JlY3QsIHRhcmdldC5hbmltYXRlZCAmJiB0YXJnZXQudG9SZWN0IHx8IHRhcmdldFJlY3QsIHZlcnRpY2FsKSxcbiAgICAgICAgICAgIHNpZGUxID0gdmVydGljYWwgPyAndG9wJyA6ICdsZWZ0JyxcbiAgICAgICAgICAgIHNjcm9sbGVkUGFzdFRvcCA9IGlzU2Nyb2xsZWRQYXN0KHRhcmdldCwgJ3RvcCcsICd0b3AnKSB8fCBpc1Njcm9sbGVkUGFzdChkcmFnRWwsICd0b3AnLCAndG9wJyksXG4gICAgICAgICAgICBzY3JvbGxCZWZvcmUgPSBzY3JvbGxlZFBhc3RUb3AgPyBzY3JvbGxlZFBhc3RUb3Auc2Nyb2xsVG9wIDogdm9pZCAwO1xuXG4gICAgICAgIGlmIChsYXN0VGFyZ2V0ICE9PSB0YXJnZXQpIHtcbiAgICAgICAgICB0YXJnZXRCZWZvcmVGaXJzdFN3YXAgPSB0YXJnZXRSZWN0W3NpZGUxXTtcbiAgICAgICAgICBwYXN0Rmlyc3RJbnZlcnRUaHJlc2ggPSBmYWxzZTtcbiAgICAgICAgICBpc0NpcmN1bXN0YW50aWFsSW52ZXJ0ID0gIWRpZmZlcmVudFJvd0NvbCAmJiBvcHRpb25zLmludmVydFN3YXAgfHwgZGlmZmVyZW50TGV2ZWw7XG4gICAgICAgIH1cblxuICAgICAgICBkaXJlY3Rpb24gPSBfZ2V0U3dhcERpcmVjdGlvbihldnQsIHRhcmdldCwgdGFyZ2V0UmVjdCwgdmVydGljYWwsIGRpZmZlcmVudFJvd0NvbCA/IDEgOiBvcHRpb25zLnN3YXBUaHJlc2hvbGQsIG9wdGlvbnMuaW52ZXJ0ZWRTd2FwVGhyZXNob2xkID09IG51bGwgPyBvcHRpb25zLnN3YXBUaHJlc2hvbGQgOiBvcHRpb25zLmludmVydGVkU3dhcFRocmVzaG9sZCwgaXNDaXJjdW1zdGFudGlhbEludmVydCwgbGFzdFRhcmdldCA9PT0gdGFyZ2V0KTtcbiAgICAgICAgdmFyIHNpYmxpbmc7XG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbiAhPT0gMCkge1xuICAgICAgICAgIC8vIENoZWNrIGlmIHRhcmdldCBpcyBiZXNpZGUgZHJhZ0VsIGluIHJlc3BlY3RpdmUgZGlyZWN0aW9uIChpZ25vcmluZyBoaWRkZW4gZWxlbWVudHMpXG4gICAgICAgICAgdmFyIGRyYWdJbmRleCA9IGluZGV4KGRyYWdFbCk7XG5cbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICBkcmFnSW5kZXggLT0gZGlyZWN0aW9uO1xuICAgICAgICAgICAgc2libGluZyA9IHBhcmVudEVsLmNoaWxkcmVuW2RyYWdJbmRleF07XG4gICAgICAgICAgfSB3aGlsZSAoc2libGluZyAmJiAoY3NzKHNpYmxpbmcsICdkaXNwbGF5JykgPT09ICdub25lJyB8fCBzaWJsaW5nID09PSBnaG9zdEVsKSk7XG4gICAgICAgIH0gLy8gSWYgZHJhZ0VsIGlzIGFscmVhZHkgYmVzaWRlIHRhcmdldDogRG8gbm90IGluc2VydFxuXG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gMCB8fCBzaWJsaW5nID09PSB0YXJnZXQpIHtcbiAgICAgICAgICByZXR1cm4gY29tcGxldGVkKGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxhc3RUYXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIGxhc3REaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gICAgICAgIHZhciBuZXh0U2libGluZyA9IHRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcsXG4gICAgICAgICAgICBhZnRlciA9IGZhbHNlO1xuICAgICAgICBhZnRlciA9IGRpcmVjdGlvbiA9PT0gMTtcblxuICAgICAgICB2YXIgbW92ZVZlY3RvciA9IF9vbk1vdmUocm9vdEVsLCBlbCwgZHJhZ0VsLCBkcmFnUmVjdCwgdGFyZ2V0LCB0YXJnZXRSZWN0LCBldnQsIGFmdGVyKTtcblxuICAgICAgICBpZiAobW92ZVZlY3RvciAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBpZiAobW92ZVZlY3RvciA9PT0gMSB8fCBtb3ZlVmVjdG9yID09PSAtMSkge1xuICAgICAgICAgICAgYWZ0ZXIgPSBtb3ZlVmVjdG9yID09PSAxO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9zaWxlbnQgPSB0cnVlO1xuICAgICAgICAgIHNldFRpbWVvdXQoX3Vuc2lsZW50LCAzMCk7XG4gICAgICAgICAgY2FwdHVyZSgpO1xuXG4gICAgICAgICAgaWYgKGFmdGVyICYmICFuZXh0U2libGluZykge1xuICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQoZHJhZ0VsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGRyYWdFbCwgYWZ0ZXIgPyBuZXh0U2libGluZyA6IHRhcmdldCk7XG4gICAgICAgICAgfSAvLyBVbmRvIGNocm9tZSdzIHNjcm9sbCBhZGp1c3RtZW50IChoYXMgbm8gZWZmZWN0IG9uIG90aGVyIGJyb3dzZXJzKVxuXG5cbiAgICAgICAgICBpZiAoc2Nyb2xsZWRQYXN0VG9wKSB7XG4gICAgICAgICAgICBzY3JvbGxCeShzY3JvbGxlZFBhc3RUb3AsIDAsIHNjcm9sbEJlZm9yZSAtIHNjcm9sbGVkUGFzdFRvcC5zY3JvbGxUb3ApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHBhcmVudEVsID0gZHJhZ0VsLnBhcmVudE5vZGU7IC8vIGFjdHVhbGl6YXRpb25cbiAgICAgICAgICAvLyBtdXN0IGJlIGRvbmUgYmVmb3JlIGFuaW1hdGlvblxuXG4gICAgICAgICAgaWYgKHRhcmdldEJlZm9yZUZpcnN0U3dhcCAhPT0gdW5kZWZpbmVkICYmICFpc0NpcmN1bXN0YW50aWFsSW52ZXJ0KSB7XG4gICAgICAgICAgICB0YXJnZXRNb3ZlRGlzdGFuY2UgPSBNYXRoLmFicyh0YXJnZXRCZWZvcmVGaXJzdFN3YXAgLSBnZXRSZWN0KHRhcmdldClbc2lkZTFdKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjaGFuZ2VkKCk7XG4gICAgICAgICAgcmV0dXJuIGNvbXBsZXRlZCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZWwuY29udGFpbnMoZHJhZ0VsKSkge1xuICAgICAgICByZXR1cm4gY29tcGxldGVkKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIF9pZ25vcmVXaGlsZUFuaW1hdGluZzogbnVsbCxcbiAgX29mZk1vdmVFdmVudHM6IGZ1bmN0aW9uIF9vZmZNb3ZlRXZlbnRzKCkge1xuICAgIG9mZihkb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlKTtcbiAgICBvZmYoZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG4gICAgb2ZmKGRvY3VtZW50LCAncG9pbnRlcm1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG4gICAgb2ZmKGRvY3VtZW50LCAnZHJhZ292ZXInLCBuZWFyZXN0RW1wdHlJbnNlcnREZXRlY3RFdmVudCk7XG4gICAgb2ZmKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgbmVhcmVzdEVtcHR5SW5zZXJ0RGV0ZWN0RXZlbnQpO1xuICAgIG9mZihkb2N1bWVudCwgJ3RvdWNobW92ZScsIG5lYXJlc3RFbXB0eUluc2VydERldGVjdEV2ZW50KTtcbiAgfSxcbiAgX29mZlVwRXZlbnRzOiBmdW5jdGlvbiBfb2ZmVXBFdmVudHMoKSB7XG4gICAgdmFyIG93bmVyRG9jdW1lbnQgPSB0aGlzLmVsLm93bmVyRG9jdW1lbnQ7XG4gICAgb2ZmKG93bmVyRG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5fb25Ecm9wKTtcbiAgICBvZmYob3duZXJEb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fb25Ecm9wKTtcbiAgICBvZmYob3duZXJEb2N1bWVudCwgJ3BvaW50ZXJ1cCcsIHRoaXMuX29uRHJvcCk7XG4gICAgb2ZmKG93bmVyRG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIHRoaXMuX29uRHJvcCk7XG4gICAgb2ZmKGRvY3VtZW50LCAnc2VsZWN0c3RhcnQnLCB0aGlzKTtcbiAgfSxcbiAgX29uRHJvcDogZnVuY3Rpb24gX29uRHJvcChcbiAgLyoqRXZlbnQqL1xuICBldnQpIHtcbiAgICB2YXIgZWwgPSB0aGlzLmVsLFxuICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zOyAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkcmFnZ2VkIGVsZW1lbnQgd2l0aGluIGl0cyBwYXJlbnRcblxuICAgIG5ld0luZGV4ID0gaW5kZXgoZHJhZ0VsKTtcbiAgICBuZXdEcmFnZ2FibGVJbmRleCA9IGluZGV4KGRyYWdFbCwgb3B0aW9ucy5kcmFnZ2FibGUpO1xuICAgIHBsdWdpbkV2ZW50KCdkcm9wJywgdGhpcywge1xuICAgICAgZXZ0OiBldnRcbiAgICB9KTtcbiAgICBwYXJlbnRFbCA9IGRyYWdFbCAmJiBkcmFnRWwucGFyZW50Tm9kZTsgLy8gR2V0IGFnYWluIGFmdGVyIHBsdWdpbiBldmVudFxuXG4gICAgbmV3SW5kZXggPSBpbmRleChkcmFnRWwpO1xuICAgIG5ld0RyYWdnYWJsZUluZGV4ID0gaW5kZXgoZHJhZ0VsLCBvcHRpb25zLmRyYWdnYWJsZSk7XG5cbiAgICBpZiAoU29ydGFibGUuZXZlbnRDYW5jZWxlZCkge1xuICAgICAgdGhpcy5fbnVsbGluZygpO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYXdhaXRpbmdEcmFnU3RhcnRlZCA9IGZhbHNlO1xuICAgIGlzQ2lyY3Vtc3RhbnRpYWxJbnZlcnQgPSBmYWxzZTtcbiAgICBwYXN0Rmlyc3RJbnZlcnRUaHJlc2ggPSBmYWxzZTtcbiAgICBjbGVhckludGVydmFsKHRoaXMuX2xvb3BJZCk7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuX2RyYWdTdGFydFRpbWVyKTtcblxuICAgIF9jYW5jZWxOZXh0VGljayh0aGlzLmNsb25lSWQpO1xuXG4gICAgX2NhbmNlbE5leHRUaWNrKHRoaXMuX2RyYWdTdGFydElkKTsgLy8gVW5iaW5kIGV2ZW50c1xuXG5cbiAgICBpZiAodGhpcy5uYXRpdmVEcmFnZ2FibGUpIHtcbiAgICAgIG9mZihkb2N1bWVudCwgJ2Ryb3AnLCB0aGlzKTtcbiAgICAgIG9mZihlbCwgJ2RyYWdzdGFydCcsIHRoaXMuX29uRHJhZ1N0YXJ0KTtcbiAgICB9XG5cbiAgICB0aGlzLl9vZmZNb3ZlRXZlbnRzKCk7XG5cbiAgICB0aGlzLl9vZmZVcEV2ZW50cygpO1xuXG4gICAgaWYgKFNhZmFyaSkge1xuICAgICAgY3NzKGRvY3VtZW50LmJvZHksICd1c2VyLXNlbGVjdCcsICcnKTtcbiAgICB9XG5cbiAgICBjc3MoZHJhZ0VsLCAndHJhbnNmb3JtJywgJycpO1xuXG4gICAgaWYgKGV2dCkge1xuICAgICAgaWYgKG1vdmVkKSB7XG4gICAgICAgIGV2dC5jYW5jZWxhYmxlICYmIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAhb3B0aW9ucy5kcm9wQnViYmxlICYmIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cblxuICAgICAgZ2hvc3RFbCAmJiBnaG9zdEVsLnBhcmVudE5vZGUgJiYgZ2hvc3RFbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGdob3N0RWwpO1xuXG4gICAgICBpZiAocm9vdEVsID09PSBwYXJlbnRFbCB8fCBwdXRTb3J0YWJsZSAmJiBwdXRTb3J0YWJsZS5sYXN0UHV0TW9kZSAhPT0gJ2Nsb25lJykge1xuICAgICAgICAvLyBSZW1vdmUgY2xvbmUocylcbiAgICAgICAgY2xvbmVFbCAmJiBjbG9uZUVsLnBhcmVudE5vZGUgJiYgY2xvbmVFbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNsb25lRWwpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZHJhZ0VsKSB7XG4gICAgICAgIGlmICh0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuICAgICAgICAgIG9mZihkcmFnRWwsICdkcmFnZW5kJywgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBfZGlzYWJsZURyYWdnYWJsZShkcmFnRWwpO1xuXG4gICAgICAgIGRyYWdFbC5zdHlsZVsnd2lsbC1jaGFuZ2UnXSA9ICcnOyAvLyBSZW1vdmUgY2xhc3Nlc1xuICAgICAgICAvLyBnaG9zdENsYXNzIGlzIGFkZGVkIGluIGRyYWdTdGFydGVkXG5cbiAgICAgICAgaWYgKG1vdmVkICYmICFhd2FpdGluZ0RyYWdTdGFydGVkKSB7XG4gICAgICAgICAgdG9nZ2xlQ2xhc3MoZHJhZ0VsLCBwdXRTb3J0YWJsZSA/IHB1dFNvcnRhYmxlLm9wdGlvbnMuZ2hvc3RDbGFzcyA6IHRoaXMub3B0aW9ucy5naG9zdENsYXNzLCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0b2dnbGVDbGFzcyhkcmFnRWwsIHRoaXMub3B0aW9ucy5jaG9zZW5DbGFzcywgZmFsc2UpOyAvLyBEcmFnIHN0b3AgZXZlbnRcblxuICAgICAgICBfZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgc29ydGFibGU6IHRoaXMsXG4gICAgICAgICAgbmFtZTogJ3VuY2hvb3NlJyxcbiAgICAgICAgICB0b0VsOiBwYXJlbnRFbCxcbiAgICAgICAgICBuZXdJbmRleDogbnVsbCxcbiAgICAgICAgICBuZXdEcmFnZ2FibGVJbmRleDogbnVsbCxcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldnRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJvb3RFbCAhPT0gcGFyZW50RWwpIHtcbiAgICAgICAgICBpZiAobmV3SW5kZXggPj0gMCkge1xuICAgICAgICAgICAgLy8gQWRkIGV2ZW50XG4gICAgICAgICAgICBfZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICAgIHJvb3RFbDogcGFyZW50RWwsXG4gICAgICAgICAgICAgIG5hbWU6ICdhZGQnLFxuICAgICAgICAgICAgICB0b0VsOiBwYXJlbnRFbCxcbiAgICAgICAgICAgICAgZnJvbUVsOiByb290RWwsXG4gICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2dFxuICAgICAgICAgICAgfSk7IC8vIFJlbW92ZSBldmVudFxuXG5cbiAgICAgICAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgICAgc29ydGFibGU6IHRoaXMsXG4gICAgICAgICAgICAgIG5hbWU6ICdyZW1vdmUnLFxuICAgICAgICAgICAgICB0b0VsOiBwYXJlbnRFbCxcbiAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZ0XG4gICAgICAgICAgICB9KTsgLy8gZHJhZyBmcm9tIG9uZSBsaXN0IGFuZCBkcm9wIGludG8gYW5vdGhlclxuXG5cbiAgICAgICAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgICAgcm9vdEVsOiBwYXJlbnRFbCxcbiAgICAgICAgICAgICAgbmFtZTogJ3NvcnQnLFxuICAgICAgICAgICAgICB0b0VsOiBwYXJlbnRFbCxcbiAgICAgICAgICAgICAgZnJvbUVsOiByb290RWwsXG4gICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2dFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgICAgc29ydGFibGU6IHRoaXMsXG4gICAgICAgICAgICAgIG5hbWU6ICdzb3J0JyxcbiAgICAgICAgICAgICAgdG9FbDogcGFyZW50RWwsXG4gICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2dFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcHV0U29ydGFibGUgJiYgcHV0U29ydGFibGUuc2F2ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChuZXdJbmRleCAhPT0gb2xkSW5kZXgpIHtcbiAgICAgICAgICAgIGlmIChuZXdJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgIC8vIGRyYWcgJiBkcm9wIHdpdGhpbiB0aGUgc2FtZSBsaXN0XG4gICAgICAgICAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgICAgICBzb3J0YWJsZTogdGhpcyxcbiAgICAgICAgICAgICAgICBuYW1lOiAndXBkYXRlJyxcbiAgICAgICAgICAgICAgICB0b0VsOiBwYXJlbnRFbCxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldnRcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgX2Rpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgICAgIHNvcnRhYmxlOiB0aGlzLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdzb3J0JyxcbiAgICAgICAgICAgICAgICB0b0VsOiBwYXJlbnRFbCxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldnRcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFNvcnRhYmxlLmFjdGl2ZSkge1xuICAgICAgICAgIC8qIGpzaGludCBlcW51bGw6dHJ1ZSAqL1xuICAgICAgICAgIGlmIChuZXdJbmRleCA9PSBudWxsIHx8IG5ld0luZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgbmV3SW5kZXggPSBvbGRJbmRleDtcbiAgICAgICAgICAgIG5ld0RyYWdnYWJsZUluZGV4ID0gb2xkRHJhZ2dhYmxlSW5kZXg7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2Rpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgc29ydGFibGU6IHRoaXMsXG4gICAgICAgICAgICBuYW1lOiAnZW5kJyxcbiAgICAgICAgICAgIHRvRWw6IHBhcmVudEVsLFxuICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZ0XG4gICAgICAgICAgfSk7IC8vIFNhdmUgc29ydGluZ1xuXG5cbiAgICAgICAgICB0aGlzLnNhdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX251bGxpbmcoKTtcbiAgfSxcbiAgX251bGxpbmc6IGZ1bmN0aW9uIF9udWxsaW5nKCkge1xuICAgIHBsdWdpbkV2ZW50KCdudWxsaW5nJywgdGhpcyk7XG4gICAgcm9vdEVsID0gZHJhZ0VsID0gcGFyZW50RWwgPSBnaG9zdEVsID0gbmV4dEVsID0gY2xvbmVFbCA9IGxhc3REb3duRWwgPSBjbG9uZUhpZGRlbiA9IHRhcEV2dCA9IHRvdWNoRXZ0ID0gbW92ZWQgPSBuZXdJbmRleCA9IG5ld0RyYWdnYWJsZUluZGV4ID0gb2xkSW5kZXggPSBvbGREcmFnZ2FibGVJbmRleCA9IGxhc3RUYXJnZXQgPSBsYXN0RGlyZWN0aW9uID0gcHV0U29ydGFibGUgPSBhY3RpdmVHcm91cCA9IFNvcnRhYmxlLmRyYWdnZWQgPSBTb3J0YWJsZS5naG9zdCA9IFNvcnRhYmxlLmNsb25lID0gU29ydGFibGUuYWN0aXZlID0gbnVsbDtcbiAgICBzYXZlZElucHV0Q2hlY2tlZC5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgZWwuY2hlY2tlZCA9IHRydWU7XG4gICAgfSk7XG4gICAgc2F2ZWRJbnB1dENoZWNrZWQubGVuZ3RoID0gbGFzdER4ID0gbGFzdER5ID0gMDtcbiAgfSxcbiAgaGFuZGxlRXZlbnQ6IGZ1bmN0aW9uIGhhbmRsZUV2ZW50KFxuICAvKipFdmVudCovXG4gIGV2dCkge1xuICAgIHN3aXRjaCAoZXZ0LnR5cGUpIHtcbiAgICAgIGNhc2UgJ2Ryb3AnOlxuICAgICAgY2FzZSAnZHJhZ2VuZCc6XG4gICAgICAgIHRoaXMuX29uRHJvcChldnQpO1xuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdkcmFnZW50ZXInOlxuICAgICAgY2FzZSAnZHJhZ292ZXInOlxuICAgICAgICBpZiAoZHJhZ0VsKSB7XG4gICAgICAgICAgdGhpcy5fb25EcmFnT3ZlcihldnQpO1xuXG4gICAgICAgICAgX2dsb2JhbERyYWdPdmVyKGV2dCk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc2VsZWN0c3RhcnQnOlxuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBTZXJpYWxpemVzIHRoZSBpdGVtIGludG8gYW4gYXJyYXkgb2Ygc3RyaW5nLlxuICAgKiBAcmV0dXJucyB7U3RyaW5nW119XG4gICAqL1xuICB0b0FycmF5OiBmdW5jdGlvbiB0b0FycmF5KCkge1xuICAgIHZhciBvcmRlciA9IFtdLFxuICAgICAgICBlbCxcbiAgICAgICAgY2hpbGRyZW4gPSB0aGlzLmVsLmNoaWxkcmVuLFxuICAgICAgICBpID0gMCxcbiAgICAgICAgbiA9IGNoaWxkcmVuLmxlbmd0aCxcbiAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgIGZvciAoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBlbCA9IGNoaWxkcmVuW2ldO1xuXG4gICAgICBpZiAoY2xvc2VzdChlbCwgb3B0aW9ucy5kcmFnZ2FibGUsIHRoaXMuZWwsIGZhbHNlKSkge1xuICAgICAgICBvcmRlci5wdXNoKGVsLmdldEF0dHJpYnV0ZShvcHRpb25zLmRhdGFJZEF0dHIpIHx8IF9nZW5lcmF0ZUlkKGVsKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9yZGVyO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTb3J0cyB0aGUgZWxlbWVudHMgYWNjb3JkaW5nIHRvIHRoZSBhcnJheS5cbiAgICogQHBhcmFtICB7U3RyaW5nW119ICBvcmRlciAgb3JkZXIgb2YgdGhlIGl0ZW1zXG4gICAqL1xuICBzb3J0OiBmdW5jdGlvbiBzb3J0KG9yZGVyLCB1c2VBbmltYXRpb24pIHtcbiAgICB2YXIgaXRlbXMgPSB7fSxcbiAgICAgICAgcm9vdEVsID0gdGhpcy5lbDtcbiAgICB0aGlzLnRvQXJyYXkoKS5mb3JFYWNoKGZ1bmN0aW9uIChpZCwgaSkge1xuICAgICAgdmFyIGVsID0gcm9vdEVsLmNoaWxkcmVuW2ldO1xuXG4gICAgICBpZiAoY2xvc2VzdChlbCwgdGhpcy5vcHRpb25zLmRyYWdnYWJsZSwgcm9vdEVsLCBmYWxzZSkpIHtcbiAgICAgICAgaXRlbXNbaWRdID0gZWw7XG4gICAgICB9XG4gICAgfSwgdGhpcyk7XG4gICAgdXNlQW5pbWF0aW9uICYmIHRoaXMuY2FwdHVyZUFuaW1hdGlvblN0YXRlKCk7XG4gICAgb3JkZXIuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHtcbiAgICAgIGlmIChpdGVtc1tpZF0pIHtcbiAgICAgICAgcm9vdEVsLnJlbW92ZUNoaWxkKGl0ZW1zW2lkXSk7XG4gICAgICAgIHJvb3RFbC5hcHBlbmRDaGlsZChpdGVtc1tpZF0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHVzZUFuaW1hdGlvbiAmJiB0aGlzLmFuaW1hdGVBbGwoKTtcbiAgfSxcblxuICAvKipcbiAgICogU2F2ZSB0aGUgY3VycmVudCBzb3J0aW5nXG4gICAqL1xuICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkge1xuICAgIHZhciBzdG9yZSA9IHRoaXMub3B0aW9ucy5zdG9yZTtcbiAgICBzdG9yZSAmJiBzdG9yZS5zZXQgJiYgc3RvcmUuc2V0KHRoaXMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBGb3IgZWFjaCBlbGVtZW50IGluIHRoZSBzZXQsIGdldCB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IG1hdGNoZXMgdGhlIHNlbGVjdG9yIGJ5IHRlc3RpbmcgdGhlIGVsZW1lbnQgaXRzZWxmIGFuZCB0cmF2ZXJzaW5nIHVwIHRocm91Z2ggaXRzIGFuY2VzdG9ycyBpbiB0aGUgRE9NIHRyZWUuXG4gICAqIEBwYXJhbSAgIHtIVE1MRWxlbWVudH0gIGVsXG4gICAqIEBwYXJhbSAgIHtTdHJpbmd9ICAgICAgIFtzZWxlY3Rvcl0gIGRlZmF1bHQ6IGBvcHRpb25zLmRyYWdnYWJsZWBcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fG51bGx9XG4gICAqL1xuICBjbG9zZXN0OiBmdW5jdGlvbiBjbG9zZXN0JDEoZWwsIHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGNsb3Nlc3QoZWwsIHNlbGVjdG9yIHx8IHRoaXMub3B0aW9ucy5kcmFnZ2FibGUsIHRoaXMuZWwsIGZhbHNlKTtcbiAgfSxcblxuICAvKipcbiAgICogU2V0L2dldCBvcHRpb25cbiAgICogQHBhcmFtICAge3N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0gICB7Kn0gICAgICBbdmFsdWVdXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgb3B0aW9uOiBmdW5jdGlvbiBvcHRpb24obmFtZSwgdmFsdWUpIHtcbiAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gb3B0aW9uc1tuYW1lXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG1vZGlmaWVkVmFsdWUgPSBQbHVnaW5NYW5hZ2VyLm1vZGlmeU9wdGlvbih0aGlzLCBuYW1lLCB2YWx1ZSk7XG5cbiAgICAgIGlmICh0eXBlb2YgbW9kaWZpZWRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgb3B0aW9uc1tuYW1lXSA9IG1vZGlmaWVkVmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb25zW25hbWVdID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChuYW1lID09PSAnZ3JvdXAnKSB7XG4gICAgICAgIF9wcmVwYXJlR3JvdXAob3B0aW9ucyk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBEZXN0cm95XG4gICAqL1xuICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHBsdWdpbkV2ZW50KCdkZXN0cm95JywgdGhpcyk7XG4gICAgdmFyIGVsID0gdGhpcy5lbDtcbiAgICBlbFtleHBhbmRvXSA9IG51bGw7XG4gICAgb2ZmKGVsLCAnbW91c2Vkb3duJywgdGhpcy5fb25UYXBTdGFydCk7XG4gICAgb2ZmKGVsLCAndG91Y2hzdGFydCcsIHRoaXMuX29uVGFwU3RhcnQpO1xuICAgIG9mZihlbCwgJ3BvaW50ZXJkb3duJywgdGhpcy5fb25UYXBTdGFydCk7XG5cbiAgICBpZiAodGhpcy5uYXRpdmVEcmFnZ2FibGUpIHtcbiAgICAgIG9mZihlbCwgJ2RyYWdvdmVyJywgdGhpcyk7XG4gICAgICBvZmYoZWwsICdkcmFnZW50ZXInLCB0aGlzKTtcbiAgICB9IC8vIFJlbW92ZSBkcmFnZ2FibGUgYXR0cmlidXRlc1xuXG5cbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkcmFnZ2FibGVdJyksIGZ1bmN0aW9uIChlbCkge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCdkcmFnZ2FibGUnKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX29uRHJvcCgpO1xuXG4gICAgdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnRXZlbnRzKCk7XG5cbiAgICBzb3J0YWJsZXMuc3BsaWNlKHNvcnRhYmxlcy5pbmRleE9mKHRoaXMuZWwpLCAxKTtcbiAgICB0aGlzLmVsID0gZWwgPSBudWxsO1xuICB9LFxuICBfaGlkZUNsb25lOiBmdW5jdGlvbiBfaGlkZUNsb25lKCkge1xuICAgIGlmICghY2xvbmVIaWRkZW4pIHtcbiAgICAgIHBsdWdpbkV2ZW50KCdoaWRlQ2xvbmUnLCB0aGlzKTtcbiAgICAgIGlmIChTb3J0YWJsZS5ldmVudENhbmNlbGVkKSByZXR1cm47XG4gICAgICBjc3MoY2xvbmVFbCwgJ2Rpc3BsYXknLCAnbm9uZScpO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnJlbW92ZUNsb25lT25IaWRlICYmIGNsb25lRWwucGFyZW50Tm9kZSkge1xuICAgICAgICBjbG9uZUVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2xvbmVFbCk7XG4gICAgICB9XG5cbiAgICAgIGNsb25lSGlkZGVuID0gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIF9zaG93Q2xvbmU6IGZ1bmN0aW9uIF9zaG93Q2xvbmUocHV0U29ydGFibGUpIHtcbiAgICBpZiAocHV0U29ydGFibGUubGFzdFB1dE1vZGUgIT09ICdjbG9uZScpIHtcbiAgICAgIHRoaXMuX2hpZGVDbG9uZSgpO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGNsb25lSGlkZGVuKSB7XG4gICAgICBwbHVnaW5FdmVudCgnc2hvd0Nsb25lJywgdGhpcyk7XG4gICAgICBpZiAoU29ydGFibGUuZXZlbnRDYW5jZWxlZCkgcmV0dXJuOyAvLyBzaG93IGNsb25lIGF0IGRyYWdFbCBvciBvcmlnaW5hbCBwb3NpdGlvblxuXG4gICAgICBpZiAoZHJhZ0VsLnBhcmVudE5vZGUgPT0gcm9vdEVsICYmICF0aGlzLm9wdGlvbnMuZ3JvdXAucmV2ZXJ0Q2xvbmUpIHtcbiAgICAgICAgcm9vdEVsLmluc2VydEJlZm9yZShjbG9uZUVsLCBkcmFnRWwpO1xuICAgICAgfSBlbHNlIGlmIChuZXh0RWwpIHtcbiAgICAgICAgcm9vdEVsLmluc2VydEJlZm9yZShjbG9uZUVsLCBuZXh0RWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm9vdEVsLmFwcGVuZENoaWxkKGNsb25lRWwpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmdyb3VwLnJldmVydENsb25lKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0ZShkcmFnRWwsIGNsb25lRWwpO1xuICAgICAgfVxuXG4gICAgICBjc3MoY2xvbmVFbCwgJ2Rpc3BsYXknLCAnJyk7XG4gICAgICBjbG9uZUhpZGRlbiA9IGZhbHNlO1xuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gX2dsb2JhbERyYWdPdmVyKFxuLyoqRXZlbnQqL1xuZXZ0KSB7XG4gIGlmIChldnQuZGF0YVRyYW5zZmVyKSB7XG4gICAgZXZ0LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gJ21vdmUnO1xuICB9XG5cbiAgZXZ0LmNhbmNlbGFibGUgJiYgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG59XG5cbmZ1bmN0aW9uIF9vbk1vdmUoZnJvbUVsLCB0b0VsLCBkcmFnRWwsIGRyYWdSZWN0LCB0YXJnZXRFbCwgdGFyZ2V0UmVjdCwgb3JpZ2luYWxFdmVudCwgd2lsbEluc2VydEFmdGVyKSB7XG4gIHZhciBldnQsXG4gICAgICBzb3J0YWJsZSA9IGZyb21FbFtleHBhbmRvXSxcbiAgICAgIG9uTW92ZUZuID0gc29ydGFibGUub3B0aW9ucy5vbk1vdmUsXG4gICAgICByZXRWYWw7IC8vIFN1cHBvcnQgZm9yIG5ldyBDdXN0b21FdmVudCBmZWF0dXJlXG5cbiAgaWYgKHdpbmRvdy5DdXN0b21FdmVudCAmJiAhSUUxMU9yTGVzcyAmJiAhRWRnZSkge1xuICAgIGV2dCA9IG5ldyBDdXN0b21FdmVudCgnbW92ZScsIHtcbiAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgZXZ0LmluaXRFdmVudCgnbW92ZScsIHRydWUsIHRydWUpO1xuICB9XG5cbiAgZXZ0LnRvID0gdG9FbDtcbiAgZXZ0LmZyb20gPSBmcm9tRWw7XG4gIGV2dC5kcmFnZ2VkID0gZHJhZ0VsO1xuICBldnQuZHJhZ2dlZFJlY3QgPSBkcmFnUmVjdDtcbiAgZXZ0LnJlbGF0ZWQgPSB0YXJnZXRFbCB8fCB0b0VsO1xuICBldnQucmVsYXRlZFJlY3QgPSB0YXJnZXRSZWN0IHx8IGdldFJlY3QodG9FbCk7XG4gIGV2dC53aWxsSW5zZXJ0QWZ0ZXIgPSB3aWxsSW5zZXJ0QWZ0ZXI7XG4gIGV2dC5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcbiAgZnJvbUVsLmRpc3BhdGNoRXZlbnQoZXZ0KTtcblxuICBpZiAob25Nb3ZlRm4pIHtcbiAgICByZXRWYWwgPSBvbk1vdmVGbi5jYWxsKHNvcnRhYmxlLCBldnQsIG9yaWdpbmFsRXZlbnQpO1xuICB9XG5cbiAgcmV0dXJuIHJldFZhbDtcbn1cblxuZnVuY3Rpb24gX2Rpc2FibGVEcmFnZ2FibGUoZWwpIHtcbiAgZWwuZHJhZ2dhYmxlID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIF91bnNpbGVudCgpIHtcbiAgX3NpbGVudCA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBfZ2hvc3RJc0ZpcnN0KGV2dCwgdmVydGljYWwsIHNvcnRhYmxlKSB7XG4gIHZhciByZWN0ID0gZ2V0UmVjdChnZXRDaGlsZChzb3J0YWJsZS5lbCwgMCwgc29ydGFibGUub3B0aW9ucywgdHJ1ZSkpO1xuICB2YXIgc3BhY2VyID0gMTA7XG4gIHJldHVybiB2ZXJ0aWNhbCA/IGV2dC5jbGllbnRYIDwgcmVjdC5sZWZ0IC0gc3BhY2VyIHx8IGV2dC5jbGllbnRZIDwgcmVjdC50b3AgJiYgZXZ0LmNsaWVudFggPCByZWN0LnJpZ2h0IDogZXZ0LmNsaWVudFkgPCByZWN0LnRvcCAtIHNwYWNlciB8fCBldnQuY2xpZW50WSA8IHJlY3QuYm90dG9tICYmIGV2dC5jbGllbnRYIDwgcmVjdC5sZWZ0O1xufVxuXG5mdW5jdGlvbiBfZ2hvc3RJc0xhc3QoZXZ0LCB2ZXJ0aWNhbCwgc29ydGFibGUpIHtcbiAgdmFyIHJlY3QgPSBnZXRSZWN0KGxhc3RDaGlsZChzb3J0YWJsZS5lbCwgc29ydGFibGUub3B0aW9ucy5kcmFnZ2FibGUpKTtcbiAgdmFyIHNwYWNlciA9IDEwO1xuICByZXR1cm4gdmVydGljYWwgPyBldnQuY2xpZW50WCA+IHJlY3QucmlnaHQgKyBzcGFjZXIgfHwgZXZ0LmNsaWVudFggPD0gcmVjdC5yaWdodCAmJiBldnQuY2xpZW50WSA+IHJlY3QuYm90dG9tICYmIGV2dC5jbGllbnRYID49IHJlY3QubGVmdCA6IGV2dC5jbGllbnRYID4gcmVjdC5yaWdodCAmJiBldnQuY2xpZW50WSA+IHJlY3QudG9wIHx8IGV2dC5jbGllbnRYIDw9IHJlY3QucmlnaHQgJiYgZXZ0LmNsaWVudFkgPiByZWN0LmJvdHRvbSArIHNwYWNlcjtcbn1cblxuZnVuY3Rpb24gX2dldFN3YXBEaXJlY3Rpb24oZXZ0LCB0YXJnZXQsIHRhcmdldFJlY3QsIHZlcnRpY2FsLCBzd2FwVGhyZXNob2xkLCBpbnZlcnRlZFN3YXBUaHJlc2hvbGQsIGludmVydFN3YXAsIGlzTGFzdFRhcmdldCkge1xuICB2YXIgbW91c2VPbkF4aXMgPSB2ZXJ0aWNhbCA/IGV2dC5jbGllbnRZIDogZXZ0LmNsaWVudFgsXG4gICAgICB0YXJnZXRMZW5ndGggPSB2ZXJ0aWNhbCA/IHRhcmdldFJlY3QuaGVpZ2h0IDogdGFyZ2V0UmVjdC53aWR0aCxcbiAgICAgIHRhcmdldFMxID0gdmVydGljYWwgPyB0YXJnZXRSZWN0LnRvcCA6IHRhcmdldFJlY3QubGVmdCxcbiAgICAgIHRhcmdldFMyID0gdmVydGljYWwgPyB0YXJnZXRSZWN0LmJvdHRvbSA6IHRhcmdldFJlY3QucmlnaHQsXG4gICAgICBpbnZlcnQgPSBmYWxzZTtcblxuICBpZiAoIWludmVydFN3YXApIHtcbiAgICAvLyBOZXZlciBpbnZlcnQgb3IgY3JlYXRlIGRyYWdFbCBzaGFkb3cgd2hlbiB0YXJnZXQgbW92ZW1lbmV0IGNhdXNlcyBtb3VzZSB0byBtb3ZlIHBhc3QgdGhlIGVuZCBvZiByZWd1bGFyIHN3YXBUaHJlc2hvbGRcbiAgICBpZiAoaXNMYXN0VGFyZ2V0ICYmIHRhcmdldE1vdmVEaXN0YW5jZSA8IHRhcmdldExlbmd0aCAqIHN3YXBUaHJlc2hvbGQpIHtcbiAgICAgIC8vIG11bHRpcGxpZWQgb25seSBieSBzd2FwVGhyZXNob2xkIGJlY2F1c2UgbW91c2Ugd2lsbCBhbHJlYWR5IGJlIGluc2lkZSB0YXJnZXQgYnkgKDEgLSB0aHJlc2hvbGQpICogdGFyZ2V0TGVuZ3RoIC8gMlxuICAgICAgLy8gY2hlY2sgaWYgcGFzdCBmaXJzdCBpbnZlcnQgdGhyZXNob2xkIG9uIHNpZGUgb3Bwb3NpdGUgb2YgbGFzdERpcmVjdGlvblxuICAgICAgaWYgKCFwYXN0Rmlyc3RJbnZlcnRUaHJlc2ggJiYgKGxhc3REaXJlY3Rpb24gPT09IDEgPyBtb3VzZU9uQXhpcyA+IHRhcmdldFMxICsgdGFyZ2V0TGVuZ3RoICogaW52ZXJ0ZWRTd2FwVGhyZXNob2xkIC8gMiA6IG1vdXNlT25BeGlzIDwgdGFyZ2V0UzIgLSB0YXJnZXRMZW5ndGggKiBpbnZlcnRlZFN3YXBUaHJlc2hvbGQgLyAyKSkge1xuICAgICAgICAvLyBwYXN0IGZpcnN0IGludmVydCB0aHJlc2hvbGQsIGRvIG5vdCByZXN0cmljdCBpbnZlcnRlZCB0aHJlc2hvbGQgdG8gZHJhZ0VsIHNoYWRvd1xuICAgICAgICBwYXN0Rmlyc3RJbnZlcnRUaHJlc2ggPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXBhc3RGaXJzdEludmVydFRocmVzaCkge1xuICAgICAgICAvLyBkcmFnRWwgc2hhZG93ICh0YXJnZXQgbW92ZSBkaXN0YW5jZSBzaGFkb3cpXG4gICAgICAgIGlmIChsYXN0RGlyZWN0aW9uID09PSAxID8gbW91c2VPbkF4aXMgPCB0YXJnZXRTMSArIHRhcmdldE1vdmVEaXN0YW5jZSAvLyBvdmVyIGRyYWdFbCBzaGFkb3dcbiAgICAgICAgOiBtb3VzZU9uQXhpcyA+IHRhcmdldFMyIC0gdGFyZ2V0TW92ZURpc3RhbmNlKSB7XG4gICAgICAgICAgcmV0dXJuIC1sYXN0RGlyZWN0aW9uO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnZlcnQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZWd1bGFyXG4gICAgICBpZiAobW91c2VPbkF4aXMgPiB0YXJnZXRTMSArIHRhcmdldExlbmd0aCAqICgxIC0gc3dhcFRocmVzaG9sZCkgLyAyICYmIG1vdXNlT25BeGlzIDwgdGFyZ2V0UzIgLSB0YXJnZXRMZW5ndGggKiAoMSAtIHN3YXBUaHJlc2hvbGQpIC8gMikge1xuICAgICAgICByZXR1cm4gX2dldEluc2VydERpcmVjdGlvbih0YXJnZXQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGludmVydCA9IGludmVydCB8fCBpbnZlcnRTd2FwO1xuXG4gIGlmIChpbnZlcnQpIHtcbiAgICAvLyBJbnZlcnQgb2YgcmVndWxhclxuICAgIGlmIChtb3VzZU9uQXhpcyA8IHRhcmdldFMxICsgdGFyZ2V0TGVuZ3RoICogaW52ZXJ0ZWRTd2FwVGhyZXNob2xkIC8gMiB8fCBtb3VzZU9uQXhpcyA+IHRhcmdldFMyIC0gdGFyZ2V0TGVuZ3RoICogaW52ZXJ0ZWRTd2FwVGhyZXNob2xkIC8gMikge1xuICAgICAgcmV0dXJuIG1vdXNlT25BeGlzID4gdGFyZ2V0UzEgKyB0YXJnZXRMZW5ndGggLyAyID8gMSA6IC0xO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAwO1xufVxuLyoqXG4gKiBHZXRzIHRoZSBkaXJlY3Rpb24gZHJhZ0VsIG11c3QgYmUgc3dhcHBlZCByZWxhdGl2ZSB0byB0YXJnZXQgaW4gb3JkZXIgdG8gbWFrZSBpdFxuICogc2VlbSB0aGF0IGRyYWdFbCBoYXMgYmVlbiBcImluc2VydGVkXCIgaW50byB0aGF0IGVsZW1lbnQncyBwb3NpdGlvblxuICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IHRhcmdldCAgICAgICBUaGUgdGFyZ2V0IHdob3NlIHBvc2l0aW9uIGRyYWdFbCBpcyBiZWluZyBpbnNlcnRlZCBhdFxuICogQHJldHVybiB7TnVtYmVyfSAgICAgICAgICAgICAgICAgICBEaXJlY3Rpb24gZHJhZ0VsIG11c3QgYmUgc3dhcHBlZFxuICovXG5cblxuZnVuY3Rpb24gX2dldEluc2VydERpcmVjdGlvbih0YXJnZXQpIHtcbiAgaWYgKGluZGV4KGRyYWdFbCkgPCBpbmRleCh0YXJnZXQpKSB7XG4gICAgcmV0dXJuIDE7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG59XG4vKipcbiAqIEdlbmVyYXRlIGlkXG4gKiBAcGFyYW0gICB7SFRNTEVsZW1lbnR9IGVsXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICogQHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIF9nZW5lcmF0ZUlkKGVsKSB7XG4gIHZhciBzdHIgPSBlbC50YWdOYW1lICsgZWwuY2xhc3NOYW1lICsgZWwuc3JjICsgZWwuaHJlZiArIGVsLnRleHRDb250ZW50LFxuICAgICAgaSA9IHN0ci5sZW5ndGgsXG4gICAgICBzdW0gPSAwO1xuXG4gIHdoaWxlIChpLS0pIHtcbiAgICBzdW0gKz0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gIH1cblxuICByZXR1cm4gc3VtLnRvU3RyaW5nKDM2KTtcbn1cblxuZnVuY3Rpb24gX3NhdmVJbnB1dENoZWNrZWRTdGF0ZShyb290KSB7XG4gIHNhdmVkSW5wdXRDaGVja2VkLmxlbmd0aCA9IDA7XG4gIHZhciBpbnB1dHMgPSByb290LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbnB1dCcpO1xuICB2YXIgaWR4ID0gaW5wdXRzLmxlbmd0aDtcblxuICB3aGlsZSAoaWR4LS0pIHtcbiAgICB2YXIgZWwgPSBpbnB1dHNbaWR4XTtcbiAgICBlbC5jaGVja2VkICYmIHNhdmVkSW5wdXRDaGVja2VkLnB1c2goZWwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9uZXh0VGljayhmbikge1xuICByZXR1cm4gc2V0VGltZW91dChmbiwgMCk7XG59XG5cbmZ1bmN0aW9uIF9jYW5jZWxOZXh0VGljayhpZCkge1xuICByZXR1cm4gY2xlYXJUaW1lb3V0KGlkKTtcbn0gLy8gRml4ZWQgIzk3MzpcblxuXG5pZiAoZG9jdW1lbnRFeGlzdHMpIHtcbiAgb24oZG9jdW1lbnQsICd0b3VjaG1vdmUnLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgaWYgKChTb3J0YWJsZS5hY3RpdmUgfHwgYXdhaXRpbmdEcmFnU3RhcnRlZCkgJiYgZXZ0LmNhbmNlbGFibGUpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSk7XG59IC8vIEV4cG9ydCB1dGlsc1xuXG5cblNvcnRhYmxlLnV0aWxzID0ge1xuICBvbjogb24sXG4gIG9mZjogb2ZmLFxuICBjc3M6IGNzcyxcbiAgZmluZDogZmluZCxcbiAgaXM6IGZ1bmN0aW9uIGlzKGVsLCBzZWxlY3Rvcikge1xuICAgIHJldHVybiAhIWNsb3Nlc3QoZWwsIHNlbGVjdG9yLCBlbCwgZmFsc2UpO1xuICB9LFxuICBleHRlbmQ6IGV4dGVuZCxcbiAgdGhyb3R0bGU6IHRocm90dGxlLFxuICBjbG9zZXN0OiBjbG9zZXN0LFxuICB0b2dnbGVDbGFzczogdG9nZ2xlQ2xhc3MsXG4gIGNsb25lOiBjbG9uZSxcbiAgaW5kZXg6IGluZGV4LFxuICBuZXh0VGljazogX25leHRUaWNrLFxuICBjYW5jZWxOZXh0VGljazogX2NhbmNlbE5leHRUaWNrLFxuICBkZXRlY3REaXJlY3Rpb246IF9kZXRlY3REaXJlY3Rpb24sXG4gIGdldENoaWxkOiBnZXRDaGlsZFxufTtcbi8qKlxuICogR2V0IHRoZSBTb3J0YWJsZSBpbnN0YW5jZSBvZiBhbiBlbGVtZW50XG4gKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudFxuICogQHJldHVybiB7U29ydGFibGV8dW5kZWZpbmVkfSAgICAgICAgIFRoZSBpbnN0YW5jZSBvZiBTb3J0YWJsZVxuICovXG5cblNvcnRhYmxlLmdldCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50W2V4cGFuZG9dO1xufTtcbi8qKlxuICogTW91bnQgYSBwbHVnaW4gdG8gU29ydGFibGVcbiAqIEBwYXJhbSAgey4uLlNvcnRhYmxlUGx1Z2lufFNvcnRhYmxlUGx1Z2luW119IHBsdWdpbnMgICAgICAgUGx1Z2lucyBiZWluZyBtb3VudGVkXG4gKi9cblxuXG5Tb3J0YWJsZS5tb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHBsdWdpbnMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgcGx1Z2luc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmIChwbHVnaW5zWzBdLmNvbnN0cnVjdG9yID09PSBBcnJheSkgcGx1Z2lucyA9IHBsdWdpbnNbMF07XG4gIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgaWYgKCFwbHVnaW4ucHJvdG90eXBlIHx8ICFwbHVnaW4ucHJvdG90eXBlLmNvbnN0cnVjdG9yKSB7XG4gICAgICB0aHJvdyBcIlNvcnRhYmxlOiBNb3VudGVkIHBsdWdpbiBtdXN0IGJlIGEgY29uc3RydWN0b3IgZnVuY3Rpb24sIG5vdCBcIi5jb25jYXQoe30udG9TdHJpbmcuY2FsbChwbHVnaW4pKTtcbiAgICB9XG5cbiAgICBpZiAocGx1Z2luLnV0aWxzKSBTb3J0YWJsZS51dGlscyA9IF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBTb3J0YWJsZS51dGlscyksIHBsdWdpbi51dGlscyk7XG4gICAgUGx1Z2luTWFuYWdlci5tb3VudChwbHVnaW4pO1xuICB9KTtcbn07XG4vKipcbiAqIENyZWF0ZSBzb3J0YWJsZSBpbnN0YW5jZVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gIGVsXG4gKiBAcGFyYW0ge09iamVjdH0gICAgICBbb3B0aW9uc11cbiAqL1xuXG5cblNvcnRhYmxlLmNyZWF0ZSA9IGZ1bmN0aW9uIChlbCwgb3B0aW9ucykge1xuICByZXR1cm4gbmV3IFNvcnRhYmxlKGVsLCBvcHRpb25zKTtcbn07IC8vIEV4cG9ydFxuXG5cblNvcnRhYmxlLnZlcnNpb24gPSB2ZXJzaW9uO1xuXG52YXIgYXV0b1Njcm9sbHMgPSBbXSxcbiAgICBzY3JvbGxFbCxcbiAgICBzY3JvbGxSb290RWwsXG4gICAgc2Nyb2xsaW5nID0gZmFsc2UsXG4gICAgbGFzdEF1dG9TY3JvbGxYLFxuICAgIGxhc3RBdXRvU2Nyb2xsWSxcbiAgICB0b3VjaEV2dCQxLFxuICAgIHBvaW50ZXJFbGVtQ2hhbmdlZEludGVydmFsO1xuXG5mdW5jdGlvbiBBdXRvU2Nyb2xsUGx1Z2luKCkge1xuICBmdW5jdGlvbiBBdXRvU2Nyb2xsKCkge1xuICAgIHRoaXMuZGVmYXVsdHMgPSB7XG4gICAgICBzY3JvbGw6IHRydWUsXG4gICAgICBmb3JjZUF1dG9TY3JvbGxGYWxsYmFjazogZmFsc2UsXG4gICAgICBzY3JvbGxTZW5zaXRpdml0eTogMzAsXG4gICAgICBzY3JvbGxTcGVlZDogMTAsXG4gICAgICBidWJibGVTY3JvbGw6IHRydWVcbiAgICB9OyAvLyBCaW5kIGFsbCBwcml2YXRlIG1ldGhvZHNcblxuICAgIGZvciAodmFyIGZuIGluIHRoaXMpIHtcbiAgICAgIGlmIChmbi5jaGFyQXQoMCkgPT09ICdfJyAmJiB0eXBlb2YgdGhpc1tmbl0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpc1tmbl0gPSB0aGlzW2ZuXS5iaW5kKHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIEF1dG9TY3JvbGwucHJvdG90eXBlID0ge1xuICAgIGRyYWdTdGFydGVkOiBmdW5jdGlvbiBkcmFnU3RhcnRlZChfcmVmKSB7XG4gICAgICB2YXIgb3JpZ2luYWxFdmVudCA9IF9yZWYub3JpZ2luYWxFdmVudDtcblxuICAgICAgaWYgKHRoaXMuc29ydGFibGUubmF0aXZlRHJhZ2dhYmxlKSB7XG4gICAgICAgIG9uKGRvY3VtZW50LCAnZHJhZ292ZXInLCB0aGlzLl9oYW5kbGVBdXRvU2Nyb2xsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc3VwcG9ydFBvaW50ZXIpIHtcbiAgICAgICAgICBvbihkb2N1bWVudCwgJ3BvaW50ZXJtb3ZlJywgdGhpcy5faGFuZGxlRmFsbGJhY2tBdXRvU2Nyb2xsKTtcbiAgICAgICAgfSBlbHNlIGlmIChvcmlnaW5hbEV2ZW50LnRvdWNoZXMpIHtcbiAgICAgICAgICBvbihkb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZUZhbGxiYWNrQXV0b1Njcm9sbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb24oZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVGYWxsYmFja0F1dG9TY3JvbGwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBkcmFnT3ZlckNvbXBsZXRlZDogZnVuY3Rpb24gZHJhZ092ZXJDb21wbGV0ZWQoX3JlZjIpIHtcbiAgICAgIHZhciBvcmlnaW5hbEV2ZW50ID0gX3JlZjIub3JpZ2luYWxFdmVudDtcblxuICAgICAgLy8gRm9yIHdoZW4gYnViYmxpbmcgaXMgY2FuY2VsZWQgYW5kIHVzaW5nIGZhbGxiYWNrIChmYWxsYmFjayAndG91Y2htb3ZlJyBhbHdheXMgcmVhY2hlZClcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLmRyYWdPdmVyQnViYmxlICYmICFvcmlnaW5hbEV2ZW50LnJvb3RFbCkge1xuICAgICAgICB0aGlzLl9oYW5kbGVBdXRvU2Nyb2xsKG9yaWdpbmFsRXZlbnQpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZHJvcDogZnVuY3Rpb24gZHJvcCgpIHtcbiAgICAgIGlmICh0aGlzLnNvcnRhYmxlLm5hdGl2ZURyYWdnYWJsZSkge1xuICAgICAgICBvZmYoZG9jdW1lbnQsICdkcmFnb3ZlcicsIHRoaXMuX2hhbmRsZUF1dG9TY3JvbGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2ZmKGRvY3VtZW50LCAncG9pbnRlcm1vdmUnLCB0aGlzLl9oYW5kbGVGYWxsYmFja0F1dG9TY3JvbGwpO1xuICAgICAgICBvZmYoZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVGYWxsYmFja0F1dG9TY3JvbGwpO1xuICAgICAgICBvZmYoZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVGYWxsYmFja0F1dG9TY3JvbGwpO1xuICAgICAgfVxuXG4gICAgICBjbGVhclBvaW50ZXJFbGVtQ2hhbmdlZEludGVydmFsKCk7XG4gICAgICBjbGVhckF1dG9TY3JvbGxzKCk7XG4gICAgICBjYW5jZWxUaHJvdHRsZSgpO1xuICAgIH0sXG4gICAgbnVsbGluZzogZnVuY3Rpb24gbnVsbGluZygpIHtcbiAgICAgIHRvdWNoRXZ0JDEgPSBzY3JvbGxSb290RWwgPSBzY3JvbGxFbCA9IHNjcm9sbGluZyA9IHBvaW50ZXJFbGVtQ2hhbmdlZEludGVydmFsID0gbGFzdEF1dG9TY3JvbGxYID0gbGFzdEF1dG9TY3JvbGxZID0gbnVsbDtcbiAgICAgIGF1dG9TY3JvbGxzLmxlbmd0aCA9IDA7XG4gICAgfSxcbiAgICBfaGFuZGxlRmFsbGJhY2tBdXRvU2Nyb2xsOiBmdW5jdGlvbiBfaGFuZGxlRmFsbGJhY2tBdXRvU2Nyb2xsKGV2dCkge1xuICAgICAgdGhpcy5faGFuZGxlQXV0b1Njcm9sbChldnQsIHRydWUpO1xuICAgIH0sXG4gICAgX2hhbmRsZUF1dG9TY3JvbGw6IGZ1bmN0aW9uIF9oYW5kbGVBdXRvU2Nyb2xsKGV2dCwgZmFsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciB4ID0gKGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0gOiBldnQpLmNsaWVudFgsXG4gICAgICAgICAgeSA9IChldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdIDogZXZ0KS5jbGllbnRZLFxuICAgICAgICAgIGVsZW0gPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHgsIHkpO1xuICAgICAgdG91Y2hFdnQkMSA9IGV2dDsgLy8gSUUgZG9lcyBub3Qgc2VlbSB0byBoYXZlIG5hdGl2ZSBhdXRvc2Nyb2xsLFxuICAgICAgLy8gRWRnZSdzIGF1dG9zY3JvbGwgc2VlbXMgdG9vIGNvbmRpdGlvbmFsLFxuICAgICAgLy8gTUFDT1MgU2FmYXJpIGRvZXMgbm90IGhhdmUgYXV0b3Njcm9sbCxcbiAgICAgIC8vIEZpcmVmb3ggYW5kIENocm9tZSBhcmUgZ29vZFxuXG4gICAgICBpZiAoZmFsbGJhY2sgfHwgdGhpcy5vcHRpb25zLmZvcmNlQXV0b1Njcm9sbEZhbGxiYWNrIHx8IEVkZ2UgfHwgSUUxMU9yTGVzcyB8fCBTYWZhcmkpIHtcbiAgICAgICAgYXV0b1Njcm9sbChldnQsIHRoaXMub3B0aW9ucywgZWxlbSwgZmFsbGJhY2spOyAvLyBMaXN0ZW5lciBmb3IgcG9pbnRlciBlbGVtZW50IGNoYW5nZVxuXG4gICAgICAgIHZhciBvZ0VsZW1TY3JvbGxlciA9IGdldFBhcmVudEF1dG9TY3JvbGxFbGVtZW50KGVsZW0sIHRydWUpO1xuXG4gICAgICAgIGlmIChzY3JvbGxpbmcgJiYgKCFwb2ludGVyRWxlbUNoYW5nZWRJbnRlcnZhbCB8fCB4ICE9PSBsYXN0QXV0b1Njcm9sbFggfHwgeSAhPT0gbGFzdEF1dG9TY3JvbGxZKSkge1xuICAgICAgICAgIHBvaW50ZXJFbGVtQ2hhbmdlZEludGVydmFsICYmIGNsZWFyUG9pbnRlckVsZW1DaGFuZ2VkSW50ZXJ2YWwoKTsgLy8gRGV0ZWN0IGZvciBwb2ludGVyIGVsZW0gY2hhbmdlLCBlbXVsYXRpbmcgbmF0aXZlIERuRCBiZWhhdmlvdXJcblxuICAgICAgICAgIHBvaW50ZXJFbGVtQ2hhbmdlZEludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG5ld0VsZW0gPSBnZXRQYXJlbnRBdXRvU2Nyb2xsRWxlbWVudChkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHgsIHkpLCB0cnVlKTtcblxuICAgICAgICAgICAgaWYgKG5ld0VsZW0gIT09IG9nRWxlbVNjcm9sbGVyKSB7XG4gICAgICAgICAgICAgIG9nRWxlbVNjcm9sbGVyID0gbmV3RWxlbTtcbiAgICAgICAgICAgICAgY2xlYXJBdXRvU2Nyb2xscygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhdXRvU2Nyb2xsKGV2dCwgX3RoaXMub3B0aW9ucywgbmV3RWxlbSwgZmFsbGJhY2spO1xuICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgICBsYXN0QXV0b1Njcm9sbFggPSB4O1xuICAgICAgICAgIGxhc3RBdXRvU2Nyb2xsWSA9IHk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGlmIERuRCBpcyBlbmFibGVkIChhbmQgYnJvd3NlciBoYXMgZ29vZCBhdXRvc2Nyb2xsaW5nKSwgZmlyc3QgYXV0b3Njcm9sbCB3aWxsIGFscmVhZHkgc2Nyb2xsLCBzbyBnZXQgcGFyZW50IGF1dG9zY3JvbGwgb2YgZmlyc3QgYXV0b3Njcm9sbFxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5idWJibGVTY3JvbGwgfHwgZ2V0UGFyZW50QXV0b1Njcm9sbEVsZW1lbnQoZWxlbSwgdHJ1ZSkgPT09IGdldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKSkge1xuICAgICAgICAgIGNsZWFyQXV0b1Njcm9sbHMoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBhdXRvU2Nyb2xsKGV2dCwgdGhpcy5vcHRpb25zLCBnZXRQYXJlbnRBdXRvU2Nyb2xsRWxlbWVudChlbGVtLCBmYWxzZSksIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBfZXh0ZW5kcyhBdXRvU2Nyb2xsLCB7XG4gICAgcGx1Z2luTmFtZTogJ3Njcm9sbCcsXG4gICAgaW5pdGlhbGl6ZUJ5RGVmYXVsdDogdHJ1ZVxuICB9KTtcbn1cblxuZnVuY3Rpb24gY2xlYXJBdXRvU2Nyb2xscygpIHtcbiAgYXV0b1Njcm9sbHMuZm9yRWFjaChmdW5jdGlvbiAoYXV0b1Njcm9sbCkge1xuICAgIGNsZWFySW50ZXJ2YWwoYXV0b1Njcm9sbC5waWQpO1xuICB9KTtcbiAgYXV0b1Njcm9sbHMgPSBbXTtcbn1cblxuZnVuY3Rpb24gY2xlYXJQb2ludGVyRWxlbUNoYW5nZWRJbnRlcnZhbCgpIHtcbiAgY2xlYXJJbnRlcnZhbChwb2ludGVyRWxlbUNoYW5nZWRJbnRlcnZhbCk7XG59XG5cbnZhciBhdXRvU2Nyb2xsID0gdGhyb3R0bGUoZnVuY3Rpb24gKGV2dCwgb3B0aW9ucywgcm9vdEVsLCBpc0ZhbGxiYWNrKSB7XG4gIC8vIEJ1ZzogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NTA1NTIxXG4gIGlmICghb3B0aW9ucy5zY3JvbGwpIHJldHVybjtcbiAgdmFyIHggPSAoZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXSA6IGV2dCkuY2xpZW50WCxcbiAgICAgIHkgPSAoZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXSA6IGV2dCkuY2xpZW50WSxcbiAgICAgIHNlbnMgPSBvcHRpb25zLnNjcm9sbFNlbnNpdGl2aXR5LFxuICAgICAgc3BlZWQgPSBvcHRpb25zLnNjcm9sbFNwZWVkLFxuICAgICAgd2luU2Nyb2xsZXIgPSBnZXRXaW5kb3dTY3JvbGxpbmdFbGVtZW50KCk7XG4gIHZhciBzY3JvbGxUaGlzSW5zdGFuY2UgPSBmYWxzZSxcbiAgICAgIHNjcm9sbEN1c3RvbUZuOyAvLyBOZXcgc2Nyb2xsIHJvb3QsIHNldCBzY3JvbGxFbFxuXG4gIGlmIChzY3JvbGxSb290RWwgIT09IHJvb3RFbCkge1xuICAgIHNjcm9sbFJvb3RFbCA9IHJvb3RFbDtcbiAgICBjbGVhckF1dG9TY3JvbGxzKCk7XG4gICAgc2Nyb2xsRWwgPSBvcHRpb25zLnNjcm9sbDtcbiAgICBzY3JvbGxDdXN0b21GbiA9IG9wdGlvbnMuc2Nyb2xsRm47XG5cbiAgICBpZiAoc2Nyb2xsRWwgPT09IHRydWUpIHtcbiAgICAgIHNjcm9sbEVsID0gZ2V0UGFyZW50QXV0b1Njcm9sbEVsZW1lbnQocm9vdEVsLCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgbGF5ZXJzT3V0ID0gMDtcbiAgdmFyIGN1cnJlbnRQYXJlbnQgPSBzY3JvbGxFbDtcblxuICBkbyB7XG4gICAgdmFyIGVsID0gY3VycmVudFBhcmVudCxcbiAgICAgICAgcmVjdCA9IGdldFJlY3QoZWwpLFxuICAgICAgICB0b3AgPSByZWN0LnRvcCxcbiAgICAgICAgYm90dG9tID0gcmVjdC5ib3R0b20sXG4gICAgICAgIGxlZnQgPSByZWN0LmxlZnQsXG4gICAgICAgIHJpZ2h0ID0gcmVjdC5yaWdodCxcbiAgICAgICAgd2lkdGggPSByZWN0LndpZHRoLFxuICAgICAgICBoZWlnaHQgPSByZWN0LmhlaWdodCxcbiAgICAgICAgY2FuU2Nyb2xsWCA9IHZvaWQgMCxcbiAgICAgICAgY2FuU2Nyb2xsWSA9IHZvaWQgMCxcbiAgICAgICAgc2Nyb2xsV2lkdGggPSBlbC5zY3JvbGxXaWR0aCxcbiAgICAgICAgc2Nyb2xsSGVpZ2h0ID0gZWwuc2Nyb2xsSGVpZ2h0LFxuICAgICAgICBlbENTUyA9IGNzcyhlbCksXG4gICAgICAgIHNjcm9sbFBvc1ggPSBlbC5zY3JvbGxMZWZ0LFxuICAgICAgICBzY3JvbGxQb3NZID0gZWwuc2Nyb2xsVG9wO1xuXG4gICAgaWYgKGVsID09PSB3aW5TY3JvbGxlcikge1xuICAgICAgY2FuU2Nyb2xsWCA9IHdpZHRoIDwgc2Nyb2xsV2lkdGggJiYgKGVsQ1NTLm92ZXJmbG93WCA9PT0gJ2F1dG8nIHx8IGVsQ1NTLm92ZXJmbG93WCA9PT0gJ3Njcm9sbCcgfHwgZWxDU1Mub3ZlcmZsb3dYID09PSAndmlzaWJsZScpO1xuICAgICAgY2FuU2Nyb2xsWSA9IGhlaWdodCA8IHNjcm9sbEhlaWdodCAmJiAoZWxDU1Mub3ZlcmZsb3dZID09PSAnYXV0bycgfHwgZWxDU1Mub3ZlcmZsb3dZID09PSAnc2Nyb2xsJyB8fCBlbENTUy5vdmVyZmxvd1kgPT09ICd2aXNpYmxlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhblNjcm9sbFggPSB3aWR0aCA8IHNjcm9sbFdpZHRoICYmIChlbENTUy5vdmVyZmxvd1ggPT09ICdhdXRvJyB8fCBlbENTUy5vdmVyZmxvd1ggPT09ICdzY3JvbGwnKTtcbiAgICAgIGNhblNjcm9sbFkgPSBoZWlnaHQgPCBzY3JvbGxIZWlnaHQgJiYgKGVsQ1NTLm92ZXJmbG93WSA9PT0gJ2F1dG8nIHx8IGVsQ1NTLm92ZXJmbG93WSA9PT0gJ3Njcm9sbCcpO1xuICAgIH1cblxuICAgIHZhciB2eCA9IGNhblNjcm9sbFggJiYgKE1hdGguYWJzKHJpZ2h0IC0geCkgPD0gc2VucyAmJiBzY3JvbGxQb3NYICsgd2lkdGggPCBzY3JvbGxXaWR0aCkgLSAoTWF0aC5hYnMobGVmdCAtIHgpIDw9IHNlbnMgJiYgISFzY3JvbGxQb3NYKTtcbiAgICB2YXIgdnkgPSBjYW5TY3JvbGxZICYmIChNYXRoLmFicyhib3R0b20gLSB5KSA8PSBzZW5zICYmIHNjcm9sbFBvc1kgKyBoZWlnaHQgPCBzY3JvbGxIZWlnaHQpIC0gKE1hdGguYWJzKHRvcCAtIHkpIDw9IHNlbnMgJiYgISFzY3JvbGxQb3NZKTtcblxuICAgIGlmICghYXV0b1Njcm9sbHNbbGF5ZXJzT3V0XSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gbGF5ZXJzT3V0OyBpKyspIHtcbiAgICAgICAgaWYgKCFhdXRvU2Nyb2xsc1tpXSkge1xuICAgICAgICAgIGF1dG9TY3JvbGxzW2ldID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYXV0b1Njcm9sbHNbbGF5ZXJzT3V0XS52eCAhPSB2eCB8fCBhdXRvU2Nyb2xsc1tsYXllcnNPdXRdLnZ5ICE9IHZ5IHx8IGF1dG9TY3JvbGxzW2xheWVyc091dF0uZWwgIT09IGVsKSB7XG4gICAgICBhdXRvU2Nyb2xsc1tsYXllcnNPdXRdLmVsID0gZWw7XG4gICAgICBhdXRvU2Nyb2xsc1tsYXllcnNPdXRdLnZ4ID0gdng7XG4gICAgICBhdXRvU2Nyb2xsc1tsYXllcnNPdXRdLnZ5ID0gdnk7XG4gICAgICBjbGVhckludGVydmFsKGF1dG9TY3JvbGxzW2xheWVyc091dF0ucGlkKTtcblxuICAgICAgaWYgKHZ4ICE9IDAgfHwgdnkgIT0gMCkge1xuICAgICAgICBzY3JvbGxUaGlzSW5zdGFuY2UgPSB0cnVlO1xuICAgICAgICAvKiBqc2hpbnQgbG9vcGZ1bmM6dHJ1ZSAqL1xuXG4gICAgICAgIGF1dG9TY3JvbGxzW2xheWVyc091dF0ucGlkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8vIGVtdWxhdGUgZHJhZyBvdmVyIGR1cmluZyBhdXRvc2Nyb2xsIChmYWxsYmFjayksIGVtdWxhdGluZyBuYXRpdmUgRG5EIGJlaGF2aW91clxuICAgICAgICAgIGlmIChpc0ZhbGxiYWNrICYmIHRoaXMubGF5ZXIgPT09IDApIHtcbiAgICAgICAgICAgIFNvcnRhYmxlLmFjdGl2ZS5fb25Ub3VjaE1vdmUodG91Y2hFdnQkMSk7IC8vIFRvIG1vdmUgZ2hvc3QgaWYgaXQgaXMgcG9zaXRpb25lZCBhYnNvbHV0ZWx5XG5cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgc2Nyb2xsT2Zmc2V0WSA9IGF1dG9TY3JvbGxzW3RoaXMubGF5ZXJdLnZ5ID8gYXV0b1Njcm9sbHNbdGhpcy5sYXllcl0udnkgKiBzcGVlZCA6IDA7XG4gICAgICAgICAgdmFyIHNjcm9sbE9mZnNldFggPSBhdXRvU2Nyb2xsc1t0aGlzLmxheWVyXS52eCA/IGF1dG9TY3JvbGxzW3RoaXMubGF5ZXJdLnZ4ICogc3BlZWQgOiAwO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBzY3JvbGxDdXN0b21GbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgaWYgKHNjcm9sbEN1c3RvbUZuLmNhbGwoU29ydGFibGUuZHJhZ2dlZC5wYXJlbnROb2RlW2V4cGFuZG9dLCBzY3JvbGxPZmZzZXRYLCBzY3JvbGxPZmZzZXRZLCBldnQsIHRvdWNoRXZ0JDEsIGF1dG9TY3JvbGxzW3RoaXMubGF5ZXJdLmVsKSAhPT0gJ2NvbnRpbnVlJykge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2Nyb2xsQnkoYXV0b1Njcm9sbHNbdGhpcy5sYXllcl0uZWwsIHNjcm9sbE9mZnNldFgsIHNjcm9sbE9mZnNldFkpO1xuICAgICAgICB9LmJpbmQoe1xuICAgICAgICAgIGxheWVyOiBsYXllcnNPdXRcbiAgICAgICAgfSksIDI0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXllcnNPdXQrKztcbiAgfSB3aGlsZSAob3B0aW9ucy5idWJibGVTY3JvbGwgJiYgY3VycmVudFBhcmVudCAhPT0gd2luU2Nyb2xsZXIgJiYgKGN1cnJlbnRQYXJlbnQgPSBnZXRQYXJlbnRBdXRvU2Nyb2xsRWxlbWVudChjdXJyZW50UGFyZW50LCBmYWxzZSkpKTtcblxuICBzY3JvbGxpbmcgPSBzY3JvbGxUaGlzSW5zdGFuY2U7IC8vIGluIGNhc2UgYW5vdGhlciBmdW5jdGlvbiBjYXRjaGVzIHNjcm9sbGluZyBhcyBmYWxzZSBpbiBiZXR3ZWVuIHdoZW4gaXQgaXMgbm90XG59LCAzMCk7XG5cbnZhciBkcm9wID0gZnVuY3Rpb24gZHJvcChfcmVmKSB7XG4gIHZhciBvcmlnaW5hbEV2ZW50ID0gX3JlZi5vcmlnaW5hbEV2ZW50LFxuICAgICAgcHV0U29ydGFibGUgPSBfcmVmLnB1dFNvcnRhYmxlLFxuICAgICAgZHJhZ0VsID0gX3JlZi5kcmFnRWwsXG4gICAgICBhY3RpdmVTb3J0YWJsZSA9IF9yZWYuYWN0aXZlU29ydGFibGUsXG4gICAgICBkaXNwYXRjaFNvcnRhYmxlRXZlbnQgPSBfcmVmLmRpc3BhdGNoU29ydGFibGVFdmVudCxcbiAgICAgIGhpZGVHaG9zdEZvclRhcmdldCA9IF9yZWYuaGlkZUdob3N0Rm9yVGFyZ2V0LFxuICAgICAgdW5oaWRlR2hvc3RGb3JUYXJnZXQgPSBfcmVmLnVuaGlkZUdob3N0Rm9yVGFyZ2V0O1xuICBpZiAoIW9yaWdpbmFsRXZlbnQpIHJldHVybjtcbiAgdmFyIHRvU29ydGFibGUgPSBwdXRTb3J0YWJsZSB8fCBhY3RpdmVTb3J0YWJsZTtcbiAgaGlkZUdob3N0Rm9yVGFyZ2V0KCk7XG4gIHZhciB0b3VjaCA9IG9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXMgJiYgb3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGggPyBvcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdIDogb3JpZ2luYWxFdmVudDtcbiAgdmFyIHRhcmdldCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQodG91Y2guY2xpZW50WCwgdG91Y2guY2xpZW50WSk7XG4gIHVuaGlkZUdob3N0Rm9yVGFyZ2V0KCk7XG5cbiAgaWYgKHRvU29ydGFibGUgJiYgIXRvU29ydGFibGUuZWwuY29udGFpbnModGFyZ2V0KSkge1xuICAgIGRpc3BhdGNoU29ydGFibGVFdmVudCgnc3BpbGwnKTtcbiAgICB0aGlzLm9uU3BpbGwoe1xuICAgICAgZHJhZ0VsOiBkcmFnRWwsXG4gICAgICBwdXRTb3J0YWJsZTogcHV0U29ydGFibGVcbiAgICB9KTtcbiAgfVxufTtcblxuZnVuY3Rpb24gUmV2ZXJ0KCkge31cblxuUmV2ZXJ0LnByb3RvdHlwZSA9IHtcbiAgc3RhcnRJbmRleDogbnVsbCxcbiAgZHJhZ1N0YXJ0OiBmdW5jdGlvbiBkcmFnU3RhcnQoX3JlZjIpIHtcbiAgICB2YXIgb2xkRHJhZ2dhYmxlSW5kZXggPSBfcmVmMi5vbGREcmFnZ2FibGVJbmRleDtcbiAgICB0aGlzLnN0YXJ0SW5kZXggPSBvbGREcmFnZ2FibGVJbmRleDtcbiAgfSxcbiAgb25TcGlsbDogZnVuY3Rpb24gb25TcGlsbChfcmVmMykge1xuICAgIHZhciBkcmFnRWwgPSBfcmVmMy5kcmFnRWwsXG4gICAgICAgIHB1dFNvcnRhYmxlID0gX3JlZjMucHV0U29ydGFibGU7XG4gICAgdGhpcy5zb3J0YWJsZS5jYXB0dXJlQW5pbWF0aW9uU3RhdGUoKTtcblxuICAgIGlmIChwdXRTb3J0YWJsZSkge1xuICAgICAgcHV0U29ydGFibGUuY2FwdHVyZUFuaW1hdGlvblN0YXRlKCk7XG4gICAgfVxuXG4gICAgdmFyIG5leHRTaWJsaW5nID0gZ2V0Q2hpbGQodGhpcy5zb3J0YWJsZS5lbCwgdGhpcy5zdGFydEluZGV4LCB0aGlzLm9wdGlvbnMpO1xuXG4gICAgaWYgKG5leHRTaWJsaW5nKSB7XG4gICAgICB0aGlzLnNvcnRhYmxlLmVsLmluc2VydEJlZm9yZShkcmFnRWwsIG5leHRTaWJsaW5nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zb3J0YWJsZS5lbC5hcHBlbmRDaGlsZChkcmFnRWwpO1xuICAgIH1cblxuICAgIHRoaXMuc29ydGFibGUuYW5pbWF0ZUFsbCgpO1xuXG4gICAgaWYgKHB1dFNvcnRhYmxlKSB7XG4gICAgICBwdXRTb3J0YWJsZS5hbmltYXRlQWxsKCk7XG4gICAgfVxuICB9LFxuICBkcm9wOiBkcm9wXG59O1xuXG5fZXh0ZW5kcyhSZXZlcnQsIHtcbiAgcGx1Z2luTmFtZTogJ3JldmVydE9uU3BpbGwnXG59KTtcblxuZnVuY3Rpb24gUmVtb3ZlKCkge31cblxuUmVtb3ZlLnByb3RvdHlwZSA9IHtcbiAgb25TcGlsbDogZnVuY3Rpb24gb25TcGlsbChfcmVmNCkge1xuICAgIHZhciBkcmFnRWwgPSBfcmVmNC5kcmFnRWwsXG4gICAgICAgIHB1dFNvcnRhYmxlID0gX3JlZjQucHV0U29ydGFibGU7XG4gICAgdmFyIHBhcmVudFNvcnRhYmxlID0gcHV0U29ydGFibGUgfHwgdGhpcy5zb3J0YWJsZTtcbiAgICBwYXJlbnRTb3J0YWJsZS5jYXB0dXJlQW5pbWF0aW9uU3RhdGUoKTtcbiAgICBkcmFnRWwucGFyZW50Tm9kZSAmJiBkcmFnRWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkcmFnRWwpO1xuICAgIHBhcmVudFNvcnRhYmxlLmFuaW1hdGVBbGwoKTtcbiAgfSxcbiAgZHJvcDogZHJvcFxufTtcblxuX2V4dGVuZHMoUmVtb3ZlLCB7XG4gIHBsdWdpbk5hbWU6ICdyZW1vdmVPblNwaWxsJ1xufSk7XG5cbnZhciBsYXN0U3dhcEVsO1xuXG5mdW5jdGlvbiBTd2FwUGx1Z2luKCkge1xuICBmdW5jdGlvbiBTd2FwKCkge1xuICAgIHRoaXMuZGVmYXVsdHMgPSB7XG4gICAgICBzd2FwQ2xhc3M6ICdzb3J0YWJsZS1zd2FwLWhpZ2hsaWdodCdcbiAgICB9O1xuICB9XG5cbiAgU3dhcC5wcm90b3R5cGUgPSB7XG4gICAgZHJhZ1N0YXJ0OiBmdW5jdGlvbiBkcmFnU3RhcnQoX3JlZikge1xuICAgICAgdmFyIGRyYWdFbCA9IF9yZWYuZHJhZ0VsO1xuICAgICAgbGFzdFN3YXBFbCA9IGRyYWdFbDtcbiAgICB9LFxuICAgIGRyYWdPdmVyVmFsaWQ6IGZ1bmN0aW9uIGRyYWdPdmVyVmFsaWQoX3JlZjIpIHtcbiAgICAgIHZhciBjb21wbGV0ZWQgPSBfcmVmMi5jb21wbGV0ZWQsXG4gICAgICAgICAgdGFyZ2V0ID0gX3JlZjIudGFyZ2V0LFxuICAgICAgICAgIG9uTW92ZSA9IF9yZWYyLm9uTW92ZSxcbiAgICAgICAgICBhY3RpdmVTb3J0YWJsZSA9IF9yZWYyLmFjdGl2ZVNvcnRhYmxlLFxuICAgICAgICAgIGNoYW5nZWQgPSBfcmVmMi5jaGFuZ2VkLFxuICAgICAgICAgIGNhbmNlbCA9IF9yZWYyLmNhbmNlbDtcbiAgICAgIGlmICghYWN0aXZlU29ydGFibGUub3B0aW9ucy5zd2FwKSByZXR1cm47XG4gICAgICB2YXIgZWwgPSB0aGlzLnNvcnRhYmxlLmVsLFxuICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0ICE9PSBlbCkge1xuICAgICAgICB2YXIgcHJldlN3YXBFbCA9IGxhc3RTd2FwRWw7XG5cbiAgICAgICAgaWYgKG9uTW92ZSh0YXJnZXQpICE9PSBmYWxzZSkge1xuICAgICAgICAgIHRvZ2dsZUNsYXNzKHRhcmdldCwgb3B0aW9ucy5zd2FwQ2xhc3MsIHRydWUpO1xuICAgICAgICAgIGxhc3RTd2FwRWwgPSB0YXJnZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGFzdFN3YXBFbCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJldlN3YXBFbCAmJiBwcmV2U3dhcEVsICE9PSBsYXN0U3dhcEVsKSB7XG4gICAgICAgICAgdG9nZ2xlQ2xhc3MocHJldlN3YXBFbCwgb3B0aW9ucy5zd2FwQ2xhc3MsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjaGFuZ2VkKCk7XG4gICAgICBjb21wbGV0ZWQodHJ1ZSk7XG4gICAgICBjYW5jZWwoKTtcbiAgICB9LFxuICAgIGRyb3A6IGZ1bmN0aW9uIGRyb3AoX3JlZjMpIHtcbiAgICAgIHZhciBhY3RpdmVTb3J0YWJsZSA9IF9yZWYzLmFjdGl2ZVNvcnRhYmxlLFxuICAgICAgICAgIHB1dFNvcnRhYmxlID0gX3JlZjMucHV0U29ydGFibGUsXG4gICAgICAgICAgZHJhZ0VsID0gX3JlZjMuZHJhZ0VsO1xuICAgICAgdmFyIHRvU29ydGFibGUgPSBwdXRTb3J0YWJsZSB8fCB0aGlzLnNvcnRhYmxlO1xuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICBsYXN0U3dhcEVsICYmIHRvZ2dsZUNsYXNzKGxhc3RTd2FwRWwsIG9wdGlvbnMuc3dhcENsYXNzLCBmYWxzZSk7XG5cbiAgICAgIGlmIChsYXN0U3dhcEVsICYmIChvcHRpb25zLnN3YXAgfHwgcHV0U29ydGFibGUgJiYgcHV0U29ydGFibGUub3B0aW9ucy5zd2FwKSkge1xuICAgICAgICBpZiAoZHJhZ0VsICE9PSBsYXN0U3dhcEVsKSB7XG4gICAgICAgICAgdG9Tb3J0YWJsZS5jYXB0dXJlQW5pbWF0aW9uU3RhdGUoKTtcbiAgICAgICAgICBpZiAodG9Tb3J0YWJsZSAhPT0gYWN0aXZlU29ydGFibGUpIGFjdGl2ZVNvcnRhYmxlLmNhcHR1cmVBbmltYXRpb25TdGF0ZSgpO1xuICAgICAgICAgIHN3YXBOb2RlcyhkcmFnRWwsIGxhc3RTd2FwRWwpO1xuICAgICAgICAgIHRvU29ydGFibGUuYW5pbWF0ZUFsbCgpO1xuICAgICAgICAgIGlmICh0b1NvcnRhYmxlICE9PSBhY3RpdmVTb3J0YWJsZSkgYWN0aXZlU29ydGFibGUuYW5pbWF0ZUFsbCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBudWxsaW5nOiBmdW5jdGlvbiBudWxsaW5nKCkge1xuICAgICAgbGFzdFN3YXBFbCA9IG51bGw7XG4gICAgfVxuICB9O1xuICByZXR1cm4gX2V4dGVuZHMoU3dhcCwge1xuICAgIHBsdWdpbk5hbWU6ICdzd2FwJyxcbiAgICBldmVudFByb3BlcnRpZXM6IGZ1bmN0aW9uIGV2ZW50UHJvcGVydGllcygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN3YXBJdGVtOiBsYXN0U3dhcEVsXG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHN3YXBOb2RlcyhuMSwgbjIpIHtcbiAgdmFyIHAxID0gbjEucGFyZW50Tm9kZSxcbiAgICAgIHAyID0gbjIucGFyZW50Tm9kZSxcbiAgICAgIGkxLFxuICAgICAgaTI7XG4gIGlmICghcDEgfHwgIXAyIHx8IHAxLmlzRXF1YWxOb2RlKG4yKSB8fCBwMi5pc0VxdWFsTm9kZShuMSkpIHJldHVybjtcbiAgaTEgPSBpbmRleChuMSk7XG4gIGkyID0gaW5kZXgobjIpO1xuXG4gIGlmIChwMS5pc0VxdWFsTm9kZShwMikgJiYgaTEgPCBpMikge1xuICAgIGkyKys7XG4gIH1cblxuICBwMS5pbnNlcnRCZWZvcmUobjIsIHAxLmNoaWxkcmVuW2kxXSk7XG4gIHAyLmluc2VydEJlZm9yZShuMSwgcDIuY2hpbGRyZW5baTJdKTtcbn1cblxudmFyIG11bHRpRHJhZ0VsZW1lbnRzID0gW10sXG4gICAgbXVsdGlEcmFnQ2xvbmVzID0gW10sXG4gICAgbGFzdE11bHRpRHJhZ1NlbGVjdCxcbiAgICAvLyBmb3Igc2VsZWN0aW9uIHdpdGggbW9kaWZpZXIga2V5IGRvd24gKFNISUZUKVxubXVsdGlEcmFnU29ydGFibGUsXG4gICAgaW5pdGlhbEZvbGRpbmcgPSBmYWxzZSxcbiAgICAvLyBJbml0aWFsIG11bHRpLWRyYWcgZm9sZCB3aGVuIGRyYWcgc3RhcnRlZFxuZm9sZGluZyA9IGZhbHNlLFxuICAgIC8vIEZvbGRpbmcgYW55IG90aGVyIHRpbWVcbmRyYWdTdGFydGVkID0gZmFsc2UsXG4gICAgZHJhZ0VsJDEsXG4gICAgY2xvbmVzRnJvbVJlY3QsXG4gICAgY2xvbmVzSGlkZGVuO1xuXG5mdW5jdGlvbiBNdWx0aURyYWdQbHVnaW4oKSB7XG4gIGZ1bmN0aW9uIE11bHRpRHJhZyhzb3J0YWJsZSkge1xuICAgIC8vIEJpbmQgYWxsIHByaXZhdGUgbWV0aG9kc1xuICAgIGZvciAodmFyIGZuIGluIHRoaXMpIHtcbiAgICAgIGlmIChmbi5jaGFyQXQoMCkgPT09ICdfJyAmJiB0eXBlb2YgdGhpc1tmbl0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpc1tmbl0gPSB0aGlzW2ZuXS5iaW5kKHRoaXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzb3J0YWJsZS5vcHRpb25zLnN1cHBvcnRQb2ludGVyKSB7XG4gICAgICBvbihkb2N1bWVudCwgJ3BvaW50ZXJ1cCcsIHRoaXMuX2Rlc2VsZWN0TXVsdGlEcmFnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb24oZG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5fZGVzZWxlY3RNdWx0aURyYWcpO1xuICAgICAgb24oZG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMuX2Rlc2VsZWN0TXVsdGlEcmFnKTtcbiAgICB9XG5cbiAgICBvbihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9jaGVja0tleURvd24pO1xuICAgIG9uKGRvY3VtZW50LCAna2V5dXAnLCB0aGlzLl9jaGVja0tleVVwKTtcbiAgICB0aGlzLmRlZmF1bHRzID0ge1xuICAgICAgc2VsZWN0ZWRDbGFzczogJ3NvcnRhYmxlLXNlbGVjdGVkJyxcbiAgICAgIG11bHRpRHJhZ0tleTogbnVsbCxcbiAgICAgIHNldERhdGE6IGZ1bmN0aW9uIHNldERhdGEoZGF0YVRyYW5zZmVyLCBkcmFnRWwpIHtcbiAgICAgICAgdmFyIGRhdGEgPSAnJztcblxuICAgICAgICBpZiAobXVsdGlEcmFnRWxlbWVudHMubGVuZ3RoICYmIG11bHRpRHJhZ1NvcnRhYmxlID09PSBzb3J0YWJsZSkge1xuICAgICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKG11bHRpRHJhZ0VsZW1lbnQsIGkpIHtcbiAgICAgICAgICAgIGRhdGEgKz0gKCFpID8gJycgOiAnLCAnKSArIG11bHRpRHJhZ0VsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGF0YSA9IGRyYWdFbC50ZXh0Q29udGVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGFUcmFuc2Zlci5zZXREYXRhKCdUZXh0JywgZGF0YSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIE11bHRpRHJhZy5wcm90b3R5cGUgPSB7XG4gICAgbXVsdGlEcmFnS2V5RG93bjogZmFsc2UsXG4gICAgaXNNdWx0aURyYWc6IGZhbHNlLFxuICAgIGRlbGF5U3RhcnRHbG9iYWw6IGZ1bmN0aW9uIGRlbGF5U3RhcnRHbG9iYWwoX3JlZikge1xuICAgICAgdmFyIGRyYWdnZWQgPSBfcmVmLmRyYWdFbDtcbiAgICAgIGRyYWdFbCQxID0gZHJhZ2dlZDtcbiAgICB9LFxuICAgIGRlbGF5RW5kZWQ6IGZ1bmN0aW9uIGRlbGF5RW5kZWQoKSB7XG4gICAgICB0aGlzLmlzTXVsdGlEcmFnID0gfm11bHRpRHJhZ0VsZW1lbnRzLmluZGV4T2YoZHJhZ0VsJDEpO1xuICAgIH0sXG4gICAgc2V0dXBDbG9uZTogZnVuY3Rpb24gc2V0dXBDbG9uZShfcmVmMikge1xuICAgICAgdmFyIHNvcnRhYmxlID0gX3JlZjIuc29ydGFibGUsXG4gICAgICAgICAgY2FuY2VsID0gX3JlZjIuY2FuY2VsO1xuICAgICAgaWYgKCF0aGlzLmlzTXVsdGlEcmFnKSByZXR1cm47XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXVsdGlEcmFnRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbXVsdGlEcmFnQ2xvbmVzLnB1c2goY2xvbmUobXVsdGlEcmFnRWxlbWVudHNbaV0pKTtcbiAgICAgICAgbXVsdGlEcmFnQ2xvbmVzW2ldLnNvcnRhYmxlSW5kZXggPSBtdWx0aURyYWdFbGVtZW50c1tpXS5zb3J0YWJsZUluZGV4O1xuICAgICAgICBtdWx0aURyYWdDbG9uZXNbaV0uZHJhZ2dhYmxlID0gZmFsc2U7XG4gICAgICAgIG11bHRpRHJhZ0Nsb25lc1tpXS5zdHlsZVsnd2lsbC1jaGFuZ2UnXSA9ICcnO1xuICAgICAgICB0b2dnbGVDbGFzcyhtdWx0aURyYWdDbG9uZXNbaV0sIHRoaXMub3B0aW9ucy5zZWxlY3RlZENsYXNzLCBmYWxzZSk7XG4gICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzW2ldID09PSBkcmFnRWwkMSAmJiB0b2dnbGVDbGFzcyhtdWx0aURyYWdDbG9uZXNbaV0sIHRoaXMub3B0aW9ucy5jaG9zZW5DbGFzcywgZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICBzb3J0YWJsZS5faGlkZUNsb25lKCk7XG5cbiAgICAgIGNhbmNlbCgpO1xuICAgIH0sXG4gICAgY2xvbmU6IGZ1bmN0aW9uIGNsb25lKF9yZWYzKSB7XG4gICAgICB2YXIgc29ydGFibGUgPSBfcmVmMy5zb3J0YWJsZSxcbiAgICAgICAgICByb290RWwgPSBfcmVmMy5yb290RWwsXG4gICAgICAgICAgZGlzcGF0Y2hTb3J0YWJsZUV2ZW50ID0gX3JlZjMuZGlzcGF0Y2hTb3J0YWJsZUV2ZW50LFxuICAgICAgICAgIGNhbmNlbCA9IF9yZWYzLmNhbmNlbDtcbiAgICAgIGlmICghdGhpcy5pc011bHRpRHJhZykgcmV0dXJuO1xuXG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5yZW1vdmVDbG9uZU9uSGlkZSkge1xuICAgICAgICBpZiAobXVsdGlEcmFnRWxlbWVudHMubGVuZ3RoICYmIG11bHRpRHJhZ1NvcnRhYmxlID09PSBzb3J0YWJsZSkge1xuICAgICAgICAgIGluc2VydE11bHRpRHJhZ0Nsb25lcyh0cnVlLCByb290RWwpO1xuICAgICAgICAgIGRpc3BhdGNoU29ydGFibGVFdmVudCgnY2xvbmUnKTtcbiAgICAgICAgICBjYW5jZWwoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgc2hvd0Nsb25lOiBmdW5jdGlvbiBzaG93Q2xvbmUoX3JlZjQpIHtcbiAgICAgIHZhciBjbG9uZU5vd1Nob3duID0gX3JlZjQuY2xvbmVOb3dTaG93bixcbiAgICAgICAgICByb290RWwgPSBfcmVmNC5yb290RWwsXG4gICAgICAgICAgY2FuY2VsID0gX3JlZjQuY2FuY2VsO1xuICAgICAgaWYgKCF0aGlzLmlzTXVsdGlEcmFnKSByZXR1cm47XG4gICAgICBpbnNlcnRNdWx0aURyYWdDbG9uZXMoZmFsc2UsIHJvb3RFbCk7XG4gICAgICBtdWx0aURyYWdDbG9uZXMuZm9yRWFjaChmdW5jdGlvbiAoY2xvbmUpIHtcbiAgICAgICAgY3NzKGNsb25lLCAnZGlzcGxheScsICcnKTtcbiAgICAgIH0pO1xuICAgICAgY2xvbmVOb3dTaG93bigpO1xuICAgICAgY2xvbmVzSGlkZGVuID0gZmFsc2U7XG4gICAgICBjYW5jZWwoKTtcbiAgICB9LFxuICAgIGhpZGVDbG9uZTogZnVuY3Rpb24gaGlkZUNsb25lKF9yZWY1KSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgc29ydGFibGUgPSBfcmVmNS5zb3J0YWJsZSxcbiAgICAgICAgICBjbG9uZU5vd0hpZGRlbiA9IF9yZWY1LmNsb25lTm93SGlkZGVuLFxuICAgICAgICAgIGNhbmNlbCA9IF9yZWY1LmNhbmNlbDtcbiAgICAgIGlmICghdGhpcy5pc011bHRpRHJhZykgcmV0dXJuO1xuICAgICAgbXVsdGlEcmFnQ2xvbmVzLmZvckVhY2goZnVuY3Rpb24gKGNsb25lKSB7XG4gICAgICAgIGNzcyhjbG9uZSwgJ2Rpc3BsYXknLCAnbm9uZScpO1xuXG4gICAgICAgIGlmIChfdGhpcy5vcHRpb25zLnJlbW92ZUNsb25lT25IaWRlICYmIGNsb25lLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICBjbG9uZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNsb25lKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjbG9uZU5vd0hpZGRlbigpO1xuICAgICAgY2xvbmVzSGlkZGVuID0gdHJ1ZTtcbiAgICAgIGNhbmNlbCgpO1xuICAgIH0sXG4gICAgZHJhZ1N0YXJ0R2xvYmFsOiBmdW5jdGlvbiBkcmFnU3RhcnRHbG9iYWwoX3JlZjYpIHtcbiAgICAgIHZhciBzb3J0YWJsZSA9IF9yZWY2LnNvcnRhYmxlO1xuXG4gICAgICBpZiAoIXRoaXMuaXNNdWx0aURyYWcgJiYgbXVsdGlEcmFnU29ydGFibGUpIHtcbiAgICAgICAgbXVsdGlEcmFnU29ydGFibGUubXVsdGlEcmFnLl9kZXNlbGVjdE11bHRpRHJhZygpO1xuICAgICAgfVxuXG4gICAgICBtdWx0aURyYWdFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChtdWx0aURyYWdFbGVtZW50KSB7XG4gICAgICAgIG11bHRpRHJhZ0VsZW1lbnQuc29ydGFibGVJbmRleCA9IGluZGV4KG11bHRpRHJhZ0VsZW1lbnQpO1xuICAgICAgfSk7IC8vIFNvcnQgbXVsdGktZHJhZyBlbGVtZW50c1xuXG4gICAgICBtdWx0aURyYWdFbGVtZW50cyA9IG11bHRpRHJhZ0VsZW1lbnRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEuc29ydGFibGVJbmRleCAtIGIuc29ydGFibGVJbmRleDtcbiAgICAgIH0pO1xuICAgICAgZHJhZ1N0YXJ0ZWQgPSB0cnVlO1xuICAgIH0sXG4gICAgZHJhZ1N0YXJ0ZWQ6IGZ1bmN0aW9uIGRyYWdTdGFydGVkKF9yZWY3KSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIHNvcnRhYmxlID0gX3JlZjcuc29ydGFibGU7XG4gICAgICBpZiAoIXRoaXMuaXNNdWx0aURyYWcpIHJldHVybjtcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5zb3J0KSB7XG4gICAgICAgIC8vIENhcHR1cmUgcmVjdHMsXG4gICAgICAgIC8vIGhpZGUgbXVsdGkgZHJhZyBlbGVtZW50cyAoYnkgcG9zaXRpb25pbmcgdGhlbSBhYnNvbHV0ZSksXG4gICAgICAgIC8vIHNldCBtdWx0aSBkcmFnIGVsZW1lbnRzIHJlY3RzIHRvIGRyYWdSZWN0LFxuICAgICAgICAvLyBzaG93IG11bHRpIGRyYWcgZWxlbWVudHMsXG4gICAgICAgIC8vIGFuaW1hdGUgdG8gcmVjdHMsXG4gICAgICAgIC8vIHVuc2V0IHJlY3RzICYgcmVtb3ZlIGZyb20gRE9NXG4gICAgICAgIHNvcnRhYmxlLmNhcHR1cmVBbmltYXRpb25TdGF0ZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgbXVsdGlEcmFnRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAobXVsdGlEcmFnRWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKG11bHRpRHJhZ0VsZW1lbnQgPT09IGRyYWdFbCQxKSByZXR1cm47XG4gICAgICAgICAgICBjc3MobXVsdGlEcmFnRWxlbWVudCwgJ3Bvc2l0aW9uJywgJ2Fic29sdXRlJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGRyYWdSZWN0ID0gZ2V0UmVjdChkcmFnRWwkMSwgZmFsc2UsIHRydWUsIHRydWUpO1xuICAgICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKG11bHRpRHJhZ0VsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmIChtdWx0aURyYWdFbGVtZW50ID09PSBkcmFnRWwkMSkgcmV0dXJuO1xuICAgICAgICAgICAgc2V0UmVjdChtdWx0aURyYWdFbGVtZW50LCBkcmFnUmVjdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZm9sZGluZyA9IHRydWU7XG4gICAgICAgICAgaW5pdGlhbEZvbGRpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHNvcnRhYmxlLmFuaW1hdGVBbGwoZnVuY3Rpb24gKCkge1xuICAgICAgICBmb2xkaW5nID0gZmFsc2U7XG4gICAgICAgIGluaXRpYWxGb2xkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKF90aGlzMi5vcHRpb25zLmFuaW1hdGlvbikge1xuICAgICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKG11bHRpRHJhZ0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHVuc2V0UmVjdChtdWx0aURyYWdFbGVtZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSAvLyBSZW1vdmUgYWxsIGF1eGlsaWFyeSBtdWx0aWRyYWcgaXRlbXMgZnJvbSBlbCwgaWYgc29ydGluZyBlbmFibGVkXG5cblxuICAgICAgICBpZiAoX3RoaXMyLm9wdGlvbnMuc29ydCkge1xuICAgICAgICAgIHJlbW92ZU11bHRpRHJhZ0VsZW1lbnRzKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZHJhZ092ZXI6IGZ1bmN0aW9uIGRyYWdPdmVyKF9yZWY4KSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gX3JlZjgudGFyZ2V0LFxuICAgICAgICAgIGNvbXBsZXRlZCA9IF9yZWY4LmNvbXBsZXRlZCxcbiAgICAgICAgICBjYW5jZWwgPSBfcmVmOC5jYW5jZWw7XG5cbiAgICAgIGlmIChmb2xkaW5nICYmIH5tdWx0aURyYWdFbGVtZW50cy5pbmRleE9mKHRhcmdldCkpIHtcbiAgICAgICAgY29tcGxldGVkKGZhbHNlKTtcbiAgICAgICAgY2FuY2VsKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICByZXZlcnQ6IGZ1bmN0aW9uIHJldmVydChfcmVmOSkge1xuICAgICAgdmFyIGZyb21Tb3J0YWJsZSA9IF9yZWY5LmZyb21Tb3J0YWJsZSxcbiAgICAgICAgICByb290RWwgPSBfcmVmOS5yb290RWwsXG4gICAgICAgICAgc29ydGFibGUgPSBfcmVmOS5zb3J0YWJsZSxcbiAgICAgICAgICBkcmFnUmVjdCA9IF9yZWY5LmRyYWdSZWN0O1xuXG4gICAgICBpZiAobXVsdGlEcmFnRWxlbWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAvLyBTZXR1cCB1bmZvbGQgYW5pbWF0aW9uXG4gICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKG11bHRpRHJhZ0VsZW1lbnQpIHtcbiAgICAgICAgICBzb3J0YWJsZS5hZGRBbmltYXRpb25TdGF0ZSh7XG4gICAgICAgICAgICB0YXJnZXQ6IG11bHRpRHJhZ0VsZW1lbnQsXG4gICAgICAgICAgICByZWN0OiBmb2xkaW5nID8gZ2V0UmVjdChtdWx0aURyYWdFbGVtZW50KSA6IGRyYWdSZWN0XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdW5zZXRSZWN0KG11bHRpRHJhZ0VsZW1lbnQpO1xuICAgICAgICAgIG11bHRpRHJhZ0VsZW1lbnQuZnJvbVJlY3QgPSBkcmFnUmVjdDtcbiAgICAgICAgICBmcm9tU29ydGFibGUucmVtb3ZlQW5pbWF0aW9uU3RhdGUobXVsdGlEcmFnRWxlbWVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICBmb2xkaW5nID0gZmFsc2U7XG4gICAgICAgIGluc2VydE11bHRpRHJhZ0VsZW1lbnRzKCF0aGlzLm9wdGlvbnMucmVtb3ZlQ2xvbmVPbkhpZGUsIHJvb3RFbCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkcmFnT3ZlckNvbXBsZXRlZDogZnVuY3Rpb24gZHJhZ092ZXJDb21wbGV0ZWQoX3JlZjEwKSB7XG4gICAgICB2YXIgc29ydGFibGUgPSBfcmVmMTAuc29ydGFibGUsXG4gICAgICAgICAgaXNPd25lciA9IF9yZWYxMC5pc093bmVyLFxuICAgICAgICAgIGluc2VydGlvbiA9IF9yZWYxMC5pbnNlcnRpb24sXG4gICAgICAgICAgYWN0aXZlU29ydGFibGUgPSBfcmVmMTAuYWN0aXZlU29ydGFibGUsXG4gICAgICAgICAgcGFyZW50RWwgPSBfcmVmMTAucGFyZW50RWwsXG4gICAgICAgICAgcHV0U29ydGFibGUgPSBfcmVmMTAucHV0U29ydGFibGU7XG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgaWYgKGluc2VydGlvbikge1xuICAgICAgICAvLyBDbG9uZXMgbXVzdCBiZSBoaWRkZW4gYmVmb3JlIGZvbGRpbmcgYW5pbWF0aW9uIHRvIGNhcHR1cmUgZHJhZ1JlY3RBYnNvbHV0ZSBwcm9wZXJseVxuICAgICAgICBpZiAoaXNPd25lcikge1xuICAgICAgICAgIGFjdGl2ZVNvcnRhYmxlLl9oaWRlQ2xvbmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGluaXRpYWxGb2xkaW5nID0gZmFsc2U7IC8vIElmIGxlYXZpbmcgc29ydDpmYWxzZSByb290LCBvciBhbHJlYWR5IGZvbGRpbmcgLSBGb2xkIHRvIG5ldyBsb2NhdGlvblxuXG4gICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGlvbiAmJiBtdWx0aURyYWdFbGVtZW50cy5sZW5ndGggPiAxICYmIChmb2xkaW5nIHx8ICFpc093bmVyICYmICFhY3RpdmVTb3J0YWJsZS5vcHRpb25zLnNvcnQgJiYgIXB1dFNvcnRhYmxlKSkge1xuICAgICAgICAgIC8vIEZvbGQ6IFNldCBhbGwgbXVsdGkgZHJhZyBlbGVtZW50cydzIHJlY3RzIHRvIGRyYWdFbCdzIHJlY3Qgd2hlbiBtdWx0aS1kcmFnIGVsZW1lbnRzIGFyZSBpbnZpc2libGVcbiAgICAgICAgICB2YXIgZHJhZ1JlY3RBYnNvbHV0ZSA9IGdldFJlY3QoZHJhZ0VsJDEsIGZhbHNlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICBtdWx0aURyYWdFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChtdWx0aURyYWdFbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAobXVsdGlEcmFnRWxlbWVudCA9PT0gZHJhZ0VsJDEpIHJldHVybjtcbiAgICAgICAgICAgIHNldFJlY3QobXVsdGlEcmFnRWxlbWVudCwgZHJhZ1JlY3RBYnNvbHV0ZSk7IC8vIE1vdmUgZWxlbWVudChzKSB0byBlbmQgb2YgcGFyZW50RWwgc28gdGhhdCBpdCBkb2VzIG5vdCBpbnRlcmZlcmUgd2l0aCBtdWx0aS1kcmFnIGNsb25lcyBpbnNlcnRpb24gaWYgdGhleSBhcmUgaW5zZXJ0ZWRcbiAgICAgICAgICAgIC8vIHdoaWxlIGZvbGRpbmcsIGFuZCBzbyB0aGF0IHdlIGNhbiBjYXB0dXJlIHRoZW0gYWdhaW4gYmVjYXVzZSBvbGQgc29ydGFibGUgd2lsbCBubyBsb25nZXIgYmUgZnJvbVNvcnRhYmxlXG5cbiAgICAgICAgICAgIHBhcmVudEVsLmFwcGVuZENoaWxkKG11bHRpRHJhZ0VsZW1lbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGZvbGRpbmcgPSB0cnVlO1xuICAgICAgICB9IC8vIENsb25lcyBtdXN0IGJlIHNob3duIChhbmQgY2hlY2sgdG8gcmVtb3ZlIG11bHRpIGRyYWdzKSBhZnRlciBmb2xkaW5nIHdoZW4gaW50ZXJmZXJpbmcgbXVsdGlEcmFnRWxlbWVudHMgYXJlIG1vdmVkIG91dFxuXG5cbiAgICAgICAgaWYgKCFpc093bmVyKSB7XG4gICAgICAgICAgLy8gT25seSByZW1vdmUgaWYgbm90IGZvbGRpbmcgKGZvbGRpbmcgd2lsbCByZW1vdmUgdGhlbSBhbnl3YXlzKVxuICAgICAgICAgIGlmICghZm9sZGluZykge1xuICAgICAgICAgICAgcmVtb3ZlTXVsdGlEcmFnRWxlbWVudHMoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobXVsdGlEcmFnRWxlbWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgdmFyIGNsb25lc0hpZGRlbkJlZm9yZSA9IGNsb25lc0hpZGRlbjtcblxuICAgICAgICAgICAgYWN0aXZlU29ydGFibGUuX3Nob3dDbG9uZShzb3J0YWJsZSk7IC8vIFVuZm9sZCBhbmltYXRpb24gZm9yIGNsb25lcyBpZiBzaG93aW5nIGZyb20gaGlkZGVuXG5cblxuICAgICAgICAgICAgaWYgKGFjdGl2ZVNvcnRhYmxlLm9wdGlvbnMuYW5pbWF0aW9uICYmICFjbG9uZXNIaWRkZW4gJiYgY2xvbmVzSGlkZGVuQmVmb3JlKSB7XG4gICAgICAgICAgICAgIG11bHRpRHJhZ0Nsb25lcy5mb3JFYWNoKGZ1bmN0aW9uIChjbG9uZSkge1xuICAgICAgICAgICAgICAgIGFjdGl2ZVNvcnRhYmxlLmFkZEFuaW1hdGlvblN0YXRlKHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldDogY2xvbmUsXG4gICAgICAgICAgICAgICAgICByZWN0OiBjbG9uZXNGcm9tUmVjdFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNsb25lLmZyb21SZWN0ID0gY2xvbmVzRnJvbVJlY3Q7XG4gICAgICAgICAgICAgICAgY2xvbmUudGhpc0FuaW1hdGlvbkR1cmF0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFjdGl2ZVNvcnRhYmxlLl9zaG93Q2xvbmUoc29ydGFibGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZHJhZ092ZXJBbmltYXRpb25DYXB0dXJlOiBmdW5jdGlvbiBkcmFnT3ZlckFuaW1hdGlvbkNhcHR1cmUoX3JlZjExKSB7XG4gICAgICB2YXIgZHJhZ1JlY3QgPSBfcmVmMTEuZHJhZ1JlY3QsXG4gICAgICAgICAgaXNPd25lciA9IF9yZWYxMS5pc093bmVyLFxuICAgICAgICAgIGFjdGl2ZVNvcnRhYmxlID0gX3JlZjExLmFjdGl2ZVNvcnRhYmxlO1xuICAgICAgbXVsdGlEcmFnRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAobXVsdGlEcmFnRWxlbWVudCkge1xuICAgICAgICBtdWx0aURyYWdFbGVtZW50LnRoaXNBbmltYXRpb25EdXJhdGlvbiA9IG51bGw7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGFjdGl2ZVNvcnRhYmxlLm9wdGlvbnMuYW5pbWF0aW9uICYmICFpc093bmVyICYmIGFjdGl2ZVNvcnRhYmxlLm11bHRpRHJhZy5pc011bHRpRHJhZykge1xuICAgICAgICBjbG9uZXNGcm9tUmVjdCA9IF9leHRlbmRzKHt9LCBkcmFnUmVjdCk7XG4gICAgICAgIHZhciBkcmFnTWF0cml4ID0gbWF0cml4KGRyYWdFbCQxLCB0cnVlKTtcbiAgICAgICAgY2xvbmVzRnJvbVJlY3QudG9wIC09IGRyYWdNYXRyaXguZjtcbiAgICAgICAgY2xvbmVzRnJvbVJlY3QubGVmdCAtPSBkcmFnTWF0cml4LmU7XG4gICAgICB9XG4gICAgfSxcbiAgICBkcmFnT3ZlckFuaW1hdGlvbkNvbXBsZXRlOiBmdW5jdGlvbiBkcmFnT3ZlckFuaW1hdGlvbkNvbXBsZXRlKCkge1xuICAgICAgaWYgKGZvbGRpbmcpIHtcbiAgICAgICAgZm9sZGluZyA9IGZhbHNlO1xuICAgICAgICByZW1vdmVNdWx0aURyYWdFbGVtZW50cygpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZHJvcDogZnVuY3Rpb24gZHJvcChfcmVmMTIpIHtcbiAgICAgIHZhciBldnQgPSBfcmVmMTIub3JpZ2luYWxFdmVudCxcbiAgICAgICAgICByb290RWwgPSBfcmVmMTIucm9vdEVsLFxuICAgICAgICAgIHBhcmVudEVsID0gX3JlZjEyLnBhcmVudEVsLFxuICAgICAgICAgIHNvcnRhYmxlID0gX3JlZjEyLnNvcnRhYmxlLFxuICAgICAgICAgIGRpc3BhdGNoU29ydGFibGVFdmVudCA9IF9yZWYxMi5kaXNwYXRjaFNvcnRhYmxlRXZlbnQsXG4gICAgICAgICAgb2xkSW5kZXggPSBfcmVmMTIub2xkSW5kZXgsXG4gICAgICAgICAgcHV0U29ydGFibGUgPSBfcmVmMTIucHV0U29ydGFibGU7XG4gICAgICB2YXIgdG9Tb3J0YWJsZSA9IHB1dFNvcnRhYmxlIHx8IHRoaXMuc29ydGFibGU7XG4gICAgICBpZiAoIWV2dCkgcmV0dXJuO1xuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgY2hpbGRyZW4gPSBwYXJlbnRFbC5jaGlsZHJlbjsgLy8gTXVsdGktZHJhZyBzZWxlY3Rpb25cblxuICAgICAgaWYgKCFkcmFnU3RhcnRlZCkge1xuICAgICAgICBpZiAob3B0aW9ucy5tdWx0aURyYWdLZXkgJiYgIXRoaXMubXVsdGlEcmFnS2V5RG93bikge1xuICAgICAgICAgIHRoaXMuX2Rlc2VsZWN0TXVsdGlEcmFnKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0b2dnbGVDbGFzcyhkcmFnRWwkMSwgb3B0aW9ucy5zZWxlY3RlZENsYXNzLCAhfm11bHRpRHJhZ0VsZW1lbnRzLmluZGV4T2YoZHJhZ0VsJDEpKTtcblxuICAgICAgICBpZiAoIX5tdWx0aURyYWdFbGVtZW50cy5pbmRleE9mKGRyYWdFbCQxKSkge1xuICAgICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLnB1c2goZHJhZ0VsJDEpO1xuICAgICAgICAgIGRpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgc29ydGFibGU6IHNvcnRhYmxlLFxuICAgICAgICAgICAgcm9vdEVsOiByb290RWwsXG4gICAgICAgICAgICBuYW1lOiAnc2VsZWN0JyxcbiAgICAgICAgICAgIHRhcmdldEVsOiBkcmFnRWwkMSxcbiAgICAgICAgICAgIG9yaWdpbmFsRXZ0OiBldnRcbiAgICAgICAgICB9KTsgLy8gTW9kaWZpZXIgYWN0aXZhdGVkLCBzZWxlY3QgZnJvbSBsYXN0IHRvIGRyYWdFbFxuXG4gICAgICAgICAgaWYgKGV2dC5zaGlmdEtleSAmJiBsYXN0TXVsdGlEcmFnU2VsZWN0ICYmIHNvcnRhYmxlLmVsLmNvbnRhaW5zKGxhc3RNdWx0aURyYWdTZWxlY3QpKSB7XG4gICAgICAgICAgICB2YXIgbGFzdEluZGV4ID0gaW5kZXgobGFzdE11bHRpRHJhZ1NlbGVjdCksXG4gICAgICAgICAgICAgICAgY3VycmVudEluZGV4ID0gaW5kZXgoZHJhZ0VsJDEpO1xuXG4gICAgICAgICAgICBpZiAofmxhc3RJbmRleCAmJiB+Y3VycmVudEluZGV4ICYmIGxhc3RJbmRleCAhPT0gY3VycmVudEluZGV4KSB7XG4gICAgICAgICAgICAgIC8vIE11c3QgaW5jbHVkZSBsYXN0TXVsdGlEcmFnU2VsZWN0IChzZWxlY3QgaXQpLCBpbiBjYXNlIG1vZGlmaWVkIHNlbGVjdGlvbiBmcm9tIG5vIHNlbGVjdGlvblxuICAgICAgICAgICAgICAvLyAoYnV0IHByZXZpb3VzIHNlbGVjdGlvbiBleGlzdGVkKVxuICAgICAgICAgICAgICB2YXIgbiwgaTtcblxuICAgICAgICAgICAgICBpZiAoY3VycmVudEluZGV4ID4gbGFzdEluZGV4KSB7XG4gICAgICAgICAgICAgICAgaSA9IGxhc3RJbmRleDtcbiAgICAgICAgICAgICAgICBuID0gY3VycmVudEluZGV4O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGkgPSBjdXJyZW50SW5kZXg7XG4gICAgICAgICAgICAgICAgbiA9IGxhc3RJbmRleCArIDE7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBmb3IgKDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh+bXVsdGlEcmFnRWxlbWVudHMuaW5kZXhPZihjaGlsZHJlbltpXSkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUNsYXNzKGNoaWxkcmVuW2ldLCBvcHRpb25zLnNlbGVjdGVkQ2xhc3MsIHRydWUpO1xuICAgICAgICAgICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLnB1c2goY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgc29ydGFibGU6IHNvcnRhYmxlLFxuICAgICAgICAgICAgICAgICAgcm9vdEVsOiByb290RWwsXG4gICAgICAgICAgICAgICAgICBuYW1lOiAnc2VsZWN0JyxcbiAgICAgICAgICAgICAgICAgIHRhcmdldEVsOiBjaGlsZHJlbltpXSxcbiAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZ0OiBldnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsYXN0TXVsdGlEcmFnU2VsZWN0ID0gZHJhZ0VsJDE7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbXVsdGlEcmFnU29ydGFibGUgPSB0b1NvcnRhYmxlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLnNwbGljZShtdWx0aURyYWdFbGVtZW50cy5pbmRleE9mKGRyYWdFbCQxKSwgMSk7XG4gICAgICAgICAgbGFzdE11bHRpRHJhZ1NlbGVjdCA9IG51bGw7XG4gICAgICAgICAgZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICBzb3J0YWJsZTogc29ydGFibGUsXG4gICAgICAgICAgICByb290RWw6IHJvb3RFbCxcbiAgICAgICAgICAgIG5hbWU6ICdkZXNlbGVjdCcsXG4gICAgICAgICAgICB0YXJnZXRFbDogZHJhZ0VsJDEsXG4gICAgICAgICAgICBvcmlnaW5hbEV2dDogZXZ0XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gTXVsdGktZHJhZyBkcm9wXG5cblxuICAgICAgaWYgKGRyYWdTdGFydGVkICYmIHRoaXMuaXNNdWx0aURyYWcpIHtcbiAgICAgICAgZm9sZGluZyA9IGZhbHNlOyAvLyBEbyBub3QgXCJ1bmZvbGRcIiBhZnRlciBhcm91bmQgZHJhZ0VsIGlmIHJldmVydGVkXG5cbiAgICAgICAgaWYgKChwYXJlbnRFbFtleHBhbmRvXS5vcHRpb25zLnNvcnQgfHwgcGFyZW50RWwgIT09IHJvb3RFbCkgJiYgbXVsdGlEcmFnRWxlbWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHZhciBkcmFnUmVjdCA9IGdldFJlY3QoZHJhZ0VsJDEpLFxuICAgICAgICAgICAgICBtdWx0aURyYWdJbmRleCA9IGluZGV4KGRyYWdFbCQxLCAnOm5vdCguJyArIHRoaXMub3B0aW9ucy5zZWxlY3RlZENsYXNzICsgJyknKTtcbiAgICAgICAgICBpZiAoIWluaXRpYWxGb2xkaW5nICYmIG9wdGlvbnMuYW5pbWF0aW9uKSBkcmFnRWwkMS50aGlzQW5pbWF0aW9uRHVyYXRpb24gPSBudWxsO1xuICAgICAgICAgIHRvU29ydGFibGUuY2FwdHVyZUFuaW1hdGlvblN0YXRlKCk7XG5cbiAgICAgICAgICBpZiAoIWluaXRpYWxGb2xkaW5nKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgZHJhZ0VsJDEuZnJvbVJlY3QgPSBkcmFnUmVjdDtcbiAgICAgICAgICAgICAgbXVsdGlEcmFnRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAobXVsdGlEcmFnRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIG11bHRpRHJhZ0VsZW1lbnQudGhpc0FuaW1hdGlvbkR1cmF0aW9uID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmIChtdWx0aURyYWdFbGVtZW50ICE9PSBkcmFnRWwkMSkge1xuICAgICAgICAgICAgICAgICAgdmFyIHJlY3QgPSBmb2xkaW5nID8gZ2V0UmVjdChtdWx0aURyYWdFbGVtZW50KSA6IGRyYWdSZWN0O1xuICAgICAgICAgICAgICAgICAgbXVsdGlEcmFnRWxlbWVudC5mcm9tUmVjdCA9IHJlY3Q7IC8vIFByZXBhcmUgdW5mb2xkIGFuaW1hdGlvblxuXG4gICAgICAgICAgICAgICAgICB0b1NvcnRhYmxlLmFkZEFuaW1hdGlvblN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBtdWx0aURyYWdFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICByZWN0OiByZWN0XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSAvLyBNdWx0aSBkcmFnIGVsZW1lbnRzIGFyZSBub3QgbmVjZXNzYXJpbHkgcmVtb3ZlZCBmcm9tIHRoZSBET00gb24gZHJvcCwgc28gdG8gcmVpbnNlcnRcbiAgICAgICAgICAgIC8vIHByb3Blcmx5IHRoZXkgbXVzdCBhbGwgYmUgcmVtb3ZlZFxuXG5cbiAgICAgICAgICAgIHJlbW92ZU11bHRpRHJhZ0VsZW1lbnRzKCk7XG4gICAgICAgICAgICBtdWx0aURyYWdFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChtdWx0aURyYWdFbGVtZW50KSB7XG4gICAgICAgICAgICAgIGlmIChjaGlsZHJlblttdWx0aURyYWdJbmRleF0pIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRFbC5pbnNlcnRCZWZvcmUobXVsdGlEcmFnRWxlbWVudCwgY2hpbGRyZW5bbXVsdGlEcmFnSW5kZXhdKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRFbC5hcHBlbmRDaGlsZChtdWx0aURyYWdFbGVtZW50KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIG11bHRpRHJhZ0luZGV4Kys7XG4gICAgICAgICAgICB9KTsgLy8gSWYgaW5pdGlhbCBmb2xkaW5nIGlzIGRvbmUsIHRoZSBlbGVtZW50cyBtYXkgaGF2ZSBjaGFuZ2VkIHBvc2l0aW9uIGJlY2F1c2UgdGhleSBhcmUgbm93XG4gICAgICAgICAgICAvLyB1bmZvbGRpbmcgYXJvdW5kIGRyYWdFbCwgZXZlbiB0aG91Z2ggZHJhZ0VsIG1heSBub3QgaGF2ZSBoaXMgaW5kZXggY2hhbmdlZCwgc28gdXBkYXRlIGV2ZW50XG4gICAgICAgICAgICAvLyBtdXN0IGJlIGZpcmVkIGhlcmUgYXMgU29ydGFibGUgd2lsbCBub3QuXG5cbiAgICAgICAgICAgIGlmIChvbGRJbmRleCA9PT0gaW5kZXgoZHJhZ0VsJDEpKSB7XG4gICAgICAgICAgICAgIHZhciB1cGRhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgbXVsdGlEcmFnRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAobXVsdGlEcmFnRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGlmIChtdWx0aURyYWdFbGVtZW50LnNvcnRhYmxlSW5kZXggIT09IGluZGV4KG11bHRpRHJhZ0VsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgICB1cGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgaWYgKHVwZGF0ZSkge1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoU29ydGFibGVFdmVudCgndXBkYXRlJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IC8vIE11c3QgYmUgZG9uZSBhZnRlciBjYXB0dXJpbmcgaW5kaXZpZHVhbCByZWN0cyAoc2Nyb2xsIGJhcilcblxuXG4gICAgICAgICAgbXVsdGlEcmFnRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAobXVsdGlEcmFnRWxlbWVudCkge1xuICAgICAgICAgICAgdW5zZXRSZWN0KG11bHRpRHJhZ0VsZW1lbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRvU29ydGFibGUuYW5pbWF0ZUFsbCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbXVsdGlEcmFnU29ydGFibGUgPSB0b1NvcnRhYmxlO1xuICAgICAgfSAvLyBSZW1vdmUgY2xvbmVzIGlmIG5lY2Vzc2FyeVxuXG5cbiAgICAgIGlmIChyb290RWwgPT09IHBhcmVudEVsIHx8IHB1dFNvcnRhYmxlICYmIHB1dFNvcnRhYmxlLmxhc3RQdXRNb2RlICE9PSAnY2xvbmUnKSB7XG4gICAgICAgIG11bHRpRHJhZ0Nsb25lcy5mb3JFYWNoKGZ1bmN0aW9uIChjbG9uZSkge1xuICAgICAgICAgIGNsb25lLnBhcmVudE5vZGUgJiYgY2xvbmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjbG9uZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgbnVsbGluZ0dsb2JhbDogZnVuY3Rpb24gbnVsbGluZ0dsb2JhbCgpIHtcbiAgICAgIHRoaXMuaXNNdWx0aURyYWcgPSBkcmFnU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgbXVsdGlEcmFnQ2xvbmVzLmxlbmd0aCA9IDA7XG4gICAgfSxcbiAgICBkZXN0cm95R2xvYmFsOiBmdW5jdGlvbiBkZXN0cm95R2xvYmFsKCkge1xuICAgICAgdGhpcy5fZGVzZWxlY3RNdWx0aURyYWcoKTtcblxuICAgICAgb2ZmKGRvY3VtZW50LCAncG9pbnRlcnVwJywgdGhpcy5fZGVzZWxlY3RNdWx0aURyYWcpO1xuICAgICAgb2ZmKGRvY3VtZW50LCAnbW91c2V1cCcsIHRoaXMuX2Rlc2VsZWN0TXVsdGlEcmFnKTtcbiAgICAgIG9mZihkb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fZGVzZWxlY3RNdWx0aURyYWcpO1xuICAgICAgb2ZmKGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuX2NoZWNrS2V5RG93bik7XG4gICAgICBvZmYoZG9jdW1lbnQsICdrZXl1cCcsIHRoaXMuX2NoZWNrS2V5VXApO1xuICAgIH0sXG4gICAgX2Rlc2VsZWN0TXVsdGlEcmFnOiBmdW5jdGlvbiBfZGVzZWxlY3RNdWx0aURyYWcoZXZ0KSB7XG4gICAgICBpZiAodHlwZW9mIGRyYWdTdGFydGVkICE9PSBcInVuZGVmaW5lZFwiICYmIGRyYWdTdGFydGVkKSByZXR1cm47IC8vIE9ubHkgZGVzZWxlY3QgaWYgc2VsZWN0aW9uIGlzIGluIHRoaXMgc29ydGFibGVcblxuICAgICAgaWYgKG11bHRpRHJhZ1NvcnRhYmxlICE9PSB0aGlzLnNvcnRhYmxlKSByZXR1cm47IC8vIE9ubHkgZGVzZWxlY3QgaWYgdGFyZ2V0IGlzIG5vdCBpdGVtIGluIHRoaXMgc29ydGFibGVcblxuICAgICAgaWYgKGV2dCAmJiBjbG9zZXN0KGV2dC50YXJnZXQsIHRoaXMub3B0aW9ucy5kcmFnZ2FibGUsIHRoaXMuc29ydGFibGUuZWwsIGZhbHNlKSkgcmV0dXJuOyAvLyBPbmx5IGRlc2VsZWN0IGlmIGxlZnQgY2xpY2tcblxuICAgICAgaWYgKGV2dCAmJiBldnQuYnV0dG9uICE9PSAwKSByZXR1cm47XG5cbiAgICAgIHdoaWxlIChtdWx0aURyYWdFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGVsID0gbXVsdGlEcmFnRWxlbWVudHNbMF07XG4gICAgICAgIHRvZ2dsZUNsYXNzKGVsLCB0aGlzLm9wdGlvbnMuc2VsZWN0ZWRDbGFzcywgZmFsc2UpO1xuICAgICAgICBtdWx0aURyYWdFbGVtZW50cy5zaGlmdCgpO1xuICAgICAgICBkaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICBzb3J0YWJsZTogdGhpcy5zb3J0YWJsZSxcbiAgICAgICAgICByb290RWw6IHRoaXMuc29ydGFibGUuZWwsXG4gICAgICAgICAgbmFtZTogJ2Rlc2VsZWN0JyxcbiAgICAgICAgICB0YXJnZXRFbDogZWwsXG4gICAgICAgICAgb3JpZ2luYWxFdnQ6IGV2dFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIF9jaGVja0tleURvd246IGZ1bmN0aW9uIF9jaGVja0tleURvd24oZXZ0KSB7XG4gICAgICBpZiAoZXZ0LmtleSA9PT0gdGhpcy5vcHRpb25zLm11bHRpRHJhZ0tleSkge1xuICAgICAgICB0aGlzLm11bHRpRHJhZ0tleURvd24gPSB0cnVlO1xuICAgICAgfVxuICAgIH0sXG4gICAgX2NoZWNrS2V5VXA6IGZ1bmN0aW9uIF9jaGVja0tleVVwKGV2dCkge1xuICAgICAgaWYgKGV2dC5rZXkgPT09IHRoaXMub3B0aW9ucy5tdWx0aURyYWdLZXkpIHtcbiAgICAgICAgdGhpcy5tdWx0aURyYWdLZXlEb3duID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gX2V4dGVuZHMoTXVsdGlEcmFnLCB7XG4gICAgLy8gU3RhdGljIG1ldGhvZHMgJiBwcm9wZXJ0aWVzXG4gICAgcGx1Z2luTmFtZTogJ211bHRpRHJhZycsXG4gICAgdXRpbHM6IHtcbiAgICAgIC8qKlxuICAgICAgICogU2VsZWN0cyB0aGUgcHJvdmlkZWQgbXVsdGktZHJhZyBpdGVtXG4gICAgICAgKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWwgICAgVGhlIGVsZW1lbnQgdG8gYmUgc2VsZWN0ZWRcbiAgICAgICAqL1xuICAgICAgc2VsZWN0OiBmdW5jdGlvbiBzZWxlY3QoZWwpIHtcbiAgICAgICAgdmFyIHNvcnRhYmxlID0gZWwucGFyZW50Tm9kZVtleHBhbmRvXTtcbiAgICAgICAgaWYgKCFzb3J0YWJsZSB8fCAhc29ydGFibGUub3B0aW9ucy5tdWx0aURyYWcgfHwgfm11bHRpRHJhZ0VsZW1lbnRzLmluZGV4T2YoZWwpKSByZXR1cm47XG5cbiAgICAgICAgaWYgKG11bHRpRHJhZ1NvcnRhYmxlICYmIG11bHRpRHJhZ1NvcnRhYmxlICE9PSBzb3J0YWJsZSkge1xuICAgICAgICAgIG11bHRpRHJhZ1NvcnRhYmxlLm11bHRpRHJhZy5fZGVzZWxlY3RNdWx0aURyYWcoKTtcblxuICAgICAgICAgIG11bHRpRHJhZ1NvcnRhYmxlID0gc29ydGFibGU7XG4gICAgICAgIH1cblxuICAgICAgICB0b2dnbGVDbGFzcyhlbCwgc29ydGFibGUub3B0aW9ucy5zZWxlY3RlZENsYXNzLCB0cnVlKTtcbiAgICAgICAgbXVsdGlEcmFnRWxlbWVudHMucHVzaChlbCk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIERlc2VsZWN0cyB0aGUgcHJvdmlkZWQgbXVsdGktZHJhZyBpdGVtXG4gICAgICAgKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWwgICAgVGhlIGVsZW1lbnQgdG8gYmUgZGVzZWxlY3RlZFxuICAgICAgICovXG4gICAgICBkZXNlbGVjdDogZnVuY3Rpb24gZGVzZWxlY3QoZWwpIHtcbiAgICAgICAgdmFyIHNvcnRhYmxlID0gZWwucGFyZW50Tm9kZVtleHBhbmRvXSxcbiAgICAgICAgICAgIGluZGV4ID0gbXVsdGlEcmFnRWxlbWVudHMuaW5kZXhPZihlbCk7XG4gICAgICAgIGlmICghc29ydGFibGUgfHwgIXNvcnRhYmxlLm9wdGlvbnMubXVsdGlEcmFnIHx8ICF+aW5kZXgpIHJldHVybjtcbiAgICAgICAgdG9nZ2xlQ2xhc3MoZWwsIHNvcnRhYmxlLm9wdGlvbnMuc2VsZWN0ZWRDbGFzcywgZmFsc2UpO1xuICAgICAgICBtdWx0aURyYWdFbGVtZW50cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZXZlbnRQcm9wZXJ0aWVzOiBmdW5jdGlvbiBldmVudFByb3BlcnRpZXMoKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIG9sZEluZGljaWVzID0gW10sXG4gICAgICAgICAgbmV3SW5kaWNpZXMgPSBbXTtcbiAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKG11bHRpRHJhZ0VsZW1lbnQpIHtcbiAgICAgICAgb2xkSW5kaWNpZXMucHVzaCh7XG4gICAgICAgICAgbXVsdGlEcmFnRWxlbWVudDogbXVsdGlEcmFnRWxlbWVudCxcbiAgICAgICAgICBpbmRleDogbXVsdGlEcmFnRWxlbWVudC5zb3J0YWJsZUluZGV4XG4gICAgICAgIH0pOyAvLyBtdWx0aURyYWdFbGVtZW50cyB3aWxsIGFscmVhZHkgYmUgc29ydGVkIGlmIGZvbGRpbmdcblxuICAgICAgICB2YXIgbmV3SW5kZXg7XG5cbiAgICAgICAgaWYgKGZvbGRpbmcgJiYgbXVsdGlEcmFnRWxlbWVudCAhPT0gZHJhZ0VsJDEpIHtcbiAgICAgICAgICBuZXdJbmRleCA9IC0xO1xuICAgICAgICB9IGVsc2UgaWYgKGZvbGRpbmcpIHtcbiAgICAgICAgICBuZXdJbmRleCA9IGluZGV4KG11bHRpRHJhZ0VsZW1lbnQsICc6bm90KC4nICsgX3RoaXMzLm9wdGlvbnMuc2VsZWN0ZWRDbGFzcyArICcpJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3SW5kZXggPSBpbmRleChtdWx0aURyYWdFbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5ld0luZGljaWVzLnB1c2goe1xuICAgICAgICAgIG11bHRpRHJhZ0VsZW1lbnQ6IG11bHRpRHJhZ0VsZW1lbnQsXG4gICAgICAgICAgaW5kZXg6IG5ld0luZGV4XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpdGVtczogX3RvQ29uc3VtYWJsZUFycmF5KG11bHRpRHJhZ0VsZW1lbnRzKSxcbiAgICAgICAgY2xvbmVzOiBbXS5jb25jYXQobXVsdGlEcmFnQ2xvbmVzKSxcbiAgICAgICAgb2xkSW5kaWNpZXM6IG9sZEluZGljaWVzLFxuICAgICAgICBuZXdJbmRpY2llczogbmV3SW5kaWNpZXNcbiAgICAgIH07XG4gICAgfSxcbiAgICBvcHRpb25MaXN0ZW5lcnM6IHtcbiAgICAgIG11bHRpRHJhZ0tleTogZnVuY3Rpb24gbXVsdGlEcmFnS2V5KGtleSkge1xuICAgICAgICBrZXkgPSBrZXkudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICBpZiAoa2V5ID09PSAnY3RybCcpIHtcbiAgICAgICAgICBrZXkgPSAnQ29udHJvbCc7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBrZXkgPSBrZXkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBrZXkuc3Vic3RyKDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRNdWx0aURyYWdFbGVtZW50cyhjbG9uZXNJbnNlcnRlZCwgcm9vdEVsKSB7XG4gIG11bHRpRHJhZ0VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKG11bHRpRHJhZ0VsZW1lbnQsIGkpIHtcbiAgICB2YXIgdGFyZ2V0ID0gcm9vdEVsLmNoaWxkcmVuW211bHRpRHJhZ0VsZW1lbnQuc29ydGFibGVJbmRleCArIChjbG9uZXNJbnNlcnRlZCA/IE51bWJlcihpKSA6IDApXTtcblxuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgIHJvb3RFbC5pbnNlcnRCZWZvcmUobXVsdGlEcmFnRWxlbWVudCwgdGFyZ2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcm9vdEVsLmFwcGVuZENoaWxkKG11bHRpRHJhZ0VsZW1lbnQpO1xuICAgIH1cbiAgfSk7XG59XG4vKipcbiAqIEluc2VydCBtdWx0aS1kcmFnIGNsb25lc1xuICogQHBhcmFtICB7W0Jvb2xlYW5dfSBlbGVtZW50c0luc2VydGVkICBXaGV0aGVyIHRoZSBtdWx0aS1kcmFnIGVsZW1lbnRzIGFyZSBpbnNlcnRlZFxuICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IHJvb3RFbFxuICovXG5cblxuZnVuY3Rpb24gaW5zZXJ0TXVsdGlEcmFnQ2xvbmVzKGVsZW1lbnRzSW5zZXJ0ZWQsIHJvb3RFbCkge1xuICBtdWx0aURyYWdDbG9uZXMuZm9yRWFjaChmdW5jdGlvbiAoY2xvbmUsIGkpIHtcbiAgICB2YXIgdGFyZ2V0ID0gcm9vdEVsLmNoaWxkcmVuW2Nsb25lLnNvcnRhYmxlSW5kZXggKyAoZWxlbWVudHNJbnNlcnRlZCA/IE51bWJlcihpKSA6IDApXTtcblxuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgIHJvb3RFbC5pbnNlcnRCZWZvcmUoY2xvbmUsIHRhcmdldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJvb3RFbC5hcHBlbmRDaGlsZChjbG9uZSk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlTXVsdGlEcmFnRWxlbWVudHMoKSB7XG4gIG11bHRpRHJhZ0VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKG11bHRpRHJhZ0VsZW1lbnQpIHtcbiAgICBpZiAobXVsdGlEcmFnRWxlbWVudCA9PT0gZHJhZ0VsJDEpIHJldHVybjtcbiAgICBtdWx0aURyYWdFbGVtZW50LnBhcmVudE5vZGUgJiYgbXVsdGlEcmFnRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG11bHRpRHJhZ0VsZW1lbnQpO1xuICB9KTtcbn1cblxuU29ydGFibGUubW91bnQobmV3IEF1dG9TY3JvbGxQbHVnaW4oKSk7XG5Tb3J0YWJsZS5tb3VudChSZW1vdmUsIFJldmVydCk7XG5cbmV4cG9ydCBkZWZhdWx0IFNvcnRhYmxlO1xuZXhwb3J0IHsgTXVsdGlEcmFnUGx1Z2luIGFzIE11bHRpRHJhZywgU29ydGFibGUsIFN3YXBQbHVnaW4gYXMgU3dhcCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/sortablejs/modular/sortable.esm.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	!function() {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = function(exports, definition) {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./public/src/Test/test-edit.js");
/******/ 	
/******/ })()
;
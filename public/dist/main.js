(()=>{"use strict";function e(e){this.el=e,this.elType={}.toString.call(e),this.on=function(t,i){"[object HTMLDivElement]"===this.elType&&this.el.addEventListener(t,i),"[object NodeList]"===this.elType&&e.forEach((e=>e.addEventListener(t,i)))},this.value=function(){return this.el[0].getAttribute("value")},this.count=function(){return this.el.length},this.getWithStyle=function(t,i){let n=[];return e.forEach((e=>{e.style[t]===i&&n.push(e)})),n},this.addClass=function(e){"[object HTMLDivElement]"===this.elType&&this.el.classList.add(e),["[object NodeList]","[object Array]"].includes(this.elType)&&this.el.forEach((t=>{t.classList.add(e)}))},this.removeClass=function(e){this.el.forEach((t=>{t.classList.remove(e)}))},this.hasClass=function(e){if(this.el.classList.contains(e))return!0},this.append=function(e){this.el[0].appendChild(e)},this.find=function(e){return["[object HTMLDivElement]","[object HTMLInputElement]"].includes(this.elType)?this.el.querySelector(e):["[object NodeList]","[object Array]"].includes(this.elType)?this.el[0].querySelector(e):void 0},this.css=function(t,i){if(!i)return this.el[0].style[t];"[object HTMLDivElement]"===this.elType&&(this.el.style[t]=i),"[object NodeList]"===this.elType&&e.forEach((e=>{e.style[t]=i}))}}function t(t){let i="";return i="string"==typeof t?document.querySelectorAll(t):t,new e(i)}let i=t("#autocomplete").el;Array.from(i).map((e=>{e&&e.addEventListener("input",(function(){!async function(e,i){if(e.length<1)return void(c.innerHTML="");let n=await async function(e){let t=await fetch("/search?q="+e);return await t.json()}(e),s=document.createElement("ul"),c=(n.map((e=>{let t=document.createElement("a");t.href=e.alias,t.innerHTML=`<img src='/pic/${e.preview_pic}' alt='${e.name}'>`+e.name,s.appendChild(function(e,t){let i=document.createElement("li");return i.appendChild(e),i}(t))})),t(i.parentNode).find(".search__result"));c.appendChild(s),t("body").on("click",(function(e){const i=t(".result-search ul").el[0];t(".result-search ul")&&e.target!==i&&i.remove()}))}(this.value,e)}))})),document.cookie.match("(^|;)?cn=([^;]*)")?t("#cookie-notice").css("bottom","-100%"):t("#cookie-notice").css("bottom","0"),t("#cn-accept-cookie").on("click",(function(){(function(){const e=new Date;e.setTime(e.getTime()+864e5),document.cookie="cn=1; expires="+e+"path=/; SameSite=lax"})(),t("#cookie-notice").css("bottom","-100%")}))})();
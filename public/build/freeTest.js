/*! For license information please see freeTest.js.LICENSE.txt */
(()=>{"use strict";var e={"./public/jscss/Freetest/Do.js":(e,t,s)=>{s.r(t);var n=s("./public/jscss/common.js");let o=document.querySelector(".test-data .question:first-child ").getAttribute("data-id");document.querySelector(`.question[data-id="${o}"`).style.display="flex",document.querySelector(".content #finish-freetest").addEventListener("click",(function(e){e.preventDefault();let t=document.querySelector("#finish-freetest");if("ПРОЙТИ ТЕСТ ЗАНОВО"===t.text)return void location.reload();(0,n.post)("/freetest/do",{action:"resultFreetest"}).then((function(e){return t=JSON.parse(e),new Promise((function(e,s){let n="rgb(0, 255, 41) 0px 2px 11px 3px",o="rgb(255, 41, 41) 0px 2px 11px 3px";document.querySelectorAll(".freetest-text-editable").forEach((function(e,s,o){let r=e.innerHTML;if(r){let s=e.dataset.textarea,o=document.querySelectorAll('a[href="#question-'+s+'"]')[0],c=t[s];c=c.split(",");for(let t in c){let s=c[t],a=new RegExp(s,"g");a.test(r)&&(e.innerHTML=e.innerHTML.replace(a,"<span style ='color:green;font-weight:800'> "+s+"</span>"),o.autocomplete.boxShadow=n)}}}));let r=document.getElementById("finish-freetest");r.href=location.href,r.text="ПРОЙТИ ТЕСТ ЗАНОВО",errorsCnt=0,a=document.querySelectorAll("a[href^='#question-']");for(let e=0;e<a.length;e++)a[e].autocomplete.boxShadow!=n&&(a[e].autocomplete.boxShadow=o,errorsCnt++);e(errorsCnt)}));var t})).then((function(e){return function(e){return new Promise((function(s,n){let o="<!DOCTYPE "+document.doctype.name+">"+document.documentElement.outerHTML,r=+t.dataset.id,c=document.querySelector(".test-name").text(),a=document.querySelector(".user-button span").text(),i={};document.querySelector(".question").each((function(e,t){let s=document.querySelector(this).data("id"),n=t.lastElementChild.innerText;i[s]=n})),s({questionCnt:document.querySelector(".question").length,errorCnt:e,pageCache:o,action:"send_mail_Freetest",userAnswers:i,testId:r,name:a,test_name:c})}))}(e)})).then((function(e){return(0,n.post)("/freetest/do",e)}))}))},"./public/jscss/common.js":(e,t,s)=>{s.r(t),s.d(t,{post:()=>r,get:()=>o,uniq:()=>n});const n=e=>Array.from(new Set(e));async function o(e){var t=window.location.search;return!!(t=t.match(new RegExp(e+"=([^&=]+)")))&&t[1]}async function r(e,t){return new Promise((function(s,n){var o=new XMLHttpRequest;o.open("POST",e),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.send("param="+JSON.stringify(t)),o.onerror=function(){n(Error("Network Error"))},o.onload=function(){s(o.response)}}))}},"./public/jscss/components/header/autocomplete.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});s("./public/jscss/components/header/autocomplete.sass");async function n(e){if(e.length<1)n.innerHTML="";else{var t=await async function(e){let t=await fetch("/search?q="+e);return await t.json()}(e),s="<ul>";t.forEach((e=>{s+=`<li><a href = '${e.alias}'><img src='/pic/${e.preview_pic}' alt='${e.name}'>`+e.name+"</a></li>"})),s+="</ul>";var n=document.querySelector(".result-search");n.innerHTML=s,document.querySelector("body").addEventListener("click",(function(e){const t=document.querySelector(".result-search ul");document.querySelector(".result-search ul")&&e.target!==t&&t.remove()}))}}window.onload=function(){document.querySelector("#autocomplete").addEventListener("input",(function(){n(this.value)}))};const o=n},"./public/jscss/components/header/header.js":(e,t,s)=>{s.r(t);s("./public/jscss/components/header/top.sass"),s("./public/jscss/components/header/middle.sass"),s("./public/jscss/components/header/header-menu.sass"),s("./public/jscss/components/header/header.sass"),s("./public/jscss/components/header/autocomplete.js"),s("./public/jscss/components/header/header-panel.sass")},"./public/jscss/components/test-pagination/test-pagination.js":(e,t,s)=>{s.r(t);s("./public/jscss/components/test-pagination/test-pagination.scss");window.onload=function(){document.querySelector(".test-data .question:first-child").style.display="flex",document.querySelector("[data-pagination]:first-child").classList.add("nav-active"),document.querySelector(".pagination").addEventListener("click",(function(e){let t=e.target;if(t.classList.contains("pagination"))return;let s=t.closest("[data-pagination]");if(s.classList.contains("nav-active"))return;let n=document.querySelector(".pagination .nav-active");n.classList.remove("nav-active"),s.classList.add("nav-active");let o=`.question[data-id="${n.dataset.pagination}"]`;document.querySelector(o).style.display="none";let r=`.question[data-id="${s.dataset.pagination}"]`;document.querySelector(r).style.display="flex"}))}},"./public/jscss/Freetest/free-test.scss":(e,t,s)=>{s.r(t)},"./public/jscss/components/footer/footer.sass":(e,t,s)=>{s.r(t)},"./public/jscss/components/header/autocomplete.sass":(e,t,s)=>{s.r(t)},"./public/jscss/components/header/header-menu.sass":(e,t,s)=>{s.r(t)},"./public/jscss/components/header/header-panel.sass":(e,t,s)=>{s.r(t)},"./public/jscss/components/header/header.sass":(e,t,s)=>{s.r(t)},"./public/jscss/components/header/middle.sass":(e,t,s)=>{s.r(t)},"./public/jscss/components/header/top.sass":(e,t,s)=>{s.r(t)},"./public/jscss/components/test-pagination/test-pagination.scss":(e,t,s)=>{s.r(t)}},t={};function s(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,s),r.exports}s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{s.r(n);s("./public/jscss/Freetest/Do.js"),s("./public/jscss/components/header/header.js"),s("./public/jscss/components/footer/footer.sass"),s("./public/jscss/Freetest/free-test.scss"),s("./public/jscss/components/test-pagination/test-pagination.js")})()})();
//# sourceMappingURL=freeTest.js.map
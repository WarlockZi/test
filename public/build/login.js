/*! For license information please see login.js.LICENSE.txt */
(()=>{"use strict";var e={"./public/jscss/User/register.js":(e,s,t)=>{t.r(s);var o=t("./public/jscss/common.js");window.onload=function(){document.querySelector("[name = 'reg']").addEventListener("click",(function(e){e.preventDefault();var s={email:document.querySelector("input[type = email]").value,password:document.querySelector("input[type= password]").value,surName:document.querySelector("[name='surName']").innerText,name:document.querySelector("[name='name']").innerText,token:document.querySelector('meta[name="token"]').getAttribute("content")};(0,o.post)("/user/register",s)}))}},"./public/jscss/common.js":(e,s,t)=>{t.r(s),t.d(s,{post:()=>r,get:()=>n,uniq:()=>o});const o=e=>Array.from(new Set(e));async function n(e){var s=window.location.search;return!!(s=s.match(new RegExp(e+"=([^&=]+)")))&&s[1]}async function r(e,s){return new Promise((function(t,o){var n=new XMLHttpRequest;n.open("POST",e),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send("param="+JSON.stringify(s)),n.onerror=function(){o(Error("Network Error"))},n.onload=function(){t(n.response)}}))}},"./public/jscss/components/header/autocomplete.js":(e,s,t)=>{t.r(s),t.d(s,{default:()=>n});t("./public/jscss/components/header/autocomplete.sass");async function o(e){if(e.length<1)o.innerHTML="";else{var s=await async function(e){let s=await fetch("/search?q="+e);return await s.json()}(e),t="<ul>";s.forEach((e=>{t+=`<li><a href = '${e.alias}'><img src='/pic/${e.preview_pic}' alt='${e.name}'>`+e.name+"</a></li>"})),t+="</ul>";var o=document.querySelector(".result-search");o.innerHTML=t,document.querySelector("body").addEventListener("click",(function(e){const s=document.querySelector(".result-search ul");document.querySelector(".result-search ul")&&e.target!==s&&s.remove()}))}}window.onload=function(){document.querySelector("#autocomplete").addEventListener("input",(function(){o(this.value)}))};const n=o},"./public/jscss/components/header/header.js":(e,s,t)=>{t.r(s);t("./public/jscss/components/header/top.sass"),t("./public/jscss/components/header/middle.sass"),t("./public/jscss/components/header/header-menu.sass"),t("./public/jscss/components/header/header.sass"),t("./public/jscss/components/header/autocomplete.js"),t("./public/jscss/components/header/header-panel.sass")},"./public/jscss/User/login.scss":(e,s,t)=>{t.r(s)},"./public/jscss/components/footer/footer.sass":(e,s,t)=>{t.r(s)},"./public/jscss/components/forms.sass":(e,s,t)=>{t.r(s)},"./public/jscss/components/header/autocomplete.sass":(e,s,t)=>{t.r(s)},"./public/jscss/components/header/header-menu.sass":(e,s,t)=>{t.r(s)},"./public/jscss/components/header/header-panel.sass":(e,s,t)=>{t.r(s)},"./public/jscss/components/header/header.sass":(e,s,t)=>{t.r(s)},"./public/jscss/components/header/middle.sass":(e,s,t)=>{t.r(s)},"./public/jscss/components/header/top.sass":(e,s,t)=>{t.r(s)}},s={};function t(o){var n=s[o];if(void 0!==n)return n.exports;var r=s[o]={exports:{}};return e[o](r,r.exports,t),r.exports}t.d=(e,s)=>{for(var o in s)t.o(s,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:s[o]})},t.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{t.r(o);var e=t("./public/jscss/common.js");t("./public/jscss/components/header/header.js"),t("./public/jscss/User/login.scss"),t("./public/jscss/components/footer/footer.sass"),t("./public/jscss/components/forms.sass"),t("./public/jscss/User/register.js");window.onload=function(){document.querySelector("body").addEventListener("click",(function(e){"messageClose"===e.target.className&&(window.location.href="/user/cabinet")})),document.querySelector("#login").addEventListener("click",(async function(s){s.preventDefault();var t={email:document.querySelector("input[type = email]").value,password:document.querySelector("input[type= password]").value,token:document.querySelector("[name = 'token']").value};let o=await(0,e.post)("/user/login",t),n=document.createElement("div");n.innerHTML=o,document.querySelector("body").append(n),n.querySelector(".overlay").style.display="block"}))}})()})();
//# sourceMappingURL=login.js.map
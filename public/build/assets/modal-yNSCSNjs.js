import{$ as e,j as d,a,b as o,q as h}from"./DTO-sgTzSdlc.js";class f{constructor(s){this.modal=e("[data-modal='default']").first(),!(!s?.triggers||!s?.boxes||!this.modal)&&(this.triggers=s.triggers,this.boxes=s.boxes,this.overlay=e(this.modal).find(".overlay"),this.wrap=e(this.modal).find(".wrap"),this.content=e(this.modal).find(".content"),this.box=e(this.modal).find(".box"),this.closeEl=e(this.modal).find(".modal-close"),this.triggers.forEach(t=>{d(t)&&d(t).addEventListener("click",this.show.bind(this))}),this.overlay.addEventListener("click",this.close.bind(this)),this.modal.addEventListener("modal.switch",this.switch.bind(this)))}switch({target:s}){const t=s.closest(".box");t[a]("transitionend",this.removeClasses,{once:!0}),t.classList.add("translate-left");const i=s.dataset.target;this.wrap[o](`[id='${i}']`).classList.add("transform-in")}removeClasses({target:s}){s.classList.remove("transform-in"),s.classList.remove("translate-left")}show(){this.renderBoxes(),this.modal.classList.remove("invisible"),this.overlay.classList.add("blur"),this.wrap[o](".box:nth-child(2)").classList.add("transform-in")}close({target:s}){if(!s.classList.contains("modal-close")&&!s.classList.contains("overlay"))return;const t=this.wrap[o](".transform-in");t[a]("transitionend",this.transitionHandler.bind(this)),t.removeEventListener("transitionend",this.transitionHandler,{once:!0}),t.classList.remove("transform-in"),this.overlay.classList.remove("blur")}transitionHandler(){this.modal.classList.add("invisible"),this.wrap[h](".box[id]").forEach(s=>s.remove())}renderBoxes(){for(let s in this.boxes){const t=this.boxes[s],i=this.box.cloneNode(!0);i[a]("click",this.close.bind(this)),i.id=s,i[o](".title").innerText=t[0][0];for(let n in t){const r=t[n];for(let l in r)l>0&&i[o](".content").appendChild(r[l])}this.wrap.appendChild(i)}}}export{f as default};
//# sourceMappingURL=modal-yNSCSNjs.js.map

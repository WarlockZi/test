import{$ as i}from"./common-RiEdO0HM.js";import{q as l,a as r}from"./constants-Clh-pk9Y.js";class h{constructor(s){if(!s)return!1;this.arrowSelector=".arrow",this.rootUl=i(s).find("[accordion]"),this.burger=document[l]("svg#burger"),this.sidebar=i(".admin-sidebar").first(),s[r]("click",this.handleClick.bind(this))}handleClick({target:s}){s===this.burger&&this.sidebar.classList.toggle("show");const t=s.closest("li");if(!t)return;const e=i(t).find("ul");if(!e)this.rotateArrow(t);else if(e.classList.contains("open"))this.close(e,t);else{this.closeSiblings(t.closest("ul"));const o=t.closest(".open");this.open(e,t,o)}}rotateArrow(s){const t=i(s).find(this.arrowSelector);t&&t.classList.toggle("rotate")}closeSiblings(s){if(!s||s===this.rootUl)return;const t=i(s).find(".open");if(t){const e=t.closest("li");this.close(t,e)}}close(s,t){s.style.maxHeight="0px",s.classList.toggle("open"),this.rotateArrow(t),this.closeChild(s)}closeChild(s){const t=s.querySelector(".open");t&&(t.style.maxHeight="0px")}open(s,t,e){e&&(e.style.maxHeight=s.scrollHeight+e.scrollHeight+"px"),s.style.maxHeight=s.scrollHeight+"px",s.classList.toggle("open"),t.querySelector(this.arrowSelector).classList.toggle("rotate")}}export{h as default};

import{$ as e}from"./common-BEiZe_HE.js";const n="querySelector",c="querySelectorAll",o="addEventListener",f="innerText";document.querySelectorAll.bind(document);const d=document.querySelector.bind(document);class h{constructor(s){this.modal=e("[data-modal='default']").first(),!(!s?.triggers||!s?.boxes||!this.modal)&&(this.triggers=s.triggers,this.boxes=s.boxes,this.overlay=e(this.modal).find(".overlay"),this.wrap=e(this.modal).find(".wrap"),this.content=e(this.modal).find(".content"),this.box=e(this.modal).find(".box"),this.closeEl=e(this.modal).find(".modal-close"),this.triggers.forEach(t=>{d(t)&&d(t)[o]("click",this.show.bind(this))}),this.overlay[o]("click",this.close.bind(this)),this.modal[o]("modal.switch",this.switch.bind(this)))}switch({target:s}){const t=s.closest(".box");t[o]("transitionend",this.removeClasses,{once:!0}),t.classList.add("translate-left");const i=s.dataset.target;this.wrap[n](`[id='${i}']`).classList.add("transform-in")}removeClasses({target:s}){s.classList.remove("transform-in"),s.classList.remove("translate-left")}show(){this.renderBoxes(),this.modal.classList.remove("invisible"),this.overlay.classList.add("blur"),this.wrap[n](".box:nth-child(2)").classList.add("transform-in")}close({target:s}){if(!s.classList.contains("modal-close")&&!s.classList.contains("overlay"))return;const t=this.wrap[n](".transform-in");t[o]("transitionend",this.transitionHandler.bind(this)),t?.removeEventListener("transitionend",this.transitionHandler,{once:!0}),t?.classList.remove("transform-in"),this.overlay.classList.remove("blur")}transitionHandler(){this.modal.classList.add("invisible"),this.wrap[c](".box[id]").forEach(s=>s.remove())}renderBoxes(){for(let s in this.boxes){const t=this.boxes[s],i=this.box.cloneNode(!0);i[o]("click",this.close.bind(this)),i.id=s,i[n](".title").innerText=t[0][0];for(let r in t){const a=t[r];for(let l in a)l>0&&i[n](".content").appendChild(a[l])}this.wrap.appendChild(i)}}}const x=Object.freeze(Object.defineProperty({__proto__:null,default:h},Symbol.toStringTag,{value:"Module"}));export{h as M,o as a,c as b,f as i,x as m,n as q};
//# sourceMappingURL=modal-2CIG3n3z.js.map

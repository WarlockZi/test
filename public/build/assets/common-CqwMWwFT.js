const E="modulepreload",w=function(t){return"/public/build/"+t},d={},N=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=o?.nonce||o?.getAttribute("nonce");i=Promise.all(n.map(a=>{if(a=w(a),a in d)return;d[a]=!0;const c=a.endsWith(".css"),p=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${p}`))return;const l=document.createElement("link");if(l.rel=c?"stylesheet":E,c||(l.as="script",l.crossOrigin=""),l.href=a,s&&l.setAttribute("nonce",s),document.head.appendChild(l),c)return new Promise((u,h)=>{l.addEventListener("load",u),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})},S=()=>{const t=document.documentElement.scrollTop||document.body.scrollTop;t>0&&(window.requestAnimationFrame(S),window.scrollTo(0,t-t/8))},$=new Intl.NumberFormat("ru",{style:"currency",currency:"RUB",minimumFractionDigits:2});function q(t,e,n=new FormData){if(self.formData=n,typeof e=="FileList")for(let r=0;r<e.length;r++)self.formData.append(r,e[r]);else self.formData.append("file",e);return self.createFormData=function(r,i=""){for(let o in r){let s=r[o],a=i?i+"["+o+"]":o;typeof s=="string"||typeof s=="number"?self.formData.append(a,s):typeof s=="object"&&self.createFormData(s,a)}},self.createFormData(t),self.formData}const P=(t,e=700)=>{let n;return function(){const r=()=>t.apply(this,arguments);clearTimeout(n),n=setTimeout(r,e)}};function T(t){try{JSON.parse(t)}catch{return!1}return!0}function _(t){var e=new RegExp("&nbsp;?","g");return t.replace(e," ")}function b(t){var e=new RegExp("\\n?","g");return t.replace(e,"")}function L(t){var e=new RegExp("\\t?","g");return t.replace(e,"")}function x(t){return t.trim()}function D(t){return t=_(t),t=b(t),t=L(t),t=x(t),t}function J(t){let e=f(t)[0].outerHTML;return D(e)}let O={sort:()=>{let t=(void 0).nextElementSibling;(void 0).value.match(/\D+/)?(t.innerText="Только цифры",t.style.opacity="1"):t.style.opacity==="1"&&(t.style.opacity="0")},email:t=>{if(!t)return!1;let e="Неправильный формат почты";return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())?!1:e},password:t=>{if(!t)return!1;let e=`Пароль может состоять из 
 - Большие латинские бкувы 
- Маленькие латинские буквы 
- Цифры 
- Должен содержать не менее 6 символов`;return/^[a-zA-Z0-9-_!#$%^&*()]{6,30}$/.test(t)?!1:e}},A={show:function(t,e){let n=this.el("div","popup__close");n.innerText="X";let r=this.el("div","popup__item");r.innerText=t,r.append(n);let i=f(".popup")[0];i||(i=this.el("div","popup")),i.append(r),i.addEventListener("click",this.close,!0),document.body.append(i);let o=5e3;setTimeout(()=>{r.classList.remove("popup__item"),r.classList.add("popup-hide")},o);let s=o+950;setTimeout(()=>{r.remove(),e&&e()},s)},close:function(t){t.target.classList.contains("popup__close")&&this.closest(".popup").remove()},el:function(t,e){let n=document.createElement(t);return n.classList.add(e),n}};function C(){return document.querySelector('meta[name="phpSession"]').getAttribute("content")??null}function H(){return!["null","undefined",""].includes(localStorage.getItem("id"))}function I(t,e="",n=""){let r=document.createElement(t);return e&&r.classList.add(e),r.innerText=n||"",r}class U{constructor(){this.attributes=[]}tag(e){return this.tag=e,this}className(e){return this._className=e,this}field(e){return this._field=e,this}text(e){return this._text=e,this}html(e){debugger;return this._html=e,this}attr(e,n){return this.attributes.push([e,n]),this}get(){let e=document.createElement(this.tag);return this._text&&(e.innerText=this._text),this._html&&(e.innerHTML=this._html),this._className&&e.classList.add(this._className),this._field&&(e.dataset.field=this._field),this.attributes.forEach((n,r)=>{e.setAttribute(n[0],n[1])}),e}}async function j(t,e={}){const n=M(t,e),r=await R(t,n);return k(r),g(r),r}function M(t,e){e.phpSession=C();const n={"X-Requested-With":"XMLHttpRequest"};return e instanceof FormData||(n["Content-Type"]="application/x-www-form-urlencoded"),{method:"POST",headers:n,body:"params="+JSON.stringify(e)}}function R(t,e){return new Promise(async(n,r)=>{const i=await fetch(t,e).then(async o=>{if(o.status===200){const s=await o.json();n(s)}}).catch(o=>{console.error("Fetch error"+i.error),r(i.error)})})}function g(t){const e=f(".message")[0];if(!e)return!1;t.msg?e.innerHTML=t.msg:t.success?e.innerHTML=t.success:t.error&&(e.innerHTML=t.error),f(e).removeClass("success"),f(e).removeClass("error")}function k(t){try{return t?.popup||t?.arr?.popup?A.show(t.popup??t?.arr?.popup):g(t),t}catch{return console.log("////////////********* REQUEST ERROR ***********//////////////////////"),T(t.response)?console.log(JSON.parse(t.response)):console.log(t.response),!1}}class m extends Array{on(e,n,r){typeof n=="function"?this.forEach(i=>i.addEventListener(e,n)):this[0].querySelectorAll(n).forEach(o=>{o.addEventListener(e,r)})}value=function(){return this[0].getAttribute("value")};first=function(){return this[0]};attr=function(e,n){return n&&this[0].setAttribute(e,n),this[0].getAttribute(e)};selectedIndexValue=function(){if(this.length)return this[0].selectedOptions[0].value};options=function(){if(this.length)return this[0].options};count=function(){return this.length};text=function(){if(this.length)return this[0].innerText};checked=function(){if(this.length)return this[0].checked};getWithStyle=function(e,n){let r=[];return this.forEach(i=>{i.style[e]===n&&r.push(i)}),r};addClass=function(e){this.forEach(n=>{n.classList.add(e)})};removeClass=function(e){this.forEach(n=>{n.classList.remove(e)})};hasClass=function(e){if(this.classList.contains(e))return!0};append=function(e){this[0].appendChild(e)};find=function(e){return typeof e=="string"?this[0].querySelector(e):this[0].filter(r=>r===e)[0]};findAll=function(e){if(typeof e=="string")return this[0].querySelectorAll(e)};css=function(e,n){if(!n)return this[0].style[e];this.forEach(r=>{r.style[e]=n})};ready(e){this.some(r=>r.readyState!=null&&r.readyState!="loading")?e():document.addEventListener("DOMContentLoaded",e)}}function f(t){return typeof t=="string"||t instanceof String?new m(...document.querySelectorAll(t)):new m(t)}function z(t){let e=document.cookie.match("(^|;)?"+t+"=([^;]*)");return e?e[2]:!1}function B(t){return F(t)&&(document.cookie=t+"=; Max-Age=-1;"),!1}function F(t){return!!document.cookie.match("(^|;)?"+t+"=([^;]*)")}function W(t,e,n,r,i="/"){let o={s:1,m:60,h:3600,d:86400,w:604800,M:2592e3,y:31536e3},s=new Date;s.setTime(s.getTime()+n*o.unit),document.cookie=`${t}=${e}; expires=${s} path=${i}; SameSite=lax`}function X(t,e,n,r,i,o){let s=new Date(t),a=["January","February","March","April","May","June","July","August","September","October","November","December"],c=["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],p=s.getFullYear(),l=s.getMonth()+1,u=s.getDate(),h=a[s.getMonth()],y=s.getDay(),v=c[s.getDay()];return u<10&&(u="0"+u),l<10&&(l="0"+l),{yyyy:p,mm:l,dd:u,M:h,D:y,wd:v}}export{f as $,N as _,A as a,S as b,J as c,P as d,U as e,X as f,z as g,I as h,$ as i,B as j,C as k,H as l,q as o,j as p,W as s,D as t,O as v};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Tables-DTDxA2L4.js","./common-NvRRxPie.js","./Table-D-k2d7db.js","./constants-D_Ps4z6O.js","./SelectNew-K3rnvVtj.js","./search-Z_be1yRK.js","./search-CWOthOO5.css","./Table-DVC5uO6I.css","./index-CvUWDVGZ.js","./cookie-CxM_oP57.js","./cookie-D27E5iiV.css","./index-ByH27O8_.css","./chartjs-G2HxJbRs.js","./chartjs-DIC6kIm2.js","./chartjs-Dap-k2NF.css","./ProductFilter-BRFVWCvo.js","./quill-B80OphAl.js","./lodashes-GiBPWDzC.js","./MyQuill-DcqdAerC.js","./MyQuill-B2DiOfU9.css","./Promotion-e8jbGfFB.js","./Promotion--2U3bzhI.css","./modal-CGJDDCsh.js","./modal-CKZnJzOE.css","./card_panel-D5734BGh.js","./card_panel-UF59AJVy.css","./Product-EKcQxSyy.js","./QuillFactory-Z04EYdT1.js","./Product-Cx1xAnsF.css","./order-CR2ZD9SS.js","./order-2iCXeaCU.css","./catalog-item-C5fRtVqS.js","./catalog-item-C1dPOXU7.css","./Category-DE_5ygcH.js"])))=>i.map(i=>d[i]);
import{$ as a,p,_ as n}from"./common-NvRRxPie.js";import{a as m,q as r}from"./constants-D_Ps4z6O.js";import{S as _}from"./search-Z_be1yRK.js";import"./quill-B80OphAl.js";import{M as h}from"./MyQuill-DcqdAerC.js";import"./lodashes-GiBPWDzC.js";class g{constructor(){this.linkCacheClear=a("#cache-clear").first(),this.linkCacheClear.addEventListener("click",this.clear)}async clear(t){t.preventDefault(),await p("/adminsc/cache/clear",{})}}class v{constructor(t){this.$sync=t,this.$log_content=a(t).find("#log_content"),this.$sync.onclick=this.handleClick.bind(this)}async handleClick({target:t}){if(t.classList.contains("button")){const i=await p(`/adminsc/sync/${t.id}`);i?.success&&(this.$log_content.innerText=i.content)}}}let f=a(".sync").first();f&&new v(f);function L(){const o=a(".admin-panel").first();document.addEventListener("scroll",t.bind(o),{passive:!0});function t(){o&&(window.scrollY>40?o.classList.add("fixed"):o.classList.remove("fixed"))}}class y{constructor(){const t=window.location.pathname;/\/adminsc\/settings/.test(t)||/\/adminsc\/right\/list/.test(t)||/\/adminsc\/post\/list/.test(t)||/\/adminsc\/todo\/list/.test(t)?a("[settings]").addClass("current"):/\/auth\/profile/.test(t)||(/\/adminsc\/crm/.test(t)?a("[crm]").addClass("current"):/\/adminsc\/planning/.test(t)?a("[plan]").addClass("current"):/\/adminsc\/category/.test(t)||/\/adminsc\/product/.test(t)?a("[catalog]").addClass("current"):/\/test/.test(t)||/\/opentest/.test(t)||/\/adminsc\/opentest/.test(t)||/\/adminsc\/test/.test(t)?a("[test]").addClass("current"):a("[href='/adminsc']").addClass("current"))}}class b{constructor(){this.setTabs(),this.setPages(),this.setQuils()}setTabs(){const t=a(".tab");t[0].classList.add("active"),[].forEach.call(t,i=>{i.addEventListener("click",c=>{const d=c.target.dataset.id;a(".page.active").first().classList.remove("active"),a(`.page[data-id='${d}']`).first().classList.add("active"),a(".tab.active").first().classList.remove("active"),c.target.classList.add("active")})})}setPages(){a(".page")[0].classList.add("active")}setQuils(){const t=a(".quill[data-id]");t[0].classList.add("active"),[].forEach.call(t,i=>{this.id=i.dataset.id,new h(`.quill[data-id='${this.id}']`,!0,!0,!0,"snow",this.dto.bind(this))})}dto(t){return{id:this.id,model:"pages",fields:{content:t}}}}class E{constructor(t){if(!t)return!1;this.sidebar=t,this.sidebar[m]("click",this.handleClick.bind(this)),this.burger=document[r](".burger"),this.burger[m]("click",this.handleClick.bind(this))}handleClick({target:t}){t===this.burger?this.sidebar.classList.toggle("show"):this.openUl(t)}openUl(t){const i=t.closest("li");i&&(i?.classList?.contains("open")||this.closeUls(),i.classList.toggle("open"),this.rotateArrow(i))}closeUls(){const t=a(this.sidebar).find(".open");t&&(t[r](".rotate").classList.toggle("rotate"),t.classList.toggle("open"))}rotateArrow(t){const i=a(t).find(".arrow");i&&i.classList.toggle("rotate")}}a(document).ready(async function(){if(document.body.classList.remove("preload"),!window.location.pathname.includes("adminsc"))return!1;if(a("[custom-table]").first()){const{default:s}=await n(async()=>{const{default:e}=await import("./Tables-DTDxA2L4.js");return{default:e}},__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url);new s}new g,new _(!0),new y,L();const i=a(".sidebar").first();if(new E(i),window.location.pathname==="/adminsc/pages")new b;else if(window.location.pathname!=="/adminsc/user"){if(!window.location.pathname.startsWith("/adminsc/user/edit")){if(window.location.href.includes("/test")){const{default:s}=await n(async()=>{const{default:e}=await import("./index-CvUWDVGZ.js").then(w=>w.i);return{default:e}},__vite__mapDeps([8,1,9,10,11]),import.meta.url)}else if(window.location.pathname==="/adminsc"){const{default:s}=await n(async()=>{const{default:e}=await import("./chartjs-G2HxJbRs.js");return{default:e}},__vite__mapDeps([12,13,14]),import.meta.url)}else if(window.location.pathname==="/adminsc/report/filter"){const{default:s}=await n(async()=>{const{default:e}=await import("./ProductFilter-BRFVWCvo.js");return{default:e}},__vite__mapDeps([15,3,1,4,5,6,16,17,18,19]),import.meta.url);new s(a(".products-filter").first())}}}if(a(".promotion-edit").first()){const{default:s}=await n(async()=>{const{default:e}=await import("./Promotion-e8jbGfFB.js");return{default:e}},__vite__mapDeps([20,1,4,5,3,6,21]),import.meta.url);new s}if(document[r](".modal")){const{default:s}=await n(async()=>{const{default:e}=await import("./modal-CGJDDCsh.js");return{default:e}},__vite__mapDeps([22,1,3,23]),import.meta.url);new s}if(document[r](".card-panel")){const{default:s}=await n(async()=>{const{default:e}=await import("./card_panel-D5734BGh.js");return{default:e}},__vite__mapDeps([24,1,25]),import.meta.url);new s}if(document[r](".item-wrap[data-model='product']")){const{default:s}=await n(async()=>{const{default:e}=await import("./Product-EKcQxSyy.js");return{default:e}},__vite__mapDeps([26,1,4,5,3,6,27,16,17,18,19,28]),import.meta.url);new s}if(document[r](".order-edit")){const{default:s}=await n(async()=>{const{default:e}=await import("./order-CR2ZD9SS.js");return{default:e}},__vite__mapDeps([29,4,5,1,3,6,30]),import.meta.url);new s}const l=document[r](".item-wrap");if(l){const{default:s}=await n(async()=>{const{default:e}=await import("./catalog-item-C5fRtVqS.js");return{default:e}},__vite__mapDeps([31,1,3,5,6,4,32]),import.meta.url);new s(l)}const u=document[r](".item-wrap[data-model='category']");if(u){const{default:s}=await n(async()=>{const{default:e}=await import("./Category-DE_5ygcH.js");return{default:e}},__vite__mapDeps([33,1,4,5,3,6,27,16,17,18,19]),import.meta.url);new s(u)}});
//# sourceMappingURL=admin-BcxNETFW.js.map

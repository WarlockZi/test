const x="modulepreload",A=function(t,e){return new URL(t,e).href},E={},te=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){let i=function(o){return Promise.all(o.map(l=>Promise.resolve(l).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};const a=document.getElementsByTagName("link"),p=document.querySelector("meta[property=csp-nonce]"),h=p?.nonce||p?.getAttribute("nonce");r=i(n.map(o=>{if(o=A(o,s),o in E)return;E[o]=!0;const l=o.endsWith(".css"),f=l?'[rel="stylesheet"]':"";if(!!s)for(let d=a.length-1;d>=0;d--){const g=a[d];if(g.href===o&&(!l||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${f}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":x,l||(u.as="script"),u.crossOrigin="",u.href=o,h&&u.setAttribute("nonce",h),document.head.appendChild(u),l)return new Promise((d,g)=>{u.addEventListener("load",d),u.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${o}`)))})}))}function c(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&c(a.reason);return e().catch(c)})},_=()=>{const t=document.documentElement.scrollTop||document.body.scrollTop;t>0&&(window.requestAnimationFrame(_),window.scrollTo(0,t-t/8))},R=new Intl.NumberFormat("ru",{style:"currency",currency:"RUB",minimumFractionDigits:2});function D(t,e){if(typeof e=="FileList")for(let n=0;n<e.length;n++)t.formData.append(n,e[n]);else t.append("file",e);return t}function C(t,e,n=""){for(let s in e){let r=e[s],c=n?n+"["+s+"]":s;typeof r=="string"||typeof r=="number"?t.append(c,r):typeof r=="object"&&createFormData(r,c)}return t}function k(t,e){let n=new FormData;return n=D(n,e),n=C(n,t),n}const P=(t,e=700)=>{let n;return function(){const s=()=>t.apply(this,arguments);clearTimeout(n),n=setTimeout(s,e)}};function w(t){try{JSON.parse(t)}catch{return!1}return!0}function M(t){var e=new RegExp("&nbsp;?","g");return t.replace(e," ")}function O(t){var e=new RegExp("\\n?","g");return t.replace(e,"")}function F(t){var e=new RegExp("\\t?","g");return t.replace(e,"")}function N(t){return t.trim()}function T(t){return t=M(t),t=O(t),t=F(t),t=N(t),t}function $(t){const e=m(t).first().outerHTML;return W(T(e))}const j={sort:()=>{const t=(void 0).nextElementSibling;(void 0).value.match(/\D+/)?(t.innerText="Только цифры",t.style.opacity="1"):t.style.opacity==="1"&&(t.style.opacity="0")},email:t=>{if(!t)return!1;const e="Неправильный формат почты";return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())?!1:e},password:t=>{if(!t)return!1;let e="Пароль может состоять из - Большие латинские бкувы - Маленькие латинские буквы";return/^[a-zA-Z0-9-_!#$%^&*()]{6,30}$/.test(t)?!1:e}},b={show:function(t){const e=this.el("div","popup"),n=this.el("div","popup__close");n.innerText="X";const s=this.el("div","popup__item");s.innerText=t,s.append(n),e.append(s),e.addEventListener("click",this.close,!0),document.body.append(e);const r=5e3;setTimeout(()=>{s.classList.remove("popup__item"),s.classList.add("popup-hide")},r);const c=r+950;setTimeout(()=>{s.remove()},c)},close:function({target:t}){t.classList.contains("popup__close")&&this.closest(".popup").remove()},el:function(t,e){const n=document.createElement(t);return n.classList.add(e),n}};function y(){return document.querySelector('meta[name="phpSession"]').getAttribute("content")??null}function q(t){if(!t)return;const e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;","(":"&fp",")":"&bp","/":"&fs","\\":"&bs",";":"&sc","|":"&or","?php":"&?php",delete:"&del"},n=/[&<>'()\/\\;]/gi;return t.replace(n,r=>e[r]).trim()}function z(t){const n=[],s=/[a-zA-Z0-9\@\-\_\.А-я]*/;return t.length||n.push("Поле не должно быть пустым"),t.replace(s,"").length&&n.push("Разрешены только английские"),t.length<6&&n.push("Длина меньше 6 символов"),n}function H(t){const e=decodeURI(t),n=2,s="(.){2,}@(.){2,}",r=".",c="^(.){2,}@(.){2,}.(.){2,}$",i=[],a=/[a-zA-Z0-9\@\-\_\.]*/;return e.length||i.push("Поле не должно быть пустым"),e.replace(a,"").length&&i.push("Разрешены только английские"),e.length<n&&i.push("Длина меньше 2 символов"),/[\@]/.test(e)||i.push("Нет знака @"),e.match(s)||i.push("Меньше 2 знаков после @"),e.includes(r)||i.push("Нет точки"),e.match(c)||i.push("Меньше 2 знаков После точки"),i}function J(t,e="",n=""){let s=document.createElement(t);return e&&s.classList.add(e),s.innerText=n||"",s}class B{constructor(){this.attributes=[]}tag(e){return this.tag=e,this}className(e){return this._className=e,this}field(e){return this._field=e,this}text(e){return this._text=e,this}html(e){return this._html=e,this}attr(e,n){return this.attributes.push([e,n]),this}get(){let e=document.createElement(this.tag);return this._text&&(e.innerText=this._text),this._html&&(e.innerHTML=this._html),this._className&&e.classList.add(this._className),this._field&&(e.dataset.field=this._field),this.attributes.forEach((n,s)=>{e.setAttribute(n[0],n[1])}),e}}async function I(t,e={},n={}){const s=Z(e),c={method:"POST",header:U(e,n),body:s},i=await V(t,c).catch(a=>{console.log(a)});return Q(i),L(i),i}function U(t,e){if(t instanceof FormData)return e;if(X(t))return e["Content-Type"]="application/json",e["X-Requested-With"]="XMLHttpRequest",e}function Z(t){return t instanceof FormData?(t.append("phpSession",y()),t):(t.phpSession=y(),JSON.stringify(t,null,2))}function W(t){return t.replaceAll("&","%26")}function X(t){return typeof t=="object"&&t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function V(t,e){return new Promise(async(n,s)=>{await fetch(t,e).then(async r=>{if(r.status===200){const c=await r.json();n(c)}}).catch(r=>{console.log("Fetch error"+r.message),s(r.message)})})}function L(t){const e=m(".message")[0];if(!e)return!1;t.msg?e.innerHTML=t.msg:t.success?e.innerHTML=t.success:t.error&&(e.innerHTML=t.error),m(e).removeClass("success"),m(e).removeClass("error")}function Q(t){try{return t?.popup?b.show(t?.popup):L(t),t}catch{return console.log("////////////********* REQUEST ERROR ***********//////////////////////"),w(t.response)?console.log(JSON.parse(t.response)):console.log(t.response),!1}}class S extends Array{on(e,n,s){typeof n=="function"?this.forEach(r=>r.addEventListener(e,n)):this[0].querySelectorAll(n).forEach(c=>{c.addEventListener(e,s)})}value=function(){return this[0].getAttribute("value")};first=function(){return this[0]};attr=function(e,n){return n&&this[0].setAttribute(e,n),this[0].getAttribute(e)};selectedIndexValue=function(){if(this.length)return this[0].selectedOptions[0].value};options=function(){if(this.length)return this[0].options};count=function(){return this.length};text=function(){if(this.length)return this[0].innerText};checked=function(){if(this.length)return this[0].checked};getWithStyle=function(e,n){let s=[];return this.forEach(r=>{r.style[e]===n&&s.push(r)}),s};addClass=function(e){this.forEach(n=>{n.classList.add(e)})};removeClass=function(e){this.forEach(n=>{n.classList.remove(e)})};hasClass=function(e){if(this.classList.contains(e))return!0};append=function(e){this[0].appendChild(e)};find=function(e){return typeof e=="string"?this[0].querySelector(e):this[0].filter(s=>s===e)[0]};findAll=function(e){if(typeof e=="string")return this[0].querySelectorAll(e)};css=function(e,n){if(!n)return this[0].style[e];this.forEach(s=>{s.style[e]=n})};ready(e){this.some(s=>s.readyState!=null&&s.readyState!="loading")?e():document.addEventListener("DOMContentLoaded",e)}}function m(t){return typeof t=="string"||t instanceof String?new S(...document.querySelectorAll(t)):new S(t)}function Y(t){let e=document.cookie.match("(^|;)?"+t+"=([^;]*)");return e?e[2]:!1}function G(t,e){const n={},s=new Date;return s.setTime(s.getTime()+t*n.unit),s}function K(t,e,n,s,r="/",c="vitexopt.ru",i=!1,a=!1){const p=G(n),h=i?"Secure":"",o=a?"HttpOnly":"";document.cookie=`${t}=${e}; expires=${p} path=${r}; SameSite=lax;${h};${o}`}function ee(t,e,n,s,r,c){let i=new Date(t),a=["January","February","March","April","May","June","July","August","September","October","November","December"],p=["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],h=i.getFullYear(),o=i.getMonth()+1,l=i.getDate(),f=a[i.getMonth()],v=i.getDay(),u=p[i.getDay()];return l<10&&(l="0"+l),o<10&&(o="0"+o),{yyyy:h,mm:o,dd:l,M:f,D:v,wd:u}}const ne=Object.freeze(Object.defineProperty({__proto__:null,$:m,IsJson:w,cachePage:$,createEl:J,createElement:B,debounce:P,emailValidator:H,formatter:R,fragmentDate:ee,getCookie:Y,getPhpSession:y,newObjAndFiles2FormData:k,passwordValidator:z,popup:b,post:I,sanitizeInput:q,scrollToTop:_,setCookie:K,trimStr:T,validate:j},Symbol.toStringTag,{value:"Module"}));export{m as $,w as I,te as _,q as a,z as b,B as c,P as d,H as e,K as f,y as g,J as h,Y as i,ee as j,R as k,b as l,$ as m,k as n,ne as o,I as p,_ as s,j as v};
//# sourceMappingURL=common-Cc2XXPhh.js.map

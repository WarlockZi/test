const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/modal-Bbxlixkb.js","assets/search-vH85qEqy.js","assets/search-CgsZ06fR.css","assets/modal-CAAhepBS.css","assets/index-X8veDN7K.js","assets/index-DmAyeOWP.css","assets/chartjs-CHNF-Ruf.js","assets/chartjs-Dap-k2NF.css","assets/ProductFilter-CueVeze7.js","assets/MyQuill-veZF1Y7X.js","assets/MyQuill-GClCj9AP.css","assets/table-DLkGotsO.js","assets/table-D-iEpebi.css","assets/Promotion--t8u3m_F.js","assets/Promotion--2U3bzhI.css","assets/card_panel-B0clku1X.js","assets/card_panel-UF59AJVy.css","assets/Product-C29OTeR_.js","assets/QuillFactory-e_dWLDso.js","assets/Product-C9KtOBb-.css","assets/catalog-item-B9IMcNQe.js","assets/catalog-item-CC5C5WoE.css","assets/order-BYJ014hh.js","assets/order-D46ScIno.css","assets/Category-BIPfF5nE.js"])))=>i.map(i=>d[i]);
import{$ as s,p as f,S as m,a as l,q as r,b as w,_ as o}from"./search-vH85qEqy.js";import{M as h}from"./MyQuill-veZF1Y7X.js";import"./table-DLkGotsO.js";import p from"./Promotion--t8u3m_F.js";class _{constructor(t){this.$sync=t,this.$log_content=s(t).find("#log_content"),this.$sync.onclick=this.handleClick.bind(this)}async handleClick({target:t}){if(t.classList.contains("button")){let e=await f(`/adminsc/sync/${t.id}`);e?.arr?.success&&(this.$log_content.innerText=e.arr?.content)}}}let u=s(".sync").first();u&&new _(u);function g(){const n=s(".admin-panel").first();document.addEventListener("scroll",t.bind(n),{passive:!0});function t(){n&&(window.scrollY>40?n.classList.add("fixed"):n.classList.remove("fixed"))}}class v{constructor(){const t=window.location.pathname;/\/adminsc\/settings/.test(t)||/\/adminsc\/right\/list/.test(t)||/\/adminsc\/post\/list/.test(t)||/\/adminsc\/todo\/list/.test(t)?s("[settings]").addClass("current"):/\/auth\/profile/.test(t)||(/\/adminsc\/crm/.test(t)?s("[crm]").addClass("current"):/\/adminsc\/planning/.test(t)?s("[plan]").addClass("current"):/\/adminsc\/category/.test(t)||/\/adminsc\/product/.test(t)?s("[catalog]").addClass("current"):/\/test/.test(t)||/\/opentest/.test(t)||/\/adminsc\/opentest/.test(t)||/\/adminsc\/test/.test(t)?s("[test]").addClass("current"):s("[href='/adminsc']").addClass("current"))}}class L{constructor(){this.setTabs(),this.setPages(),this.setQuils()}setTabs(){const t=s(".tab");t[0].classList.add("active"),[].forEach.call(t,e=>{e.addEventListener("click",c=>{const d=c.target.dataset.id;s(".page.active").first().classList.remove("active"),s(`.page[data-id='${d}']`).first().classList.add("active"),s(".tab.active").first().classList.remove("active"),c.target.classList.add("active")})})}setPages(){s(".page")[0].classList.add("active")}setQuils(){const t=s(".quill[data-id]");t[0].classList.add("active"),[].forEach.call(t,e=>{this.id=e.dataset.id,new h(`.quill[data-id='${this.id}']`,!0,!0,!0,"snow",this.dto.bind(this))})}dto(t){return{id:this.id,model:"pages",fields:{content:t}}}}class y{constructor(){if(!s('[data-model="user"]')[0])return!1;this.setSelects()}setSelects(){const t=s("[select-new]:has(option)");[].forEach.call(t,e=>{new m(e)})}setRights(){let t=rights().replace(/,$/,""),e=s("[data-field='rights']")[0];e.dataset.value=t}rights(){let t=s(".right:checked"),e="";return[].map.call(t,c=>{let d=c.previousElementSibling.innerText+",";e+=d},e),e}confirm(){const t=s("#conf option");for(let e of t)if(e.selected)return e.value;return"0"}}class b{constructor(t){if(!t)return!1;this.sidebar=t,this.sidebar[l]("click",this.handleClick.bind(this)),this.burger=document[r](".burger"),this.burger[l]("click",this.handleClick.bind(this))}handleClick({target:t}){t===this.burger?this.sidebar.classList.toggle("show"):this.openUl(t)}openUl(t){const e=t.closest("li");e&&(e?.classList?.contains("open")||this.closeUls(),e.classList.toggle("open"),this.rotateArrow(e))}closeUls(){const t=s(this.sidebar).find(".open");t&&(t[r](".rotate").classList.toggle("rotate"),t.classList.toggle("open"))}rotateArrow(t){const e=s(t).find(".arrow");e&&e.classList.toggle("rotate")}}s(document).ready(async function(){if(document.body.classList.remove("preload"),!window.location.pathname.includes("adminsc"))return!1;if(new w(!0),new v,g(),new b(s(".sidebar").first()),new p,document[r](".modal")){const{default:a}=await o(async()=>{const{default:i}=await import("./modal-Bbxlixkb.js");return{default:i}},__vite__mapDeps([0,1,2,3]));new a}if(window.location.pathname==="/adminsc/pages")new L;else if(window.location.pathname!=="/adminsc/user"){if(window.location.pathname.startsWith("/adminsc/user/edit"))new y;else if(window.location.href.includes("/test"))await o(async()=>{const{default:a}=await import("./index-X8veDN7K.js").then(i=>i.i);return{default:a}},__vite__mapDeps([4,1,2,5]));else if(window.location.pathname==="/adminsc")await o(async()=>{const{default:a}=await import("./chartjs-CHNF-Ruf.js");return{default:a}},__vite__mapDeps([6,7]));else if(window.location.pathname==="/adminsc/report/filter"){const{default:a}=await o(async()=>{const{default:i}=await import("./ProductFilter-CueVeze7.js");return{default:i}},__vite__mapDeps([8,1,2,9,10,11,12,13,14]));new a(s(".products-filter").first())}}if(document[r](".card-panel")){const{default:a}=await o(async()=>{const{default:i}=await import("./card_panel-B0clku1X.js");return{default:i}},__vite__mapDeps([15,1,2,16]));new a}if(document[r](".item-wrap[data-model='product']")){const{default:a}=await o(async()=>{const{default:i}=await import("./Product-C29OTeR_.js");return{default:i}},__vite__mapDeps([17,1,2,18,9,10,11,12,13,14,19]));new a}const c=document[r](".item-wrap");if(c){const{default:a}=await o(async()=>{const{default:i}=await import("./catalog-item-B9IMcNQe.js");return{default:i}},__vite__mapDeps([20,1,2,21]));new a(c)}if(document[r](".order-edit")){const{default:a}=await o(async()=>{const{default:i}=await import("./order-BYJ014hh.js");return{default:i}},__vite__mapDeps([22,1,2,23]));new a}const d=document[r](".item-wrap[data-model='category']");if(d){const{default:a}=await o(async()=>{const{default:i}=await import("./Category-BIPfF5nE.js");return{default:i}},__vite__mapDeps([24,1,2,18,9,10,11,12,13,14]));new a(d)}});
//# sourceMappingURL=admin-BhZGLmLA.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Tables-4j8rJfMj.js","assets/search-maXjdn-c.js","assets/search-CWOthOO5.css","assets/Table-DhLyt-3R.js","assets/Table-BqCz7GlE.css","assets/index-BhkG-wNS.js","assets/index-DmAyeOWP.css","assets/chartjs-CHNF-Ruf.js","assets/chartjs-Dap-k2NF.css","assets/ProductFilter-BzQn0iSH.js","assets/MyQuill-BEzRfrce.js","assets/MyQuill-GClCj9AP.css","assets/Promotion-CvIHahqJ.js","assets/Promotion--2U3bzhI.css","assets/modal-DJEww_Ih.js","assets/modal-CAAhepBS.css","assets/card_panel-fcp2gS5s.js","assets/card_panel-UF59AJVy.css","assets/Product-Ddx71tCF.js","assets/QuillFactory-DNwRwWvG.js","assets/Product-C9KtOBb-.css","assets/order-CoshZtP0.js","assets/order-CJaZnUp8.css","assets/catalog-item-Ce7m_5Gr.js","assets/catalog-item-DYLOAFwQ.css","assets/Category-3MPWU_p7.js"])))=>i.map(i=>d[i]);
import{$ as s,p as w,S as p,a as f,q as r,_ as n,b as h}from"./search-maXjdn-c.js";import{M as _}from"./MyQuill-BEzRfrce.js";class g{constructor(t){this.$sync=t,this.$log_content=s(t).find("#log_content"),this.$sync.onclick=this.handleClick.bind(this)}async handleClick({target:t}){if(t.classList.contains("button")){let e=await w(`/adminsc/sync/${t.id}`);e?.arr?.success&&(this.$log_content.innerText=e.arr?.content)}}}let m=s(".sync").first();m&&new g(m);function v(){const o=s(".admin-panel").first();document.addEventListener("scroll",t.bind(o),{passive:!0});function t(){o&&(window.scrollY>40?o.classList.add("fixed"):o.classList.remove("fixed"))}}class L{constructor(){const t=window.location.pathname;/\/adminsc\/settings/.test(t)||/\/adminsc\/right\/list/.test(t)||/\/adminsc\/post\/list/.test(t)||/\/adminsc\/todo\/list/.test(t)?s("[settings]").addClass("current"):/\/auth\/profile/.test(t)||(/\/adminsc\/crm/.test(t)?s("[crm]").addClass("current"):/\/adminsc\/planning/.test(t)?s("[plan]").addClass("current"):/\/adminsc\/category/.test(t)||/\/adminsc\/product/.test(t)?s("[catalog]").addClass("current"):/\/test/.test(t)||/\/opentest/.test(t)||/\/adminsc\/opentest/.test(t)||/\/adminsc\/test/.test(t)?s("[test]").addClass("current"):s("[href='/adminsc']").addClass("current"))}}class b{constructor(){this.setTabs(),this.setPages(),this.setQuils()}setTabs(){const t=s(".tab");t[0].classList.add("active"),[].forEach.call(t,e=>{e.addEventListener("click",c=>{const d=c.target.dataset.id;s(".page.active").first().classList.remove("active"),s(`.page[data-id='${d}']`).first().classList.add("active"),s(".tab.active").first().classList.remove("active"),c.target.classList.add("active")})})}setPages(){s(".page")[0].classList.add("active")}setQuils(){const t=s(".quill[data-id]");t[0].classList.add("active"),[].forEach.call(t,e=>{this.id=e.dataset.id,new _(`.quill[data-id='${this.id}']`,!0,!0,!0,"snow",this.dto.bind(this))})}dto(t){return{id:this.id,model:"pages",fields:{content:t}}}}class E{constructor(){if(!s('[data-model="user"]')[0])return!1;this.setSelects()}setSelects(){const t=s("[select-new]:has(option)");[].forEach.call(t,e=>{new p(e)})}setRights(){let t=rights().replace(/,$/,""),e=s("[data-field='rights']")[0];e.dataset.value=t}rights(){let t=s(".right:checked"),e="";return[].map.call(t,c=>{let d=c.previousElementSibling.innerText+",";e+=d},e),e}confirm(){const t=s("#conf option");for(let e of t)if(e.selected)return e.value;return"0"}}class y{constructor(t){if(!t)return!1;this.sidebar=t,this.sidebar[f]("click",this.handleClick.bind(this)),this.burger=document[r](".burger"),this.burger[f]("click",this.handleClick.bind(this))}handleClick({target:t}){t===this.burger?this.sidebar.classList.toggle("show"):this.openUl(t)}openUl(t){const e=t.closest("li");e&&(e?.classList?.contains("open")||this.closeUls(),e.classList.toggle("open"),this.rotateArrow(e))}closeUls(){const t=s(this.sidebar).find(".open");t&&(t[r](".rotate").classList.toggle("rotate"),t.classList.toggle("open"))}rotateArrow(t){const e=s(t).find(".arrow");e&&e.classList.toggle("rotate")}}s(document).ready(async function(){if(document.body.classList.remove("preload"),!window.location.pathname.includes("adminsc"))return!1;if(s("[custom-table]").first()&&await n(async()=>{const{default:a}=await import("./Tables-4j8rJfMj.js");return{default:a}},__vite__mapDeps([0,1,2,3,4])),new h(!0),new L,v(),new y(s(".sidebar").first()),window.location.pathname==="/adminsc/pages")new b;else if(window.location.pathname!=="/adminsc/user"){if(window.location.pathname.startsWith("/adminsc/user/edit"))new E;else if(window.location.href.includes("/test"))await n(async()=>{const{default:a}=await import("./index-BhkG-wNS.js").then(i=>i.i);return{default:a}},__vite__mapDeps([5,1,2,6]));else if(window.location.pathname==="/adminsc")await n(async()=>{const{default:a}=await import("./chartjs-CHNF-Ruf.js");return{default:a}},__vite__mapDeps([7,8]));else if(window.location.pathname==="/adminsc/report/filter"){const{default:a}=await n(async()=>{const{default:i}=await import("./ProductFilter-BzQn0iSH.js");return{default:i}},__vite__mapDeps([9,1,2,10,11]));new a(s(".products-filter").first())}}if(s(".promotion-edit").first()){const{default:a}=await n(async()=>{const{default:i}=await import("./Promotion-CvIHahqJ.js");return{default:i}},__vite__mapDeps([12,1,2,13]));new a}if(document[r](".modal")){const{default:a}=await n(async()=>{const{default:i}=await import("./modal-DJEww_Ih.js");return{default:i}},__vite__mapDeps([14,1,2,15]));new a}if(document[r](".card-panel")){const{default:a}=await n(async()=>{const{default:i}=await import("./card_panel-fcp2gS5s.js");return{default:i}},__vite__mapDeps([16,1,2,17]));new a}if(document[r](".item-wrap[data-model='product']")){const{default:a}=await n(async()=>{const{default:i}=await import("./Product-Ddx71tCF.js");return{default:i}},__vite__mapDeps([18,1,2,19,10,11,20]));new a}if(document[r](".order-edit")){const{default:a}=await n(async()=>{const{default:i}=await import("./order-CoshZtP0.js");return{default:i}},__vite__mapDeps([21,1,2,22]));new a}const l=document[r](".item-wrap");if(l){const{default:a}=await n(async()=>{const{default:i}=await import("./catalog-item-Ce7m_5Gr.js");return{default:i}},__vite__mapDeps([23,1,2,24]));new a(l)}const u=document[r](".item-wrap[data-model='category']");if(u){const{default:a}=await n(async()=>{const{default:i}=await import("./Category-3MPWU_p7.js");return{default:i}},__vite__mapDeps([25,1,2,19,10,11]));new a(u)}});
//# sourceMappingURL=admin-BLT7MX8o.js.map

{"version":3,"mappings":"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","names":["hoist","$","scrollToTop","defaultInstanceSettings","defaultTweenSettings","validTransforms","cache","minMax","val","min","max","stringContains","str","text","applyArguments","func","args","is","a","parseEasingParameters","string","match","p","spring","duration","params","mass","stiffness","damping","velocity","w0","zeta","wd","b","solver","t","progress","getDuration","cached","frame","elapsed","rest","steps","bezier","kSplineTableSize","kSampleStepSize","A","aA1","aA2","B","C","calcBezier","aT","getSlope","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","i","newtonRaphsonIterate","aGuessT","currentSlope","mY1","mY2","sampleValues","getTForX","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","x","penner","eases","functionEasings","pow2","amplitude","period","baseEasings","name","easeIn","parseEasings","easing","ease","selectString","nodes","filterArray","arr","callback","len","thisArg","result","flattenArray","toArray","o","arrayContains","cloneObject","clone","replaceObjectProps","o1","o2","mergeObjects","rgbToRgba","rgbValue","rgb","hexToRgba","hexValue","rgx","hex","m","r","g","hslToRgba","hslValue","hsl","h","s","l","hue2rgb","q","colorToRgb","getUnit","split","getTransformUnit","propName","getFunctionValue","animatable","getAttribute","el","prop","convertPxToUnit","value","unit","valueUnit","baseline","tempEl","parentEl","factor","convertedUnit","getCSSValue","uppercasePropName","getAnimationType","getElementTransforms","reg","transforms","getTransformValue","defaultVal","getOriginalTargetValue","target","getRelativeValue","to","from","operator","u","y","validateValue","originalUnit","unitLess","getDistance","p1","p2","getCircleLength","getRectLength","getLineLength","getPolylineLength","points","totalLength","previousPos","currentPos","getPolygonLength","getTotalLength","setDashoffset","pathLength","getParentSvgEl","getParentSvg","pathEl","svgData","svg","parentSvgEl","rect","viewBoxAttr","width","height","viewBox","getPath","path","percent","property","getPathProgress","isPathTargetInsideSVG","point","offset","p0","scaleX","scaleY","decomposeValue","parseTargets","targets","targetsArray","item","pos","self","getAnimatables","parsed","normalizePropertyTweens","tweenSettings","settings","isFromTo","propArray","v","obj","k","flattenKeyframes","keyframes","propertyNames","key","properties","loop","newKey","getProperties","normalizeTweenValues","tween","normalizeTweens","previousTween","tweenValue","toUnit","originalValue","previousValue","fromUnit","setProgressValue","manual","setTargetsValue","animatables","animType","createAnimation","tweens","lastTween","getAnimations","getInstanceTimings","animations","animLength","getTlOffset","anim","timings","instanceID","createNewInstance","instanceSettings","id","activeInstances","engine","raf","play","isDocumentHidden","anime","step","activeInstancesLength","activeInstance","handleVisibilityChange","instance","startTime","lastTime","now","children","childrenLength","resolve","makePromise","promise","_resolve","toggleInstanceDirection","direction","child","adjustTime","time","resetTime","seekChild","syncInstanceChildren","i$1","setAnimationsProgress","insTime","animationsLength","tweenLength","eased","strings","round","numbers","toNumbersLength","n","toNumber","fromNumber","stringsLength","n$1","setCallback","cb","countIteration","setInstanceProgress","engineTime","insDuration","insDelay","insEndDelay","removeTargetsFromInstance","removeTargetsFromAnimations","c","childAnimations","removeTargetsFromActiveInstances","stagger","grid","axis","fromIndex","fromFirst","fromCenter","fromLast","isRange","val1","val2","start","values","maxValue","index","fromX","fromY","toX","toY","distanceX","distanceY","spacing","timeline","tl","instanceParams","timelineOffset","tlIndex","passThrough","ins","insParams","tlDuration","opacity","delay1","delay2","fromLeft","fromRight","scroll","prevScrollpos","headerDiv","headerBottom","currentScrollPos","headerMenu","menu","IntObserver","options","typingText","typing","entries","observer","entry","containers","stepFadeIn","observer1","MobileMenu","InputContainer","_type","_onKeyUp","_onInput","_className","_hidden","_required","_name","_autocomplete","_pattern","_badgeWidth","_id","_placeholder","_errorEl","createElement","className","showPass","FieldBuilder","type","placeholder","pattern","errorEl","cartLogin","loginButton","registerButton","forgotPassword","dataTarget","wrap","event","e","dto","content","res","post","form","email","sanitizeInput","qs","password","container","errors","emailValidator","pass","passwordValidator","YM","goal","consts","ChatLocalStorage","getPhpSession","getDefaultWhiteList","whiteList","onAttr","onIgnoreAttr","REGEXP_URL_JAVASCRIPT","safeAttrValue","_default","util","j","fn","scope","_","require$$0","parseStyle","css","cssLength","isParenthesisOpen","lastPos","retCSS","addNewAttr","source","ret","parser","DEFAULT","require$$1","require$$2","isNull","shallowCopyObject","FilterCSS","me","sourcePosition","position","check","isWhite","opts","filterCSS","html","xss","exports","module","getDefaultCSSWhiteList","defaultCSSFilter","onTag","tag","onIgnoreTag","onTagAttr","onIgnoreTagAttr","escapeHtml","REGEXP_LT","REGEXP_GT","cssFilter","friendlyAttrValue","REGEXP_DEFAULT_ON_TAG_ATTR_4","REGEXP_DEFAULT_ON_TAG_ATTR_7","REGEXP_DEFAULT_ON_TAG_ATTR_8","escapeAttrValue","REGEXP_QUOTE","REGEXP_QUOTE_2","REGEXP_ATTR_VALUE_1","REGEXP_ATTR_VALUE_COLON","REGEXP_ATTR_VALUE_NEWLINE","escapeQuote","unescapeQuote","escapeHtmlEntities","code","escapeDangerHtml5Entities","clearNonPrintableCharacter","str2","onIgnoreTagStripAll","StripTagBody","tags","next","isRemoveAllTag","isRemoveTag","removeList","posStart","end","rethtml","stripCommentTag","retHtml","stripBlankChar","chars","char","getTagName","tagName","isClosing","parseTag","tagStart","quoteStart","currentTagName","currentHtml","chariterator","ic","REGEXP_ILLEGAL_ATTR_NAME","parseAttr","lastMarkPos","retAttrs","tmpName","addAttr","findNextQuotationMark","findNextEqual","findBeforeEqual","stripQuoteWrap","isQuoteWrapString","require$$3","getAttrs","keysToLowerCase","FilterXSS","attributeWrapSign","stripIgnoreTagBody","info","attrs","whiteAttrList","attrsHtml","isWhiteAttr","filterXSS","isWorkerEnv","Feedback","button","qa","ael","debounce","__vitePreload","PhoneValidator","PhoneValidator$1","message","BaseValidator","replacePattern","CallMeModal","CallMe","Modal","setLocalStorageCartId","loc_storage_cart_id","savedCartId","setCookie","feedbackButton","Search","CartLogin","CatalogItem","Cart","Like","Compare","Category","Product","Promotions"],"ignoreList":[12,13,14,15,16,17,18,19,20,21],"sources":["../../src/components/hoist/hoist.js","../../src/components/animate/anime.js","../../src/components/animate/animate.js","../../src/components/scroll/scroll.js","../../src/components/header/show-front-menu.js","../../src/components/scroll/IntObserver.js","../../src/components/header/mobile-menu.js","../../src/components/Modal/builders/InputContainer.js","../../src/components/Modal/builders/FieldBuilder.js","../../src/Auth/CartLogin.js","../../src/Main/YM.js","../../src/components/chatLocalStorage/ChatLocalStorage.js","../../../node_modules/cssfilter/lib/default.js","../../../node_modules/cssfilter/lib/util.js","../../../node_modules/cssfilter/lib/parser.js","../../../node_modules/cssfilter/lib/css.js","../../../node_modules/cssfilter/lib/index.js","../../../node_modules/xss/lib/util.js","../../../node_modules/xss/lib/default.js","../../../node_modules/xss/lib/parser.js","../../../node_modules/xss/lib/xss.js","../../../node_modules/xss/lib/index.js","../../src/Feedback/Feedback.js","../../src/components/validator/BaseValidator.js","../../src/components/validator/PhoneValidator.js","../../src/CallMe/CallMeModal.js","../../src/CallMe/CallMe.js","../../src/components/cart_id/cart_id.js","../../src/Main/main.js"],"sourcesContent":["import { $, scrollToTop } from \"../../common\";\r\nimport \"./hoist.scss\";\r\n\r\nconst hoist = $(\".hoist\").first();\r\nif (hoist)\r\n  hoist.addEventListener(\"click\", function () {\r\n    scrollToTop();\r\n  });\r\n","/*\r\n * anime.js v3.2.2\r\n * (c) 2023 Julian Garnier\r\n * Released under the MIT license\r\n * animejs.com\r\n */\r\n\r\n\"use strict\";\r\n\r\n// Defaults\r\n\r\nvar defaultInstanceSettings = {\r\n  update: null,\r\n  begin: null,\r\n  loopBegin: null,\r\n  changeBegin: null,\r\n  change: null,\r\n  changeComplete: null,\r\n  loopComplete: null,\r\n  complete: null,\r\n  loop: 1,\r\n  direction: \"normal\",\r\n  autoplay: true,\r\n  timelineOffset: 0,\r\n};\r\n\r\nvar defaultTweenSettings = {\r\n  duration: 1000,\r\n  delay: 0,\r\n  endDelay: 0,\r\n  easing: \"easeOutElastic(1, .5)\",\r\n  round: 0,\r\n};\r\n\r\nvar validTransforms = [\r\n  \"translateX\",\r\n  \"translateY\",\r\n  \"translateZ\",\r\n  \"rotate\",\r\n  \"rotateX\",\r\n  \"rotateY\",\r\n  \"rotateZ\",\r\n  \"scale\",\r\n  \"scaleX\",\r\n  \"scaleY\",\r\n  \"scaleZ\",\r\n  \"skew\",\r\n  \"skewX\",\r\n  \"skewY\",\r\n  \"perspective\",\r\n  \"matrix\",\r\n  \"matrix3d\",\r\n];\r\n\r\n// Caching\r\n\r\nvar cache = {\r\n  CSS: {},\r\n  springs: {},\r\n};\r\n\r\n// Utils\r\n\r\nfunction minMax(val, min, max) {\r\n  return Math.min(Math.max(val, min), max);\r\n}\r\n\r\nfunction stringContains(str, text) {\r\n  return str.indexOf(text) > -1;\r\n}\r\n\r\nfunction applyArguments(func, args) {\r\n  return func.apply(null, args);\r\n}\r\n\r\nvar is = {\r\n  arr: function (a) {\r\n    return Array.isArray(a);\r\n  },\r\n  obj: function (a) {\r\n    return stringContains(Object.prototype.toString.call(a), \"Object\");\r\n  },\r\n  pth: function (a) {\r\n    return is.obj(a) && a.hasOwnProperty(\"totalLength\");\r\n  },\r\n  svg: function (a) {\r\n    return a instanceof SVGElement;\r\n  },\r\n  inp: function (a) {\r\n    return a instanceof HTMLInputElement;\r\n  },\r\n  dom: function (a) {\r\n    return a.nodeType || is.svg(a);\r\n  },\r\n  str: function (a) {\r\n    return typeof a === \"string\";\r\n  },\r\n  fnc: function (a) {\r\n    return typeof a === \"function\";\r\n  },\r\n  und: function (a) {\r\n    return typeof a === \"undefined\";\r\n  },\r\n  nil: function (a) {\r\n    return is.und(a) || a === null;\r\n  },\r\n  hex: function (a) {\r\n    return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a);\r\n  },\r\n  rgb: function (a) {\r\n    return /^rgb/.test(a);\r\n  },\r\n  hsl: function (a) {\r\n    return /^hsl/.test(a);\r\n  },\r\n  col: function (a) {\r\n    return is.hex(a) || is.rgb(a) || is.hsl(a);\r\n  },\r\n  key: function (a) {\r\n    return (\r\n      !defaultInstanceSettings.hasOwnProperty(a) &&\r\n      !defaultTweenSettings.hasOwnProperty(a) &&\r\n      a !== \"targets\" &&\r\n      a !== \"keyframes\"\r\n    );\r\n  },\r\n};\r\n\r\n// Easings\r\n\r\nfunction parseEasingParameters(string) {\r\n  var match = /\\(([^)]+)\\)/.exec(string);\r\n  return match\r\n    ? match[1].split(\",\").map(function (p) {\r\n        return parseFloat(p);\r\n      })\r\n    : [];\r\n}\r\n\r\n// Spring solver inspired by Webkit Copyright © 2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\r\n\r\nfunction spring(string, duration) {\r\n  var params = parseEasingParameters(string);\r\n  var mass = minMax(is.und(params[0]) ? 1 : params[0], 0.1, 100);\r\n  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], 0.1, 100);\r\n  var damping = minMax(is.und(params[2]) ? 10 : params[2], 0.1, 100);\r\n  var velocity = minMax(is.und(params[3]) ? 0 : params[3], 0.1, 100);\r\n  var w0 = Math.sqrt(stiffness / mass);\r\n  var zeta = damping / (2 * Math.sqrt(stiffness * mass));\r\n  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\r\n  var a = 1;\r\n  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\r\n\r\n  function solver(t) {\r\n    var progress = duration ? (duration * t) / 1000 : t;\r\n    if (zeta < 1) {\r\n      progress =\r\n        Math.exp(-progress * zeta * w0) *\r\n        (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\r\n    } else {\r\n      progress = (a + b * progress) * Math.exp(-progress * w0);\r\n    }\r\n    if (t === 0 || t === 1) {\r\n      return t;\r\n    }\r\n    return 1 - progress;\r\n  }\r\n\r\n  function getDuration() {\r\n    var cached = cache.springs[string];\r\n    if (cached) {\r\n      return cached;\r\n    }\r\n    var frame = 1 / 6;\r\n    var elapsed = 0;\r\n    var rest = 0;\r\n    while (true) {\r\n      elapsed += frame;\r\n      if (solver(elapsed) === 1) {\r\n        rest++;\r\n        if (rest >= 16) {\r\n          break;\r\n        }\r\n      } else {\r\n        rest = 0;\r\n      }\r\n    }\r\n    var duration = elapsed * frame * 1000;\r\n    cache.springs[string] = duration;\r\n    return duration;\r\n  }\r\n\r\n  return duration ? solver : getDuration;\r\n}\r\n\r\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\r\n\r\nfunction steps(steps) {\r\n  if (steps === void 0) steps = 10;\r\n\r\n  return function (t) {\r\n    return Math.ceil(minMax(t, 0.000001, 1) * steps) * (1 / steps);\r\n  };\r\n}\r\n\r\n// BezierEasing https://github.com/gre/bezier-easing\r\n\r\nvar bezier = (function () {\r\n  var kSplineTableSize = 11;\r\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\r\n\r\n  function A(aA1, aA2) {\r\n    return 1.0 - 3.0 * aA2 + 3.0 * aA1;\r\n  }\r\n\r\n  function B(aA1, aA2) {\r\n    return 3.0 * aA2 - 6.0 * aA1;\r\n  }\r\n\r\n  function C(aA1) {\r\n    return 3.0 * aA1;\r\n  }\r\n\r\n  function calcBezier(aT, aA1, aA2) {\r\n    return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\r\n  }\r\n\r\n  function getSlope(aT, aA1, aA2) {\r\n    return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\r\n  }\r\n\r\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\r\n    var currentX,\r\n      currentT,\r\n      i = 0;\r\n    do {\r\n      currentT = aA + (aB - aA) / 2.0;\r\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\r\n      if (currentX > 0.0) {\r\n        aB = currentT;\r\n      } else {\r\n        aA = currentT;\r\n      }\r\n    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);\r\n    return currentT;\r\n  }\r\n\r\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\r\n    for (var i = 0; i < 4; ++i) {\r\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\r\n      if (currentSlope === 0.0) {\r\n        return aGuessT;\r\n      }\r\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\r\n      aGuessT -= currentX / currentSlope;\r\n    }\r\n    return aGuessT;\r\n  }\r\n\r\n  function bezier(mX1, mY1, mX2, mY2) {\r\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) {\r\n      return;\r\n    }\r\n    var sampleValues = new Float32Array(kSplineTableSize);\r\n\r\n    if (mX1 !== mY1 || mX2 !== mY2) {\r\n      for (var i = 0; i < kSplineTableSize; ++i) {\r\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\r\n      }\r\n    }\r\n\r\n    function getTForX(aX) {\r\n      var intervalStart = 0;\r\n      var currentSample = 1;\r\n      var lastSample = kSplineTableSize - 1;\r\n\r\n      for (\r\n        ;\r\n        currentSample !== lastSample && sampleValues[currentSample] <= aX;\r\n        ++currentSample\r\n      ) {\r\n        intervalStart += kSampleStepSize;\r\n      }\r\n\r\n      --currentSample;\r\n\r\n      var dist =\r\n        (aX - sampleValues[currentSample]) /\r\n        (sampleValues[currentSample + 1] - sampleValues[currentSample]);\r\n      var guessForT = intervalStart + dist * kSampleStepSize;\r\n      var initialSlope = getSlope(guessForT, mX1, mX2);\r\n\r\n      if (initialSlope >= 0.001) {\r\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\r\n      } else if (initialSlope === 0.0) {\r\n        return guessForT;\r\n      } else {\r\n        return binarySubdivide(\r\n          aX,\r\n          intervalStart,\r\n          intervalStart + kSampleStepSize,\r\n          mX1,\r\n          mX2,\r\n        );\r\n      }\r\n    }\r\n\r\n    return function (x) {\r\n      if (mX1 === mY1 && mX2 === mY2) {\r\n        return x;\r\n      }\r\n      if (x === 0 || x === 1) {\r\n        return x;\r\n      }\r\n      return calcBezier(getTForX(x), mY1, mY2);\r\n    };\r\n  }\r\n\r\n  return bezier;\r\n})();\r\n\r\nvar penner = (function () {\r\n  // Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\r\n\r\n  var eases = {\r\n    linear: function () {\r\n      return function (t) {\r\n        return t;\r\n      };\r\n    },\r\n  };\r\n\r\n  var functionEasings = {\r\n    Sine: function () {\r\n      return function (t) {\r\n        return 1 - Math.cos((t * Math.PI) / 2);\r\n      };\r\n    },\r\n    Expo: function () {\r\n      return function (t) {\r\n        return t ? Math.pow(2, 10 * t - 10) : 0;\r\n      };\r\n    },\r\n    Circ: function () {\r\n      return function (t) {\r\n        return 1 - Math.sqrt(1 - t * t);\r\n      };\r\n    },\r\n    Back: function () {\r\n      return function (t) {\r\n        return t * t * (3 * t - 2);\r\n      };\r\n    },\r\n    Bounce: function () {\r\n      return function (t) {\r\n        var pow2,\r\n          b = 4;\r\n        while (t < ((pow2 = Math.pow(2, --b)) - 1) / 11) {}\r\n        return (\r\n          1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow((pow2 * 3 - 2) / 22 - t, 2)\r\n        );\r\n      };\r\n    },\r\n    Elastic: function (amplitude, period) {\r\n      if (amplitude === void 0) amplitude = 1;\r\n      if (period === void 0) period = 0.5;\r\n\r\n      var a = minMax(amplitude, 1, 10);\r\n      var p = minMax(period, 0.1, 2);\r\n      return function (t) {\r\n        return t === 0 || t === 1\r\n          ? t\r\n          : -a *\r\n              Math.pow(2, 10 * (t - 1)) *\r\n              Math.sin(\r\n                ((t - 1 - (p / (Math.PI * 2)) * Math.asin(1 / a)) *\r\n                  (Math.PI * 2)) /\r\n                  p,\r\n              );\r\n      };\r\n    },\r\n  };\r\n\r\n  var baseEasings = [\"Quad\", \"Cubic\", \"Quart\", \"Quint\"];\r\n\r\n  baseEasings.forEach(function (name, i) {\r\n    functionEasings[name] = function () {\r\n      return function (t) {\r\n        return Math.pow(t, i + 2);\r\n      };\r\n    };\r\n  });\r\n\r\n  Object.keys(functionEasings).forEach(function (name) {\r\n    var easeIn = functionEasings[name];\r\n    eases[\"easeIn\" + name] = easeIn;\r\n    eases[\"easeOut\" + name] = function (a, b) {\r\n      return function (t) {\r\n        return 1 - easeIn(a, b)(1 - t);\r\n      };\r\n    };\r\n    eases[\"easeInOut\" + name] = function (a, b) {\r\n      return function (t) {\r\n        return t < 0.5\r\n          ? easeIn(a, b)(t * 2) / 2\r\n          : 1 - easeIn(a, b)(t * -2 + 2) / 2;\r\n      };\r\n    };\r\n    eases[\"easeOutIn\" + name] = function (a, b) {\r\n      return function (t) {\r\n        return t < 0.5\r\n          ? (1 - easeIn(a, b)(1 - t * 2)) / 2\r\n          : (easeIn(a, b)(t * 2 - 1) + 1) / 2;\r\n      };\r\n    };\r\n  });\r\n\r\n  return eases;\r\n})();\r\n\r\nfunction parseEasings(easing, duration) {\r\n  if (is.fnc(easing)) {\r\n    return easing;\r\n  }\r\n  var name = easing.split(\"(\")[0];\r\n  var ease = penner[name];\r\n  var args = parseEasingParameters(easing);\r\n  switch (name) {\r\n    case \"spring\":\r\n      return spring(easing, duration);\r\n    case \"cubicBezier\":\r\n      return applyArguments(bezier, args);\r\n    case \"steps\":\r\n      return applyArguments(steps, args);\r\n    default:\r\n      return applyArguments(ease, args);\r\n  }\r\n}\r\n\r\n// Strings\r\n\r\nfunction selectString(str) {\r\n  try {\r\n    var nodes = document.querySelectorAll(str);\r\n    return nodes;\r\n  } catch (e) {\r\n    return;\r\n  }\r\n}\r\n\r\n// Arrays\r\n\r\nfunction filterArray(arr, callback) {\r\n  var len = arr.length;\r\n  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\r\n  var result = [];\r\n  for (var i = 0; i < len; i++) {\r\n    if (i in arr) {\r\n      var val = arr[i];\r\n      if (callback.call(thisArg, val, i, arr)) {\r\n        result.push(val);\r\n      }\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction flattenArray(arr) {\r\n  return arr.reduce(function (a, b) {\r\n    return a.concat(is.arr(b) ? flattenArray(b) : b);\r\n  }, []);\r\n}\r\n\r\nfunction toArray(o) {\r\n  if (is.arr(o)) {\r\n    return o;\r\n  }\r\n  if (is.str(o)) {\r\n    o = selectString(o) || o;\r\n  }\r\n  if (o instanceof NodeList || o instanceof HTMLCollection) {\r\n    return [].slice.call(o);\r\n  }\r\n  return [o];\r\n}\r\n\r\nfunction arrayContains(arr, val) {\r\n  return arr.some(function (a) {\r\n    return a === val;\r\n  });\r\n}\r\n\r\n// Objects\r\n\r\nfunction cloneObject(o) {\r\n  var clone = {};\r\n  for (var p in o) {\r\n    clone[p] = o[p];\r\n  }\r\n  return clone;\r\n}\r\n\r\nfunction replaceObjectProps(o1, o2) {\r\n  var o = cloneObject(o1);\r\n  for (var p in o1) {\r\n    o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p];\r\n  }\r\n  return o;\r\n}\r\n\r\nfunction mergeObjects(o1, o2) {\r\n  var o = cloneObject(o1);\r\n  for (var p in o2) {\r\n    o[p] = is.und(o1[p]) ? o2[p] : o1[p];\r\n  }\r\n  return o;\r\n}\r\n\r\n// Colors\r\n\r\nfunction rgbToRgba(rgbValue) {\r\n  var rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\r\n  return rgb ? \"rgba(\" + rgb[1] + \",1)\" : rgbValue;\r\n}\r\n\r\nfunction hexToRgba(hexValue) {\r\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n  var hex = hexValue.replace(rgx, function (m, r, g, b) {\r\n    return r + r + g + g + b + b;\r\n  });\r\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n  var r = parseInt(rgb[1], 16);\r\n  var g = parseInt(rgb[2], 16);\r\n  var b = parseInt(rgb[3], 16);\r\n  return \"rgba(\" + r + \",\" + g + \",\" + b + \",1)\";\r\n}\r\n\r\nfunction hslToRgba(hslValue) {\r\n  var hsl =\r\n    /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) ||\r\n    /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\r\n  var h = parseInt(hsl[1], 10) / 360;\r\n  var s = parseInt(hsl[2], 10) / 100;\r\n  var l = parseInt(hsl[3], 10) / 100;\r\n  var a = hsl[4] || 1;\r\n\r\n  function hue2rgb(p, q, t) {\r\n    if (t < 0) {\r\n      t += 1;\r\n    }\r\n    if (t > 1) {\r\n      t -= 1;\r\n    }\r\n    if (t < 1 / 6) {\r\n      return p + (q - p) * 6 * t;\r\n    }\r\n    if (t < 1 / 2) {\r\n      return q;\r\n    }\r\n    if (t < 2 / 3) {\r\n      return p + (q - p) * (2 / 3 - t) * 6;\r\n    }\r\n    return p;\r\n  }\r\n\r\n  var r, g, b;\r\n  if (s == 0) {\r\n    r = g = b = l;\r\n  } else {\r\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n    var p = 2 * l - q;\r\n    r = hue2rgb(p, q, h + 1 / 3);\r\n    g = hue2rgb(p, q, h);\r\n    b = hue2rgb(p, q, h - 1 / 3);\r\n  }\r\n  return \"rgba(\" + r * 255 + \",\" + g * 255 + \",\" + b * 255 + \",\" + a + \")\";\r\n}\r\n\r\nfunction colorToRgb(val) {\r\n  if (is.rgb(val)) {\r\n    return rgbToRgba(val);\r\n  }\r\n  if (is.hex(val)) {\r\n    return hexToRgba(val);\r\n  }\r\n  if (is.hsl(val)) {\r\n    return hslToRgba(val);\r\n  }\r\n}\r\n\r\n// Units\r\n\r\nfunction getUnit(val) {\r\n  var split =\r\n    /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(\r\n      val,\r\n    );\r\n  if (split) {\r\n    return split[1];\r\n  }\r\n}\r\n\r\nfunction getTransformUnit(propName) {\r\n  if (stringContains(propName, \"translate\") || propName === \"perspective\") {\r\n    return \"px\";\r\n  }\r\n  if (stringContains(propName, \"rotate\") || stringContains(propName, \"skew\")) {\r\n    return \"deg\";\r\n  }\r\n}\r\n\r\n// Values\r\n\r\nfunction getFunctionValue(val, animatable) {\r\n  if (!is.fnc(val)) {\r\n    return val;\r\n  }\r\n  return val(animatable.target, animatable.id, animatable.total);\r\n}\r\n\r\nfunction getAttribute(el, prop) {\r\n  return el.getAttribute(prop);\r\n}\r\n\r\nfunction convertPxToUnit(el, value, unit) {\r\n  var valueUnit = getUnit(value);\r\n  if (arrayContains([unit, \"deg\", \"rad\", \"turn\"], valueUnit)) {\r\n    return value;\r\n  }\r\n  var cached = cache.CSS[value + unit];\r\n  if (!is.und(cached)) {\r\n    return cached;\r\n  }\r\n  var baseline = 100;\r\n  var tempEl = document.createElement(el.tagName);\r\n  var parentEl =\r\n    el.parentNode && el.parentNode !== document ? el.parentNode : document.body;\r\n  parentEl.appendChild(tempEl);\r\n  tempEl.style.position = \"absolute\";\r\n  tempEl.style.width = baseline + unit;\r\n  var factor = baseline / tempEl.offsetWidth;\r\n  parentEl.removeChild(tempEl);\r\n  var convertedUnit = factor * parseFloat(value);\r\n  cache.CSS[value + unit] = convertedUnit;\r\n  return convertedUnit;\r\n}\r\n\r\nfunction getCSSValue(el, prop, unit) {\r\n  if (prop in el.style) {\r\n    var uppercasePropName = prop\r\n      .replace(/([a-z])([A-Z])/g, \"$1-$2\")\r\n      .toLowerCase();\r\n    var value =\r\n      el.style[prop] ||\r\n      getComputedStyle(el).getPropertyValue(uppercasePropName) ||\r\n      \"0\";\r\n    return unit ? convertPxToUnit(el, value, unit) : value;\r\n  }\r\n}\r\n\r\nfunction getAnimationType(el, prop) {\r\n  if (\r\n    is.dom(el) &&\r\n    !is.inp(el) &&\r\n    (!is.nil(getAttribute(el, prop)) || (is.svg(el) && el[prop]))\r\n  ) {\r\n    return \"attribute\";\r\n  }\r\n  if (is.dom(el) && arrayContains(validTransforms, prop)) {\r\n    return \"transform\";\r\n  }\r\n  if (is.dom(el) && prop !== \"transform\" && getCSSValue(el, prop)) {\r\n    return \"css\";\r\n  }\r\n  if (el[prop] != null) {\r\n    return \"object\";\r\n  }\r\n}\r\n\r\nfunction getElementTransforms(el) {\r\n  if (!is.dom(el)) {\r\n    return;\r\n  }\r\n  var str = el.style.transform || \"\";\r\n  var reg = /(\\w+)\\(([^)]*)\\)/g;\r\n  var transforms = new Map();\r\n  var m;\r\n  while ((m = reg.exec(str))) {\r\n    transforms.set(m[1], m[2]);\r\n  }\r\n  return transforms;\r\n}\r\n\r\nfunction getTransformValue(el, propName, animatable, unit) {\r\n  var defaultVal = stringContains(propName, \"scale\")\r\n    ? 1\r\n    : 0 + getTransformUnit(propName);\r\n  var value = getElementTransforms(el).get(propName) || defaultVal;\r\n  if (animatable) {\r\n    animatable.transforms.list.set(propName, value);\r\n    animatable.transforms[\"last\"] = propName;\r\n  }\r\n  return unit ? convertPxToUnit(el, value, unit) : value;\r\n}\r\n\r\nfunction getOriginalTargetValue(target, propName, unit, animatable) {\r\n  switch (getAnimationType(target, propName)) {\r\n    case \"transform\":\r\n      return getTransformValue(target, propName, animatable, unit);\r\n    case \"css\":\r\n      return getCSSValue(target, propName, unit);\r\n    case \"attribute\":\r\n      return getAttribute(target, propName);\r\n    default:\r\n      return target[propName] || 0;\r\n  }\r\n}\r\n\r\nfunction getRelativeValue(to, from) {\r\n  var operator = /^(\\*=|\\+=|-=)/.exec(to);\r\n  if (!operator) {\r\n    return to;\r\n  }\r\n  var u = getUnit(to) || 0;\r\n  var x = parseFloat(from);\r\n  var y = parseFloat(to.replace(operator[0], \"\"));\r\n  switch (operator[0][0]) {\r\n    case \"+\":\r\n      return x + y + u;\r\n    case \"-\":\r\n      return x - y + u;\r\n    case \"*\":\r\n      return x * y + u;\r\n  }\r\n}\r\n\r\nfunction validateValue(val, unit) {\r\n  if (is.col(val)) {\r\n    return colorToRgb(val);\r\n  }\r\n  if (/\\s/g.test(val)) {\r\n    return val;\r\n  }\r\n  var originalUnit = getUnit(val);\r\n  var unitLess = originalUnit\r\n    ? val.substr(0, val.length - originalUnit.length)\r\n    : val;\r\n  if (unit) {\r\n    return unitLess + unit;\r\n  }\r\n  return unitLess;\r\n}\r\n\r\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\r\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\r\n\r\nfunction getDistance(p1, p2) {\r\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\r\n}\r\n\r\nfunction getCircleLength(el) {\r\n  return Math.PI * 2 * getAttribute(el, \"r\");\r\n}\r\n\r\nfunction getRectLength(el) {\r\n  return getAttribute(el, \"width\") * 2 + getAttribute(el, \"height\") * 2;\r\n}\r\n\r\nfunction getLineLength(el) {\r\n  return getDistance(\r\n    { x: getAttribute(el, \"x1\"), y: getAttribute(el, \"y1\") },\r\n    { x: getAttribute(el, \"x2\"), y: getAttribute(el, \"y2\") },\r\n  );\r\n}\r\n\r\nfunction getPolylineLength(el) {\r\n  var points = el.points;\r\n  var totalLength = 0;\r\n  var previousPos;\r\n  for (var i = 0; i < points.numberOfItems; i++) {\r\n    var currentPos = points.getItem(i);\r\n    if (i > 0) {\r\n      totalLength += getDistance(previousPos, currentPos);\r\n    }\r\n    previousPos = currentPos;\r\n  }\r\n  return totalLength;\r\n}\r\n\r\nfunction getPolygonLength(el) {\r\n  var points = el.points;\r\n  return (\r\n    getPolylineLength(el) +\r\n    getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0))\r\n  );\r\n}\r\n\r\n// Path animation\r\n\r\nfunction getTotalLength(el) {\r\n  if (el.getTotalLength) {\r\n    return el.getTotalLength();\r\n  }\r\n  switch (el.tagName.toLowerCase()) {\r\n    case \"circle\":\r\n      return getCircleLength(el);\r\n    case \"rect\":\r\n      return getRectLength(el);\r\n    case \"line\":\r\n      return getLineLength(el);\r\n    case \"polyline\":\r\n      return getPolylineLength(el);\r\n    case \"polygon\":\r\n      return getPolygonLength(el);\r\n  }\r\n}\r\n\r\nfunction setDashoffset(el) {\r\n  var pathLength = getTotalLength(el);\r\n  el.setAttribute(\"stroke-dasharray\", pathLength);\r\n  return pathLength;\r\n}\r\n\r\n// Motion path\r\n\r\nfunction getParentSvgEl(el) {\r\n  var parentEl = el.parentNode;\r\n  while (is.svg(parentEl)) {\r\n    if (!is.svg(parentEl.parentNode)) {\r\n      break;\r\n    }\r\n    parentEl = parentEl.parentNode;\r\n  }\r\n  return parentEl;\r\n}\r\n\r\nfunction getParentSvg(pathEl, svgData) {\r\n  var svg = svgData || {};\r\n  var parentSvgEl = svg.el || getParentSvgEl(pathEl);\r\n  var rect = parentSvgEl.getBoundingClientRect();\r\n  var viewBoxAttr = getAttribute(parentSvgEl, \"viewBox\");\r\n  var width = rect.width;\r\n  var height = rect.height;\r\n  var viewBox =\r\n    svg.viewBox ||\r\n    (viewBoxAttr ? viewBoxAttr.split(\" \") : [0, 0, width, height]);\r\n  return {\r\n    el: parentSvgEl,\r\n    viewBox: viewBox,\r\n    x: viewBox[0] / 1,\r\n    y: viewBox[1] / 1,\r\n    w: width,\r\n    h: height,\r\n    vW: viewBox[2],\r\n    vH: viewBox[3],\r\n  };\r\n}\r\n\r\nfunction getPath(path, percent) {\r\n  var pathEl = is.str(path) ? selectString(path)[0] : path;\r\n  var p = percent || 100;\r\n  return function (property) {\r\n    return {\r\n      property: property,\r\n      el: pathEl,\r\n      svg: getParentSvg(pathEl),\r\n      totalLength: getTotalLength(pathEl) * (p / 100),\r\n    };\r\n  };\r\n}\r\n\r\nfunction getPathProgress(path, progress, isPathTargetInsideSVG) {\r\n  function point(offset) {\r\n    if (offset === void 0) offset = 0;\r\n\r\n    var l = progress + offset >= 1 ? progress + offset : 0;\r\n    return path.el.getPointAtLength(l);\r\n  }\r\n\r\n  var svg = getParentSvg(path.el, path.svg);\r\n  var p = point();\r\n  var p0 = point(-1);\r\n  var p1 = point(+1);\r\n  var scaleX = isPathTargetInsideSVG ? 1 : svg.w / svg.vW;\r\n  var scaleY = isPathTargetInsideSVG ? 1 : svg.h / svg.vH;\r\n  switch (path.property) {\r\n    case \"x\":\r\n      return (p.x - svg.x) * scaleX;\r\n    case \"y\":\r\n      return (p.y - svg.y) * scaleY;\r\n    case \"angle\":\r\n      return (Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180) / Math.PI;\r\n  }\r\n}\r\n\r\n// Decompose value\r\n\r\nfunction decomposeValue(val, unit) {\r\n  // const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\r\n  // const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\r\n  var rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\r\n  var value = validateValue(is.pth(val) ? val.totalLength : val, unit) + \"\";\r\n  return {\r\n    original: value,\r\n    numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\r\n    strings: is.str(val) || unit ? value.split(rgx) : [],\r\n  };\r\n}\r\n\r\n// Animatables\r\n\r\nfunction parseTargets(targets) {\r\n  var targetsArray = targets\r\n    ? flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))\r\n    : [];\r\n  return filterArray(targetsArray, function (item, pos, self) {\r\n    return self.indexOf(item) === pos;\r\n  });\r\n}\r\n\r\nfunction getAnimatables(targets) {\r\n  var parsed = parseTargets(targets);\r\n  return parsed.map(function (t, i) {\r\n    return {\r\n      target: t,\r\n      id: i,\r\n      total: parsed.length,\r\n      transforms: { list: getElementTransforms(t) },\r\n    };\r\n  });\r\n}\r\n\r\n// Properties\r\n\r\nfunction normalizePropertyTweens(prop, tweenSettings) {\r\n  var settings = cloneObject(tweenSettings);\r\n  // Override duration if easing is a spring\r\n  if (/^spring/.test(settings.easing)) {\r\n    settings.duration = spring(settings.easing);\r\n  }\r\n  if (is.arr(prop)) {\r\n    var l = prop.length;\r\n    var isFromTo = l === 2 && !is.obj(prop[0]);\r\n    if (!isFromTo) {\r\n      // Duration divided by the number of tweens\r\n      if (!is.fnc(tweenSettings.duration)) {\r\n        settings.duration = tweenSettings.duration / l;\r\n      }\r\n    } else {\r\n      // Transform [from, to] values shorthand to a valid tween value\r\n      prop = { value: prop };\r\n    }\r\n  }\r\n  var propArray = is.arr(prop) ? prop : [prop];\r\n  return propArray\r\n    .map(function (v, i) {\r\n      var obj = is.obj(v) && !is.pth(v) ? v : { value: v };\r\n      // Default delay value should only be applied to the first tween\r\n      if (is.und(obj.delay)) {\r\n        obj.delay = !i ? tweenSettings.delay : 0;\r\n      }\r\n      // Default endDelay value should only be applied to the last tween\r\n      if (is.und(obj.endDelay)) {\r\n        obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0;\r\n      }\r\n      return obj;\r\n    })\r\n    .map(function (k) {\r\n      return mergeObjects(k, settings);\r\n    });\r\n}\r\n\r\nfunction flattenKeyframes(keyframes) {\r\n  var propertyNames = filterArray(\r\n    flattenArray(\r\n      keyframes.map(function (key) {\r\n        return Object.keys(key);\r\n      }),\r\n    ),\r\n    function (p) {\r\n      return is.key(p);\r\n    },\r\n  ).reduce(function (a, b) {\r\n    if (a.indexOf(b) < 0) {\r\n      a.push(b);\r\n    }\r\n    return a;\r\n  }, []);\r\n  var properties = {};\r\n  var loop = function (i) {\r\n    var propName = propertyNames[i];\r\n    properties[propName] = keyframes.map(function (key) {\r\n      var newKey = {};\r\n      for (var p in key) {\r\n        if (is.key(p)) {\r\n          if (p == propName) {\r\n            newKey.value = key[p];\r\n          }\r\n        } else {\r\n          newKey[p] = key[p];\r\n        }\r\n      }\r\n      return newKey;\r\n    });\r\n  };\r\n\r\n  for (var i = 0; i < propertyNames.length; i++) loop(i);\r\n  return properties;\r\n}\r\n\r\nfunction getProperties(tweenSettings, params) {\r\n  var properties = [];\r\n  var keyframes = params.keyframes;\r\n  if (keyframes) {\r\n    params = mergeObjects(flattenKeyframes(keyframes), params);\r\n  }\r\n  for (var p in params) {\r\n    if (is.key(p)) {\r\n      properties.push({\r\n        name: p,\r\n        tweens: normalizePropertyTweens(params[p], tweenSettings),\r\n      });\r\n    }\r\n  }\r\n  return properties;\r\n}\r\n\r\n// Tweens\r\n\r\nfunction normalizeTweenValues(tween, animatable) {\r\n  var t = {};\r\n  for (var p in tween) {\r\n    var value = getFunctionValue(tween[p], animatable);\r\n    if (is.arr(value)) {\r\n      value = value.map(function (v) {\r\n        return getFunctionValue(v, animatable);\r\n      });\r\n      if (value.length === 1) {\r\n        value = value[0];\r\n      }\r\n    }\r\n    t[p] = value;\r\n  }\r\n  t.duration = parseFloat(t.duration);\r\n  t.delay = parseFloat(t.delay);\r\n  return t;\r\n}\r\n\r\nfunction normalizeTweens(prop, animatable) {\r\n  var previousTween;\r\n  return prop.tweens.map(function (t) {\r\n    var tween = normalizeTweenValues(t, animatable);\r\n    var tweenValue = tween.value;\r\n    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\r\n    var toUnit = getUnit(to);\r\n    var originalValue = getOriginalTargetValue(\r\n      animatable.target,\r\n      prop.name,\r\n      toUnit,\r\n      animatable,\r\n    );\r\n    var previousValue = previousTween\r\n      ? previousTween.to.original\r\n      : originalValue;\r\n    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\r\n    var fromUnit = getUnit(from) || getUnit(originalValue);\r\n    var unit = toUnit || fromUnit;\r\n    if (is.und(to)) {\r\n      to = previousValue;\r\n    }\r\n    tween.from = decomposeValue(from, unit);\r\n    tween.to = decomposeValue(getRelativeValue(to, from), unit);\r\n    tween.start = previousTween ? previousTween.end : 0;\r\n    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\r\n    tween.easing = parseEasings(tween.easing, tween.duration);\r\n    tween.isPath = is.pth(tweenValue);\r\n    tween.isPathTargetInsideSVG = tween.isPath && is.svg(animatable.target);\r\n    tween.isColor = is.col(tween.from.original);\r\n    if (tween.isColor) {\r\n      tween.round = 1;\r\n    }\r\n    previousTween = tween;\r\n    return tween;\r\n  });\r\n}\r\n\r\n// Tween progress\r\n\r\nvar setProgressValue = {\r\n  css: function (t, p, v) {\r\n    return (t.style[p] = v);\r\n  },\r\n  attribute: function (t, p, v) {\r\n    return t.setAttribute(p, v);\r\n  },\r\n  object: function (t, p, v) {\r\n    return (t[p] = v);\r\n  },\r\n  transform: function (t, p, v, transforms, manual) {\r\n    transforms.list.set(p, v);\r\n    if (p === transforms.last || manual) {\r\n      var str = \"\";\r\n      transforms.list.forEach(function (value, prop) {\r\n        str += prop + \"(\" + value + \") \";\r\n      });\r\n      t.style.transform = str;\r\n    }\r\n  },\r\n};\r\n\r\n// Set Value helper\r\n\r\nfunction setTargetsValue(targets, properties) {\r\n  var animatables = getAnimatables(targets);\r\n  animatables.forEach(function (animatable) {\r\n    for (var property in properties) {\r\n      var value = getFunctionValue(properties[property], animatable);\r\n      var target = animatable.target;\r\n      var valueUnit = getUnit(value);\r\n      var originalValue = getOriginalTargetValue(\r\n        target,\r\n        property,\r\n        valueUnit,\r\n        animatable,\r\n      );\r\n      var unit = valueUnit || getUnit(originalValue);\r\n      var to = getRelativeValue(validateValue(value, unit), originalValue);\r\n      var animType = getAnimationType(target, property);\r\n      setProgressValue[animType](\r\n        target,\r\n        property,\r\n        to,\r\n        animatable.transforms,\r\n        true,\r\n      );\r\n    }\r\n  });\r\n}\r\n\r\n// Animations\r\n\r\nfunction createAnimation(animatable, prop) {\r\n  var animType = getAnimationType(animatable.target, prop.name);\r\n  if (animType) {\r\n    var tweens = normalizeTweens(prop, animatable);\r\n    var lastTween = tweens[tweens.length - 1];\r\n    return {\r\n      type: animType,\r\n      property: prop.name,\r\n      animatable: animatable,\r\n      tweens: tweens,\r\n      duration: lastTween.end,\r\n      delay: tweens[0].delay,\r\n      endDelay: lastTween.endDelay,\r\n    };\r\n  }\r\n}\r\n\r\nfunction getAnimations(animatables, properties) {\r\n  return filterArray(\r\n    flattenArray(\r\n      animatables.map(function (animatable) {\r\n        return properties.map(function (prop) {\r\n          return createAnimation(animatable, prop);\r\n        });\r\n      }),\r\n    ),\r\n    function (a) {\r\n      return !is.und(a);\r\n    },\r\n  );\r\n}\r\n\r\n// Create Instance\r\n\r\nfunction getInstanceTimings(animations, tweenSettings) {\r\n  var animLength = animations.length;\r\n  var getTlOffset = function (anim) {\r\n    return anim.timelineOffset ? anim.timelineOffset : 0;\r\n  };\r\n  var timings = {};\r\n  timings.duration = animLength\r\n    ? Math.max.apply(\r\n        Math,\r\n        animations.map(function (anim) {\r\n          return getTlOffset(anim) + anim.duration;\r\n        }),\r\n      )\r\n    : tweenSettings.duration;\r\n  timings.delay = animLength\r\n    ? Math.min.apply(\r\n        Math,\r\n        animations.map(function (anim) {\r\n          return getTlOffset(anim) + anim.delay;\r\n        }),\r\n      )\r\n    : tweenSettings.delay;\r\n  timings.endDelay = animLength\r\n    ? timings.duration -\r\n      Math.max.apply(\r\n        Math,\r\n        animations.map(function (anim) {\r\n          return getTlOffset(anim) + anim.duration - anim.endDelay;\r\n        }),\r\n      )\r\n    : tweenSettings.endDelay;\r\n  return timings;\r\n}\r\n\r\nvar instanceID = 0;\r\n\r\nfunction createNewInstance(params) {\r\n  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\r\n  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);\r\n  var properties = getProperties(tweenSettings, params);\r\n  var animatables = getAnimatables(params.targets);\r\n  var animations = getAnimations(animatables, properties);\r\n  var timings = getInstanceTimings(animations, tweenSettings);\r\n  var id = instanceID;\r\n  instanceID++;\r\n  return mergeObjects(instanceSettings, {\r\n    id: id,\r\n    children: [],\r\n    animatables: animatables,\r\n    animations: animations,\r\n    duration: timings.duration,\r\n    delay: timings.delay,\r\n    endDelay: timings.endDelay,\r\n  });\r\n}\r\n\r\n// Core\r\n\r\nvar activeInstances = [];\r\n\r\nvar engine = (function () {\r\n  var raf;\r\n\r\n  function play() {\r\n    if (\r\n      !raf &&\r\n      (!isDocumentHidden() || !anime.suspendWhenDocumentHidden) &&\r\n      activeInstances.length > 0\r\n    ) {\r\n      raf = requestAnimationFrame(step);\r\n    }\r\n  }\r\n\r\n  function step(t) {\r\n    // memo on algorithm issue:\r\n    // dangerous iteration over mutable `activeInstances`\r\n    // (that collection may be updated from within callbacks of `tick`-ed animation instances)\r\n    var activeInstancesLength = activeInstances.length;\r\n    var i = 0;\r\n    while (i < activeInstancesLength) {\r\n      var activeInstance = activeInstances[i];\r\n      if (!activeInstance.paused) {\r\n        activeInstance.tick(t);\r\n        i++;\r\n      } else {\r\n        activeInstances.splice(i, 1);\r\n        activeInstancesLength--;\r\n      }\r\n    }\r\n    raf = i > 0 ? requestAnimationFrame(step) : undefined;\r\n  }\r\n\r\n  function handleVisibilityChange() {\r\n    if (!anime.suspendWhenDocumentHidden) {\r\n      return;\r\n    }\r\n\r\n    if (isDocumentHidden()) {\r\n      // suspend ticks\r\n      raf = cancelAnimationFrame(raf);\r\n    } else {\r\n      // is back to active tab\r\n      // first adjust animations to consider the time that ticks were suspended\r\n      activeInstances.forEach(function (instance) {\r\n        return instance._onDocumentVisibility();\r\n      });\r\n      engine();\r\n    }\r\n  }\r\n\r\n  if (typeof document !== \"undefined\") {\r\n    document.addEventListener(\"visibilitychange\", handleVisibilityChange);\r\n  }\r\n\r\n  return play;\r\n})();\r\n\r\nfunction isDocumentHidden() {\r\n  return !!document && document.hidden;\r\n}\r\n\r\n// Public Instance\r\n\r\nexport default function anime(params) {\r\n  if (params === void 0) params = {};\r\n\r\n  var startTime = 0,\r\n    lastTime = 0,\r\n    now = 0;\r\n  var children,\r\n    childrenLength = 0;\r\n  var resolve = null;\r\n\r\n  function makePromise(instance) {\r\n    var promise =\r\n      window.Promise &&\r\n      new Promise(function (_resolve) {\r\n        return (resolve = _resolve);\r\n      });\r\n    instance.finished = promise;\r\n    return promise;\r\n  }\r\n\r\n  var instance = createNewInstance(params);\r\n  var promise = makePromise(instance);\r\n\r\n  function toggleInstanceDirection() {\r\n    var direction = instance.direction;\r\n    if (direction !== \"alternate\") {\r\n      instance.direction = direction !== \"normal\" ? \"normal\" : \"reverse\";\r\n    }\r\n    instance.reversed = !instance.reversed;\r\n    children.forEach(function (child) {\r\n      return (child.reversed = instance.reversed);\r\n    });\r\n  }\r\n\r\n  function adjustTime(time) {\r\n    return instance.reversed ? instance.duration - time : time;\r\n  }\r\n\r\n  function resetTime() {\r\n    startTime = 0;\r\n    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\r\n  }\r\n\r\n  function seekChild(time, child) {\r\n    if (child) {\r\n      child.seek(time - child.timelineOffset);\r\n    }\r\n  }\r\n\r\n  function syncInstanceChildren(time) {\r\n    if (!instance.reversePlayback) {\r\n      for (var i = 0; i < childrenLength; i++) {\r\n        seekChild(time, children[i]);\r\n      }\r\n    } else {\r\n      for (var i$1 = childrenLength; i$1--; ) {\r\n        seekChild(time, children[i$1]);\r\n      }\r\n    }\r\n  }\r\n\r\n  function setAnimationsProgress(insTime) {\r\n    var i = 0;\r\n    var animations = instance.animations;\r\n    var animationsLength = animations.length;\r\n    while (i < animationsLength) {\r\n      var anim = animations[i];\r\n      var animatable = anim.animatable;\r\n      var tweens = anim.tweens;\r\n      var tweenLength = tweens.length - 1;\r\n      var tween = tweens[tweenLength];\r\n      // Only check for keyframes if there is more than one tween\r\n      if (tweenLength) {\r\n        tween =\r\n          filterArray(tweens, function (t) {\r\n            return insTime < t.end;\r\n          })[0] || tween;\r\n      }\r\n      var elapsed =\r\n        minMax(insTime - tween.start - tween.delay, 0, tween.duration) /\r\n        tween.duration;\r\n      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\r\n      var strings = tween.to.strings;\r\n      var round = tween.round;\r\n      var numbers = [];\r\n      var toNumbersLength = tween.to.numbers.length;\r\n      var progress = void 0;\r\n      for (var n = 0; n < toNumbersLength; n++) {\r\n        var value = void 0;\r\n        var toNumber = tween.to.numbers[n];\r\n        var fromNumber = tween.from.numbers[n] || 0;\r\n        if (!tween.isPath) {\r\n          value = fromNumber + eased * (toNumber - fromNumber);\r\n        } else {\r\n          value = getPathProgress(\r\n            tween.value,\r\n            eased * toNumber,\r\n            tween.isPathTargetInsideSVG,\r\n          );\r\n        }\r\n        if (round) {\r\n          if (!(tween.isColor && n > 2)) {\r\n            value = Math.round(value * round) / round;\r\n          }\r\n        }\r\n        numbers.push(value);\r\n      }\r\n      // Manual Array.reduce for better performances\r\n      var stringsLength = strings.length;\r\n      if (!stringsLength) {\r\n        progress = numbers[0];\r\n      } else {\r\n        progress = strings[0];\r\n        for (var s = 0; s < stringsLength; s++) {\r\n          var a = strings[s];\r\n          var b = strings[s + 1];\r\n          var n$1 = numbers[s];\r\n          if (!isNaN(n$1)) {\r\n            if (!b) {\r\n              progress += n$1 + \" \";\r\n            } else {\r\n              progress += n$1 + b;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      setProgressValue[anim.type](\r\n        animatable.target,\r\n        anim.property,\r\n        progress,\r\n        animatable.transforms,\r\n      );\r\n      anim.currentValue = progress;\r\n      i++;\r\n    }\r\n  }\r\n\r\n  function setCallback(cb) {\r\n    if (instance[cb] && !instance.passThrough) {\r\n      instance[cb](instance);\r\n    }\r\n  }\r\n\r\n  function countIteration() {\r\n    if (instance.remaining && instance.remaining !== true) {\r\n      instance.remaining--;\r\n    }\r\n  }\r\n\r\n  function setInstanceProgress(engineTime) {\r\n    var insDuration = instance.duration;\r\n    var insDelay = instance.delay;\r\n    var insEndDelay = insDuration - instance.endDelay;\r\n    var insTime = adjustTime(engineTime);\r\n    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);\r\n    instance.reversePlayback = insTime < instance.currentTime;\r\n    if (children) {\r\n      syncInstanceChildren(insTime);\r\n    }\r\n    if (!instance.began && instance.currentTime > 0) {\r\n      instance.began = true;\r\n      setCallback(\"begin\");\r\n    }\r\n    if (!instance.loopBegan && instance.currentTime > 0) {\r\n      instance.loopBegan = true;\r\n      setCallback(\"loopBegin\");\r\n    }\r\n    if (insTime <= insDelay && instance.currentTime !== 0) {\r\n      setAnimationsProgress(0);\r\n    }\r\n    if (\r\n      (insTime >= insEndDelay && instance.currentTime !== insDuration) ||\r\n      !insDuration\r\n    ) {\r\n      setAnimationsProgress(insDuration);\r\n    }\r\n    if (insTime > insDelay && insTime < insEndDelay) {\r\n      if (!instance.changeBegan) {\r\n        instance.changeBegan = true;\r\n        instance.changeCompleted = false;\r\n        setCallback(\"changeBegin\");\r\n      }\r\n      setCallback(\"change\");\r\n      setAnimationsProgress(insTime);\r\n    } else {\r\n      if (instance.changeBegan) {\r\n        instance.changeCompleted = true;\r\n        instance.changeBegan = false;\r\n        setCallback(\"changeComplete\");\r\n      }\r\n    }\r\n    instance.currentTime = minMax(insTime, 0, insDuration);\r\n    if (instance.began) {\r\n      setCallback(\"update\");\r\n    }\r\n    if (engineTime >= insDuration) {\r\n      lastTime = 0;\r\n      countIteration();\r\n      if (!instance.remaining) {\r\n        instance.paused = true;\r\n        if (!instance.completed) {\r\n          instance.completed = true;\r\n          setCallback(\"loopComplete\");\r\n          setCallback(\"complete\");\r\n          if (!instance.passThrough && \"Promise\" in window) {\r\n            resolve();\r\n            promise = makePromise(instance);\r\n          }\r\n        }\r\n      } else {\r\n        startTime = now;\r\n        setCallback(\"loopComplete\");\r\n        instance.loopBegan = false;\r\n        if (instance.direction === \"alternate\") {\r\n          toggleInstanceDirection();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  instance.reset = function () {\r\n    var direction = instance.direction;\r\n    instance.passThrough = false;\r\n    instance.currentTime = 0;\r\n    instance.progress = 0;\r\n    instance.paused = true;\r\n    instance.began = false;\r\n    instance.loopBegan = false;\r\n    instance.changeBegan = false;\r\n    instance.completed = false;\r\n    instance.changeCompleted = false;\r\n    instance.reversePlayback = false;\r\n    instance.reversed = direction === \"reverse\";\r\n    instance.remaining = instance.loop;\r\n    children = instance.children;\r\n    childrenLength = children.length;\r\n    for (var i = childrenLength; i--; ) {\r\n      instance.children[i].reset();\r\n    }\r\n    if (\r\n      (instance.reversed && instance.loop !== true) ||\r\n      (direction === \"alternate\" && instance.loop === 1)\r\n    ) {\r\n      instance.remaining++;\r\n    }\r\n    setAnimationsProgress(instance.reversed ? instance.duration : 0);\r\n  };\r\n\r\n  // internal method (for engine) to adjust animation timings before restoring engine ticks (rAF)\r\n  instance._onDocumentVisibility = resetTime;\r\n\r\n  // Set Value helper\r\n\r\n  instance.set = function (targets, properties) {\r\n    setTargetsValue(targets, properties);\r\n    return instance;\r\n  };\r\n\r\n  instance.tick = function (t) {\r\n    now = t;\r\n    if (!startTime) {\r\n      startTime = now;\r\n    }\r\n    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);\r\n  };\r\n\r\n  instance.seek = function (time) {\r\n    setInstanceProgress(adjustTime(time));\r\n  };\r\n\r\n  instance.pause = function () {\r\n    instance.paused = true;\r\n    resetTime();\r\n  };\r\n\r\n  instance.play = function () {\r\n    if (!instance.paused) {\r\n      return;\r\n    }\r\n    if (instance.completed) {\r\n      instance.reset();\r\n    }\r\n    instance.paused = false;\r\n    activeInstances.push(instance);\r\n    resetTime();\r\n    engine();\r\n  };\r\n\r\n  instance.reverse = function () {\r\n    toggleInstanceDirection();\r\n    instance.completed = instance.reversed ? false : true;\r\n    resetTime();\r\n  };\r\n\r\n  instance.restart = function () {\r\n    instance.reset();\r\n    instance.play();\r\n  };\r\n\r\n  instance.remove = function (targets) {\r\n    var targetsArray = parseTargets(targets);\r\n    removeTargetsFromInstance(targetsArray, instance);\r\n  };\r\n\r\n  instance.reset();\r\n\r\n  if (instance.autoplay) {\r\n    instance.play();\r\n  }\r\n\r\n  return instance;\r\n}\r\n\r\n// Remove targets from animation\r\n\r\nfunction removeTargetsFromAnimations(targetsArray, animations) {\r\n  for (var a = animations.length; a--; ) {\r\n    if (arrayContains(targetsArray, animations[a].animatable.target)) {\r\n      animations.splice(a, 1);\r\n    }\r\n  }\r\n}\r\n\r\nfunction removeTargetsFromInstance(targetsArray, instance) {\r\n  var animations = instance.animations;\r\n  var children = instance.children;\r\n  removeTargetsFromAnimations(targetsArray, animations);\r\n  for (var c = children.length; c--; ) {\r\n    var child = children[c];\r\n    var childAnimations = child.animations;\r\n    removeTargetsFromAnimations(targetsArray, childAnimations);\r\n    if (!childAnimations.length && !child.children.length) {\r\n      children.splice(c, 1);\r\n    }\r\n  }\r\n  if (!animations.length && !children.length) {\r\n    instance.pause();\r\n  }\r\n}\r\n\r\nfunction removeTargetsFromActiveInstances(targets) {\r\n  var targetsArray = parseTargets(targets);\r\n  for (var i = activeInstances.length; i--; ) {\r\n    var instance = activeInstances[i];\r\n    removeTargetsFromInstance(targetsArray, instance);\r\n  }\r\n}\r\n\r\n// Stagger helpers\r\n\r\nfunction stagger(val, params) {\r\n  if (params === void 0) params = {};\r\n\r\n  var direction = params.direction || \"normal\";\r\n  var easing = params.easing ? parseEasings(params.easing) : null;\r\n  var grid = params.grid;\r\n  var axis = params.axis;\r\n  var fromIndex = params.from || 0;\r\n  var fromFirst = fromIndex === \"first\";\r\n  var fromCenter = fromIndex === \"center\";\r\n  var fromLast = fromIndex === \"last\";\r\n  var isRange = is.arr(val);\r\n  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\r\n  var val2 = isRange ? parseFloat(val[1]) : 0;\r\n  var unit = getUnit(isRange ? val[1] : val) || 0;\r\n  var start = params.start || 0 + (isRange ? val1 : 0);\r\n  var values = [];\r\n  var maxValue = 0;\r\n  return function (el, i, t) {\r\n    if (fromFirst) {\r\n      fromIndex = 0;\r\n    }\r\n    if (fromCenter) {\r\n      fromIndex = (t - 1) / 2;\r\n    }\r\n    if (fromLast) {\r\n      fromIndex = t - 1;\r\n    }\r\n    if (!values.length) {\r\n      for (var index = 0; index < t; index++) {\r\n        if (!grid) {\r\n          values.push(Math.abs(fromIndex - index));\r\n        } else {\r\n          var fromX = !fromCenter ? fromIndex % grid[0] : (grid[0] - 1) / 2;\r\n          var fromY = !fromCenter\r\n            ? Math.floor(fromIndex / grid[0])\r\n            : (grid[1] - 1) / 2;\r\n          var toX = index % grid[0];\r\n          var toY = Math.floor(index / grid[0]);\r\n          var distanceX = fromX - toX;\r\n          var distanceY = fromY - toY;\r\n          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\r\n          if (axis === \"x\") {\r\n            value = -distanceX;\r\n          }\r\n          if (axis === \"y\") {\r\n            value = -distanceY;\r\n          }\r\n          values.push(value);\r\n        }\r\n        maxValue = Math.max.apply(Math, values);\r\n      }\r\n      if (easing) {\r\n        values = values.map(function (val) {\r\n          return easing(val / maxValue) * maxValue;\r\n        });\r\n      }\r\n      if (direction === \"reverse\") {\r\n        values = values.map(function (val) {\r\n          return axis ? (val < 0 ? val * -1 : -val) : Math.abs(maxValue - val);\r\n        });\r\n      }\r\n    }\r\n    var spacing = isRange ? (val2 - val1) / maxValue : val1;\r\n    return start + spacing * (Math.round(values[i] * 100) / 100) + unit;\r\n  };\r\n}\r\n\r\n// Timeline\r\n\r\nfunction timeline(params) {\r\n  if (params === void 0) params = {};\r\n\r\n  var tl = anime(params);\r\n  tl.duration = 0;\r\n  tl.add = function (instanceParams, timelineOffset) {\r\n    var tlIndex = activeInstances.indexOf(tl);\r\n    var children = tl.children;\r\n    if (tlIndex > -1) {\r\n      activeInstances.splice(tlIndex, 1);\r\n    }\r\n\r\n    function passThrough(ins) {\r\n      ins.passThrough = true;\r\n    }\r\n\r\n    for (var i = 0; i < children.length; i++) {\r\n      passThrough(children[i]);\r\n    }\r\n    var insParams = mergeObjects(\r\n      instanceParams,\r\n      replaceObjectProps(defaultTweenSettings, params),\r\n    );\r\n    insParams.targets = insParams.targets || params.targets;\r\n    var tlDuration = tl.duration;\r\n    insParams.autoplay = false;\r\n    insParams.direction = tl.direction;\r\n    insParams.timelineOffset = is.und(timelineOffset)\r\n      ? tlDuration\r\n      : getRelativeValue(timelineOffset, tlDuration);\r\n    passThrough(tl);\r\n    tl.seek(insParams.timelineOffset);\r\n    var ins = anime(insParams);\r\n    passThrough(ins);\r\n    children.push(ins);\r\n    var timings = getInstanceTimings(children, params);\r\n    tl.delay = timings.delay;\r\n    tl.endDelay = timings.endDelay;\r\n    tl.duration = timings.duration;\r\n    tl.seek(0);\r\n    tl.reset();\r\n    if (tl.autoplay) {\r\n      tl.play();\r\n    }\r\n    return tl;\r\n  };\r\n  return tl;\r\n}\r\n\r\nanime.version = \"3.2.2\";\r\nanime.speed = 1;\r\n// TODO:#review: naming, documentation\r\nanime.suspendWhenDocumentHidden = true;\r\nanime.running = activeInstances;\r\nanime.remove = removeTargetsFromActiveInstances;\r\nanime.get = getOriginalTargetValue;\r\nanime.set = setTargetsValue;\r\nanime.convertPx = convertPxToUnit;\r\nanime.path = getPath;\r\nanime.setDashoffset = setDashoffset;\r\nanime.stagger = stagger;\r\nanime.timeline = timeline;\r\nanime.easing = parseEasings;\r\nanime.penner = penner;\r\nanime.random = function (min, max) {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n};\r\n","import { $ } from \"../../common.js\";\r\nimport \"./animate.scss\";\r\nimport anime from \"./anime.js\";\r\n\r\n$(document).ready(async () => {\r\n  const opacity = (delay1 = 0, delay2 = 0) => {\r\n    return [\r\n      { value: 0, delay: delay1, duration: 0 },\r\n      { value: 1, delay: delay2, duration: 1000 },\r\n    ];\r\n  };\r\n  const fromLeft = (delay1 = 0, delay2 = 0) => {\r\n    return [\r\n      { value: -150, delay: delay1, duration: 0 },\r\n      { value: 0, delay: delay2, duration: 1000 },\r\n    ];\r\n  };\r\n  const fromRight = (delay1 = 0, delay2 = 0) => {\r\n    return [\r\n      { value: 150, delay: delay1, duration: 0 },\r\n      { value: 0, delay: delay2, duration: 1000 },\r\n    ];\r\n  };\r\n\r\n  const t1 = anime.timeline({\r\n    easing: \"easeOutExpo\",\r\n    duration: 600,\r\n  });\r\n\r\n  t1.add({\r\n    targets: \".gloves\",\r\n    opacity: opacity(),\r\n    translateX: fromRight(),\r\n  })\r\n    .add(\r\n      {\r\n        targets: \".gloves .banner__text\",\r\n        opacity: opacity(),\r\n        translateX: fromLeft(),\r\n      },\r\n      \"-=600\",\r\n    )\r\n    .add(\r\n      {\r\n        targets: \".boot-cover\",\r\n        opacity: opacity(),\r\n        translateX: fromLeft(),\r\n      },\r\n      \"-=600\",\r\n    )\r\n    .add(\r\n      {\r\n        targets: \".boot-cover .banner__text\",\r\n        opacity: opacity(),\r\n        translateX: fromRight(),\r\n      },\r\n      \"-=600\",\r\n    )\r\n    .add(\r\n      {\r\n        targets: \".endosirynge\",\r\n        opacity: opacity(),\r\n        translateX: fromRight(),\r\n      },\r\n      \"-=600\",\r\n    )\r\n    .add(\r\n      {\r\n        targets: \".endosirynge .banner__text\",\r\n        opacity: opacity(),\r\n        translateX: fromLeft(),\r\n        transform: \"rotate3d(1,1,1,[0,360])\",\r\n      },\r\n      \"-=600\",\r\n    );\r\n});\r\n","export default function scroll() {\r\n  var prevScrollpos = window.pageYOffset;\r\n\r\n  /* Get the header element and it's position */\r\n  var headerDiv = document.querySelector(\"header\");\r\n  var headerBottom = headerDiv.offsetTop + headerDiv.offsetHeight;\r\n\r\n  window.onscroll = function () {\r\n    var currentScrollPos = window.pageYOffset;\r\n\r\n    /* if we're scrolling up, or we haven't passed the header,\r\n         show the header at the top */\r\n    if (prevScrollpos > currentScrollPos || currentScrollPos < headerBottom) {\r\n      headerDiv.style.top = \"0\";\r\n    } else {\r\n      /* otherwise we're scrolling down & have passed the header so hide it */\r\n      headerDiv.style.top = \"-7.2rem\";\r\n    }\r\n\r\n    prevScrollpos = currentScrollPos;\r\n  };\r\n}\r\n","import { $ } from \"../../common.js\";\n\nexport default function headerMenu() {\n  const menu = $(\".header-catalog-menu__wrap\").first();\n  if (!menu) return false;\n\n  $(menu).on(\"click\", \".arrow\", ({ target }) => {\n    const ul = $(target.closest(\"li\")).find(\"ul\");\n    ul.classList.toggle(\"visible\");\n  });\n}\n","export default function IntObserver() {\r\n  const options = {\r\n    rootMargin: \"10px\",\r\n    threshold: [1],\r\n  };\r\n\r\n  const typingText = Array.from(document.querySelectorAll(\".typing-animation\"));\r\n  const typing = function (entries, observer) {\r\n    entries.forEach((entry) => {\r\n      entry.target.classList.toggle(\"typing-animation\");\r\n    });\r\n  };\r\n  const observer = new IntersectionObserver(typing, options);\r\n  typingText.forEach((target) => observer.observe(target));\r\n\r\n  options.rootMargin = \"10px\";\r\n  options.threshold = [1];\r\n\r\n  const step = Array.from(document.querySelectorAll(\".step\"));\r\n  const containers = Array.from(document.querySelectorAll(\".static-container\"));\r\n  const stepFadeIn = function (entries, observer) {\r\n    entries.forEach((entry) => {\r\n      if (entry.isIntersecting) {\r\n        entry.target.querySelector(\".step\").classList.remove(\"fade-in\");\r\n      } else {\r\n        entry.target.querySelector(\".step\").classList.add(\"fade-in\");\r\n        // out of view\r\n      }\r\n    });\r\n  };\r\n  const observer1 = new IntersectionObserver(stepFadeIn, options);\r\n  containers.forEach((target) => observer1.observe(target));\r\n}\r\n","export default class MobileMenu {\r\n  constructor() {\r\n    this.navExpand = [].slice.call(document.querySelectorAll(\".nav-expand\"));\r\n    if (!this.navExpand) return;\r\n    this.backLink = `<li class=\"nav-item\">\r\n\r\n\t<a class=\"nav-link nav-back-link\" href=\"javascript:;\">\r\n\t\tНазад\r\n\t</a>\r\n</li>`;\r\n\r\n    this.navExpand.forEach((item) => {\r\n      item\r\n        .querySelector(\".nav-expand-content\")\r\n        .insertAdjacentHTML(\"afterbegin\", this.backLink);\r\n      item\r\n        .querySelector(\".nav-link\")\r\n        .addEventListener(\"click\", () => item.classList.add(\"active\"));\r\n      item\r\n        .querySelector(\".nav-back-link\")\r\n        .addEventListener(\"click\", () => item.classList.remove(\"active\"));\r\n    });\r\n\r\n    this.ham = document.getElementById(\"ham\");\r\n    if (this.ham)\r\n      this.ham.addEventListener(\"click\", function () {\r\n        document.body.classList.toggle(\"nav-is-toggled\");\r\n      });\r\n  }\r\n}\r\n","import { createElement } from \"../../../common.js\";\r\n\r\nexport default class InputContainer {\r\n  constructor(settings) {\r\n    const {\r\n      _type,\r\n      _onKeyUp,\r\n      _onInput,\r\n      _className,\r\n      _hidden,\r\n      _required,\r\n      _name,\r\n      _autocomplete,\r\n      _pattern,\r\n      _badgeWidth,\r\n      _id,\r\n      _placeholder,\r\n      _errorEl,\r\n    } = settings;\r\n\r\n    this.container = new createElement()\r\n      .tag(\"div\")\r\n      .attr(\"class\", \"input-container\")\r\n      .get();\r\n\r\n    this.input = document.createElement(\"input\");\r\n    if (_onKeyUp) this.input.addEventListener(\"keyup\", _onKeyUp.bind(this));\r\n    if (_onInput) this.input.addEventListener(\"input\", _onInput.bind(this));\r\n    if (_type) {\r\n      this.input.type = _type;\r\n      if (_type === \"password\") {\r\n        this.showPass();\r\n      }\r\n    }\r\n    this.input.placeholder = \" \";\r\n    if (_className) this.input.classList.add(_className);\r\n    if (_hidden) this.input.hidden = _hidden;\r\n    if (_required) this.input.required = _required;\r\n\r\n    if (_autocomplete) this.input.autocomplete = _autocomplete;\r\n    if (_name) this.input.name = _name;\r\n    if (_pattern) this.input.pattern = _pattern;\r\n    this.input.id = _id;\r\n\r\n    this.labelBadge = new createElement()\r\n      .tag(\"div\")\r\n      .attr(\"class\", \"badge\")\r\n      .get();\r\n    this.labelBadge.style.width = _badgeWidth;\r\n\r\n    this.label = new createElement().tag(\"label\").text(_placeholder).get();\r\n    this.label.htmlFor = _id;\r\n\r\n    this.container.append(this.input);\r\n    this.container.append(this.labelBadge);\r\n    this.container.append(this.label);\r\n\r\n    if (_errorEl) {\r\n      this.errorEl = new createElement().tag(\"div\");\r\n      if (_errorEl.startsWith(\"#\")) {\r\n        const id = _errorEl.replace(\"#\", \"\");\r\n        this.errorEl = this.errorEl.attr(\"id\", id);\r\n      } else if (_errorEl.startsWith(\".\")) {\r\n        const className = _errorEl.replace(\".\", \"\");\r\n        this.errorEl = this.errorEl.attr(\"class\", className);\r\n      }\r\n      this.errorEl = this.errorEl.get();\r\n      this.container.append(this.errorEl);\r\n    }\r\n\r\n    return this.container;\r\n  }\r\n\r\n  showPass() {\r\n    const showPass = new createElement()\r\n      .tag(\"span\")\r\n      .attr(\"class\", \"password-control\")\r\n      .get();\r\n    showPass.addEventListener(\"click\", function ({ target }) {\r\n      target.parentNode.querySelector(\"input\").type =\r\n        target.parentNode.querySelector(\"input\").type === \"password\"\r\n          ? \"text\"\r\n          : \"password\";\r\n      target.classList.toggle(\"view\");\r\n    });\r\n    this.container.append(showPass);\r\n  }\r\n}\r\n","import InputContainer from \"./InputContainer\";\r\n\r\nexport default class FieldBuilder {\r\n  constructor() {\r\n    this._type = \"text\";\r\n  }\r\n\r\n  id(id) {\r\n    this._id = id;\r\n    return this;\r\n  }\r\n\r\n  type(type) {\r\n    this._type = type;\r\n    return this;\r\n  }\r\n\r\n  hidden() {\r\n    this._hidden = true;\r\n    return this;\r\n  }\r\n\r\n  required() {\r\n    this._required = true;\r\n    return this;\r\n  }\r\n\r\n  name(name) {\r\n    this._name = name;\r\n    return this;\r\n  }\r\n\r\n  autocomplete() {\r\n    this._autocomplete = true;\r\n    return this;\r\n  }\r\n\r\n  placeholder(placeholder) {\r\n    this._placeholder = placeholder;\r\n    return this;\r\n  }\r\n\r\n  class(value) {\r\n    this._class = value;\r\n    return this;\r\n  }\r\n\r\n  pattern(pattern) {\r\n    let reg = new RegExp(pattern);\r\n    this._pattern = reg.source;\r\n    return this;\r\n  }\r\n\r\n  badgeWidth(width) {\r\n    this._badgeWidth = width;\r\n    return this;\r\n  }\r\n\r\n  errorEl(errorEl) {\r\n    this._errorEl = errorEl;\r\n    return this;\r\n  }\r\n\r\n  onKeyUp(callback) {\r\n    this._onKeyUp = callback;\r\n    return this;\r\n  }\r\n\r\n  onInput(callback) {\r\n    this._onInput = callback;\r\n    return this;\r\n  }\r\n\r\n  get() {\r\n    return new InputContainer(this);\r\n  }\r\n}\r\n","import FieldBuilder from \"../components/Modal/builders/FieldBuilder.js\";\n\nimport {\n  createElement,\n  emailValidator,\n  passwordValidator,\n  post,\n  sanitizeInput,\n} from \"../common.js\";\n\nimport { qs } from \"@src/constants.js\";\n\nexport default class cartLogin {\n  constructor() {\n    return {\n      1: [this.getLoginRows()],\n      2: [this.getRegisterRows()],\n      3: [this.getForgotRows()],\n    };\n  }\n\n  getLoginRows() {\n    return [\n      \"Вход\",\n      this.getEmailInput(),\n      this.getPasswordInput(),\n      this.getLoginButton(),\n      this.createLinks(\"login\"),\n      this.getYandexAuth(),\n      this.getLoginWarning(),\n    ];\n  }\n\n  getRegisterRows() {\n    return [\n      \"Регистрация\",\n      this.getEmailInput(),\n      this.getPasswordInput(),\n      this.getPhoneInput(),\n      this.getRegisterButton(),\n      this.createLinks(\"register\"),\n      this.getLoginWarning(),\n    ];\n  }\n\n  getForgotRows() {\n    return [\n      \"Восстановление пароля\",\n      this.getEmailInput(),\n      this.getForgotButton(),\n      this.createLinks(\"forgot\"),\n      this.getLoginWarning(),\n    ];\n  }\n\n  getEmailInput() {\n    return new FieldBuilder()\n      .id(\"email\")\n      .required()\n      .name(\"email\")\n      .type(\"text\") //not email as in transforms cyrillic to punicode\n      .onInput(this.onInputEmail.bind(this))\n      .errorEl(\"#emailError\")\n      .badgeWidth(\"55px\")\n      .placeholder(\"email\")\n      .get();\n  }\n\n  getPasswordInput() {\n    return new FieldBuilder()\n      .id(\"password\")\n      .required()\n      .name(\"password\")\n      .type(\"password\")\n      .errorEl(\"#emailError\")\n      .onInput(this.onInputPassword.bind(this))\n      .badgeWidth(\"65px\")\n      .placeholder(\"пароль\")\n      .get();\n  }\n\n  getPhoneInput() {\n    return new FieldBuilder()\n      .id(\"phone\")\n      .required()\n      .name(\"phone\")\n      .type(\"text\")\n      .errorEl(\"#emailError\")\n      .badgeWidth(\"65px\")\n      .placeholder(\"телефон\")\n      .get();\n  }\n\n  getLoginButton() {\n    const loginButton = this.createButton(\"Войти\");\n    loginButton.addEventListener(\"click\", this.login.bind(this));\n    return loginButton;\n  }\n\n  getRegisterButton() {\n    const registerButton = this.createButton(\"Регистрация\");\n    registerButton.addEventListener(\"click\", this.register.bind(this));\n    return registerButton;\n  }\n\n  getForgotButton() {\n    const forgotPassword = this.createButton(\"Забыл пароль\");\n    forgotPassword.addEventListener(\"click\", this.forgot.bind(this));\n    return forgotPassword;\n  }\n\n  getLoginLink() {\n    const loginButton = this.createLink(\"Войти\", 1);\n    loginButton.addEventListener(\"click\", this.switch.bind(this));\n    return loginButton;\n  }\n\n  getRegisterLink() {\n    const registerButton = this.createLink(\"Регистрация\", 2);\n    registerButton.addEventListener(\"click\", this.switch.bind(this));\n    return registerButton;\n  }\n\n  getForgotLink() {\n    const forgotPassword = this.createLink(\"Забыл пароль\", 3);\n    forgotPassword.addEventListener(\"click\", this.switch.bind(this));\n    return forgotPassword;\n  }\n\n  getYandexAuth() {\n    return new createElement()\n      .tag(\"a\")\n      .attr(\n        \"href\",\n        \"https://oauth.yandex.ru/authorize?\" +\n          \"client_id=1cacd478c22b49c1a22e59ac811d0fc0&\" +\n          \"redirect_uri=https://vitexopt.ru/auth/yandex&\" +\n          \"response_type=code&\" +\n          \"state=132\",\n      )\n      .attr(\"class\", \"yandex\")\n      .attr(\"title\", \"Авторизация Яндекс\")\n      .get();\n  }\n\n  getLoginWarning() {\n    return new createElement()\n      .tag(\"p\")\n      .text(\n        \"Оставляя свои данные, вы соглашаетесь с политикой конфиденциальности\",\n      )\n      .get();\n  }\n\n  createLink(text, dataTarget) {\n    return new createElement()\n      .tag(\"div\")\n      .attr(\"class\", \"link\")\n      .attr(\"data-target\", dataTarget)\n      .text(text)\n      .get();\n  }\n\n  createLinks(type) {\n    const wrap = new createElement().tag(\"div\").attr(\"class\", \"row\").get();\n    if (type === \"register\") {\n      wrap.appendChild(this.getLoginLink());\n      wrap.appendChild(this.getForgotLink());\n    } else if (type === \"login\") {\n      wrap.appendChild(this.getRegisterLink());\n      wrap.appendChild(this.getForgotLink());\n    } else if (type === \"forgot\") {\n      wrap.appendChild(this.getLoginLink());\n      wrap.appendChild(this.getRegisterLink());\n    }\n    return wrap;\n  }\n\n  switch({ target }, type) {\n    const event = new Event(\"modal.switch\", { bubbles: true });\n    target.dispatchEvent(event);\n  }\n\n  createButton(text) {\n    return new createElement()\n      .tag(\"button\")\n      .attr(\"type\", \"submit\")\n      .attr(\"class\", \"button\")\n      .attr(\"id\", \"forgot\")\n      .text(text)\n      .get();\n  }\n\n  async login(e) {\n    YM(\"click_on_login\");\n    const dto = this.authDTO(e);\n    const content = e.target.closest(\".content\");\n    const res = await post(\"/auth/login\", dto);\n\n    if (res?.error) {\n      // popup.show(res?.error);\n      content.innerHTML = res?.error;\n      return;\n    }\n\n    content.innerHTML = \"Вход выполнен\";\n\n    const id = res.id;\n    localStorage.setItem(\"id\", id);\n    // if (res?.role === \"employee\") {\n    //   window.location = \"/adminsc\";\n    // } else if (res?.role === \"guest\") {\n    if (window.location.pathname !== \"/\") {\n      window.location = window.location.pathname;\n    } else {\n      window.location = \"/auth/profile\";\n    }\n    // } else if (res?.role === \"admin\") {\n    //   window.location = \"/adminsc\";\n    // }\n  }\n\n  async register(e) {\n    YM(\"click_on_register\");\n    const res = await post(\"/auth/register\", this.authDTO(e));\n    const content = e.target.closest(\".content\");\n    if (res?.success) {\n      content.innerHTML =\n        \"<p>-Пользователь зарегистрирован.</p>\" +\n        \"<p>-Для подтверждения регистрации зайдите на почту, </p>\" +\n        \"<p><bold>email.</bold></p>\" +\n        \"<p>-Перейдите по ссылке в письме.</p>\";\n    } else if (res?.error === \"mail exists\") {\n      content.innerHTML =\n        \"Эта почта уже зарегистрирована. Войдите в систему по кнопке внизу Войти или, если не помните пароль, восстановите пароль по кнопке Забыл пароль\";\n    } else {\n      content.innerHTML = res?.error ?? \"Неизвестная ошибка\";\n    }\n  }\n\n  async forgot(e) {\n    const dto = this.authDTO(e);\n    const res = await post(\"/auth/returnpass\", dto);\n    if (res?.arr?.success) {\n      const content = e.target.closest(\".content\");\n      content.innerHTML = \"Новый пароль отпарвлен на почту\";\n    }\n  }\n\n  authDTO(e) {\n    e.preventDefault();\n    const form = e.target.closest(\".box\");\n    const email = sanitizeInput(form[qs](\"input#email\")?.value) ?? null;\n    const password = sanitizeInput(form[qs](\"input#password\")?.value) ?? null;\n    // const phone = sanitizeInput(form[qs](\"input#phone\")?.value) ?? null;\n    return { email, password };\n  }\n\n  onInputEmail({ target }) {\n    const container = target.closest(\".input-container\");\n    const email = target.value;\n    const errors = emailValidator(email);\n    container.querySelector(\"#emailError\").innerText = errors.length\n      ? errors[0]\n      : \"\";\n    container.querySelector(\"label\").style.color = errors.length\n      ? \"#dc2f55\"\n      : \"#2fdcdb\";\n    target.style.outline = errors.length\n      ? \"solid 1px #dc2f55\"\n      : \"solid 1px #2fdcdb\";\n  }\n\n  onInputPassword({ target }) {\n    const container = target.closest(\".input-container\");\n    const pass = target.value;\n    const errors = passwordValidator(pass);\n    container.querySelector(\"#emailError\").innerText = errors.length\n      ? errors[0]\n      : \"\";\n    container.querySelector(\"label\").style.color = errors.length\n      ? \"#dc2f55\"\n      : \"#2fdcdb\";\n    target.style.outline = errors.length\n      ? \"solid 1px #dc2f55\"\n      : \"solid 1px #2fdcdb\";\n  }\n}\n","export default function YM(name, id = 7715905, goal = \"reachGoal\") {\r\n  if (window[\"ym\"] === undefined) return;\r\n  id = 98155100;\r\n  id = 64313887;\r\n  const consts = {\r\n    click_on_phone: \"click_on_phone\",\r\n    click_on_email: \"click_on_email\",\r\n    url_cart: \"url_cart\",\r\n    tovar_v_korzine: \"tovar_v_korzine\",\r\n    cart_submitted: \"oformit_zakaz_korzina\",\r\n    register_opened: \"register_opened\",\r\n    click_on_register: \"registraciya\",\r\n    click_on_login: \"click_on_login\",\r\n    form_submitted: \"form_submitted\",\r\n    to_messenger: \"to_messenger\",\r\n    to_social: \"to_social\",\r\n    click_search: \"poisk_tovarov\",\r\n  };\r\n  window[\"ym\"](id, goal, consts.name);\r\n}\r\n","import { getPhpSession } from \"@src/common.js\";\r\n\r\nexport default class ChatLocalStorage {\r\n  constructor() {\r\n    if (!localStorage.getItem(\"vitex-chat-id\")) {\r\n      localStorage.setItem(\"vitex-chat-id\", getPhpSession());\r\n    }\r\n  }\r\n}\r\n","/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nfunction getDefaultWhiteList () {\n  // 白名单值说明：\n  // true: 允许该属性\n  // Function: function (val) { } 返回true表示允许该属性，其他值均表示不允许\n  // RegExp: regexp.test(val) 返回true表示允许该属性，其他值均表示不允许\n  // 除上面列出的值外均表示不允许\n  var whiteList = {};\n\n  whiteList['align-content'] = false; // default: auto\n  whiteList['align-items'] = false; // default: auto\n  whiteList['align-self'] = false; // default: auto\n  whiteList['alignment-adjust'] = false; // default: auto\n  whiteList['alignment-baseline'] = false; // default: baseline\n  whiteList['all'] = false; // default: depending on individual properties\n  whiteList['anchor-point'] = false; // default: none\n  whiteList['animation'] = false; // default: depending on individual properties\n  whiteList['animation-delay'] = false; // default: 0\n  whiteList['animation-direction'] = false; // default: normal\n  whiteList['animation-duration'] = false; // default: 0\n  whiteList['animation-fill-mode'] = false; // default: none\n  whiteList['animation-iteration-count'] = false; // default: 1\n  whiteList['animation-name'] = false; // default: none\n  whiteList['animation-play-state'] = false; // default: running\n  whiteList['animation-timing-function'] = false; // default: ease\n  whiteList['azimuth'] = false; // default: center\n  whiteList['backface-visibility'] = false; // default: visible\n  whiteList['background'] = true; // default: depending on individual properties\n  whiteList['background-attachment'] = true; // default: scroll\n  whiteList['background-clip'] = true; // default: border-box\n  whiteList['background-color'] = true; // default: transparent\n  whiteList['background-image'] = true; // default: none\n  whiteList['background-origin'] = true; // default: padding-box\n  whiteList['background-position'] = true; // default: 0% 0%\n  whiteList['background-repeat'] = true; // default: repeat\n  whiteList['background-size'] = true; // default: auto\n  whiteList['baseline-shift'] = false; // default: baseline\n  whiteList['binding'] = false; // default: none\n  whiteList['bleed'] = false; // default: 6pt\n  whiteList['bookmark-label'] = false; // default: content()\n  whiteList['bookmark-level'] = false; // default: none\n  whiteList['bookmark-state'] = false; // default: open\n  whiteList['border'] = true; // default: depending on individual properties\n  whiteList['border-bottom'] = true; // default: depending on individual properties\n  whiteList['border-bottom-color'] = true; // default: current color\n  whiteList['border-bottom-left-radius'] = true; // default: 0\n  whiteList['border-bottom-right-radius'] = true; // default: 0\n  whiteList['border-bottom-style'] = true; // default: none\n  whiteList['border-bottom-width'] = true; // default: medium\n  whiteList['border-collapse'] = true; // default: separate\n  whiteList['border-color'] = true; // default: depending on individual properties\n  whiteList['border-image'] = true; // default: none\n  whiteList['border-image-outset'] = true; // default: 0\n  whiteList['border-image-repeat'] = true; // default: stretch\n  whiteList['border-image-slice'] = true; // default: 100%\n  whiteList['border-image-source'] = true; // default: none\n  whiteList['border-image-width'] = true; // default: 1\n  whiteList['border-left'] = true; // default: depending on individual properties\n  whiteList['border-left-color'] = true; // default: current color\n  whiteList['border-left-style'] = true; // default: none\n  whiteList['border-left-width'] = true; // default: medium\n  whiteList['border-radius'] = true; // default: 0\n  whiteList['border-right'] = true; // default: depending on individual properties\n  whiteList['border-right-color'] = true; // default: current color\n  whiteList['border-right-style'] = true; // default: none\n  whiteList['border-right-width'] = true; // default: medium\n  whiteList['border-spacing'] = true; // default: 0\n  whiteList['border-style'] = true; // default: depending on individual properties\n  whiteList['border-top'] = true; // default: depending on individual properties\n  whiteList['border-top-color'] = true; // default: current color\n  whiteList['border-top-left-radius'] = true; // default: 0\n  whiteList['border-top-right-radius'] = true; // default: 0\n  whiteList['border-top-style'] = true; // default: none\n  whiteList['border-top-width'] = true; // default: medium\n  whiteList['border-width'] = true; // default: depending on individual properties\n  whiteList['bottom'] = false; // default: auto\n  whiteList['box-decoration-break'] = true; // default: slice\n  whiteList['box-shadow'] = true; // default: none\n  whiteList['box-sizing'] = true; // default: content-box\n  whiteList['box-snap'] = true; // default: none\n  whiteList['box-suppress'] = true; // default: show\n  whiteList['break-after'] = true; // default: auto\n  whiteList['break-before'] = true; // default: auto\n  whiteList['break-inside'] = true; // default: auto\n  whiteList['caption-side'] = false; // default: top\n  whiteList['chains'] = false; // default: none\n  whiteList['clear'] = true; // default: none\n  whiteList['clip'] = false; // default: auto\n  whiteList['clip-path'] = false; // default: none\n  whiteList['clip-rule'] = false; // default: nonzero\n  whiteList['color'] = true; // default: implementation dependent\n  whiteList['color-interpolation-filters'] = true; // default: auto\n  whiteList['column-count'] = false; // default: auto\n  whiteList['column-fill'] = false; // default: balance\n  whiteList['column-gap'] = false; // default: normal\n  whiteList['column-rule'] = false; // default: depending on individual properties\n  whiteList['column-rule-color'] = false; // default: current color\n  whiteList['column-rule-style'] = false; // default: medium\n  whiteList['column-rule-width'] = false; // default: medium\n  whiteList['column-span'] = false; // default: none\n  whiteList['column-width'] = false; // default: auto\n  whiteList['columns'] = false; // default: depending on individual properties\n  whiteList['contain'] = false; // default: none\n  whiteList['content'] = false; // default: normal\n  whiteList['counter-increment'] = false; // default: none\n  whiteList['counter-reset'] = false; // default: none\n  whiteList['counter-set'] = false; // default: none\n  whiteList['crop'] = false; // default: auto\n  whiteList['cue'] = false; // default: depending on individual properties\n  whiteList['cue-after'] = false; // default: none\n  whiteList['cue-before'] = false; // default: none\n  whiteList['cursor'] = false; // default: auto\n  whiteList['direction'] = false; // default: ltr\n  whiteList['display'] = true; // default: depending on individual properties\n  whiteList['display-inside'] = true; // default: auto\n  whiteList['display-list'] = true; // default: none\n  whiteList['display-outside'] = true; // default: inline-level\n  whiteList['dominant-baseline'] = false; // default: auto\n  whiteList['elevation'] = false; // default: level\n  whiteList['empty-cells'] = false; // default: show\n  whiteList['filter'] = false; // default: none\n  whiteList['flex'] = false; // default: depending on individual properties\n  whiteList['flex-basis'] = false; // default: auto\n  whiteList['flex-direction'] = false; // default: row\n  whiteList['flex-flow'] = false; // default: depending on individual properties\n  whiteList['flex-grow'] = false; // default: 0\n  whiteList['flex-shrink'] = false; // default: 1\n  whiteList['flex-wrap'] = false; // default: nowrap\n  whiteList['float'] = false; // default: none\n  whiteList['float-offset'] = false; // default: 0 0\n  whiteList['flood-color'] = false; // default: black\n  whiteList['flood-opacity'] = false; // default: 1\n  whiteList['flow-from'] = false; // default: none\n  whiteList['flow-into'] = false; // default: none\n  whiteList['font'] = true; // default: depending on individual properties\n  whiteList['font-family'] = true; // default: implementation dependent\n  whiteList['font-feature-settings'] = true; // default: normal\n  whiteList['font-kerning'] = true; // default: auto\n  whiteList['font-language-override'] = true; // default: normal\n  whiteList['font-size'] = true; // default: medium\n  whiteList['font-size-adjust'] = true; // default: none\n  whiteList['font-stretch'] = true; // default: normal\n  whiteList['font-style'] = true; // default: normal\n  whiteList['font-synthesis'] = true; // default: weight style\n  whiteList['font-variant'] = true; // default: normal\n  whiteList['font-variant-alternates'] = true; // default: normal\n  whiteList['font-variant-caps'] = true; // default: normal\n  whiteList['font-variant-east-asian'] = true; // default: normal\n  whiteList['font-variant-ligatures'] = true; // default: normal\n  whiteList['font-variant-numeric'] = true; // default: normal\n  whiteList['font-variant-position'] = true; // default: normal\n  whiteList['font-weight'] = true; // default: normal\n  whiteList['grid'] = false; // default: depending on individual properties\n  whiteList['grid-area'] = false; // default: depending on individual properties\n  whiteList['grid-auto-columns'] = false; // default: auto\n  whiteList['grid-auto-flow'] = false; // default: none\n  whiteList['grid-auto-rows'] = false; // default: auto\n  whiteList['grid-column'] = false; // default: depending on individual properties\n  whiteList['grid-column-end'] = false; // default: auto\n  whiteList['grid-column-start'] = false; // default: auto\n  whiteList['grid-row'] = false; // default: depending on individual properties\n  whiteList['grid-row-end'] = false; // default: auto\n  whiteList['grid-row-start'] = false; // default: auto\n  whiteList['grid-template'] = false; // default: depending on individual properties\n  whiteList['grid-template-areas'] = false; // default: none\n  whiteList['grid-template-columns'] = false; // default: none\n  whiteList['grid-template-rows'] = false; // default: none\n  whiteList['hanging-punctuation'] = false; // default: none\n  whiteList['height'] = true; // default: auto\n  whiteList['hyphens'] = false; // default: manual\n  whiteList['icon'] = false; // default: auto\n  whiteList['image-orientation'] = false; // default: auto\n  whiteList['image-resolution'] = false; // default: normal\n  whiteList['ime-mode'] = false; // default: auto\n  whiteList['initial-letters'] = false; // default: normal\n  whiteList['inline-box-align'] = false; // default: last\n  whiteList['justify-content'] = false; // default: auto\n  whiteList['justify-items'] = false; // default: auto\n  whiteList['justify-self'] = false; // default: auto\n  whiteList['left'] = false; // default: auto\n  whiteList['letter-spacing'] = true; // default: normal\n  whiteList['lighting-color'] = true; // default: white\n  whiteList['line-box-contain'] = false; // default: block inline replaced\n  whiteList['line-break'] = false; // default: auto\n  whiteList['line-grid'] = false; // default: match-parent\n  whiteList['line-height'] = false; // default: normal\n  whiteList['line-snap'] = false; // default: none\n  whiteList['line-stacking'] = false; // default: depending on individual properties\n  whiteList['line-stacking-ruby'] = false; // default: exclude-ruby\n  whiteList['line-stacking-shift'] = false; // default: consider-shifts\n  whiteList['line-stacking-strategy'] = false; // default: inline-line-height\n  whiteList['list-style'] = true; // default: depending on individual properties\n  whiteList['list-style-image'] = true; // default: none\n  whiteList['list-style-position'] = true; // default: outside\n  whiteList['list-style-type'] = true; // default: disc\n  whiteList['margin'] = true; // default: depending on individual properties\n  whiteList['margin-bottom'] = true; // default: 0\n  whiteList['margin-left'] = true; // default: 0\n  whiteList['margin-right'] = true; // default: 0\n  whiteList['margin-top'] = true; // default: 0\n  whiteList['marker-offset'] = false; // default: auto\n  whiteList['marker-side'] = false; // default: list-item\n  whiteList['marks'] = false; // default: none\n  whiteList['mask'] = false; // default: border-box\n  whiteList['mask-box'] = false; // default: see individual properties\n  whiteList['mask-box-outset'] = false; // default: 0\n  whiteList['mask-box-repeat'] = false; // default: stretch\n  whiteList['mask-box-slice'] = false; // default: 0 fill\n  whiteList['mask-box-source'] = false; // default: none\n  whiteList['mask-box-width'] = false; // default: auto\n  whiteList['mask-clip'] = false; // default: border-box\n  whiteList['mask-image'] = false; // default: none\n  whiteList['mask-origin'] = false; // default: border-box\n  whiteList['mask-position'] = false; // default: center\n  whiteList['mask-repeat'] = false; // default: no-repeat\n  whiteList['mask-size'] = false; // default: border-box\n  whiteList['mask-source-type'] = false; // default: auto\n  whiteList['mask-type'] = false; // default: luminance\n  whiteList['max-height'] = true; // default: none\n  whiteList['max-lines'] = false; // default: none\n  whiteList['max-width'] = true; // default: none\n  whiteList['min-height'] = true; // default: 0\n  whiteList['min-width'] = true; // default: 0\n  whiteList['move-to'] = false; // default: normal\n  whiteList['nav-down'] = false; // default: auto\n  whiteList['nav-index'] = false; // default: auto\n  whiteList['nav-left'] = false; // default: auto\n  whiteList['nav-right'] = false; // default: auto\n  whiteList['nav-up'] = false; // default: auto\n  whiteList['object-fit'] = false; // default: fill\n  whiteList['object-position'] = false; // default: 50% 50%\n  whiteList['opacity'] = false; // default: 1\n  whiteList['order'] = false; // default: 0\n  whiteList['orphans'] = false; // default: 2\n  whiteList['outline'] = false; // default: depending on individual properties\n  whiteList['outline-color'] = false; // default: invert\n  whiteList['outline-offset'] = false; // default: 0\n  whiteList['outline-style'] = false; // default: none\n  whiteList['outline-width'] = false; // default: medium\n  whiteList['overflow'] = false; // default: depending on individual properties\n  whiteList['overflow-wrap'] = false; // default: normal\n  whiteList['overflow-x'] = false; // default: visible\n  whiteList['overflow-y'] = false; // default: visible\n  whiteList['padding'] = true; // default: depending on individual properties\n  whiteList['padding-bottom'] = true; // default: 0\n  whiteList['padding-left'] = true; // default: 0\n  whiteList['padding-right'] = true; // default: 0\n  whiteList['padding-top'] = true; // default: 0\n  whiteList['page'] = false; // default: auto\n  whiteList['page-break-after'] = false; // default: auto\n  whiteList['page-break-before'] = false; // default: auto\n  whiteList['page-break-inside'] = false; // default: auto\n  whiteList['page-policy'] = false; // default: start\n  whiteList['pause'] = false; // default: implementation dependent\n  whiteList['pause-after'] = false; // default: implementation dependent\n  whiteList['pause-before'] = false; // default: implementation dependent\n  whiteList['perspective'] = false; // default: none\n  whiteList['perspective-origin'] = false; // default: 50% 50%\n  whiteList['pitch'] = false; // default: medium\n  whiteList['pitch-range'] = false; // default: 50\n  whiteList['play-during'] = false; // default: auto\n  whiteList['position'] = false; // default: static\n  whiteList['presentation-level'] = false; // default: 0\n  whiteList['quotes'] = false; // default: text\n  whiteList['region-fragment'] = false; // default: auto\n  whiteList['resize'] = false; // default: none\n  whiteList['rest'] = false; // default: depending on individual properties\n  whiteList['rest-after'] = false; // default: none\n  whiteList['rest-before'] = false; // default: none\n  whiteList['richness'] = false; // default: 50\n  whiteList['right'] = false; // default: auto\n  whiteList['rotation'] = false; // default: 0\n  whiteList['rotation-point'] = false; // default: 50% 50%\n  whiteList['ruby-align'] = false; // default: auto\n  whiteList['ruby-merge'] = false; // default: separate\n  whiteList['ruby-position'] = false; // default: before\n  whiteList['shape-image-threshold'] = false; // default: 0.0\n  whiteList['shape-outside'] = false; // default: none\n  whiteList['shape-margin'] = false; // default: 0\n  whiteList['size'] = false; // default: auto\n  whiteList['speak'] = false; // default: auto\n  whiteList['speak-as'] = false; // default: normal\n  whiteList['speak-header'] = false; // default: once\n  whiteList['speak-numeral'] = false; // default: continuous\n  whiteList['speak-punctuation'] = false; // default: none\n  whiteList['speech-rate'] = false; // default: medium\n  whiteList['stress'] = false; // default: 50\n  whiteList['string-set'] = false; // default: none\n  whiteList['tab-size'] = false; // default: 8\n  whiteList['table-layout'] = false; // default: auto\n  whiteList['text-align'] = true; // default: start\n  whiteList['text-align-last'] = true; // default: auto\n  whiteList['text-combine-upright'] = true; // default: none\n  whiteList['text-decoration'] = true; // default: none\n  whiteList['text-decoration-color'] = true; // default: currentColor\n  whiteList['text-decoration-line'] = true; // default: none\n  whiteList['text-decoration-skip'] = true; // default: objects\n  whiteList['text-decoration-style'] = true; // default: solid\n  whiteList['text-emphasis'] = true; // default: depending on individual properties\n  whiteList['text-emphasis-color'] = true; // default: currentColor\n  whiteList['text-emphasis-position'] = true; // default: over right\n  whiteList['text-emphasis-style'] = true; // default: none\n  whiteList['text-height'] = true; // default: auto\n  whiteList['text-indent'] = true; // default: 0\n  whiteList['text-justify'] = true; // default: auto\n  whiteList['text-orientation'] = true; // default: mixed\n  whiteList['text-overflow'] = true; // default: clip\n  whiteList['text-shadow'] = true; // default: none\n  whiteList['text-space-collapse'] = true; // default: collapse\n  whiteList['text-transform'] = true; // default: none\n  whiteList['text-underline-position'] = true; // default: auto\n  whiteList['text-wrap'] = true; // default: normal\n  whiteList['top'] = false; // default: auto\n  whiteList['transform'] = false; // default: none\n  whiteList['transform-origin'] = false; // default: 50% 50% 0\n  whiteList['transform-style'] = false; // default: flat\n  whiteList['transition'] = false; // default: depending on individual properties\n  whiteList['transition-delay'] = false; // default: 0s\n  whiteList['transition-duration'] = false; // default: 0s\n  whiteList['transition-property'] = false; // default: all\n  whiteList['transition-timing-function'] = false; // default: ease\n  whiteList['unicode-bidi'] = false; // default: normal\n  whiteList['vertical-align'] = false; // default: baseline\n  whiteList['visibility'] = false; // default: visible\n  whiteList['voice-balance'] = false; // default: center\n  whiteList['voice-duration'] = false; // default: auto\n  whiteList['voice-family'] = false; // default: implementation dependent\n  whiteList['voice-pitch'] = false; // default: medium\n  whiteList['voice-range'] = false; // default: medium\n  whiteList['voice-rate'] = false; // default: normal\n  whiteList['voice-stress'] = false; // default: normal\n  whiteList['voice-volume'] = false; // default: medium\n  whiteList['volume'] = false; // default: medium\n  whiteList['white-space'] = false; // default: normal\n  whiteList['widows'] = false; // default: 2\n  whiteList['width'] = true; // default: auto\n  whiteList['will-change'] = false; // default: auto\n  whiteList['word-break'] = true; // default: normal\n  whiteList['word-spacing'] = true; // default: normal\n  whiteList['word-wrap'] = true; // default: normal\n  whiteList['wrap-flow'] = false; // default: auto\n  whiteList['wrap-through'] = false; // default: wrap\n  whiteList['writing-mode'] = false; // default: horizontal-tb\n  whiteList['z-index'] = false; // default: auto\n\n  return whiteList;\n}\n\n\n/**\n * 匹配到白名单上的一个属性时\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {String}\n */\nfunction onAttr (name, value, options) {\n  // do nothing\n}\n\n/**\n * 匹配到不在白名单上的一个属性时\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreAttr (name, value, options) {\n  // do nothing\n}\n\nvar REGEXP_URL_JAVASCRIPT = /javascript\\s*\\:/img;\n\n/**\n * 过滤属性值\n *\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction safeAttrValue(name, value) {\n  if (REGEXP_URL_JAVASCRIPT.test(value)) return '';\n  return value;\n}\n\n\nexports.whiteList = getDefaultWhiteList();\nexports.getDefaultWhiteList = getDefaultWhiteList;\nexports.onAttr = onAttr;\nexports.onIgnoreAttr = onIgnoreAttr;\nexports.safeAttrValue = safeAttrValue;\n","module.exports = {\n  indexOf: function (arr, item) {\n    var i, j;\n    if (Array.prototype.indexOf) {\n      return arr.indexOf(item);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      if (arr[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  forEach: function (arr, fn, scope) {\n    var i, j;\n    if (Array.prototype.forEach) {\n      return arr.forEach(fn, scope);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      fn.call(scope, arr[i], i, arr);\n    }\n  },\n  trim: function (str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/(^\\s*)|(\\s*$)/g, '');\n  },\n  trimRight: function (str) {\n    if (String.prototype.trimRight) {\n      return str.trimRight();\n    }\n    return str.replace(/(\\s*$)/g, '');\n  }\n};\n","/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar _ = require('./util');\n\n\n/**\n * 解析style\n *\n * @param {String} css\n * @param {Function} onAttr 处理属性的函数\n *   参数格式： function (sourcePosition, position, name, value, source)\n * @return {String}\n */\nfunction parseStyle (css, onAttr) {\n  css = _.trimRight(css);\n  if (css[css.length - 1] !== ';') css += ';';\n  var cssLength = css.length;\n  var isParenthesisOpen = false;\n  var lastPos = 0;\n  var i = 0;\n  var retCSS = '';\n\n  function addNewAttr () {\n    // 如果没有正常的闭合圆括号，则直接忽略当前属性\n    if (!isParenthesisOpen) {\n      var source = _.trim(css.slice(lastPos, i));\n      var j = source.indexOf(':');\n      if (j !== -1) {\n        var name = _.trim(source.slice(0, j));\n        var value = _.trim(source.slice(j + 1));\n        // 必须有属性名称\n        if (name) {\n          var ret = onAttr(lastPos, retCSS.length, name, value, source);\n          if (ret) retCSS += ret + '; ';\n        }\n      }\n    }\n    lastPos = i + 1;\n  }\n\n  for (; i < cssLength; i++) {\n    var c = css[i];\n    if (c === '/' && css[i + 1] === '*') {\n      // 备注开始\n      var j = css.indexOf('*/', i + 2);\n      // 如果没有正常的备注结束，则后面的部分全部跳过\n      if (j === -1) break;\n      // 直接将当前位置调到备注结尾，并且初始化状态\n      i = j + 1;\n      lastPos = i + 1;\n      isParenthesisOpen = false;\n    } else if (c === '(') {\n      isParenthesisOpen = true;\n    } else if (c === ')') {\n      isParenthesisOpen = false;\n    } else if (c === ';') {\n      if (isParenthesisOpen) {\n        // 在圆括号里面，忽略\n      } else {\n        addNewAttr();\n      }\n    } else if (c === '\\n') {\n      addNewAttr();\n    }\n  }\n\n  return _.trim(retCSS);\n}\n\nmodule.exports = parseStyle;\n","/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar DEFAULT = require('./default');\nvar parseStyle = require('./parser');\nvar _ = require('./util');\n\n\n/**\n * 返回值是否为空\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull (obj) {\n  return (obj === undefined || obj === null);\n}\n\n/**\n * 浅拷贝对象\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject (obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\n\n/**\n * 创建CSS过滤器\n *\n * @param {Object} options\n *   - {Object} whiteList\n *   - {Function} onAttr\n *   - {Function} onIgnoreAttr\n *   - {Function} safeAttrValue\n */\nfunction FilterCSS (options) {\n  options = shallowCopyObject(options || {});\n  options.whiteList = options.whiteList || DEFAULT.whiteList;\n  options.onAttr = options.onAttr || DEFAULT.onAttr;\n  options.onIgnoreAttr = options.onIgnoreAttr || DEFAULT.onIgnoreAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT.safeAttrValue;\n  this.options = options;\n}\n\nFilterCSS.prototype.process = function (css) {\n  // 兼容各种奇葩输入\n  css = css || '';\n  css = css.toString();\n  if (!css) return '';\n\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onAttr = options.onAttr;\n  var onIgnoreAttr = options.onIgnoreAttr;\n  var safeAttrValue = options.safeAttrValue;\n\n  var retCSS = parseStyle(css, function (sourcePosition, position, name, value, source) {\n\n    var check = whiteList[name];\n    var isWhite = false;\n    if (check === true) isWhite = check;\n    else if (typeof check === 'function') isWhite = check(value);\n    else if (check instanceof RegExp) isWhite = check.test(value);\n    if (isWhite !== true) isWhite = false;\n\n    // 如果过滤后 value 为空则直接忽略\n    value = safeAttrValue(name, value);\n    if (!value) return;\n\n    var opts = {\n      position: position,\n      sourcePosition: sourcePosition,\n      source: source,\n      isWhite: isWhite\n    };\n\n    if (isWhite) {\n\n      var ret = onAttr(name, value, opts);\n      if (isNull(ret)) {\n        return name + ':' + value;\n      } else {\n        return ret;\n      }\n\n    } else {\n\n      var ret = onIgnoreAttr(name, value, opts);\n      if (!isNull(ret)) {\n        return ret;\n      }\n\n    }\n  });\n\n  return retCSS;\n};\n\n\nmodule.exports = FilterCSS;\n","/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar DEFAULT = require('./default');\nvar FilterCSS = require('./css');\n\n\n/**\n * XSS过滤\n *\n * @param {String} css 要过滤的CSS代码\n * @param {Object} options 选项：whiteList, onAttr, onIgnoreAttr\n * @return {String}\n */\nfunction filterCSS (html, options) {\n  var xss = new FilterCSS(options);\n  return xss.process(html);\n}\n\n\n// 输出\nexports = module.exports = filterCSS;\nexports.FilterCSS = FilterCSS;\nfor (var i in DEFAULT) exports[i] = DEFAULT[i];\n\n// 在浏览器端使用\nif (typeof window !== 'undefined') {\n  window.filterCSS = module.exports;\n}\n","module.exports = {\n  indexOf: function (arr, item) {\n    var i, j;\n    if (Array.prototype.indexOf) {\n      return arr.indexOf(item);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      if (arr[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  forEach: function (arr, fn, scope) {\n    var i, j;\n    if (Array.prototype.forEach) {\n      return arr.forEach(fn, scope);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      fn.call(scope, arr[i], i, arr);\n    }\n  },\n  trim: function (str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/(^\\s*)|(\\s*$)/g, \"\");\n  },\n  spaceIndex: function (str) {\n    var reg = /\\s|\\n|\\t/;\n    var match = reg.exec(str);\n    return match ? match.index : -1;\n  },\n};\n","/**\n * default settings\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = require(\"cssfilter\").FilterCSS;\nvar getDefaultCSSWhiteList = require(\"cssfilter\").getDefaultWhiteList;\nvar _ = require(\"./util\");\n\nfunction getDefaultWhiteList() {\n  return {\n    a: [\"target\", \"href\", \"title\"],\n    abbr: [\"title\"],\n    address: [],\n    area: [\"shape\", \"coords\", \"href\", \"alt\"],\n    article: [],\n    aside: [],\n    audio: [\n      \"autoplay\",\n      \"controls\",\n      \"crossorigin\",\n      \"loop\",\n      \"muted\",\n      \"preload\",\n      \"src\",\n    ],\n    b: [],\n    bdi: [\"dir\"],\n    bdo: [\"dir\"],\n    big: [],\n    blockquote: [\"cite\"],\n    br: [],\n    caption: [],\n    center: [],\n    cite: [],\n    code: [],\n    col: [\"align\", \"valign\", \"span\", \"width\"],\n    colgroup: [\"align\", \"valign\", \"span\", \"width\"],\n    dd: [],\n    del: [\"datetime\"],\n    details: [\"open\"],\n    div: [],\n    dl: [],\n    dt: [],\n    em: [],\n    figcaption: [],\n    figure: [],\n    font: [\"color\", \"size\", \"face\"],\n    footer: [],\n    h1: [],\n    h2: [],\n    h3: [],\n    h4: [],\n    h5: [],\n    h6: [],\n    header: [],\n    hr: [],\n    i: [],\n    img: [\"src\", \"alt\", \"title\", \"width\", \"height\", \"loading\"],\n    ins: [\"datetime\"],\n    kbd: [],\n    li: [],\n    mark: [],\n    nav: [],\n    ol: [],\n    p: [],\n    pre: [],\n    s: [],\n    section: [],\n    small: [],\n    span: [],\n    sub: [],\n    summary: [],\n    sup: [],\n    strong: [],\n    strike: [],\n    table: [\"width\", \"border\", \"align\", \"valign\"],\n    tbody: [\"align\", \"valign\"],\n    td: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    tfoot: [\"align\", \"valign\"],\n    th: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    thead: [\"align\", \"valign\"],\n    tr: [\"rowspan\", \"align\", \"valign\"],\n    tt: [],\n    u: [],\n    ul: [],\n    video: [\n      \"autoplay\",\n      \"controls\",\n      \"crossorigin\",\n      \"loop\",\n      \"muted\",\n      \"playsinline\",\n      \"poster\",\n      \"preload\",\n      \"src\",\n      \"height\",\n      \"width\",\n    ],\n  };\n}\n\nvar defaultCSSFilter = new FilterCSS();\n\n/**\n * default onTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onIgnoreTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default escapeHtml function\n *\n * @param {String} html\n */\nfunction escapeHtml(html) {\n  return html.replace(REGEXP_LT, \"&lt;\").replace(REGEXP_GT, \"&gt;\");\n}\n\n/**\n * default safeAttrValue function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @param {Object} cssFilter\n * @return {String}\n */\nfunction safeAttrValue(tag, name, value, cssFilter) {\n  // unescape attribute value firstly\n  value = friendlyAttrValue(value);\n\n  if (name === \"href\" || name === \"src\") {\n    // filter `href` and `src` attribute\n    // only allow the value that starts with `http://` | `https://` | `mailto:` | `/` | `#`\n    value = _.trim(value);\n    if (value === \"#\") return \"#\";\n    if (\n      !(\n        value.substr(0, 7) === \"http://\" ||\n        value.substr(0, 8) === \"https://\" ||\n        value.substr(0, 7) === \"mailto:\" ||\n        value.substr(0, 4) === \"tel:\" ||\n        value.substr(0, 11) === \"data:image/\" ||\n        value.substr(0, 6) === \"ftp://\" ||\n        value.substr(0, 2) === \"./\" ||\n        value.substr(0, 3) === \"../\" ||\n        value[0] === \"#\" ||\n        value[0] === \"/\"\n      )\n    ) {\n      return \"\";\n    }\n  } else if (name === \"background\") {\n    // filter `background` attribute (maybe no use)\n    // `javascript:`\n    REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n      return \"\";\n    }\n  } else if (name === \"style\") {\n    // `expression()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_7.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_7.test(value)) {\n      return \"\";\n    }\n    // `url()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_8.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_8.test(value)) {\n      REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n      if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n        return \"\";\n      }\n    }\n    if (cssFilter !== false) {\n      cssFilter = cssFilter || defaultCSSFilter;\n      value = cssFilter.process(value);\n    }\n  }\n\n  // escape `<>\"` before returns\n  value = escapeAttrValue(value);\n  return value;\n}\n\n// RegExp list\nvar REGEXP_LT = /</g;\nvar REGEXP_GT = />/g;\nvar REGEXP_QUOTE = /\"/g;\nvar REGEXP_QUOTE_2 = /&quot;/g;\nvar REGEXP_ATTR_VALUE_1 = /&#([a-zA-Z0-9]*);?/gim;\nvar REGEXP_ATTR_VALUE_COLON = /&colon;?/gim;\nvar REGEXP_ATTR_VALUE_NEWLINE = /&newline;?/gim;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_3 = /\\/\\*|\\*\\//gm;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_4 =\n  /((j\\s*a\\s*v\\s*a|v\\s*b|l\\s*i\\s*v\\s*e)\\s*s\\s*c\\s*r\\s*i\\s*p\\s*t\\s*|m\\s*o\\s*c\\s*h\\s*a):/gi;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_5 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:/gi;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_6 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:\\s*image\\//gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_7 =\n  /e\\s*x\\s*p\\s*r\\s*e\\s*s\\s*s\\s*i\\s*o\\s*n\\s*\\(.*/gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_8 = /u\\s*r\\s*l\\s*\\(.*/gi;\n\n/**\n * escape double quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction escapeQuote(str) {\n  return str.replace(REGEXP_QUOTE, \"&quot;\");\n}\n\n/**\n * unescape double quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction unescapeQuote(str) {\n  return str.replace(REGEXP_QUOTE_2, '\"');\n}\n\n/**\n * escape html entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeHtmlEntities(str) {\n  return str.replace(REGEXP_ATTR_VALUE_1, function replaceUnicode(str, code) {\n    return code[0] === \"x\" || code[0] === \"X\"\n      ? String.fromCharCode(parseInt(code.substr(1), 16))\n      : String.fromCharCode(parseInt(code, 10));\n  });\n}\n\n/**\n * escape html5 new danger entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeDangerHtml5Entities(str) {\n  return str\n    .replace(REGEXP_ATTR_VALUE_COLON, \":\")\n    .replace(REGEXP_ATTR_VALUE_NEWLINE, \" \");\n}\n\n/**\n * clear nonprintable characters\n *\n * @param {String} str\n * @return {String}\n */\nfunction clearNonPrintableCharacter(str) {\n  var str2 = \"\";\n  for (var i = 0, len = str.length; i < len; i++) {\n    str2 += str.charCodeAt(i) < 32 ? \" \" : str.charAt(i);\n  }\n  return _.trim(str2);\n}\n\n/**\n * get friendly attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction friendlyAttrValue(str) {\n  str = unescapeQuote(str);\n  str = escapeHtmlEntities(str);\n  str = escapeDangerHtml5Entities(str);\n  str = clearNonPrintableCharacter(str);\n  return str;\n}\n\n/**\n * unescape attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeAttrValue(str) {\n  str = escapeQuote(str);\n  str = escapeHtml(str);\n  return str;\n}\n\n/**\n * `onIgnoreTag` function for removing all the tags that are not in whitelist\n */\nfunction onIgnoreTagStripAll() {\n  return \"\";\n}\n\n/**\n * remove tag body\n * specify a `tags` list, if the tag is not in the `tags` list then process by the specify function (optional)\n *\n * @param {array} tags\n * @param {function} next\n */\nfunction StripTagBody(tags, next) {\n  if (typeof next !== \"function\") {\n    next = function () {};\n  }\n\n  var isRemoveAllTag = !Array.isArray(tags);\n  function isRemoveTag(tag) {\n    if (isRemoveAllTag) return true;\n    return _.indexOf(tags, tag) !== -1;\n  }\n\n  var removeList = [];\n  var posStart = false;\n\n  return {\n    onIgnoreTag: function (tag, html, options) {\n      if (isRemoveTag(tag)) {\n        if (options.isClosing) {\n          var ret = \"[/removed]\";\n          var end = options.position + ret.length;\n          removeList.push([\n            posStart !== false ? posStart : options.position,\n            end,\n          ]);\n          posStart = false;\n          return ret;\n        } else {\n          if (!posStart) {\n            posStart = options.position;\n          }\n          return \"[removed]\";\n        }\n      } else {\n        return next(tag, html, options);\n      }\n    },\n    remove: function (html) {\n      var rethtml = \"\";\n      var lastPos = 0;\n      _.forEach(removeList, function (pos) {\n        rethtml += html.slice(lastPos, pos[0]);\n        lastPos = pos[1];\n      });\n      rethtml += html.slice(lastPos);\n      return rethtml;\n    },\n  };\n}\n\n/**\n * remove html comments\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripCommentTag(html) {\n  var retHtml = \"\";\n  var lastPos = 0;\n  while (lastPos < html.length) {\n    var i = html.indexOf(\"<!--\", lastPos);\n    if (i === -1) {\n      retHtml += html.slice(lastPos);\n      break;\n    }\n    retHtml += html.slice(lastPos, i);\n    var j = html.indexOf(\"-->\", i);\n    if (j === -1) {\n      break;\n    }\n    lastPos = j + 3;\n  }\n  return retHtml;\n}\n\n/**\n * remove invisible characters\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripBlankChar(html) {\n  var chars = html.split(\"\");\n  chars = chars.filter(function (char) {\n    var c = char.charCodeAt(0);\n    if (c === 127) return false;\n    if (c <= 31) {\n      if (c === 10 || c === 13) return true;\n      return false;\n    }\n    return true;\n  });\n  return chars.join(\"\");\n}\n\nexports.whiteList = getDefaultWhiteList();\nexports.getDefaultWhiteList = getDefaultWhiteList;\nexports.onTag = onTag;\nexports.onIgnoreTag = onIgnoreTag;\nexports.onTagAttr = onTagAttr;\nexports.onIgnoreTagAttr = onIgnoreTagAttr;\nexports.safeAttrValue = safeAttrValue;\nexports.escapeHtml = escapeHtml;\nexports.escapeQuote = escapeQuote;\nexports.unescapeQuote = unescapeQuote;\nexports.escapeHtmlEntities = escapeHtmlEntities;\nexports.escapeDangerHtml5Entities = escapeDangerHtml5Entities;\nexports.clearNonPrintableCharacter = clearNonPrintableCharacter;\nexports.friendlyAttrValue = friendlyAttrValue;\nexports.escapeAttrValue = escapeAttrValue;\nexports.onIgnoreTagStripAll = onIgnoreTagStripAll;\nexports.StripTagBody = StripTagBody;\nexports.stripCommentTag = stripCommentTag;\nexports.stripBlankChar = stripBlankChar;\nexports.attributeWrapSign = '\"';\nexports.cssFilter = defaultCSSFilter;\nexports.getDefaultCSSWhiteList = getDefaultCSSWhiteList;\n","/**\n * Simple HTML Parser\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar _ = require(\"./util\");\n\n/**\n * get tag name\n *\n * @param {String} html e.g. '<a hef=\"#\">'\n * @return {String}\n */\nfunction getTagName(html) {\n  var i = _.spaceIndex(html);\n  var tagName;\n  if (i === -1) {\n    tagName = html.slice(1, -1);\n  } else {\n    tagName = html.slice(1, i + 1);\n  }\n  tagName = _.trim(tagName).toLowerCase();\n  if (tagName.slice(0, 1) === \"/\") tagName = tagName.slice(1);\n  if (tagName.slice(-1) === \"/\") tagName = tagName.slice(0, -1);\n  return tagName;\n}\n\n/**\n * is close tag?\n *\n * @param {String} html 如：'<a hef=\"#\">'\n * @return {Boolean}\n */\nfunction isClosing(html) {\n  return html.slice(0, 2) === \"</\";\n}\n\n/**\n * parse input html and returns processed html\n *\n * @param {String} html\n * @param {Function} onTag e.g. function (sourcePosition, position, tag, html, isClosing)\n * @param {Function} escapeHtml\n * @return {String}\n */\nfunction parseTag(html, onTag, escapeHtml) {\n  \"use strict\";\n\n  var rethtml = \"\";\n  var lastPos = 0;\n  var tagStart = false;\n  var quoteStart = false;\n  var currentPos = 0;\n  var len = html.length;\n  var currentTagName = \"\";\n  var currentHtml = \"\";\n\n  chariterator: for (currentPos = 0; currentPos < len; currentPos++) {\n    var c = html.charAt(currentPos);\n    if (tagStart === false) {\n      if (c === \"<\") {\n        tagStart = currentPos;\n        continue;\n      }\n    } else {\n      if (quoteStart === false) {\n        if (c === \"<\") {\n          rethtml += escapeHtml(html.slice(lastPos, currentPos));\n          tagStart = currentPos;\n          lastPos = currentPos;\n          continue;\n        }\n        if (c === \">\" || currentPos === len - 1) {\n          rethtml += escapeHtml(html.slice(lastPos, tagStart));\n          currentHtml = html.slice(tagStart, currentPos + 1);\n          currentTagName = getTagName(currentHtml);\n          rethtml += onTag(\n            tagStart,\n            rethtml.length,\n            currentTagName,\n            currentHtml,\n            isClosing(currentHtml)\n          );\n          lastPos = currentPos + 1;\n          tagStart = false;\n          continue;\n        }\n        if (c === '\"' || c === \"'\") {\n          var i = 1;\n          var ic = html.charAt(currentPos - i);\n\n          while (ic.trim() === \"\" || ic === \"=\") {\n            if (ic === \"=\") {\n              quoteStart = c;\n              continue chariterator;\n            }\n            ic = html.charAt(currentPos - ++i);\n          }\n        }\n      } else {\n        if (c === quoteStart) {\n          quoteStart = false;\n          continue;\n        }\n      }\n    }\n  }\n  if (lastPos < len) {\n    rethtml += escapeHtml(html.substr(lastPos));\n  }\n\n  return rethtml;\n}\n\nvar REGEXP_ILLEGAL_ATTR_NAME = /[^a-zA-Z0-9\\\\_:.-]/gim;\n\n/**\n * parse input attributes and returns processed attributes\n *\n * @param {String} html e.g. `href=\"#\" target=\"_blank\"`\n * @param {Function} onAttr e.g. `function (name, value)`\n * @return {String}\n */\nfunction parseAttr(html, onAttr) {\n  \"use strict\";\n\n  var lastPos = 0;\n  var lastMarkPos = 0;\n  var retAttrs = [];\n  var tmpName = false;\n  var len = html.length;\n\n  function addAttr(name, value) {\n    name = _.trim(name);\n    name = name.replace(REGEXP_ILLEGAL_ATTR_NAME, \"\").toLowerCase();\n    if (name.length < 1) return;\n    var ret = onAttr(name, value || \"\");\n    if (ret) retAttrs.push(ret);\n  }\n\n  // 逐个分析字符\n  for (var i = 0; i < len; i++) {\n    var c = html.charAt(i);\n    var v, j;\n    if (tmpName === false && c === \"=\") {\n      tmpName = html.slice(lastPos, i);\n      lastPos = i + 1;\n      lastMarkPos = html.charAt(lastPos) === '\"' || html.charAt(lastPos) === \"'\" ? lastPos : findNextQuotationMark(html, i + 1);\n      continue;\n    }\n    if (tmpName !== false) {\n      if (\n        i === lastMarkPos\n      ) {\n        j = html.indexOf(c, i + 1);\n        if (j === -1) {\n          break;\n        } else {\n          v = _.trim(html.slice(lastMarkPos + 1, j));\n          addAttr(tmpName, v);\n          tmpName = false;\n          i = j;\n          lastPos = i + 1;\n          continue;\n        }\n      }\n    }\n    if (/\\s|\\n|\\t/.test(c)) {\n      html = html.replace(/\\s|\\n|\\t/g, \" \");\n      if (tmpName === false) {\n        j = findNextEqual(html, i);\n        if (j === -1) {\n          v = _.trim(html.slice(lastPos, i));\n          addAttr(v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          i = j - 1;\n          continue;\n        }\n      } else {\n        j = findBeforeEqual(html, i - 1);\n        if (j === -1) {\n          v = _.trim(html.slice(lastPos, i));\n          v = stripQuoteWrap(v);\n          addAttr(tmpName, v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          continue;\n        }\n      }\n    }\n  }\n\n  if (lastPos < html.length) {\n    if (tmpName === false) {\n      addAttr(html.slice(lastPos));\n    } else {\n      addAttr(tmpName, stripQuoteWrap(_.trim(html.slice(lastPos))));\n    }\n  }\n\n  return _.trim(retAttrs.join(\" \"));\n}\n\nfunction findNextEqual(str, i) {\n  for (; i < str.length; i++) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\n\nfunction findNextQuotationMark(str, i) {\n  for (; i < str.length; i++) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"'\" || c === '\"') return i;\n    return -1;\n  }\n}\n\nfunction findBeforeEqual(str, i) {\n  for (; i > 0; i--) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\n\nfunction isQuoteWrapString(text) {\n  if (\n    (text[0] === '\"' && text[text.length - 1] === '\"') ||\n    (text[0] === \"'\" && text[text.length - 1] === \"'\")\n  ) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction stripQuoteWrap(text) {\n  if (isQuoteWrapString(text)) {\n    return text.substr(1, text.length - 2);\n  } else {\n    return text;\n  }\n}\n\nexports.parseTag = parseTag;\nexports.parseAttr = parseAttr;\n","/**\n * filter xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = require(\"cssfilter\").FilterCSS;\nvar DEFAULT = require(\"./default\");\nvar parser = require(\"./parser\");\nvar parseTag = parser.parseTag;\nvar parseAttr = parser.parseAttr;\nvar _ = require(\"./util\");\n\n/**\n * returns `true` if the input value is `undefined` or `null`\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull(obj) {\n  return obj === undefined || obj === null;\n}\n\n/**\n * get attributes for a tag\n *\n * @param {String} html\n * @return {Object}\n *   - {String} html\n *   - {Boolean} closing\n */\nfunction getAttrs(html) {\n  var i = _.spaceIndex(html);\n  if (i === -1) {\n    return {\n      html: \"\",\n      closing: html[html.length - 2] === \"/\",\n    };\n  }\n  html = _.trim(html.slice(i + 1, -1));\n  var isClosing = html[html.length - 1] === \"/\";\n  if (isClosing) html = _.trim(html.slice(0, -1));\n  return {\n    html: html,\n    closing: isClosing,\n  };\n}\n\n/**\n * shallow copy\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject(obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\n\nfunction keysToLowerCase(obj) {\n  var ret = {};\n  for (var i in obj) {\n    if (Array.isArray(obj[i])) {\n      ret[i.toLowerCase()] = obj[i].map(function (item) {\n        return item.toLowerCase();\n      });\n    } else {\n      ret[i.toLowerCase()] = obj[i];\n    }\n  }\n  return ret;\n}\n\n/**\n * FilterXSS class\n *\n * @param {Object} options\n *        whiteList (or allowList), onTag, onTagAttr, onIgnoreTag,\n *        onIgnoreTagAttr, safeAttrValue, escapeHtml\n *        stripIgnoreTagBody, allowCommentTag, stripBlankChar\n *        css{whiteList, onAttr, onIgnoreAttr} `css=false` means don't use `cssfilter`\n */\nfunction FilterXSS(options) {\n  options = shallowCopyObject(options || {});\n\n  if (options.stripIgnoreTag) {\n    if (options.onIgnoreTag) {\n      console.error(\n        'Notes: cannot use these two options \"stripIgnoreTag\" and \"onIgnoreTag\" at the same time'\n      );\n    }\n    options.onIgnoreTag = DEFAULT.onIgnoreTagStripAll;\n  }\n  if (options.whiteList || options.allowList) {\n    options.whiteList = keysToLowerCase(options.whiteList || options.allowList);\n  } else {\n    options.whiteList = DEFAULT.whiteList;\n  }\n\n  this.attributeWrapSign = options.singleQuotedAttributeValue === true ? \"'\" : DEFAULT.attributeWrapSign;\n\n  options.onTag = options.onTag || DEFAULT.onTag;\n  options.onTagAttr = options.onTagAttr || DEFAULT.onTagAttr;\n  options.onIgnoreTag = options.onIgnoreTag || DEFAULT.onIgnoreTag;\n  options.onIgnoreTagAttr = options.onIgnoreTagAttr || DEFAULT.onIgnoreTagAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT.safeAttrValue;\n  options.escapeHtml = options.escapeHtml || DEFAULT.escapeHtml;\n  this.options = options;\n\n  if (options.css === false) {\n    this.cssFilter = false;\n  } else {\n    options.css = options.css || {};\n    this.cssFilter = new FilterCSS(options.css);\n  }\n}\n\n/**\n * start process and returns result\n *\n * @param {String} html\n * @return {String}\n */\nFilterXSS.prototype.process = function (html) {\n  // compatible with the input\n  html = html || \"\";\n  html = html.toString();\n  if (!html) return \"\";\n\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onTag = options.onTag;\n  var onIgnoreTag = options.onIgnoreTag;\n  var onTagAttr = options.onTagAttr;\n  var onIgnoreTagAttr = options.onIgnoreTagAttr;\n  var safeAttrValue = options.safeAttrValue;\n  var escapeHtml = options.escapeHtml;\n  var attributeWrapSign = me.attributeWrapSign;\n  var cssFilter = me.cssFilter;\n\n  // remove invisible characters\n  if (options.stripBlankChar) {\n    html = DEFAULT.stripBlankChar(html);\n  }\n\n  // remove html comments\n  if (!options.allowCommentTag) {\n    html = DEFAULT.stripCommentTag(html);\n  }\n\n  // if enable stripIgnoreTagBody\n  var stripIgnoreTagBody = false;\n  if (options.stripIgnoreTagBody) {\n    stripIgnoreTagBody = DEFAULT.StripTagBody(\n      options.stripIgnoreTagBody,\n      onIgnoreTag\n    );\n    onIgnoreTag = stripIgnoreTagBody.onIgnoreTag;\n  }\n\n  var retHtml = parseTag(\n    html,\n    function (sourcePosition, position, tag, html, isClosing) {\n      var info = {\n        sourcePosition: sourcePosition,\n        position: position,\n        isClosing: isClosing,\n        isWhite: Object.prototype.hasOwnProperty.call(whiteList, tag),\n      };\n\n      // call `onTag()`\n      var ret = onTag(tag, html, info);\n      if (!isNull(ret)) return ret;\n\n      if (info.isWhite) {\n        if (info.isClosing) {\n          return \"</\" + tag + \">\";\n        }\n\n        var attrs = getAttrs(html);\n        var whiteAttrList = whiteList[tag];\n        var attrsHtml = parseAttr(attrs.html, function (name, value) {\n          // call `onTagAttr()`\n          var isWhiteAttr = _.indexOf(whiteAttrList, name) !== -1;\n          var ret = onTagAttr(tag, name, value, isWhiteAttr);\n          if (!isNull(ret)) return ret;\n\n          if (isWhiteAttr) {\n            // call `safeAttrValue()`\n            value = safeAttrValue(tag, name, value, cssFilter);\n            if (value) {\n              return name + '=' + attributeWrapSign + value + attributeWrapSign;\n            } else {\n              return name;\n            }\n          } else {\n            // call `onIgnoreTagAttr()`\n            ret = onIgnoreTagAttr(tag, name, value, isWhiteAttr);\n            if (!isNull(ret)) return ret;\n            return;\n          }\n        });\n\n        // build new tag html\n        html = \"<\" + tag;\n        if (attrsHtml) html += \" \" + attrsHtml;\n        if (attrs.closing) html += \" /\";\n        html += \">\";\n        return html;\n      } else {\n        // call `onIgnoreTag()`\n        ret = onIgnoreTag(tag, html, info);\n        if (!isNull(ret)) return ret;\n        return escapeHtml(html);\n      }\n    },\n    escapeHtml\n  );\n\n  // if enable stripIgnoreTagBody\n  if (stripIgnoreTagBody) {\n    retHtml = stripIgnoreTagBody.remove(retHtml);\n  }\n\n  return retHtml;\n};\n\nmodule.exports = FilterXSS;\n","/**\n * xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar DEFAULT = require(\"./default\");\nvar parser = require(\"./parser\");\nvar FilterXSS = require(\"./xss\");\n\n/**\n * filter xss function\n *\n * @param {String} html\n * @param {Object} options { whiteList, onTag, onTagAttr, onIgnoreTag, onIgnoreTagAttr, safeAttrValue, escapeHtml }\n * @return {String}\n */\nfunction filterXSS(html, options) {\n  var xss = new FilterXSS(options);\n  return xss.process(html);\n}\n\nexports = module.exports = filterXSS;\nexports.filterXSS = filterXSS;\nexports.FilterXSS = FilterXSS;\n\n(function () {\n  for (var i in DEFAULT) {\n    exports[i] = DEFAULT[i];\n  }\n  for (var j in parser) {\n    exports[j] = parser[j];\n  }\n})();\n\n// using `xss` on the browser, output `filterXSS` to the globals\nif (typeof window !== \"undefined\") {\n  window.filterXSS = module.exports;\n}\n\n// using `xss` on the WebWorker, output `filterXSS` to the globals\nfunction isWorkerEnv() {\n  return (\n    typeof self !== \"undefined\" &&\n    typeof DedicatedWorkerGlobalScope !== \"undefined\" &&\n    self instanceof DedicatedWorkerGlobalScope\n  );\n}\nif (isWorkerEnv()) {\n  self.filterXSS = module.exports;\n}\n","import \"./feedback.scss\";\nimport { ael, qa, qs } from \"@src/constants.js\";\nimport filterXSS from \"xss\";\nimport { debounce, getPhpSession, post } from \"@src/common.js\"; // import PhoneValidator from \"../components/validator/PhoneValidator.js\";\n// import PhoneValidator from \"../components/validator/PhoneValidator.js\";\n\nexport default class Feedback {\n  constructor(button) {\n    if (!button) return false;\n\n    this.button = button;\n\n    this.formWrapper = button.closest(\".feedback\");\n    this.form = this.formWrapper[qs](\"form\");\n    this.title = this.formWrapper[qs](\".feedback-title\");\n    this.checkmark = this.formWrapper[qs](\".check-icon\");\n    this.inputs = this.formWrapper[qa](\".input-container input\");\n\n    this.setInputs();\n    this.setErrorTags();\n\n    this.formWrapper[ael](\"submit\", this.handleSubmit.bind(this));\n    this.formWrapper[ael](\"keyup\", debounce(this.handelKeyup.bind(this), 1000));\n  }\n\n  async handelKeyup({ target }) {\n    if (target.tagName === \"INPUT\") {\n      const { emailValidator } = await import(\"@src/common.js\");\n      const { default: PhoneValidator } = await import(\n        \"@src/components/validator/PhoneValidator.js\"\n      );\n      if (target.id === \"name\") {\n        const nameErr = filterXSS(target.value, {\n          whiteList: {\n            a: [\"href\", \"title\"],\n          },\n        });\n        // const nameErr = stripjs(target.value);\n      } else if (target.id === \"email\") {\n        this.emailError.innerText = emailValidator(target.value)[0] ?? \"\";\n      } else if (target.id === \"phone\") {\n        const phoneErr = new PhoneValidator(target)[0] ?? \"\";\n        this.phoneError.innerText = new PhoneValidator(target)[0] ?? \"\";\n      } else if (target.id === \"message\") {\n        const messageErr = filterXSS(target.value, {\n          whiteList: {\n            a: [\"href\", \"title\"],\n          },\n        });\n        // const messageErr = stripjs(target.value);\n      }\n    }\n  }\n\n  async handleSubmit(e) {\n    e.preventDefault();\n\n    const { emailValidator } = await import(\"@src/common.js\");\n    const { default: PhoneValidator } = await import(\n      \"@src/components/validator/PhoneValidator.js\"\n    );\n    if (\n      emailValidator(this.email.value).length ||\n      new PhoneValidator(this.phone).length\n    )\n      return;\n    const res = await post(\"/feedback/updateOrCreate\", this.dto());\n    if (res?.arr?.id) {\n      this.title.innerText = \"Сообщение отправлено\";\n      this.title.classList.add(\"sent\");\n      this.checkmark.classList.remove(\"none\");\n      setTimeout(\n        function () {\n          this.form.reset();\n          this.checkmark.classList.add(\"none\");\n          this.title.classList.remove(\"sent\");\n          this.title.innerText = \"Напишите свой вопрос\";\n        }.bind(this),\n        2_000,\n      );\n    }\n  }\n\n  dto() {\n    const message = this.message.value.replace(/[^a-z\\u0400-\\u04FF]/gi, \" \");\n    const name = this.name.value.replace(/[^a-z\\u0400-\\u04FF]/gi, \" \");\n    return {\n      id: 0,\n      fields: {\n        name: name,\n        email: filterXSS(this.email.value, {\n          whiteList: {\n            a: [\"href\", \"title\"],\n          },\n        }),\n        // email: stripjs(this.email.value),\n        // phone: stripjs(this.phone.value),\n        phone: filterXSS(this.phone.value, {\n          whiteList: {\n            a: [\"href\", \"title\"],\n          },\n        }),\n        message: message,\n      },\n      phpSession: getPhpSession(),\n    };\n  }\n\n  setInputs() {\n    this.name = this.formWrapper[qs](\"#name\");\n    this.email = this.formWrapper[qs](\"#email\");\n    this.phone = this.formWrapper[qs](\"#phone.blade.php\");\n    this.message = this.formWrapper[qs](\"#message\");\n  }\n\n  setErrorTags() {\n    this.nameError = this.formWrapper[qs](\"#nameError\");\n    this.emailError = this.formWrapper[qs](\"#emailError\");\n    this.phoneError = this.formWrapper[qs](\"#phoneError\");\n    this.messageError = this.formWrapper[qs](\"#messageError\");\n  }\n}\n","export default class BaseValidator {\r\n  constructor(obj) {\r\n    this.errors = [];\r\n    this.min = obj?.min ?? 0;\r\n    this.max = obj?.max ?? 0;\r\n    this.errorMassage = {\r\n      required: \"Поле должно быть заполнено\",\r\n      min: `Длина меньше ${this.min} символов`,\r\n      max: `Длина больше ${this.max} символов`,\r\n    };\r\n    if (obj === undefined || obj === null || typeof obj === \"undefined\") {\r\n      return false;\r\n    }\r\n    if (obj?.required) {\r\n      if (!obj.value.length) {\r\n        this.errors.push(this.errorMassage.required);\r\n      }\r\n    }\r\n\r\n    if (obj?.min) {\r\n      if (obj.value.length < obj?.min) {\r\n        this.errors.push(this.errorMassage.min);\r\n      }\r\n    }\r\n\r\n    if (obj?.max) {\r\n      if (obj.value.length > obj?.max) {\r\n        this.errors.push(this.errorMassage.max);\r\n      }\r\n    }\r\n  }\r\n}\r\n","import BaseValidator from \"@src/components/validator/BaseValidator.js\";\r\n\r\nexport default class PhoneValidator extends BaseValidator {\r\n  constructor(obj) {\r\n    super(obj);\r\n\r\n    const replacePattern = /[0-9\\(\\)\\s\\+-]*/g;\r\n\r\n    if (obj.value.replace(replacePattern, \"\").length) {\r\n      this.errors.push(\"Разрешены цифры, пробел, скобки, знак +, знак -\");\r\n    }\r\n    return this.errors;\r\n  }\r\n}\r\n","import FieldBuilder from \"../components/Modal/builders/FieldBuilder.js\";\r\n\r\nimport {\r\n  createElement,\r\n  getPhpSession,\r\n  post,\r\n  sanitizeInput,\r\n} from \"../common.js\";\r\nimport { qs } from \"@src/constants.js\";\r\nimport PhoneValidator from \"@src/components/validator/PhoneValidator.js\";\r\n\r\nexport default class CallMeModal {\r\n  constructor() {\r\n    return {\r\n      1: [this.getCallMeRows()],\r\n    };\r\n  }\r\n\r\n  getCallMeRows() {\r\n    return [\r\n      \"Перезвоним в течение 5 минут\",\r\n      this.getPhoneInput(),\r\n      this.getCallMeButton(),\r\n      this.getLoginWarning(),\r\n    ];\r\n  }\r\n\r\n  showErrors(container, errors) {\r\n    container[qs](\"#phoneError\").innerText = errors.length ? errors[0] : \"\";\r\n    container.classList.toggle(\"invalid\", !!errors.length);\r\n    container.classList.toggle(\"valid\", !errors.length);\r\n  }\r\n\r\n  enableButton(container, errors) {\r\n    const button = container.closest(\".box\")[qs](\"#callme\");\r\n    button.disabled = !!errors.length;\r\n  }\r\n\r\n  onKeyUpPhone({ target }) {\r\n    const container = target.closest(\".input-container\");\r\n    const errors = new PhoneValidator({\r\n      value: target.value,\r\n      required: true,\r\n      min: 11,\r\n      max: 19,\r\n    });\r\n    this.showErrors(container, errors);\r\n    this.enableButton(container, errors);\r\n  }\r\n\r\n  getPhoneInput() {\r\n    return new FieldBuilder()\r\n      .id(\"phone\")\r\n      .placeholder(\"Тел.\")\r\n      .required()\r\n      .name(\"phone\")\r\n      .type(\"text\")\r\n      .errorEl(\"#phoneError\")\r\n      .badgeWidth(\"65px\")\r\n      .onKeyUp(this.onKeyUpPhone.bind(this))\r\n      .get();\r\n  }\r\n\r\n  getCallMeButton() {\r\n    const button = this.createButton(\"Заказать звонок\");\r\n    button.disabled = true;\r\n    button.addEventListener(\"click\", this.callme.bind(this));\r\n    return button;\r\n  }\r\n\r\n  getLoginWarning() {\r\n    return new createElement()\r\n      .tag(\"p\")\r\n      .text(\r\n        \"Оставляя свои данные, вы соглашаетесь с политикой конфиденциальности\",\r\n      )\r\n      .get();\r\n  }\r\n\r\n  createButton(text) {\r\n    return new createElement()\r\n      .tag(\"button\")\r\n      .attr(\"type\", \"submit\")\r\n      .attr(\"class\", \"button\")\r\n      .attr(\"id\", \"callme\")\r\n      .text(text)\r\n      .get();\r\n  }\r\n\r\n  async callme(e) {\r\n    YM(\"click_on_callme\");\r\n    const res = await post(\"/callme\", this.authDTO(e));\r\n    const content = e.target.closest(\".content\");\r\n    if (res?.arr?.success) {\r\n      content.innerHTML = \"<p>-Ждите звонка на указанный номер.</p>\";\r\n    } else {\r\n      content.innerHTML = res?.arr?.error ?? \"Неизвестная ошибка\";\r\n    }\r\n  }\r\n\r\n  authDTO(e) {\r\n    e.preventDefault();\r\n    const form = e.target.closest(\".box\");\r\n    return {\r\n      phone: sanitizeInput(form[qs](\"input#phone.blade.php\")?.value) ?? null,\r\n      php_session: getPhpSession() ?? null,\r\n    };\r\n  }\r\n}\r\n","import Modal from \"@src/components/Modal/modal.js\";\r\nimport CallMeModal from \"@src/CallMe/CallMeModal.js\";\r\n\r\nexport default class CallMe {\r\n  constructor() {\r\n    new Modal({\r\n      triggers: [\"#call-me\", \"#fixed-call-me\", \"#burger-call-me\"],\r\n      boxes: new CallMeModal(),\r\n    });\r\n  }\r\n}\r\n","import { getPhpSession, setCookie } from \"@src/common.js\";\r\n\r\nexport default async function setLocalStorageCartId() {\r\n  const loc_storage_cart_id = \"ls_cart_id_\" + getPhpSession();\r\n  const ls_cart_id = localStorage.loc_storage_cart_id;\r\n  if (!ls_cart_id) {\r\n    localStorage.setItem(\"loc_storage_cart_id\", loc_storage_cart_id);\r\n  } else {\r\n    const savedCartId = localStorage.getItem(\"loc_storage_cart_id\");\r\n    setCookie(\r\n      \"loc_storage_cart_id\",\r\n      savedCartId,\r\n      3000,\r\n      \"d\",\r\n      \"/\",\r\n      \"vi-prod\",\r\n      false,\r\n      false,\r\n    );\r\n    setCookie(\r\n      \"loc_storage_cart_id\",\r\n      savedCartId,\r\n      3000,\r\n      \"d\",\r\n      \"/\",\r\n      \"vitexopt.ru\",\r\n      false,\r\n      false,\r\n    );\r\n  }\r\n}\r\n","import \"./main.scss\";\r\nimport \"../components/header/show-front-menu1.js\";\r\nimport \"../404/404.scss\";\r\nimport \"@components/hoist/hoist.js\";\r\nimport \"../components/animate/animate.js\";\r\nimport { qs } from \"../constants\";\r\nimport scroll from \"@components/scroll/scroll.js\";\r\nimport headerMenu from \"../components/header/show-front-menu.js\";\r\n\r\n// import '../share/chat/Chat';\r\n\r\nimport Chat from \"@components/chat/chat.js\"; //не удалять - стили пропадут\r\n\r\nimport IntObserver from \"@components/scroll/IntObserver.js\";\r\nimport MobileMenu from \"@src/components/header/mobile-menu.js\";\r\nimport Modal from \"@src/components/Modal/modal.js\";\r\nimport CartLogin from \"@src/Auth/CartLogin.js\";\r\nimport CatalogItem from \"@src/Admin/components/catalog-item/catalog-item.js\";\r\nimport { $ } from \"@src/common.js\";\r\nimport YM from \"@src/Main/YM.js\";\r\nimport Search from \"@src/components/search/search.js\";\r\nimport ChatLocalStorage from \"@components/chatLocalStorage/ChatLocalStorage.js\";\r\nimport Feedback from \"@src/Feedback/Feedback.js\";\r\nimport CallMe from \"@src/CallMe/CallMe.js\";\r\nimport setLocalStorageCartId from \"@components/cart_id/cart_id.js\";\r\n\r\n// import \"vite/modulepreload-polyfill\";\r\n\r\nwindow.YM = YM;\r\ndocument.addEventListener(\"DOMContentLoaded\", async function () {\r\n  const admin = window.location.pathname.includes(\"adminsc\");\r\n  if (admin) return false;\r\n\r\n  document.body.classList.remove(\"preload\"); //to prevent initial transitions\r\n\r\n  const feedbackButton = $(\"#feedback-submit\").first();\r\n  if (feedbackButton) new Feedback(feedbackButton);\r\n\r\n  // new Chat\r\n  new ChatLocalStorage();\r\n  new CallMe();\r\n  new Search();\r\n  new MobileMenu();\r\n  new Modal({\r\n    triggers: [\".guest-menu\", \"#cartLogin\"],\r\n    boxes: new CartLogin(),\r\n  });\r\n\r\n  const modal = document[qs](\".modal\");\r\n  if (modal) {\r\n    const { default: Modal } = await import(\"../components/Modal/modal.js\");\r\n    new Modal();\r\n  }\r\n  IntObserver();\r\n  headerMenu();\r\n  scroll();\r\n  setLocalStorageCartId();\r\n\r\n  const path = window.location.pathname;\r\n  if (path.startsWith(\"/auth/profile\")) {\r\n    new CatalogItem($(\".item-wrap\").first());\r\n  } else if (path.startsWith(\"/cart\")) {\r\n    YM(\"url_cart\");\r\n    const { default: Cart } = await import(\"../Cart/Cart.js\");\r\n    new Cart();\r\n  } else if (path.startsWith(\"/like/page\")) {\r\n    const { default: Like } = await import(\"../Like/Like.js\");\r\n    new Like();\r\n  } else if (path.startsWith(\"/compare/page\")) {\r\n    const { default: Compare } = await import(\"../Compare/Compare.js\");\r\n    new Compare();\r\n  } else if (path.startsWith(\"/catalog\")) {\r\n    const { default: Category } = await import(\"../Category/category.js\");\r\n    new Category();\r\n  } else if (path.startsWith(\"/product\")) {\r\n    const { default: Product } = await import(\"../Product/Product.js\");\r\n    new Product();\r\n  } else if (path.startsWith(\"/promotions\")) {\r\n    const { default: Promotions } = await import(\"../Promotions/Promotion.js\");\r\n    new Promotions();\r\n  }\r\n});\r\n"],"file":"assets/main-vQ7CwAgC.js"}
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Fields-CnFRTs6p.js","assets/search-CM1Tatb6.js","assets/search-CgsZ06fR.css","assets/Props--6ZjuoOl.js","assets/admin-C-CAz3wh.js","assets/MyQuill-DcSx1sFp.js","assets/MyQuill-GClCj9AP.css","assets/table-kSt3ZMz0.js","assets/table-D-iEpebi.css","assets/Promotion-ndKZUbLZ.js","assets/Promotion--2U3bzhI.css","assets/admin-CUjxrtZ4.css","assets/QuillFactory-B-m-JjYU.js","assets/card_panel-8E-qgJzq.js","assets/card_panel-UF59AJVy.css"])))=>i.map(i=>d[i]);
import{q as r,$ as i,S as l,_ as s,r as m,p}from"./search-CM1Tatb6.js";import"./admin-C-CAz3wh.js";import{Q as n,a as c}from"./QuillFactory-B-m-JjYU.js";import"./MyQuill-DcSx1sFp.js";import"./table-kSt3ZMz0.js";import"./Promotion-ndKZUbLZ.js";class y{constructor(){const t=document[r](".item-wrap[data-model='product']");if(!t)return!1;this.product=t,this.model="product",this.id=i(this.product).find("[data-field='id']").innerText,this.setProps().then(),this.setDragNDrop().then(),this.setCardPanel().then(),n.create(".txt",c.ADMIN_PRODUCT_DESCRIPTION),n.create("#seo-article",c.ADMIN_PRODUCT_SEO_ARTICLE),this.setUnitsCustomSelects()}setUnitsCustomSelects(){const t=i(".units [custom-select]");[].forEach.call(t,a=>{a.dataset.id&&new l(a)})}async setDragNDrop(){const t=document[r]("[dnd]");if(t){const{default:a}=await s(async()=>{const{default:e}=await import("./dnd-BIsc27kd.js");return{default:e}},[]);await new a(t,this.addMainImage)}}async setFields(){const{default:t}=await s(async()=>{const{default:a}=await import("./Fields-CnFRTs6p.js");return{default:a}},__vite__mapDeps([0,1,2]));new t(this.product)}async setProps(){const{default:t}=await s(async()=>{const{default:a}=await import("./Props--6ZjuoOl.js");return{default:a}},__vite__mapDeps([3,1,2,4,5,6,7,8,9,10,11,12]));new t(this.product)}async setCardPanel(){if(document[r](".cardPanel")){const{default:a}=await s(async()=>{const{default:e}=await import("./card_panel-8E-qgJzq.js");return{default:e}},__vite__mapDeps([13,1,2,14]));new a}}async addMainImage(t,a){const e={productId:a.closest(".item-wrap").dataset.id},u=m(e,t[0]),o=(await p("/adminsc/product/saveMainImage",u))?.arr[0];if(o){const d=a.closest(".dnd-container").querySelector("img");d.removeAttribute("src"),d.setAttribute("src",o)}}}export{y as default};
//# sourceMappingURL=Product-D0X4RKnu.js.map

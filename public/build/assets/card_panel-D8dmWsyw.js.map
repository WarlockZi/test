{"version":3,"file":"card_panel-D8dmWsyw.js","sources":["../../src/share/card_panel/card_panel.js"],"sourcesContent":["import { $, popup } from \"../../common\";\nimport \"./card_panel.scss\";\n\nexport default class Card_panel {\n  constructor() {\n    this.el = $(`[data-shortLink]`).first();\n    if (this.el) return false;\n  }\n\n  shortLink(target) {\n    navigator.permissions\n      .query({ name: \"clipboard-write\" })\n      .then(async (result) => {\n        if (result.state === \"granted\" || result.state === \"prompt\") {\n          await navigator.clipboard\n            .writeText(target.dataset.shortlink)\n            .then(() => {\n              popup.show(\"Ссылка скопирована\");\n            });\n        }\n      });\n  }\n}\n"],"names":["Card_panel","$","target","result","popup"],"mappings":"gDAGe,MAAMA,CAAW,CAC9B,aAAc,CAEZ,GADA,KAAK,GAAKC,EAAE,kBAAkB,EAAE,MAAO,EACnC,KAAK,GAAI,MAAO,EACxB,CAEE,UAAUC,EAAQ,CAChB,UAAU,YACP,MAAM,CAAE,KAAM,iBAAmB,CAAA,EACjC,KAAK,MAAOC,GAAW,EAClBA,EAAO,QAAU,WAAaA,EAAO,QAAU,WACjD,MAAM,UAAU,UACb,UAAUD,EAAO,QAAQ,SAAS,EAClC,KAAK,IAAM,CACVE,EAAM,KAAK,oBAAoB,CAC7C,CAAa,CAEb,CAAO,CACP,CACA"}
import"./admin-DxuceP1c.js";import{$ as e}from"./common-mpP3SXMn.js";import{a as l}from"./constants-Clh-pk9Y.js";import"./search-DsFt8jV2.js";import"./Promotion-wHnIeNLc.js";import"./quill.snow-DpC92mTv.js";class g{constructor(t){if(!t)return!1;this.arrowSelector=".arrow",this.rootUl=e(t).find("[accordion]"),t[l]("click",this.handleClick.bind(this))}handleClick({target:t}){const o=t.closest("li");if(!o)return;const s=e(o).find("ul");if(!s)this.rotateArrow(o);else if(s.classList.contains("open"))this.close(s,o);else{this.closeSiblings(o.closest("ul"));const i=o.closest(".open");this.open(s,o,i)}}rotateArrow(t){const o=e(t).find(this.arrowSelector);o&&o.classList.toggle("rotate")}closeSiblings(t){if(!t||t===this.rootUl)return;const o=e(t).find(".open");if(o){const s=o.closest("li");this.close(o,s)}}close(t,o){t.style.maxHeight="0px",t.classList.toggle("open"),this.rotateArrow(o),this.closeChild(t)}closeChild(t){const o=t.querySelector(".open");o&&(o.style.maxHeight="0px")}open(t,o,s){s&&(s.style.maxHeight=t.scrollHeight+s.scrollHeight+"px"),t.style.maxHeight=t.scrollHeight+"px",t.classList.toggle("open"),o.querySelector(this.arrowSelector).classList.toggle("rotate")}}export{g as default};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Fields-CCaX8MUU.js","./SelectNew-zF4k_JQL.js","./search-BCIhLAbt.js","./common-BmR94jh_.js","./constants-D_Ps4z6O.js","./search-CWOthOO5.css","./Props-yb3mbfZw.js","./admin-D_18RlSy.js","./quill-BFUwCC3D.js","./lodashes-GiBPWDzC.js","./MyQuill-DC8s65s0.js","./MyQuill-B2DiOfU9.css","./admin-Ceh8jNZd.css","./QuillFactory-BHjaUu8o.js","./card_panel-miTp14Ro.js","./card_panel-UF59AJVy.css"])))=>i.map(i=>d[i]);
import{$ as d,_ as s,o as m,p}from"./common-BmR94jh_.js";import"./admin-D_18RlSy.js";import{S as _}from"./SelectNew-zF4k_JQL.js";import{q as r}from"./constants-D_Ps4z6O.js";import{Q as n,a as c}from"./QuillFactory-BHjaUu8o.js";import"./search-BCIhLAbt.js";import"./quill-BFUwCC3D.js";import"./lodashes-GiBPWDzC.js";import"./MyQuill-DC8s65s0.js";class C{constructor(){const t=document[r](".item-wrap[data-model='product']");if(!t)return!1;this.product=t,this.model="product",this.id=d(this.product).find("[data-field='id']").innerText,this.setProps().then(),this.setDragNDrop().then(),this.setCardPanel().then(),n.create(".txt",c.ADMIN_PRODUCT_DESCRIPTION),n.create("#seo-article",c.ADMIN_PRODUCT_SEO_ARTICLE),this.setUnitsCustomSelects()}setUnitsCustomSelects(){const t=d(".units [custom-select]");[].forEach.call(t,a=>{a.dataset.id&&new _(a)})}async setDragNDrop(){const t=document[r]("[dnd]");if(t){const{default:a}=await s(async()=>{const{default:e}=await import("./dnd-BIsc27kd.js");return{default:e}},[],import.meta.url);await new a(t,this.addMainImage)}}async setFields(){const{default:t}=await s(async()=>{const{default:a}=await import("./Fields-CCaX8MUU.js");return{default:a}},__vite__mapDeps([0,1,2,3,4,5]),import.meta.url);new t(this.product)}async setProps(){const{default:t}=await s(async()=>{const{default:a}=await import("./Props-yb3mbfZw.js");return{default:a}},__vite__mapDeps([6,3,1,2,4,5,7,8,9,10,11,12,13]),import.meta.url);new t(this.product)}async setCardPanel(){if(document[r](".cardPanel")){const{default:a}=await s(async()=>{const{default:e}=await import("./card_panel-miTp14Ro.js");return{default:e}},__vite__mapDeps([14,3,15]),import.meta.url);new a}}async addMainImage(t,a){const e={productId:a.closest(".item-wrap").dataset.id},u=m(e,t[0]),l=await p("/adminsc/product/saveMainImage",u);debugger;const o=l?.mainImage;if(o){const i=a.closest(".dnd-container").querySelector("img");i.removeAttribute("src"),i.setAttribute("src",o)}}}export{C as default};
//# sourceMappingURL=Product-DuVBLqSq.js.map

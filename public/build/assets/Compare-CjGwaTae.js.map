{"version":3,"file":"Compare-CjGwaTae.js","sources":["../../src/Compare/Compare.js"],"sourcesContent":["import \"./compare.scss\";\r\n\r\nimport { $, post } from \"@src/common.js\";\r\nimport { ael } from \"@src/constants.js\";\r\nimport DTO from \"@src/Admin/DTO.js\";\r\n\r\nexport default class Compare {\r\n  constructor() {\r\n    const compare = $(\"[data-compare]\").first();\r\n    if (!compare) return false;\r\n\r\n    compare[ael](\"click\", this.handleClick.bind(this));\r\n  }\r\n\r\n  handleClick({ target }) {\r\n    if (target.classList.contains(\"compare\")) {\r\n      this.remove(target);\r\n    }\r\n  }\r\n\r\n  async remove(target) {\r\n    const productCard = target.closest(\".column\");\r\n    const res = await post(\"/compare/del\", this.productDTO(target));\r\n    if (res?.arr?.discompared) productCard.remove();\r\n  }\r\n\r\n  productDTO(target) {\r\n    const dto = new DTO(target);\r\n    dto.fields = {\r\n      product_id: target.closest(`[data-1sid]`).dataset[\"1sid\"],\r\n    };\r\n    return dto;\r\n  }\r\n}\r\n"],"names":["Compare","compare","$","ael","target","productCard","post","dto","DTO"],"mappings":"qIAMe,MAAMA,CAAQ,CAC3B,aAAc,CACZ,MAAMC,EAAUC,EAAE,gBAAgB,EAAE,MAAK,EACzC,GAAI,CAACD,EAAS,MAAO,GAErBA,EAAQE,CAAG,EAAE,QAAS,KAAK,YAAY,KAAK,IAAI,CAAC,CAClD,CAED,YAAY,CAAE,OAAAC,GAAU,CAClBA,EAAO,UAAU,SAAS,SAAS,GACrC,KAAK,OAAOA,CAAM,CAErB,CAED,MAAM,OAAOA,EAAQ,CACnB,MAAMC,EAAcD,EAAO,QAAQ,SAAS,GAChC,MAAME,EAAK,eAAgB,KAAK,WAAWF,CAAM,CAAC,IACrD,KAAK,aAAaC,EAAY,OAAM,CAC9C,CAED,WAAWD,EAAQ,CACjB,MAAMG,EAAM,IAAIC,EAAIJ,CAAM,EAC1B,OAAAG,EAAI,OAAS,CACX,WAAYH,EAAO,QAAQ,aAAa,EAAE,QAAQ,MAAM,CAC9D,EACWG,CACR,CACH"}
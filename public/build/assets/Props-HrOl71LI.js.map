{"version":3,"file":"Props-HrOl71LI.js","sources":["../../src/Admin/Product/Props.js"],"sourcesContent":["import \"./values.scss\";\nimport { $, post } from \"../../common.js\";\nimport SelectNew from \"../../components/select/SelectNew\";\n\nexport default class Props {\n  constructor($product) {\n    this.$product = $product;\n    this.properties = $($product).find(\".values\");\n    this.values = this.properties.querySelectorAll(\".value\");\n    this.properties.addEventListener(\n      \"customSelect.changed\",\n      this.selectChanged.bind(this),\n    );\n    this.values.forEach((value) => {\n      new SelectNew(value);\n    });\n  }\n\n  dto() {\n    return {\n      product_id: this.$product.dataset.id,\n      morphed: {\n        old_id: 0,\n        new_id: 0,\n      },\n    };\n  }\n\n  async selectChanged(obj) {\n    let data = this.dto();\n    data.morphed.old_id = obj.detail.prev.value;\n    data.morphed.new_id = obj.detail.next.value;\n    let res = await post(`/adminsc/product/changeVal`, data);\n  }\n}\n"],"names":["Props","$product","$","value","SelectNew","obj","data","post"],"mappings":"oRAIe,MAAMA,CAAM,CACzB,YAAYC,EAAU,CACpB,KAAK,SAAWA,EAChB,KAAK,WAAaC,EAAED,CAAQ,EAAE,KAAK,SAAS,EAC5C,KAAK,OAAS,KAAK,WAAW,iBAAiB,QAAQ,EACvD,KAAK,WAAW,iBACd,uBACA,KAAK,cAAc,KAAK,IAAI,CAC7B,EACD,KAAK,OAAO,QAASE,GAAU,CAC7B,IAAIC,EAAUD,CAAK,CACzB,CAAK,CACL,CAEE,KAAM,CACJ,MAAO,CACL,WAAY,KAAK,SAAS,QAAQ,GAClC,QAAS,CACP,OAAQ,EACR,OAAQ,CACT,CACF,CACL,CAEE,MAAM,cAAcE,EAAK,CACvB,IAAIC,EAAO,KAAK,IAAK,EACrBA,EAAK,QAAQ,OAASD,EAAI,OAAO,KAAK,MACtCC,EAAK,QAAQ,OAASD,EAAI,OAAO,KAAK,MAC5B,MAAME,EAAK,6BAA8BD,CAAI,CAC3D,CACA"}
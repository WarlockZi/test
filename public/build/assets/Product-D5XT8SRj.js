const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Fields-B5BmwURC.js","assets/Promotion-CK6VXB02.js","assets/common-DGD66q32.js","assets/Promotion-B7Spb30Y.css","assets/Props-fYUUdxhJ.js","assets/admin-D3_JhNmL.js","assets/constants-D_Ps4z6O.js","assets/MyQuill-D5J0PKWf.js","assets/MyQuill-GClCj9AP.css","assets/search-CLw-RMVN.js","assets/admin-DL7GE0Qb.css","assets/card_panel-BFUU9wqb.js","assets/card_panel-ebMfmDJg.css"])))=>i.map(i=>d[i]);
import{$ as d,_ as s,o as u,p as l}from"./common-DGD66q32.js";import"./admin-D3_JhNmL.js";import{S as m}from"./Promotion-CK6VXB02.js";import{q as r}from"./constants-D_Ps4z6O.js";import{M as i}from"./MyQuill-D5J0PKWf.js";import"./search-CLw-RMVN.js";class E{constructor(){const t=document[r](".item-wrap[data-model='product']");if(!t)return!1;this.product=t,this.setProps().then(),this.setFields().then(),this.setDragNDrop().then(),this.setCardPanel().then(),new i("#detail-text",!0,!0,!0),new i("#seo_article",!0,!0,!0),this.setUnitsCustomSelects()}setUnitsCustomSelects(){const t=d(".units [custom-select]");[].forEach.call(t,e=>{new m(e)})}async setDragNDrop(){const t=document[r]("[dnd]");if(t){const{default:e}=await s(async()=>{const{default:a}=await import("./dnd-BIsc27kd.js");return{default:a}},[]);await new e(t,this.addMainImage)}}async setFields(){const{default:t}=await s(async()=>{const{default:e}=await import("./Fields-B5BmwURC.js");return{default:e}},__vite__mapDeps([0,1,2,3]));new t(this.product)}async setProps(){const{default:t}=await s(async()=>{const{default:e}=await import("./Props-fYUUdxhJ.js");return{default:e}},__vite__mapDeps([4,2,1,3,5,6,7,8,9,10]));new t(this.product)}async setCardPanel(){if(document[r](".cardPanel")){const{default:e}=await s(async()=>{const{default:a}=await import("./card_panel-BFUU9wqb.js");return{default:a}},__vite__mapDeps([11,2,12]));new e}}async addMainImage(t,e){const a={productId:e.closest(".item-wrap").dataset.id},c=u(a,t[0]),o=(await l("/adminsc/product/saveMainImage",c))?.arr[0];if(o){const n=e.closest(".dnd-container").querySelector("img");n.removeAttribute("src"),n.setAttribute("src",o)}}}export{E as default};
//# sourceMappingURL=Product-D5XT8SRj.js.map

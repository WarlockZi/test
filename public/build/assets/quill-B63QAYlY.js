import{$ as s,p as n}from"./common-CBISCspz.js";import{Q as a}from"./quill.snow-CLSoiTIt.js";class u{constructor(t="#detail-text"){if(this.selector=t,this.textarea=s(t)[0],!this.textarea)return!1;this.toolbar=this.setToolbar(),this.options=this.setOptions(),this.init()}setToolbar(){return[["bold","italic","underline","strike"],["blockquote"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]}setOptions(){return{theme:"snow",placeholder:"Compose an epic...",modules:{toolbar:this.toolbar}}}init(){const t=this.textarea.innerText.trim(),o=new a(this.selector,this.options);try{const e=JSON.parse(t);o.setContents(e)}catch{}this.textarea.style.background="#fff";const i=s("#button")[0];i&&i.addEventListener("click",function(){const e=s(".item-wrap[data-model='product']")[0].dataset.id,r=JSON.stringify(o.getContents());n("/adminsc/product/updateOrCreate",{txt:r,id:e}).then()})}}export{u as M};

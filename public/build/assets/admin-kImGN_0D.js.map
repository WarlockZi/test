{"version":3,"mappings":"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","names":["userAgent","pattern","IE11OrLess","Edge","FireFox","Safari","IOS","ChromeForAndroid","AnimationStateManager","animationStates","animationCallbackId","child","css","Sortable","getRect","fromRect","childMatrix","matrix","state","target","indexOfObject","callback","animating","animationTime","time","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","isRectEqual","calculateRealTime","currentRect","duration","elMatrix","scaleX","scaleY","translateX","translateY","repaint","options","plugins","defaults","PluginManager","plugin","option","p","eventName","sortable","evt","eventNameGlobal","el","pluginName","initialized","modified","name","eventProperties","value","modifiedValue","pluginEvent","originalEvent","data","dragEl","parentEl","ghostEl","rootEl","nextEl","lastDownEl","cloneEl","cloneHidden","moved","putSortable","oldIndex","oldDraggableIndex","newIndex","newDraggableIndex","_hideGhostForTarget","_unhideGhostForTarget","_dispatchEvent","info","dispatchEvent","activeGroup","awaitingDragStarted","ignoreNextClick","sortables","tapEvt","touchEvt","lastDx","lastDy","tapDistanceLeft","tapDistanceTop","lastTarget","lastDirection","pastFirstInvertThresh","isCircumstantialInvert","targetMoveDistance","ghostRelativeParent","ghostRelativeParentInitialScroll","_silent","savedInputChecked","documentExists","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","supportCssPointerEvents","_detectDirection","elCSS","elWidth","child1","getChild","child2","firstChildCSS","secondChildCSS","firstChildWidth","secondChildWidth","touchingSideChild2","_dragElInRowColumn","dragRect","targetRect","vertical","dragElS1Opp","dragElS2Opp","dragElOppLength","targetS1Opp","targetS2Opp","targetOppLength","_detectNearestEmptySortable","x","y","ret","threshold","expando","lastChild","rect","insideHorizontally","insideVertically","_prepareGroup","toFn","pull","to","from","sameGroup","otherGroup","group","originalGroup","nearestEmptyInsertDetectEvent","nearest","event","i","_checkOutsideTargetEl","dataTransfer","fn","on","_this","preventOnFilter","type","touch","originalTarget","filter","_saveInputCheckedState","closest","index","criteria","ownerDocument","dragStartFn","toggleClass","find","_disableDraggable","e","off","_nextTick","fallback","parent","inserted","getParentOrHost","fallbackTolerance","fallbackOffset","ghostMatrix","relativeScrollOffset","getRelativeScrollOffset","dx","dy","cssMatrix","container","getWindowScrollingElement","clone","revert","activeSortable","isOwner","canSort","fromSortable","completedFired","dragOverEvent","extra","completed","after","onMove","changed","capture","insertion","elLastChild","_ghostIsLast","_ghostIsFirst","firstChild","direction","targetBeforeFirstSwap","differentLevel","differentRowCol","side1","scrolledPastTop","isScrolledPast","scrollBefore","_getSwapDirection","sibling","dragIndex","nextSibling","moveVector","_unsilent","scrollBy","_cancelNextTick","_globalDragOver","order","children","n","_generateId","useAnimation","items","id","store","selector","fromEl","toEl","targetEl","willInsertAfter","onMoveFn","retVal","firstElRect","childContainingRect","getChildContainingRectFromElement","spacer","lastElRect","swapThreshold","invertedSwapThreshold","invertSwap","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","invert","_getInsertDirection","str","sum","root","inputs","idx","extend","throttle","element","version","captureMode","matches","ctx","includeCTX","R_SPACE","className","prop","val","style","selfOnly","appliedTransforms","transform","matrixFn","tagName","iterator","list","scrollingElement","relativeToContainingBlock","relativeToNonStaticParent","undoScale","elRect","top","left","bottom","right","height","width","containerRect","elSide","parentSide","getParentAutoScrollElement","elSideVal","parentSideVal","visible","childNum","includeDragEl","currentChild","last","offsetLeft","offsetTop","winScroller","arr","obj","key","includeSelf","elem","gotSelf","elemCSS","dst","src","rect1","rect2","_throttleTimeout","ms","args","Polymer","$","childRect","extraEventProperties","onName","allEventProperties","dates","onChange","yyyy","mm","dd","fragmentDate","formated","customEvent","date","ael","Sync","$sync","res","post","navigate","DTO","relFields","fields","Table","table","debounce","detail","dto","modelId","header","model","els","newEl","iddex","rows","row","input","targetHead","regexp","ids","multiplier","newRows","rowA","rowB","cellA","cellB","a","b","nodeList","newRow","content","cells","cell","selects","select","Select","checkboxes","checkbox","tables","adminScroll","adminPanel","handle","Pages","tabs","tab","quils","quil","MyQuill","change","Users","role_id","user_id","User","rights","r","confirm","f","qs","Card_panel","__vitePreload","AdminSidebar","Accordion","Product","catalogItem","CatalogItem","Order","Modal","category","Category","Promotion","Search","Navigate","MyChart"],"ignoreList":[0,1,2,3,4,5],"sources":["../../../node_modules/sortablejs/src/BrowserInfo.js","../../../node_modules/sortablejs/src/Animation.js","../../../node_modules/sortablejs/src/PluginManager.js","../../../node_modules/sortablejs/src/Sortable.js","../../../node_modules/sortablejs/src/utils.js","../../../node_modules/sortablejs/src/EventDispatcher.js","../../src/components/date/date.js","../../src/Admin/sync1c/Sync.js","../../src/Admin/sync1c/sync1c.js","../../src/Admin/components/Navigate.js","../../src/Admin/DTO.js","../../src/components/table/table.js","../../src/share/scroll/adminScroll.js","../../src/Admin/Pages/pages.js","../../src/Admin/User/users.js","../../src/Admin/User/user.js","../../src/Admin/admin.js"],"sourcesContent":["function userAgent(pattern) {\r\n\tif (typeof window !== 'undefined' && window.navigator) {\r\n\t\treturn !!/*@__PURE__*/navigator.userAgent.match(pattern);\r\n\t}\r\n}\r\n\r\nexport const IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\r\nexport const Edge = userAgent(/Edge/i);\r\nexport const FireFox = userAgent(/firefox/i);\r\nexport const Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\r\nexport const IOS = userAgent(/iP(ad|od|hone)/i);\r\nexport const ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\r\n","import { getRect, css, matrix, isRectEqual, indexOfObject } from './utils.js';\r\nimport Sortable from './Sortable.js';\r\n\r\nexport default function AnimationStateManager() {\r\n\tlet animationStates = [],\r\n\t\tanimationCallbackId;\r\n\r\n\treturn {\r\n\t\tcaptureAnimationState() {\r\n\t\t\tanimationStates = [];\r\n\t\t\tif (!this.options.animation) return;\r\n\t\t\tlet children = [].slice.call(this.el.children);\r\n\r\n\t\t\tchildren.forEach(child => {\r\n\t\t\t\tif (css(child, 'display') === 'none' || child === Sortable.ghost) return;\r\n\t\t\t\tanimationStates.push({\r\n\t\t\t\t\ttarget: child,\r\n\t\t\t\t\trect: getRect(child)\r\n\t\t\t\t});\r\n\t\t\t\tlet fromRect = { ...animationStates[animationStates.length - 1].rect };\r\n\r\n\t\t\t\t// If animating: compensate for current animation\r\n\t\t\t\tif (child.thisAnimationDuration) {\r\n\t\t\t\t\tlet childMatrix = matrix(child, true);\r\n\t\t\t\t\tif (childMatrix) {\r\n\t\t\t\t\t\tfromRect.top -= childMatrix.f;\r\n\t\t\t\t\t\tfromRect.left -= childMatrix.e;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tchild.fromRect = fromRect;\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\taddAnimationState(state) {\r\n\t\t\tanimationStates.push(state);\r\n\t\t},\r\n\r\n\t\tremoveAnimationState(target) {\r\n\t\t\tanimationStates.splice(indexOfObject(animationStates, { target }), 1);\r\n\t\t},\r\n\r\n\t\tanimateAll(callback) {\r\n\t\t\tif (!this.options.animation) {\r\n\t\t\t\tclearTimeout(animationCallbackId);\r\n\t\t\t\tif (typeof(callback) === 'function') callback();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet animating = false,\r\n\t\t\t\tanimationTime = 0;\r\n\r\n\t\t\tanimationStates.forEach((state) => {\r\n\t\t\t\tlet time = 0,\r\n\t\t\t\t\tanimatingThis = false,\r\n\t\t\t\t\ttarget = state.target,\r\n\t\t\t\t\tfromRect = target.fromRect,\r\n\t\t\t\t\ttoRect = getRect(target),\r\n\t\t\t\t\tprevFromRect = target.prevFromRect,\r\n\t\t\t\t\tprevToRect = target.prevToRect,\r\n\t\t\t\t\tanimatingRect = state.rect,\r\n\t\t\t\t\ttargetMatrix = matrix(target, true);\r\n\r\n\r\n\t\t\t\tif (targetMatrix) {\r\n\t\t\t\t\t// Compensate for current animation\r\n\t\t\t\t\ttoRect.top -= targetMatrix.f;\r\n\t\t\t\t\ttoRect.left -= targetMatrix.e;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttarget.toRect = toRect;\r\n\r\n\t\t\t\tif (target.thisAnimationDuration) {\r\n\t\t\t\t\t// Could also check if animatingRect is between fromRect and toRect\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tisRectEqual(prevFromRect, toRect) &&\r\n\t\t\t\t\t\t!isRectEqual(fromRect, toRect) &&\r\n\t\t\t\t\t\t// Make sure animatingRect is on line between toRect & fromRect\r\n\t\t\t\t\t\t(animatingRect.top - toRect.top) /\r\n\t\t\t\t\t\t(animatingRect.left - toRect.left) ===\r\n\t\t\t\t\t\t(fromRect.top - toRect.top) /\r\n\t\t\t\t\t\t(fromRect.left - toRect.left)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\t// If returning to same place as started from animation and on same axis\r\n\t\t\t\t\t\ttime = calculateRealTime(animatingRect, prevFromRect, prevToRect, this.options);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// if fromRect != toRect: animate\r\n\t\t\t\tif (!isRectEqual(toRect, fromRect)) {\r\n\t\t\t\t\ttarget.prevFromRect = fromRect;\r\n\t\t\t\t\ttarget.prevToRect = toRect;\r\n\r\n\t\t\t\t\tif (!time) {\r\n\t\t\t\t\t\ttime = this.options.animation;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.animate(\r\n\t\t\t\t\t\ttarget,\r\n\t\t\t\t\t\tanimatingRect,\r\n\t\t\t\t\t\ttoRect,\r\n\t\t\t\t\t\ttime\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (time) {\r\n\t\t\t\t\tanimating = true;\r\n\t\t\t\t\tanimationTime = Math.max(animationTime, time);\r\n\t\t\t\t\tclearTimeout(target.animationResetTimer);\r\n\t\t\t\t\ttarget.animationResetTimer = setTimeout(function() {\r\n\t\t\t\t\t\ttarget.animationTime = 0;\r\n\t\t\t\t\t\ttarget.prevFromRect = null;\r\n\t\t\t\t\t\ttarget.fromRect = null;\r\n\t\t\t\t\t\ttarget.prevToRect = null;\r\n\t\t\t\t\t\ttarget.thisAnimationDuration = null;\r\n\t\t\t\t\t}, time);\r\n\t\t\t\t\ttarget.thisAnimationDuration = time;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\r\n\t\t\tclearTimeout(animationCallbackId);\r\n\t\t\tif (!animating) {\r\n\t\t\t\tif (typeof(callback) === 'function') callback();\r\n\t\t\t} else {\r\n\t\t\t\tanimationCallbackId = setTimeout(function() {\r\n\t\t\t\t\tif (typeof(callback) === 'function') callback();\r\n\t\t\t\t}, animationTime);\r\n\t\t\t}\r\n\t\t\tanimationStates = [];\r\n\t\t},\r\n\r\n\t\tanimate(target, currentRect, toRect, duration) {\r\n\t\t\tif (duration) {\r\n\t\t\t\tcss(target, 'transition', '');\r\n\t\t\t\tcss(target, 'transform', '');\r\n\t\t\t\tlet elMatrix = matrix(this.el),\r\n\t\t\t\t\tscaleX = elMatrix && elMatrix.a,\r\n\t\t\t\t\tscaleY = elMatrix && elMatrix.d,\r\n\t\t\t\t\ttranslateX = (currentRect.left - toRect.left) / (scaleX || 1),\r\n\t\t\t\t\ttranslateY = (currentRect.top - toRect.top) / (scaleY || 1);\r\n\r\n\t\t\t\ttarget.animatingX = !!translateX;\r\n\t\t\t\ttarget.animatingY = !!translateY;\r\n\r\n\t\t\t\tcss(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\r\n\r\n\t\t\t\tthis.forRepaintDummy = repaint(target); // repaint\r\n\r\n\t\t\t\tcss(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\r\n\t\t\t\tcss(target, 'transform', 'translate3d(0,0,0)');\r\n\t\t\t\t(typeof target.animated === 'number') && clearTimeout(target.animated);\r\n\t\t\t\ttarget.animated = setTimeout(function () {\r\n\t\t\t\t\tcss(target, 'transition', '');\r\n\t\t\t\t\tcss(target, 'transform', '');\r\n\t\t\t\t\ttarget.animated = false;\r\n\r\n\t\t\t\t\ttarget.animatingX = false;\r\n\t\t\t\t\ttarget.animatingY = false;\r\n\t\t\t\t}, duration);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction repaint(target) {\r\n\treturn target.offsetWidth;\r\n}\r\n\r\n\r\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\r\n\treturn (\r\n\t\tMath.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) /\r\n\t\tMath.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2))\r\n\t) * options.animation;\r\n}\r\n","let plugins = [];\r\n\r\nconst defaults = {\r\n\tinitializeByDefault: true\r\n};\r\n\r\nexport default {\r\n\tmount(plugin) {\r\n\t\t// Set default static properties\r\n\t\tfor (let option in defaults) {\r\n\t\t\tif (defaults.hasOwnProperty(option) && !(option in plugin)) {\r\n\t\t\t\tplugin[option] = defaults[option];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tplugins.forEach(p => {\r\n\t\t\tif (p.pluginName === plugin.pluginName) {\r\n\t\t\t\tthrow (`Sortable: Cannot mount plugin ${ plugin.pluginName } more than once`);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tplugins.push(plugin);\r\n\t},\r\n\tpluginEvent(eventName, sortable, evt) {\r\n\t\tthis.eventCanceled = false;\r\n\t\tevt.cancel = () => {\r\n\t\t\tthis.eventCanceled = true;\r\n\t\t};\r\n\t\tconst eventNameGlobal = eventName + 'Global';\r\n\t\tplugins.forEach(plugin => {\r\n\t\t\tif (!sortable[plugin.pluginName]) return;\r\n\t\t\t// Fire global events if it exists in this sortable\r\n\t\t\tif (\r\n\t\t\t\tsortable[plugin.pluginName][eventNameGlobal]\r\n\t\t\t) {\r\n\t\t\t\tsortable[plugin.pluginName][eventNameGlobal]({ sortable, ...evt });\r\n\t\t\t}\r\n\r\n\t\t\t// Only fire plugin event if plugin is enabled in this sortable,\r\n\t\t\t// and plugin has event defined\r\n\t\t\tif (\r\n\t\t\t\tsortable.options[plugin.pluginName] &&\r\n\t\t\t\tsortable[plugin.pluginName][eventName]\r\n\t\t\t) {\r\n\t\t\t\tsortable[plugin.pluginName][eventName]({ sortable, ...evt });\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tinitializePlugins(sortable, el, defaults, options) {\r\n\t\tplugins.forEach(plugin => {\r\n\t\t\tconst pluginName = plugin.pluginName;\r\n\t\t\tif (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\r\n\r\n\t\t\tlet initialized = new plugin(sortable, el, sortable.options);\r\n\t\t\tinitialized.sortable = sortable;\r\n\t\t\tinitialized.options = sortable.options;\r\n\t\t\tsortable[pluginName] = initialized;\r\n\r\n\t\t\t// Add default options from plugin\r\n\t\t\tObject.assign(defaults, initialized.defaults);\r\n\t\t});\r\n\r\n\t\tfor (let option in sortable.options) {\r\n\t\t\tif (!sortable.options.hasOwnProperty(option)) continue;\r\n\t\t\tlet modified = this.modifyOption(sortable, option, sortable.options[option]);\r\n\t\t\tif (typeof(modified) !== 'undefined') {\r\n\t\t\t\tsortable.options[option] = modified;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tgetEventProperties(name, sortable) {\r\n\t\tlet eventProperties = {};\r\n\t\tplugins.forEach(plugin => {\r\n\t\t\tif (typeof(plugin.eventProperties) !== 'function') return;\r\n\t\t\tObject.assign(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\r\n\t\t});\r\n\r\n\t\treturn eventProperties;\r\n\t},\r\n\tmodifyOption(sortable, name, value) {\r\n\t\tlet modifiedValue;\r\n\t\tplugins.forEach(plugin => {\r\n\t\t\t// Plugin must exist on the Sortable\r\n\t\t\tif (!sortable[plugin.pluginName]) return;\r\n\r\n\t\t\t// If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\r\n\t\t\tif (plugin.optionListeners && typeof(plugin.optionListeners[name]) === 'function') {\r\n\t\t\t\tmodifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn modifiedValue;\r\n\t}\r\n};\r\n","/**!\r\n * Sortable\r\n * @author\tRubaXa   <trash@rubaxa.org>\r\n * @author\towenm    <owen23355@gmail.com>\r\n * @license MIT\r\n */\r\n\r\nimport { version } from '../package.json';\r\n\r\nimport { IE11OrLess, Edge, FireFox, Safari, IOS, ChromeForAndroid } from './BrowserInfo.js';\r\n\r\nimport AnimationStateManager from './Animation.js';\r\n\r\nimport PluginManager from './PluginManager.js';\r\n\r\nimport dispatchEvent from './EventDispatcher.js';\r\n\r\nimport {\r\n\ton,\r\n\toff,\r\n\tclosest,\r\n\ttoggleClass,\r\n\tcss,\r\n\tmatrix,\r\n\tfind,\r\n\tgetWindowScrollingElement,\r\n\tgetRect,\r\n\tisScrolledPast,\r\n\tgetChild,\r\n\tlastChild,\r\n\tindex,\r\n\tgetRelativeScrollOffset,\r\n\textend,\r\n\tthrottle,\r\n\tscrollBy,\r\n\tclone,\r\n\texpando,\r\n\tgetChildContainingRectFromElement,\r\n\tgetParentOrHost\r\n} from './utils.js';\r\n\r\n\r\nlet pluginEvent = function(eventName, sortable, { evt: originalEvent, ...data } = {}) {\r\n\tPluginManager.pluginEvent.bind(Sortable)(eventName, sortable, {\r\n\t\tdragEl,\r\n\t\tparentEl,\r\n\t\tghostEl,\r\n\t\trootEl,\r\n\t\tnextEl,\r\n\t\tlastDownEl,\r\n\t\tcloneEl,\r\n\t\tcloneHidden,\r\n\t\tdragStarted: moved,\r\n\t\tputSortable,\r\n\t\tactiveSortable: Sortable.active,\r\n\t\toriginalEvent,\r\n\r\n\t\toldIndex,\r\n\t\toldDraggableIndex,\r\n\t\tnewIndex,\r\n\t\tnewDraggableIndex,\r\n\r\n\t\thideGhostForTarget: _hideGhostForTarget,\r\n\t\tunhideGhostForTarget: _unhideGhostForTarget,\r\n\r\n\r\n\t\tcloneNowHidden() {\r\n\t\t\tcloneHidden = true;\r\n\t\t},\r\n\t\tcloneNowShown() {\r\n\t\t\tcloneHidden = false;\r\n\t\t},\r\n\r\n\t\tdispatchSortableEvent(name) {\r\n\t\t\t_dispatchEvent({ sortable, name, originalEvent });\r\n\t\t},\r\n\r\n\t\t...data\r\n\t});\r\n};\r\n\r\nfunction _dispatchEvent(info) {\r\n\tdispatchEvent({\r\n\t\tputSortable,\r\n\t\tcloneEl,\r\n\t\ttargetEl: dragEl,\r\n\t\trootEl,\r\n\t\toldIndex,\r\n\t\toldDraggableIndex,\r\n\t\tnewIndex,\r\n\t\tnewDraggableIndex,\r\n\t\t...info\r\n\t});\r\n}\r\n\r\n\r\nlet dragEl,\r\n\tparentEl,\r\n\tghostEl,\r\n\trootEl,\r\n\tnextEl,\r\n\tlastDownEl,\r\n\r\n\tcloneEl,\r\n\tcloneHidden,\r\n\r\n\toldIndex,\r\n\tnewIndex,\r\n\toldDraggableIndex,\r\n\tnewDraggableIndex,\r\n\r\n\tactiveGroup,\r\n\tputSortable,\r\n\r\n\tawaitingDragStarted = false,\r\n\tignoreNextClick = false,\r\n\tsortables = [],\r\n\r\n\ttapEvt,\r\n\ttouchEvt,\r\n\tlastDx,\r\n\tlastDy,\r\n\ttapDistanceLeft,\r\n\ttapDistanceTop,\r\n\r\n\tmoved,\r\n\r\n\tlastTarget,\r\n\tlastDirection,\r\n\tpastFirstInvertThresh = false,\r\n\tisCircumstantialInvert = false,\r\n\r\n\ttargetMoveDistance,\r\n\r\n\t// For positioning ghost absolutely\r\n\tghostRelativeParent,\r\n\tghostRelativeParentInitialScroll = [], // (left, top)\r\n\r\n\t_silent = false,\r\n\tsavedInputChecked = [];\r\n\r\n\t/** @const */\r\n\tconst documentExists = typeof document !== 'undefined',\r\n\r\n\tPositionGhostAbsolutely = IOS,\r\n\r\n\tCSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\r\n\r\n\t// This will not pass for IE9, because IE9 DnD only works on anchors\r\n\tsupportDraggable = documentExists && !ChromeForAndroid && !IOS && ('draggable' in document.createElement('div')),\r\n\r\n\tsupportCssPointerEvents = (function() {\r\n\t\tif (!documentExists) return;\r\n\t\t// false when <= IE11\r\n\t\tif (IE11OrLess) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tlet el = document.createElement('x');\r\n\t\tel.style.cssText = 'pointer-events:auto';\r\n\t\treturn el.style.pointerEvents === 'auto';\r\n\t})(),\r\n\r\n\t_detectDirection = function(el, options) {\r\n\t\tlet elCSS = css(el),\r\n\t\t\telWidth = parseInt(elCSS.width)\r\n\t\t\t\t- parseInt(elCSS.paddingLeft)\r\n\t\t\t\t- parseInt(elCSS.paddingRight)\r\n\t\t\t\t- parseInt(elCSS.borderLeftWidth)\r\n\t\t\t\t- parseInt(elCSS.borderRightWidth),\r\n\t\t\tchild1 = getChild(el, 0, options),\r\n\t\t\tchild2 = getChild(el, 1, options),\r\n\t\t\tfirstChildCSS = child1 && css(child1),\r\n\t\t\tsecondChildCSS = child2 && css(child2),\r\n\t\t\tfirstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\r\n\t\t\tsecondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\r\n\r\n\t\tif (elCSS.display === 'flex') {\r\n\t\t\treturn elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse'\r\n\t\t\t? 'vertical' : 'horizontal';\r\n\t\t}\r\n\r\n\t\tif (elCSS.display === 'grid') {\r\n\t\t\treturn elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\r\n\t\t}\r\n\r\n\t\tif (child1 && firstChildCSS.float && firstChildCSS.float !== 'none') {\r\n\t\t\tlet touchingSideChild2 = firstChildCSS.float === 'left' ? 'left' : 'right';\r\n\r\n\t\t\treturn child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ?\r\n\t\t\t\t'vertical' : 'horizontal';\r\n\t\t}\r\n\r\n\t\treturn (child1 &&\r\n\t\t\t(\r\n\t\t\t\tfirstChildCSS.display === 'block' ||\r\n\t\t\t\tfirstChildCSS.display === 'flex' ||\r\n\t\t\t\tfirstChildCSS.display === 'table' ||\r\n\t\t\t\tfirstChildCSS.display === 'grid' ||\r\n\t\t\t\tfirstChildWidth >= elWidth &&\r\n\t\t\t\telCSS[CSSFloatProperty] === 'none' ||\r\n\t\t\t\tchild2 &&\r\n\t\t\t\telCSS[CSSFloatProperty] === 'none' &&\r\n\t\t\t\tfirstChildWidth + secondChildWidth > elWidth\r\n\t\t\t) ?\r\n\t\t\t'vertical' : 'horizontal'\r\n\t\t);\r\n\t},\r\n\r\n\t_dragElInRowColumn = function(dragRect, targetRect, vertical) {\r\n\t\tlet dragElS1Opp = vertical ? dragRect.left : dragRect.top,\r\n\t\t\tdragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\r\n\t\t\tdragElOppLength = vertical ? dragRect.width : dragRect.height,\r\n\t\t\ttargetS1Opp = vertical ? targetRect.left : targetRect.top,\r\n\t\t\ttargetS2Opp = vertical ? targetRect.right : targetRect.bottom,\r\n\t\t\ttargetOppLength = vertical ? targetRect.width : targetRect.height;\r\n\r\n\t\treturn (\r\n\t\t\tdragElS1Opp === targetS1Opp ||\r\n\t\t\tdragElS2Opp === targetS2Opp ||\r\n\t\t\t(dragElS1Opp + dragElOppLength / 2) === (targetS1Opp + targetOppLength / 2)\r\n\t\t);\r\n\t},\r\n\r\n\t/**\r\n\t * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\r\n\t * @param  {Number} x      X position\r\n\t * @param  {Number} y      Y position\r\n\t * @return {HTMLElement}   Element of the first found nearest Sortable\r\n\t */\r\n\t_detectNearestEmptySortable = function(x, y) {\r\n\t\tlet ret;\r\n\t\tsortables.some((sortable) => {\r\n\t\t\tconst threshold = sortable[expando].options.emptyInsertThreshold;\r\n\t\t\tif (!threshold || lastChild(sortable)) return;\r\n\r\n\t\t\tconst rect = getRect(sortable),\r\n\t\t\t\tinsideHorizontally = x >= (rect.left - threshold) && x <= (rect.right + threshold),\r\n\t\t\t\tinsideVertically = y >= (rect.top - threshold) && y <= (rect.bottom + threshold);\r\n\r\n\t\t\tif (insideHorizontally && insideVertically) {\r\n\t\t\t\treturn (ret = sortable);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn ret;\r\n\t},\r\n\r\n\t_prepareGroup = function (options) {\r\n\t\tfunction toFn(value, pull) {\r\n\t\t\treturn function(to, from, dragEl, evt) {\r\n\t\t\t\tlet sameGroup = to.options.group.name &&\r\n\t\t\t\t\t\t\t\tfrom.options.group.name &&\r\n\t\t\t\t\t\t\t\tto.options.group.name === from.options.group.name;\r\n\r\n\t\t\t\tif (value == null && (pull || sameGroup)) {\r\n\t\t\t\t\t// Default pull value\r\n\t\t\t\t\t// Default pull and put value if same group\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t} else if (value == null || value === false) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else if (pull && value === 'clone') {\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t} else if (typeof value === 'function') {\r\n\t\t\t\t\treturn toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet otherGroup = (pull ? to : from).options.group.name;\r\n\r\n\t\t\t\t\treturn (value === true ||\r\n\t\t\t\t\t(typeof value === 'string' && value === otherGroup) ||\r\n\t\t\t\t\t(value.join && value.indexOf(otherGroup) > -1));\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tlet group = {};\r\n\t\tlet originalGroup = options.group;\r\n\r\n\t\tif (!originalGroup || typeof originalGroup != 'object') {\r\n\t\t\toriginalGroup = {name: originalGroup};\r\n\t\t}\r\n\r\n\t\tgroup.name = originalGroup.name;\r\n\t\tgroup.checkPull = toFn(originalGroup.pull, true);\r\n\t\tgroup.checkPut = toFn(originalGroup.put);\r\n\t\tgroup.revertClone = originalGroup.revertClone;\r\n\r\n\t\toptions.group = group;\r\n\t},\r\n\r\n\t_hideGhostForTarget = function() {\r\n\t\tif (!supportCssPointerEvents && ghostEl) {\r\n\t\t\tcss(ghostEl, 'display', 'none');\r\n\t\t}\r\n\t},\r\n\r\n\t_unhideGhostForTarget = function() {\r\n\t\tif (!supportCssPointerEvents && ghostEl) {\r\n\t\t\tcss(ghostEl, 'display', '');\r\n\t\t}\r\n\t};\r\n\r\n\r\n// #1184 fix - Prevent click event on fallback if dragged but item not changed position\r\nif (documentExists && !ChromeForAndroid) {\r\n\tdocument.addEventListener('click', function(evt) {\r\n\t\tif (ignoreNextClick) {\r\n\t\t\tevt.preventDefault();\r\n\t\t\tevt.stopPropagation && evt.stopPropagation();\r\n\t\t\tevt.stopImmediatePropagation && evt.stopImmediatePropagation();\r\n\t\t\tignoreNextClick = false;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}, true);\r\n}\r\n\r\nlet nearestEmptyInsertDetectEvent = function(evt) {\r\n\tif (dragEl) {\r\n\t\tevt = evt.touches ? evt.touches[0] : evt;\r\n\t\tlet nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\r\n\r\n\t\tif (nearest) {\r\n\t\t\t// Create imitation event\r\n\t\t\tlet event = {};\r\n\t\t\tfor (let i in evt) {\r\n\t\t\t\tif (evt.hasOwnProperty(i)) {\r\n\t\t\t\t\tevent[i] = evt[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tevent.target = event.rootEl = nearest;\r\n\t\t\tevent.preventDefault = void 0;\r\n\t\t\tevent.stopPropagation = void 0;\r\n\t\t\tnearest[expando]._onDragOver(event);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\nlet _checkOutsideTargetEl = function(evt) {\r\n\tif (dragEl) {\r\n\t\tdragEl.parentNode[expando]._isOutsideThisEl(evt.target);\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * @class  Sortable\r\n * @param  {HTMLElement}  el\r\n * @param  {Object}       [options]\r\n */\r\nfunction Sortable(el, options) {\r\n\tif (!(el && el.nodeType && el.nodeType === 1)) {\r\n\t\tthrow `Sortable: \\`el\\` must be an HTMLElement, not ${ {}.toString.call(el) }`;\r\n\t}\r\n\r\n\tthis.el = el; // root element\r\n\tthis.options = options = Object.assign({}, options);\r\n\r\n\r\n\t// Export instance\r\n\tel[expando] = this;\r\n\r\n\tlet defaults = {\r\n\t\tgroup: null,\r\n\t\tsort: true,\r\n\t\tdisabled: false,\r\n\t\tstore: null,\r\n\t\thandle: null,\r\n\t\tdraggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\r\n\t\tswapThreshold: 1, // percentage; 0 <= x <= 1\r\n\t\tinvertSwap: false, // invert always\r\n\t\tinvertedSwapThreshold: null, // will be set to same as swapThreshold if default\r\n\t\tremoveCloneOnHide: true,\r\n\t\tdirection: function() {\r\n\t\t\treturn _detectDirection(el, this.options);\r\n\t\t},\r\n\t\tghostClass: 'sortable-ghost',\r\n\t\tchosenClass: 'sortable-chosen',\r\n\t\tdragClass: 'sortable-drag',\r\n\t\tignore: 'a, img',\r\n\t\tfilter: null,\r\n\t\tpreventOnFilter: true,\r\n\t\tanimation: 0,\r\n\t\teasing: null,\r\n\t\tsetData: function (dataTransfer, dragEl) {\r\n\t\t\tdataTransfer.setData('Text', dragEl.textContent);\r\n\t\t},\r\n\t\tdropBubble: false,\r\n\t\tdragoverBubble: false,\r\n\t\tdataIdAttr: 'data-id',\r\n\t\tdelay: 0,\r\n\t\tdelayOnTouchOnly: false,\r\n\t\ttouchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\r\n\t\tforceFallback: false,\r\n\t\tfallbackClass: 'sortable-fallback',\r\n\t\tfallbackOnBody: false,\r\n\t\tfallbackTolerance: 0,\r\n\t\tfallbackOffset: {x: 0, y: 0},\r\n\t\tsupportPointer: Sortable.supportPointer !== false && ('PointerEvent' in window) && !Safari,\r\n\t\temptyInsertThreshold: 5\r\n\t};\r\n\r\n\tPluginManager.initializePlugins(this, el, defaults);\r\n\r\n\t// Set default options\r\n\tfor (let name in defaults) {\r\n\t\t!(name in options) && (options[name] = defaults[name]);\r\n\t}\r\n\r\n\t_prepareGroup(options);\r\n\r\n\t// Bind all private methods\r\n\tfor (let fn in this) {\r\n\t\tif (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\r\n\t\t\tthis[fn] = this[fn].bind(this);\r\n\t\t}\r\n\t}\r\n\r\n\t// Setup drag mode\r\n\tthis.nativeDraggable = options.forceFallback ? false : supportDraggable;\r\n\r\n\tif (this.nativeDraggable) {\r\n\t\t// Touch start threshold cannot be greater than the native dragstart threshold\r\n\t\tthis.options.touchStartThreshold = 1;\r\n\t}\r\n\r\n\t// Bind events\r\n\tif (options.supportPointer) {\r\n\t\ton(el, 'pointerdown', this._onTapStart);\r\n\t} else {\r\n\t\ton(el, 'mousedown', this._onTapStart);\r\n\t\ton(el, 'touchstart', this._onTapStart);\r\n\t}\r\n\r\n\tif (this.nativeDraggable) {\r\n\t\ton(el, 'dragover', this);\r\n\t\ton(el, 'dragenter', this);\r\n\t}\r\n\r\n\tsortables.push(this.el);\r\n\r\n\t// Restore sorting\r\n\toptions.store && options.store.get && this.sort(options.store.get(this) || []);\r\n\r\n\t// Add animation state manager\r\n\tObject.assign(this, AnimationStateManager());\r\n}\r\n\r\nSortable.prototype = /** @lends Sortable.prototype */ {\r\n\tconstructor: Sortable,\r\n\r\n\t_isOutsideThisEl: function(target) {\r\n\t\tif (!this.el.contains(target) && target !== this.el) {\r\n\t\t\tlastTarget = null;\r\n\t\t}\r\n\t},\r\n\r\n\t_getDirection: function(evt, target) {\r\n\t\treturn (typeof this.options.direction === 'function') ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\r\n\t},\r\n\r\n\t_onTapStart: function (/** Event|TouchEvent */evt) {\r\n\t\tif (!evt.cancelable) return;\r\n\t\tlet _this = this,\r\n\t\t\tel = this.el,\r\n\t\t\toptions = this.options,\r\n\t\t\tpreventOnFilter = options.preventOnFilter,\r\n\t\t\ttype = evt.type,\r\n\t\t\ttouch = (evt.touches && evt.touches[0]) || (evt.pointerType && evt.pointerType === 'touch' && evt),\r\n\t\t\ttarget = (touch || evt).target,\r\n\t\t\toriginalTarget = evt.target.shadowRoot && ((evt.path && evt.path[0]) || (evt.composedPath && evt.composedPath()[0])) || target,\r\n\t\t\tfilter = options.filter;\r\n\r\n\t\t_saveInputCheckedState(el);\r\n\r\n\r\n\t\t// Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\r\n\t\tif (dragEl) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\r\n\t\t\treturn; // only left button and enabled\r\n\t\t}\r\n\r\n\t\t// cancel dnd if original target is content editable\r\n\t\tif (originalTarget.isContentEditable) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Safari ignores further event handling after mousedown\r\n\t\tif (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\ttarget = closest(target, options.draggable, el, false);\r\n\r\n\r\n\t\tif (target && target.animated) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (lastDownEl === target) {\r\n\t\t\t// Ignoring duplicate `down`\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Get the index of the dragged element within its parent\r\n\t\toldIndex = index(target);\r\n\t\toldDraggableIndex = index(target, options.draggable);\r\n\r\n\t\t// Check filter\r\n\t\tif (typeof filter === 'function') {\r\n\t\t\tif (filter.call(this, evt, target, this)) {\r\n\t\t\t\t_dispatchEvent({\r\n\t\t\t\t\tsortable: _this,\r\n\t\t\t\t\trootEl: originalTarget,\r\n\t\t\t\t\tname: 'filter',\r\n\t\t\t\t\ttargetEl: target,\r\n\t\t\t\t\ttoEl: el,\r\n\t\t\t\t\tfromEl: el\r\n\t\t\t\t});\r\n\t\t\t\tpluginEvent('filter', _this, { evt });\r\n\t\t\t\tpreventOnFilter && evt.cancelable && evt.preventDefault();\r\n\t\t\t\treturn; // cancel dnd\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (filter) {\r\n\t\t\tfilter = filter.split(',').some(function (criteria) {\r\n\t\t\t\tcriteria = closest(originalTarget, criteria.trim(), el, false);\r\n\r\n\t\t\t\tif (criteria) {\r\n\t\t\t\t\t_dispatchEvent({\r\n\t\t\t\t\t\tsortable: _this,\r\n\t\t\t\t\t\trootEl: criteria,\r\n\t\t\t\t\t\tname: 'filter',\r\n\t\t\t\t\t\ttargetEl: target,\r\n\t\t\t\t\t\tfromEl: el,\r\n\t\t\t\t\t\ttoEl: el\r\n\t\t\t\t\t});\r\n\t\t\t\t\tpluginEvent('filter', _this, { evt });\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (filter) {\r\n\t\t\t\tpreventOnFilter && evt.cancelable && evt.preventDefault();\r\n\t\t\t\treturn; // cancel dnd\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (options.handle && !closest(originalTarget, options.handle, el, false)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Prepare `dragstart`\r\n\t\tthis._prepareDragStart(evt, touch, target);\r\n\t},\r\n\r\n\t_prepareDragStart: function (/** Event */evt, /** Touch */touch, /** HTMLElement */target) {\r\n\t\tlet _this = this,\r\n\t\t\tel = _this.el,\r\n\t\t\toptions = _this.options,\r\n\t\t\townerDocument = el.ownerDocument,\r\n\t\t\tdragStartFn;\r\n\r\n\t\tif (target && !dragEl && (target.parentNode === el)) {\r\n\t\t\tlet dragRect = getRect(target);\r\n\t\t\trootEl = el;\r\n\t\t\tdragEl = target;\r\n\t\t\tparentEl = dragEl.parentNode;\r\n\t\t\tnextEl = dragEl.nextSibling;\r\n\t\t\tlastDownEl = target;\r\n\t\t\tactiveGroup = options.group;\r\n\r\n\t\t\tSortable.dragged = dragEl;\r\n\r\n\t\t\ttapEvt = {\r\n\t\t\t\ttarget: dragEl,\r\n\t\t\t\tclientX: (touch || evt).clientX,\r\n\t\t\t\tclientY: (touch || evt).clientY\r\n\t\t\t};\r\n\r\n\t\t\ttapDistanceLeft = tapEvt.clientX - dragRect.left;\r\n\t\t\ttapDistanceTop = tapEvt.clientY - dragRect.top;\r\n\r\n\t\t\tthis._lastX = (touch || evt).clientX;\r\n\t\t\tthis._lastY = (touch || evt).clientY;\r\n\r\n\t\t\tdragEl.style['will-change'] = 'all';\r\n\r\n\t\t\tdragStartFn = function () {\r\n\t\t\t\tpluginEvent('delayEnded', _this, { evt });\r\n\t\t\t\tif (Sortable.eventCanceled) {\r\n\t\t\t\t\t_this._onDrop();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t// Delayed drag has been triggered\r\n\t\t\t\t// we can re-enable the events: touchmove/mousemove\r\n\t\t\t\t_this._disableDelayedDragEvents();\r\n\r\n\t\t\t\tif (!FireFox && _this.nativeDraggable) {\r\n\t\t\t\t\tdragEl.draggable = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Bind the events: dragstart/dragend\r\n\t\t\t\t_this._triggerDragStart(evt, touch);\r\n\r\n\t\t\t\t// Drag start event\r\n\t\t\t\t_dispatchEvent({\r\n\t\t\t\t\tsortable: _this,\r\n\t\t\t\t\tname: 'choose',\r\n\t\t\t\t\toriginalEvent: evt\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Chosen item\r\n\t\t\t\ttoggleClass(dragEl, options.chosenClass, true);\r\n\t\t\t};\r\n\r\n\t\t\t// Disable \"draggable\"\r\n\t\t\toptions.ignore.split(',').forEach(function (criteria) {\r\n\t\t\t\tfind(dragEl, criteria.trim(), _disableDraggable);\r\n\t\t\t});\r\n\r\n\t\t\ton(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\r\n\t\t\ton(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\r\n\t\t\ton(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\r\n\r\n\t\t\ton(ownerDocument, 'mouseup', _this._onDrop);\r\n\t\t\ton(ownerDocument, 'touchend', _this._onDrop);\r\n\t\t\ton(ownerDocument, 'touchcancel', _this._onDrop);\r\n\r\n\t\t\t// Make dragEl draggable (must be before delay for FireFox)\r\n\t\t\tif (FireFox && this.nativeDraggable) {\r\n\t\t\t\tthis.options.touchStartThreshold = 4;\r\n\t\t\t\tdragEl.draggable = true;\r\n\t\t\t}\r\n\r\n\t\t\tpluginEvent('delayStart', this, { evt });\r\n\r\n\t\t\t// Delay is impossible for native DnD in Edge or IE\r\n\t\t\tif (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\r\n\t\t\t\tif (Sortable.eventCanceled) {\r\n\t\t\t\t\tthis._onDrop();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t// If the user moves the pointer or let go the click or touch\r\n\t\t\t\t// before the delay has been reached:\r\n\t\t\t\t// disable the delayed drag\r\n\t\t\t\ton(ownerDocument, 'mouseup', _this._disableDelayedDrag);\r\n\t\t\t\ton(ownerDocument, 'touchend', _this._disableDelayedDrag);\r\n\t\t\t\ton(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\r\n\t\t\t\ton(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\r\n\t\t\t\ton(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\r\n\t\t\t\toptions.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\r\n\r\n\t\t\t\t_this._dragStartTimer = setTimeout(dragStartFn, options.delay);\r\n\t\t\t} else {\r\n\t\t\t\tdragStartFn();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_delayedDragTouchMoveHandler: function (/** TouchEvent|PointerEvent **/e) {\r\n\t\tlet touch = e.touches ? e.touches[0] : e;\r\n\t\tif (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY))\r\n\t\t\t\t>= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))\r\n\t\t) {\r\n\t\t\tthis._disableDelayedDrag();\r\n\t\t}\r\n\t},\r\n\r\n\t_disableDelayedDrag: function () {\r\n\t\tdragEl && _disableDraggable(dragEl);\r\n\t\tclearTimeout(this._dragStartTimer);\r\n\r\n\t\tthis._disableDelayedDragEvents();\r\n\t},\r\n\r\n\t_disableDelayedDragEvents: function () {\r\n\t\tlet ownerDocument = this.el.ownerDocument;\r\n\t\toff(ownerDocument, 'mouseup', this._disableDelayedDrag);\r\n\t\toff(ownerDocument, 'touchend', this._disableDelayedDrag);\r\n\t\toff(ownerDocument, 'touchcancel', this._disableDelayedDrag);\r\n\t\toff(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\r\n\t\toff(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\r\n\t\toff(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\r\n\t},\r\n\r\n\t_triggerDragStart: function (/** Event */evt, /** Touch */touch) {\r\n\t\ttouch = touch || (evt.pointerType == 'touch' && evt);\r\n\r\n\t\tif (!this.nativeDraggable || touch) {\r\n\t\t\tif (this.options.supportPointer) {\r\n\t\t\t\ton(document, 'pointermove', this._onTouchMove);\r\n\t\t\t} else if (touch) {\r\n\t\t\t\ton(document, 'touchmove', this._onTouchMove);\r\n\t\t\t} else {\r\n\t\t\t\ton(document, 'mousemove', this._onTouchMove);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ton(dragEl, 'dragend', this);\r\n\t\t\ton(rootEl, 'dragstart', this._onDragStart);\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tif (document.selection) {\r\n\t\t\t\t// Timeout neccessary for IE9\r\n\t\t\t\t_nextTick(function () {\r\n\t\t\t\t\tdocument.selection.empty();\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\twindow.getSelection().removeAllRanges();\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t}\r\n\t},\r\n\r\n\t_dragStarted: function (fallback, evt) {\r\n\t\tlet _this = this;\r\n\t\tawaitingDragStarted = false;\r\n\t\tif (rootEl && dragEl) {\r\n\t\t\tpluginEvent('dragStarted', this, { evt });\r\n\r\n\t\t\tif (this.nativeDraggable) {\r\n\t\t\t\ton(document, 'dragover', _checkOutsideTargetEl);\r\n\t\t\t}\r\n\t\t\tlet options = this.options;\r\n\r\n\t\t\t// Apply effect\r\n\t\t\t!fallback && toggleClass(dragEl, options.dragClass, false);\r\n\t\t\ttoggleClass(dragEl, options.ghostClass, true);\r\n\r\n\t\t\tSortable.active = this;\r\n\r\n\t\t\tfallback && this._appendGhost();\r\n\r\n\t\t\t// Drag start event\r\n\t\t\t_dispatchEvent({\r\n\t\t\t\tsortable: this,\r\n\t\t\t\tname: 'start',\r\n\t\t\t\toriginalEvent: evt\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis._nulling();\r\n\t\t}\r\n\t},\r\n\r\n\t_emulateDragOver: function () {\r\n\t\tif (touchEvt) {\r\n\t\t\tthis._lastX = touchEvt.clientX;\r\n\t\t\tthis._lastY = touchEvt.clientY;\r\n\r\n\t\t\t_hideGhostForTarget();\r\n\r\n\t\t\tlet target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\r\n\t\t\tlet parent = target;\r\n\r\n\t\t\twhile (target && target.shadowRoot) {\r\n\t\t\t\ttarget = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\r\n\t\t\t\tif (target === parent) break;\r\n\t\t\t\tparent = target;\r\n\t\t\t}\r\n\r\n\t\t\tdragEl.parentNode[expando]._isOutsideThisEl(target);\r\n\r\n\t\t\tif (parent) {\r\n\t\t\t\tdo {\r\n\t\t\t\t\tif (parent[expando]) {\r\n\t\t\t\t\t\tlet inserted;\r\n\r\n\t\t\t\t\t\tinserted = parent[expando]._onDragOver({\r\n\t\t\t\t\t\t\tclientX: touchEvt.clientX,\r\n\t\t\t\t\t\t\tclientY: touchEvt.clientY,\r\n\t\t\t\t\t\t\ttarget: target,\r\n\t\t\t\t\t\t\trootEl: parent\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tif (inserted && !this.options.dragoverBubble) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttarget = parent; // store last element\r\n\t\t\t\t}\r\n\t\t\t\t/* jshint boss:true */\r\n\t\t\t\twhile (parent = getParentOrHost(parent));\r\n\t\t\t}\r\n\r\n\t\t\t_unhideGhostForTarget();\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t_onTouchMove: function (/**TouchEvent*/evt) {\r\n\t\tif (tapEvt) {\r\n\t\t\tlet\toptions = this.options,\r\n\t\t\t\tfallbackTolerance = options.fallbackTolerance,\r\n\t\t\t\tfallbackOffset = options.fallbackOffset,\r\n\t\t\t\ttouch = evt.touches ? evt.touches[0] : evt,\r\n\t\t\t\tghostMatrix = ghostEl && matrix(ghostEl, true),\r\n\t\t\t\tscaleX = ghostEl && ghostMatrix && ghostMatrix.a,\r\n\t\t\t\tscaleY = ghostEl && ghostMatrix && ghostMatrix.d,\r\n\t\t\t\trelativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\r\n\t\t\t\tdx = ((touch.clientX - tapEvt.clientX)\r\n\t\t\t\t\t\t+ fallbackOffset.x) / (scaleX || 1)\r\n\t\t\t\t\t\t+ (relativeScrollOffset ? (relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0]) : 0) / (scaleX || 1),\r\n\t\t\t\tdy = ((touch.clientY - tapEvt.clientY)\r\n\t\t\t\t\t\t+ fallbackOffset.y) / (scaleY || 1)\r\n\t\t\t\t\t\t+ (relativeScrollOffset ? (relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1]) : 0) / (scaleY || 1);\r\n\r\n\t\t\t// only set the status to dragging, when we are actually dragging\r\n\t\t\tif (!Sortable.active && !awaitingDragStarted) {\r\n\t\t\t\tif (fallbackTolerance &&\r\n\t\t\t\t\tMath.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis._onDragStart(evt, true);\r\n\t\t\t}\r\n\r\n\t\t\tif (ghostEl) {\r\n\t\t\t\tif (ghostMatrix) {\r\n\t\t\t\t\tghostMatrix.e += dx - (lastDx || 0);\r\n\t\t\t\t\tghostMatrix.f += dy - (lastDy || 0);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tghostMatrix = {\r\n\t\t\t\t\t\ta: 1,\r\n\t\t\t\t\t\tb: 0,\r\n\t\t\t\t\t\tc: 0,\r\n\t\t\t\t\t\td: 1,\r\n\t\t\t\t\t\te: dx,\r\n\t\t\t\t\t\tf: dy\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet cssMatrix = `matrix(${ghostMatrix.a},${ghostMatrix.b},${ghostMatrix.c},${ghostMatrix.d},${ghostMatrix.e},${ghostMatrix.f})`;\r\n\r\n\t\t\t\tcss(ghostEl, 'webkitTransform', cssMatrix);\r\n\t\t\t\tcss(ghostEl, 'mozTransform', cssMatrix);\r\n\t\t\t\tcss(ghostEl, 'msTransform', cssMatrix);\r\n\t\t\t\tcss(ghostEl, 'transform', cssMatrix);\r\n\r\n\t\t\t\tlastDx = dx;\r\n\t\t\t\tlastDy = dy;\r\n\r\n\t\t\t\ttouchEvt = touch;\r\n\t\t\t}\r\n\r\n\t\t\tevt.cancelable && evt.preventDefault();\r\n\t\t}\r\n\t},\r\n\r\n\t_appendGhost: function () {\r\n\t\t// Bug if using scale(): https://stackoverflow.com/questions/2637058\r\n\t\t// Not being adjusted for\r\n\t\tif (!ghostEl) {\r\n\t\t\tlet container = this.options.fallbackOnBody ? document.body : rootEl,\r\n\t\t\t\trect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\r\n\t\t\t\toptions = this.options;\r\n\r\n\t\t\t// Position absolutely\r\n\t\t\tif (PositionGhostAbsolutely) {\r\n\t\t\t\t// Get relatively positioned parent\r\n\t\t\t\tghostRelativeParent = container;\r\n\r\n\t\t\t\twhile (\r\n\t\t\t\t\tcss(ghostRelativeParent, 'position') === 'static' &&\r\n\t\t\t\t\tcss(ghostRelativeParent, 'transform') === 'none' &&\r\n\t\t\t\t\tghostRelativeParent !== document\r\n\t\t\t\t) {\r\n\t\t\t\t\tghostRelativeParent = ghostRelativeParent.parentNode;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\r\n\t\t\t\t\tif (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\r\n\r\n\t\t\t\t\trect.top += ghostRelativeParent.scrollTop;\r\n\t\t\t\t\trect.left += ghostRelativeParent.scrollLeft;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tghostRelativeParent = getWindowScrollingElement();\r\n\t\t\t\t}\r\n\t\t\t\tghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\r\n\t\t\t}\r\n\r\n\r\n\t\t\tghostEl = dragEl.cloneNode(true);\r\n\r\n\t\t\ttoggleClass(ghostEl, options.ghostClass, false);\r\n\t\t\ttoggleClass(ghostEl, options.fallbackClass, true);\r\n\t\t\ttoggleClass(ghostEl, options.dragClass, true);\r\n\r\n\t\t\tcss(ghostEl, 'transition', '');\r\n\t\t\tcss(ghostEl, 'transform', '');\r\n\r\n\t\t\tcss(ghostEl, 'box-sizing', 'border-box');\r\n\t\t\tcss(ghostEl, 'margin', 0);\r\n\t\t\tcss(ghostEl, 'top', rect.top);\r\n\t\t\tcss(ghostEl, 'left', rect.left);\r\n\t\t\tcss(ghostEl, 'width', rect.width);\r\n\t\t\tcss(ghostEl, 'height', rect.height);\r\n\t\t\tcss(ghostEl, 'opacity', '0.8');\r\n\t\t\tcss(ghostEl, 'position', (PositionGhostAbsolutely ? 'absolute' : 'fixed'));\r\n\t\t\tcss(ghostEl, 'zIndex', '100000');\r\n\t\t\tcss(ghostEl, 'pointerEvents', 'none');\r\n\r\n\r\n\t\t\tSortable.ghost = ghostEl;\r\n\r\n\t\t\tcontainer.appendChild(ghostEl);\r\n\r\n\t\t\t// Set transform-origin\r\n\t\t\tcss(ghostEl, 'transform-origin', (tapDistanceLeft / parseInt(ghostEl.style.width) * 100) + '% ' + (tapDistanceTop / parseInt(ghostEl.style.height) * 100) + '%');\r\n\t\t}\r\n\t},\r\n\r\n\t_onDragStart: function (/**Event*/evt, /**boolean*/fallback) {\r\n\t\tlet _this = this;\r\n\t\tlet dataTransfer = evt.dataTransfer;\r\n\t\tlet options = _this.options;\r\n\r\n\t\tpluginEvent('dragStart', this, { evt });\r\n\t\tif (Sortable.eventCanceled) {\r\n\t\t\tthis._onDrop();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tpluginEvent('setupClone', this);\r\n\t\tif (!Sortable.eventCanceled) {\r\n\t\t\tcloneEl = clone(dragEl);\r\n\t\t\tcloneEl.removeAttribute(\"id\");\r\n\t\t\tcloneEl.draggable = false;\r\n\t\t\tcloneEl.style['will-change'] = '';\r\n\r\n\t\t\tthis._hideClone();\r\n\r\n\t\t\ttoggleClass(cloneEl, this.options.chosenClass, false);\r\n\t\t\tSortable.clone = cloneEl;\r\n\t\t}\r\n\r\n\r\n\t\t// #1143: IFrame support workaround\r\n\t\t_this.cloneId = _nextTick(function() {\r\n\t\t\tpluginEvent('clone', _this);\r\n\t\t\tif (Sortable.eventCanceled) return;\r\n\r\n\t\t\tif (!_this.options.removeCloneOnHide) {\r\n\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\r\n\t\t\t}\r\n\t\t\t_this._hideClone();\r\n\r\n\t\t\t_dispatchEvent({\r\n\t\t\t\tsortable: _this,\r\n\t\t\t\tname: 'clone'\r\n\t\t\t});\r\n\t\t});\r\n\r\n\r\n\t\t!fallback && toggleClass(dragEl, options.dragClass, true);\r\n\r\n\t\t// Set proper drop events\r\n\t\tif (fallback) {\r\n\t\t\tignoreNextClick = true;\r\n\t\t\t_this._loopId = setInterval(_this._emulateDragOver, 50);\r\n\t\t} else {\r\n\t\t\t// Undo what was set in _prepareDragStart before drag started\r\n\t\t\toff(document, 'mouseup', _this._onDrop);\r\n\t\t\toff(document, 'touchend', _this._onDrop);\r\n\t\t\toff(document, 'touchcancel', _this._onDrop);\r\n\r\n\t\t\tif (dataTransfer) {\r\n\t\t\t\tdataTransfer.effectAllowed = 'move';\r\n\t\t\t\toptions.setData && options.setData.call(_this, dataTransfer, dragEl);\r\n\t\t\t}\r\n\r\n\t\t\ton(document, 'drop', _this);\r\n\r\n\t\t\t// #1276 fix:\r\n\t\t\tcss(dragEl, 'transform', 'translateZ(0)');\r\n\t\t}\r\n\r\n\t\tawaitingDragStarted = true;\r\n\r\n\t\t_this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\r\n\t\ton(document, 'selectstart', _this);\r\n\r\n\t\tmoved = true;\r\n\r\n\t\tif (Safari) {\r\n\t\t\tcss(document.body, 'user-select', 'none');\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t// Returns true - if no further action is needed (either inserted or another condition)\r\n\t_onDragOver: function (/**Event*/evt) {\r\n\t\tlet el = this.el,\r\n\t\t\ttarget = evt.target,\r\n\t\t\tdragRect,\r\n\t\t\ttargetRect,\r\n\t\t\trevert,\r\n\t\t\toptions = this.options,\r\n\t\t\tgroup = options.group,\r\n\t\t\tactiveSortable = Sortable.active,\r\n\t\t\tisOwner = (activeGroup === group),\r\n\t\t\tcanSort = options.sort,\r\n\t\t\tfromSortable = (putSortable || activeSortable),\r\n\t\t\tvertical,\r\n\t\t\t_this = this,\r\n\t\t\tcompletedFired = false;\r\n\r\n\t\tif (_silent) return;\r\n\r\n\t\tfunction dragOverEvent(name, extra) {\r\n\t\t\tpluginEvent(name, _this, {\r\n\t\t\t\tevt,\r\n\t\t\t\tisOwner,\r\n\t\t\t\taxis: vertical ? 'vertical' : 'horizontal',\r\n\t\t\t\trevert,\r\n\t\t\t\tdragRect,\r\n\t\t\t\ttargetRect,\r\n\t\t\t\tcanSort,\r\n\t\t\t\tfromSortable,\r\n\t\t\t\ttarget,\r\n\t\t\t\tcompleted,\r\n\t\t\t\tonMove(target, after) {\r\n\t\t\t\t\treturn onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\r\n\t\t\t\t},\r\n\t\t\t\tchanged,\r\n\t\t\t\t...extra\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// Capture animation state\r\n\t\tfunction capture() {\r\n\t\t\tdragOverEvent('dragOverAnimationCapture');\r\n\r\n\t\t\t_this.captureAnimationState();\r\n\t\t\tif (_this !== fromSortable) {\r\n\t\t\t\tfromSortable.captureAnimationState();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Return invocation when dragEl is inserted (or completed)\r\n\t\tfunction completed(insertion) {\r\n\t\t\tdragOverEvent('dragOverCompleted', { insertion });\r\n\r\n\t\t\tif (insertion) {\r\n\t\t\t\t// Clones must be hidden before folding animation to capture dragRectAbsolute properly\r\n\t\t\t\tif (isOwner) {\r\n\t\t\t\t\tactiveSortable._hideClone();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tactiveSortable._showClone(_this);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_this !== fromSortable) {\r\n\t\t\t\t\t// Set ghost class to new sortable's ghost class\r\n\t\t\t\t\ttoggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\r\n\t\t\t\t\ttoggleClass(dragEl, options.ghostClass, true);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (putSortable !== _this && _this !== Sortable.active) {\r\n\t\t\t\t\tputSortable = _this;\r\n\t\t\t\t} else if (_this === Sortable.active && putSortable) {\r\n\t\t\t\t\tputSortable = null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Animation\r\n\t\t\t\tif (fromSortable === _this) {\r\n\t\t\t\t\t_this._ignoreWhileAnimating = target;\r\n\t\t\t\t}\r\n\t\t\t\t_this.animateAll(function() {\r\n\t\t\t\t\tdragOverEvent('dragOverAnimationComplete');\r\n\t\t\t\t\t_this._ignoreWhileAnimating = null;\r\n\t\t\t\t});\r\n\t\t\t\tif (_this !== fromSortable) {\r\n\t\t\t\t\tfromSortable.animateAll();\r\n\t\t\t\t\tfromSortable._ignoreWhileAnimating = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t\t// Null lastTarget if it is not inside a previously swapped element\r\n\t\t\tif ((target === dragEl && !dragEl.animated) || (target === el && !target.animated)) {\r\n\t\t\t\tlastTarget = null;\r\n\t\t\t}\r\n\r\n\t\t\t// no bubbling and not fallback\r\n\t\t\tif (!options.dragoverBubble && !evt.rootEl && target !== document) {\r\n\t\t\t\tdragEl.parentNode[expando]._isOutsideThisEl(evt.target);\r\n\r\n\t\t\t\t// Do not detect for empty insert if already inserted\r\n\t\t\t\t!insertion && nearestEmptyInsertDetectEvent(evt);\r\n\t\t\t}\r\n\r\n\t\t\t!options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\r\n\r\n\t\t\treturn (completedFired = true);\r\n\t\t}\r\n\r\n\t\t// Call when dragEl has been inserted\r\n\t\tfunction changed() {\r\n\t\t\tnewIndex = index(dragEl);\r\n\t\t\tnewDraggableIndex = index(dragEl, options.draggable);\r\n\t\t\t_dispatchEvent({\r\n\t\t\t\tsortable: _this,\r\n\t\t\t\tname: 'change',\r\n\t\t\t\ttoEl: el,\r\n\t\t\t\tnewIndex,\r\n\t\t\t\tnewDraggableIndex,\r\n\t\t\t\toriginalEvent: evt\r\n\t\t\t});\r\n\t\t}\r\n\r\n\r\n\t\tif (evt.preventDefault !== void 0) {\r\n\t\t\tevt.cancelable && evt.preventDefault();\r\n\t\t}\r\n\r\n\r\n\t\ttarget = closest(target, options.draggable, el, true);\r\n\r\n\t\tdragOverEvent('dragOver');\r\n\t\tif (Sortable.eventCanceled) return completedFired;\r\n\r\n\t\tif (\r\n\t\t\tdragEl.contains(evt.target) ||\r\n\t\t\ttarget.animated && target.animatingX && target.animatingY ||\r\n\t\t\t_this._ignoreWhileAnimating === target\r\n\t\t) {\r\n\t\t\treturn completed(false);\r\n\t\t}\r\n\r\n\t\tignoreNextClick = false;\r\n\r\n\t\tif (activeSortable && !options.disabled &&\r\n\t\t\t(isOwner\r\n\t\t\t\t? canSort || (revert = parentEl !== rootEl) // Reverting item into the original list\r\n\t\t\t\t: (\r\n\t\t\t\t\tputSortable === this ||\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\t(this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) &&\r\n\t\t\t\t\t\tgroup.checkPut(this, activeSortable, dragEl, evt)\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\tvertical = this._getDirection(evt, target) === 'vertical';\r\n\r\n\t\t\tdragRect = getRect(dragEl);\r\n\r\n\t\t\tdragOverEvent('dragOverValid');\r\n\t\t\tif (Sortable.eventCanceled) return completedFired;\r\n\r\n\t\t\tif (revert) {\r\n\t\t\t\tparentEl = rootEl; // actualization\r\n\t\t\t\tcapture();\r\n\r\n\t\t\t\tthis._hideClone();\r\n\r\n\t\t\t\tdragOverEvent('revert');\r\n\r\n\t\t\t\tif (!Sortable.eventCanceled) {\r\n\t\t\t\t\tif (nextEl) {\r\n\t\t\t\t\t\trootEl.insertBefore(dragEl, nextEl);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\trootEl.appendChild(dragEl);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn completed(true);\r\n\t\t\t}\r\n\r\n\t\t\tlet elLastChild = lastChild(el, options.draggable);\r\n\r\n\t\t\tif (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\r\n\t\t\t\t// Insert to end of list\r\n\r\n\t\t\t\t// If already at end of list: Do not insert\r\n\t\t\t\tif (elLastChild === dragEl) {\r\n\t\t\t\t\treturn completed(false);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// if there is a last element, it is the target\r\n\t\t\t\tif (elLastChild && el === evt.target) {\r\n\t\t\t\t\ttarget = elLastChild;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (target) {\r\n\t\t\t\t\ttargetRect = getRect(target);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\r\n\t\t\t\t\tcapture();\r\n\t\t\t\t\tif (elLastChild && elLastChild.nextSibling) { // the last draggable element is not the last node\r\n\t\t\t\t\t\tel.insertBefore(dragEl, elLastChild.nextSibling);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tel.appendChild(dragEl);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparentEl = el; // actualization\r\n\r\n\t\t\t\t\tchanged();\r\n\t\t\t\t\treturn completed(true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (elLastChild && _ghostIsFirst(evt, vertical, this)) {\r\n\t\t\t\t// Insert to start of list\r\n\t\t\t\tlet firstChild = getChild(el, 0, options, true);\r\n\t\t\t\tif (firstChild === dragEl) {\r\n\t\t\t\t\treturn completed(false);\r\n\t\t\t\t}\r\n\t\t\t\ttarget = firstChild;\r\n\t\t\t\ttargetRect = getRect(target);\r\n\r\n\t\t\t\tif (onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, false) !== false) {\r\n\t\t\t\t\tcapture();\r\n\t\t\t\t\tel.insertBefore(dragEl, firstChild);\r\n\t\t\t\t\tparentEl = el; // actualization\r\n\r\n\t\t\t\t\tchanged();\r\n\t\t\t\t\treturn completed(true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (target.parentNode === el) {\r\n\t\t\t\ttargetRect = getRect(target);\r\n\t\t\t\tlet direction = 0,\r\n\t\t\t\t\ttargetBeforeFirstSwap,\r\n\t\t\t\t\tdifferentLevel = dragEl.parentNode !== el,\r\n\t\t\t\t\tdifferentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\r\n\t\t\t\t\tside1 = vertical ? 'top' : 'left',\r\n\t\t\t\t\tscrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\r\n\t\t\t\t\tscrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\r\n\r\n\r\n\t\t\t\tif (lastTarget !== target) {\r\n\t\t\t\t\ttargetBeforeFirstSwap = targetRect[side1];\r\n\t\t\t\t\tpastFirstInvertThresh = false;\r\n\t\t\t\t\tisCircumstantialInvert = (!differentRowCol && options.invertSwap) || differentLevel;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdirection = _getSwapDirection(\r\n\t\t\t\t\tevt, target, targetRect, vertical,\r\n\t\t\t\t\tdifferentRowCol ? 1 : options.swapThreshold,\r\n\t\t\t\t\toptions.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold,\r\n\t\t\t\t\tisCircumstantialInvert,\r\n\t\t\t\t\tlastTarget === target\r\n\t\t\t\t);\r\n\r\n\t\t\t\tlet sibling;\r\n\r\n\t\t\t\tif (direction !== 0) {\r\n\t\t\t\t\t// Check if target is beside dragEl in respective direction (ignoring hidden elements)\r\n\t\t\t\t\tlet dragIndex = index(dragEl);\r\n\r\n\t\t\t\t\tdo {\r\n\t\t\t\t\t\tdragIndex -= direction;\r\n\t\t\t\t\t\tsibling = parentEl.children[dragIndex];\r\n\t\t\t\t\t} while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\r\n\t\t\t\t}\r\n\t\t\t\t// If dragEl is already beside target: Do not insert\r\n\t\t\t\tif (\r\n\t\t\t\t\tdirection === 0 ||\r\n\t\t\t\t\tsibling === target\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn completed(false);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlastTarget = target;\r\n\r\n\t\t\t\tlastDirection = direction;\r\n\r\n\t\t\t\tlet nextSibling = target.nextElementSibling,\r\n\t\t\t\t\tafter = false;\r\n\r\n\t\t\t\tafter = direction === 1;\r\n\r\n\t\t\t\tlet moveVector = onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\r\n\r\n\t\t\t\tif (moveVector !== false) {\r\n\t\t\t\t\tif (moveVector === 1 || moveVector === -1) {\r\n\t\t\t\t\t\tafter = (moveVector === 1);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_silent = true;\r\n\t\t\t\t\tsetTimeout(_unsilent, 30);\r\n\r\n\t\t\t\t\tcapture();\r\n\r\n\t\t\t\t\tif (after && !nextSibling) {\r\n\t\t\t\t\t\tel.appendChild(dragEl);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttarget.parentNode.insertBefore(dragEl, after ? nextSibling : target);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Undo chrome's scroll adjustment (has no effect on other browsers)\r\n\t\t\t\t\tif (scrolledPastTop) {\r\n\t\t\t\t\t\tscrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tparentEl = dragEl.parentNode; // actualization\r\n\r\n\t\t\t\t\t// must be done before animation\r\n\t\t\t\t\tif (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\r\n\t\t\t\t\t\ttargetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tchanged();\r\n\r\n\t\t\t\t\treturn completed(true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (el.contains(dragEl)) {\r\n\t\t\t\treturn completed(false);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t},\r\n\r\n\t_ignoreWhileAnimating: null,\r\n\r\n\t_offMoveEvents: function() {\r\n\t\toff(document, 'mousemove', this._onTouchMove);\r\n\t\toff(document, 'touchmove', this._onTouchMove);\r\n\t\toff(document, 'pointermove', this._onTouchMove);\r\n\t\toff(document, 'dragover', nearestEmptyInsertDetectEvent);\r\n\t\toff(document, 'mousemove', nearestEmptyInsertDetectEvent);\r\n\t\toff(document, 'touchmove', nearestEmptyInsertDetectEvent);\r\n\t},\r\n\r\n\t_offUpEvents: function () {\r\n\t\tlet ownerDocument = this.el.ownerDocument;\r\n\r\n\t\toff(ownerDocument, 'mouseup', this._onDrop);\r\n\t\toff(ownerDocument, 'touchend', this._onDrop);\r\n\t\toff(ownerDocument, 'pointerup', this._onDrop);\r\n\t\toff(ownerDocument, 'touchcancel', this._onDrop);\r\n\t\toff(document, 'selectstart', this);\r\n\t},\r\n\r\n\t_onDrop: function (/**Event*/evt) {\r\n\t\tlet el = this.el,\r\n\t\t\toptions = this.options;\r\n\r\n\t\t// Get the index of the dragged element within its parent\r\n\t\tnewIndex = index(dragEl);\r\n\t\tnewDraggableIndex = index(dragEl, options.draggable);\r\n\r\n\t\tpluginEvent('drop', this, {\r\n\t\t\tevt\r\n\t\t});\r\n\r\n\t\tparentEl = dragEl && dragEl.parentNode;\r\n\r\n\t\t// Get again after plugin event\r\n\t\tnewIndex = index(dragEl);\r\n\t\tnewDraggableIndex = index(dragEl, options.draggable);\r\n\r\n\t\tif (Sortable.eventCanceled) {\r\n\t\t\tthis._nulling();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tawaitingDragStarted = false;\r\n\t\tisCircumstantialInvert = false;\r\n\t\tpastFirstInvertThresh = false;\r\n\r\n\t\tclearInterval(this._loopId);\r\n\r\n\t\tclearTimeout(this._dragStartTimer);\r\n\r\n\t\t_cancelNextTick(this.cloneId);\r\n\t\t_cancelNextTick(this._dragStartId);\r\n\r\n\t\t// Unbind events\r\n\t\tif (this.nativeDraggable) {\r\n\t\t\toff(document, 'drop', this);\r\n\t\t\toff(el, 'dragstart', this._onDragStart);\r\n\t\t}\r\n\t\tthis._offMoveEvents();\r\n\t\tthis._offUpEvents();\r\n\r\n\r\n\t\tif (Safari) {\r\n\t\t\tcss(document.body, 'user-select', '');\r\n\t\t}\r\n\r\n\t\tcss(dragEl, 'transform', '');\r\n\r\n\t\tif (evt) {\r\n\t\t\tif (moved) {\r\n\t\t\t\tevt.cancelable && evt.preventDefault();\r\n\t\t\t\t!options.dropBubble && evt.stopPropagation();\r\n\t\t\t}\r\n\r\n\t\t\tghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\r\n\r\n\t\t\tif (rootEl === parentEl || (putSortable && putSortable.lastPutMode !== 'clone')) {\r\n\t\t\t\t// Remove clone(s)\r\n\t\t\t\tcloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\r\n\t\t\t}\r\n\r\n\t\t\tif (dragEl) {\r\n\t\t\t\tif (this.nativeDraggable) {\r\n\t\t\t\t\toff(dragEl, 'dragend', this);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_disableDraggable(dragEl);\r\n\t\t\t\tdragEl.style['will-change'] = '';\r\n\r\n\t\t\t\t// Remove classes\r\n\t\t\t\t// ghostClass is added in dragStarted\r\n\t\t\t\tif (moved && !awaitingDragStarted) {\r\n\t\t\t\t\ttoggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\r\n\t\t\t\t}\r\n\t\t\t\ttoggleClass(dragEl, this.options.chosenClass, false);\r\n\r\n\t\t\t\t// Drag stop event\r\n\t\t\t\t_dispatchEvent({\r\n\t\t\t\t\tsortable: this,\r\n\t\t\t\t\tname: 'unchoose',\r\n\t\t\t\t\ttoEl: parentEl,\r\n\t\t\t\t\tnewIndex: null,\r\n\t\t\t\t\tnewDraggableIndex: null,\r\n\t\t\t\t\toriginalEvent: evt\r\n\t\t\t\t});\r\n\r\n\r\n\t\t\t\tif (rootEl !== parentEl) {\r\n\r\n\t\t\t\t\tif (newIndex >= 0) {\r\n\t\t\t\t\t\t// Add event\r\n\t\t\t\t\t\t_dispatchEvent({\r\n\t\t\t\t\t\t\trootEl: parentEl,\r\n\t\t\t\t\t\t\tname: 'add',\r\n\t\t\t\t\t\t\ttoEl: parentEl,\r\n\t\t\t\t\t\t\tfromEl: rootEl,\r\n\t\t\t\t\t\t\toriginalEvent: evt\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// Remove event\r\n\t\t\t\t\t\t_dispatchEvent({\r\n\t\t\t\t\t\t\tsortable: this,\r\n\t\t\t\t\t\t\tname: 'remove',\r\n\t\t\t\t\t\t\ttoEl: parentEl,\r\n\t\t\t\t\t\t\toriginalEvent: evt\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// drag from one list and drop into another\r\n\t\t\t\t\t\t_dispatchEvent({\r\n\t\t\t\t\t\t\trootEl: parentEl,\r\n\t\t\t\t\t\t\tname: 'sort',\r\n\t\t\t\t\t\t\ttoEl: parentEl,\r\n\t\t\t\t\t\t\tfromEl: rootEl,\r\n\t\t\t\t\t\t\toriginalEvent: evt\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t_dispatchEvent({\r\n\t\t\t\t\t\t\tsortable: this,\r\n\t\t\t\t\t\t\tname: 'sort',\r\n\t\t\t\t\t\t\ttoEl: parentEl,\r\n\t\t\t\t\t\t\toriginalEvent: evt\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tputSortable && putSortable.save();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (newIndex !== oldIndex) {\r\n\t\t\t\t\t\tif (newIndex >= 0) {\r\n\t\t\t\t\t\t\t// drag & drop within the same list\r\n\t\t\t\t\t\t\t_dispatchEvent({\r\n\t\t\t\t\t\t\t\tsortable: this,\r\n\t\t\t\t\t\t\t\tname: 'update',\r\n\t\t\t\t\t\t\t\ttoEl: parentEl,\r\n\t\t\t\t\t\t\t\toriginalEvent: evt\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t_dispatchEvent({\r\n\t\t\t\t\t\t\t\tsortable: this,\r\n\t\t\t\t\t\t\t\tname: 'sort',\r\n\t\t\t\t\t\t\t\ttoEl: parentEl,\r\n\t\t\t\t\t\t\t\toriginalEvent: evt\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (Sortable.active) {\r\n\t\t\t\t\t/* jshint eqnull:true */\r\n\t\t\t\t\tif (newIndex == null || newIndex === -1) {\r\n\t\t\t\t\t\tnewIndex = oldIndex;\r\n\t\t\t\t\t\tnewDraggableIndex = oldDraggableIndex;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_dispatchEvent({\r\n\t\t\t\t\t\tsortable: this,\r\n\t\t\t\t\t\tname: 'end',\r\n\t\t\t\t\t\ttoEl: parentEl,\r\n\t\t\t\t\t\toriginalEvent: evt\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// Save sorting\r\n\t\t\t\t\tthis.save();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tthis._nulling();\r\n\t},\r\n\r\n\t_nulling: function() {\r\n\t\tpluginEvent('nulling', this);\r\n\r\n\t\trootEl =\r\n\t\tdragEl =\r\n\t\tparentEl =\r\n\t\tghostEl =\r\n\t\tnextEl =\r\n\t\tcloneEl =\r\n\t\tlastDownEl =\r\n\t\tcloneHidden =\r\n\r\n\t\ttapEvt =\r\n\t\ttouchEvt =\r\n\r\n\t\tmoved =\r\n\t\tnewIndex =\r\n\t\tnewDraggableIndex =\r\n\t\toldIndex =\r\n\t\toldDraggableIndex =\r\n\r\n\t\tlastTarget =\r\n\t\tlastDirection =\r\n\r\n\t\tputSortable =\r\n\t\tactiveGroup =\r\n\t\tSortable.dragged =\r\n\t\tSortable.ghost =\r\n\t\tSortable.clone =\r\n\t\tSortable.active = null;\r\n\r\n\t\tsavedInputChecked.forEach(function (el) {\r\n\t\t\tel.checked = true;\r\n\t\t});\r\n\r\n\t\tsavedInputChecked.length =\r\n\t\tlastDx =\r\n\t\tlastDy = 0;\r\n\t},\r\n\r\n\thandleEvent: function (/**Event*/evt) {\r\n\t\tswitch (evt.type) {\r\n\t\t\tcase 'drop':\r\n\t\t\tcase 'dragend':\r\n\t\t\t\tthis._onDrop(evt);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'dragenter':\r\n\t\t\tcase 'dragover':\r\n\t\t\t\tif (dragEl) {\r\n\t\t\t\t\tthis._onDragOver(evt);\r\n\t\t\t\t\t_globalDragOver(evt);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'selectstart':\r\n\t\t\t\tevt.preventDefault();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * Serializes the item into an array of string.\r\n\t * @returns {String[]}\r\n\t */\r\n\ttoArray: function () {\r\n\t\tlet order = [],\r\n\t\t\tel,\r\n\t\t\tchildren = this.el.children,\r\n\t\t\ti = 0,\r\n\t\t\tn = children.length,\r\n\t\t\toptions = this.options;\r\n\r\n\t\tfor (; i < n; i++) {\r\n\t\t\tel = children[i];\r\n\t\t\tif (closest(el, options.draggable, this.el, false)) {\r\n\t\t\t\torder.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn order;\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * Sorts the elements according to the array.\r\n\t * @param  {String[]}  order  order of the items\r\n\t */\r\n\tsort: function (order, useAnimation) {\r\n\t\tlet items = {}, rootEl = this.el;\r\n\r\n\t\tthis.toArray().forEach(function (id, i) {\r\n\t\t\tlet el = rootEl.children[i];\r\n\r\n\t\t\tif (closest(el, this.options.draggable, rootEl, false)) {\r\n\t\t\t\titems[id] = el;\r\n\t\t\t}\r\n\t\t}, this);\r\n\r\n\t\tuseAnimation && this.captureAnimationState();\r\n\t\torder.forEach(function (id) {\r\n\t\t\tif (items[id]) {\r\n\t\t\t\trootEl.removeChild(items[id]);\r\n\t\t\t\trootEl.appendChild(items[id]);\r\n\t\t\t}\r\n\t\t});\r\n\t\tuseAnimation && this.animateAll();\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * Save the current sorting\r\n\t */\r\n\tsave: function () {\r\n\t\tlet store = this.options.store;\r\n\t\tstore && store.set && store.set(this);\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\r\n\t * @param   {HTMLElement}  el\r\n\t * @param   {String}       [selector]  default: `options.draggable`\r\n\t * @returns {HTMLElement|null}\r\n\t */\r\n\tclosest: function (el, selector) {\r\n\t\treturn closest(el, selector || this.options.draggable, this.el, false);\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * Set/get option\r\n\t * @param   {string} name\r\n\t * @param   {*}      [value]\r\n\t * @returns {*}\r\n\t */\r\n\toption: function (name, value) {\r\n\t\tlet options = this.options;\r\n\r\n\t\tif (value === void 0) {\r\n\t\t\treturn options[name];\r\n\t\t} else {\r\n\t\t\tlet modifiedValue = PluginManager.modifyOption(this, name, value);\r\n\t\t\tif (typeof modifiedValue !== 'undefined') {\r\n\t\t\t\toptions[name] = modifiedValue;\r\n\t\t\t} else {\r\n\t\t\t\toptions[name] = value;\r\n\t\t\t}\r\n\r\n\t\t\tif (name === 'group') {\r\n\t\t\t\t_prepareGroup(options);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * Destroy\r\n\t */\r\n\tdestroy: function () {\r\n\t\tpluginEvent('destroy', this);\r\n\t\tlet el = this.el;\r\n\r\n\t\tel[expando] = null;\r\n\r\n\t\toff(el, 'mousedown', this._onTapStart);\r\n\t\toff(el, 'touchstart', this._onTapStart);\r\n\t\toff(el, 'pointerdown', this._onTapStart);\r\n\r\n\t\tif (this.nativeDraggable) {\r\n\t\t\toff(el, 'dragover', this);\r\n\t\t\toff(el, 'dragenter', this);\r\n\t\t}\r\n\t\t// Remove draggable attributes\r\n\t\tArray.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\r\n\t\t\tel.removeAttribute('draggable');\r\n\t\t});\r\n\r\n\t\tthis._onDrop();\r\n\r\n\t\tthis._disableDelayedDragEvents();\r\n\r\n\t\tsortables.splice(sortables.indexOf(this.el), 1);\r\n\r\n\t\tthis.el = el = null;\r\n\t},\r\n\r\n\t_hideClone: function() {\r\n\t\tif (!cloneHidden) {\r\n\t\t\tpluginEvent('hideClone', this);\r\n\t\t\tif (Sortable.eventCanceled) return;\r\n\r\n\r\n\t\t\tcss(cloneEl, 'display', 'none');\r\n\t\t\tif (this.options.removeCloneOnHide && cloneEl.parentNode) {\r\n\t\t\t\tcloneEl.parentNode.removeChild(cloneEl);\r\n\t\t\t}\r\n\t\t\tcloneHidden = true;\r\n\t\t}\r\n\t},\r\n\r\n\t_showClone: function(putSortable) {\r\n\t\tif (putSortable.lastPutMode !== 'clone') {\r\n\t\t\tthis._hideClone();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\r\n\t\tif (cloneHidden) {\r\n\t\t\tpluginEvent('showClone', this);\r\n\t\t\tif (Sortable.eventCanceled) return;\r\n\r\n\t\t\t// show clone at dragEl or original position\r\n\t\t\tif (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\r\n\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\r\n\t\t\t} else if (nextEl) {\r\n\t\t\t\trootEl.insertBefore(cloneEl, nextEl);\r\n\t\t\t} else {\r\n\t\t\t\trootEl.appendChild(cloneEl);\r\n\t\t\t}\r\n\r\n\t\t\tif (this.options.group.revertClone) {\r\n\t\t\t\tthis.animate(dragEl, cloneEl);\r\n\t\t\t}\r\n\r\n\t\t\tcss(cloneEl, 'display', '');\r\n\t\t\tcloneHidden = false;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nfunction _globalDragOver(/**Event*/evt) {\r\n\tif (evt.dataTransfer) {\r\n\t\tevt.dataTransfer.dropEffect = 'move';\r\n\t}\r\n\tevt.cancelable && evt.preventDefault();\r\n}\r\n\r\nfunction onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\r\n\tlet evt,\r\n\t\tsortable = fromEl[expando],\r\n\t\tonMoveFn = sortable.options.onMove,\r\n\t\tretVal;\r\n\t// Support for new CustomEvent feature\r\n\tif (window.CustomEvent && !IE11OrLess && !Edge) {\r\n\t\tevt = new CustomEvent('move', {\r\n\t\t\tbubbles: true,\r\n\t\t\tcancelable: true\r\n\t\t});\r\n\t} else {\r\n\t\tevt = document.createEvent('Event');\r\n\t\tevt.initEvent('move', true, true);\r\n\t}\r\n\r\n\tevt.to = toEl;\r\n\tevt.from = fromEl;\r\n\tevt.dragged = dragEl;\r\n\tevt.draggedRect = dragRect;\r\n\tevt.related = targetEl || toEl;\r\n\tevt.relatedRect = targetRect || getRect(toEl);\r\n\tevt.willInsertAfter = willInsertAfter;\r\n\r\n\tevt.originalEvent = originalEvent;\r\n\r\n\tfromEl.dispatchEvent(evt);\r\n\r\n\tif (onMoveFn) {\r\n\t\tretVal = onMoveFn.call(sortable, evt, originalEvent);\r\n\t}\r\n\r\n\treturn retVal;\r\n}\r\n\r\nfunction _disableDraggable(el) {\r\n\tel.draggable = false;\r\n}\r\n\r\nfunction _unsilent() {\r\n\t_silent = false;\r\n}\r\n\r\nfunction _ghostIsFirst(evt, vertical, sortable) {\r\n\tlet firstElRect = getRect(getChild(sortable.el, 0, sortable.options, true));\r\n\tconst childContainingRect = getChildContainingRectFromElement(sortable.el, sortable.options, ghostEl);\r\n\tconst spacer = 10;\r\n\r\n\treturn vertical ?\r\n\t\t(evt.clientX < childContainingRect.left - spacer || evt.clientY < firstElRect.top && evt.clientX < firstElRect.right) :\r\n\t\t(evt.clientY < childContainingRect.top - spacer || evt.clientY < firstElRect.bottom && evt.clientX < firstElRect.left)\r\n}\r\n\r\nfunction _ghostIsLast(evt, vertical, sortable) {\r\n\tconst lastElRect = getRect(lastChild(sortable.el, sortable.options.draggable));\r\n\tconst childContainingRect = getChildContainingRectFromElement(sortable.el, sortable.options, ghostEl);\r\n\tconst spacer = 10;\r\n\r\n\treturn vertical ?\r\n\t\t(evt.clientX > childContainingRect.right + spacer || evt.clientY > lastElRect.bottom && evt.clientX > lastElRect.left) :\r\n\t\t(evt.clientY > childContainingRect.bottom + spacer || evt.clientX > lastElRect.right && evt.clientY > lastElRect.top);\r\n}\r\n\r\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\r\n\tlet mouseOnAxis = vertical ? evt.clientY : evt.clientX,\r\n\t\ttargetLength = vertical ? targetRect.height : targetRect.width,\r\n\t\ttargetS1 = vertical ? targetRect.top : targetRect.left,\r\n\t\ttargetS2 = vertical ? targetRect.bottom : targetRect.right,\r\n\t\tinvert = false;\r\n\r\n\r\n\tif (!invertSwap) {\r\n\t\t// Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\r\n\t\tif (isLastTarget && targetMoveDistance < targetLength * swapThreshold) { // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\r\n\t\t\t// check if past first invert threshold on side opposite of lastDirection\r\n\t\t\tif (!pastFirstInvertThresh &&\r\n\t\t\t\t(lastDirection === 1 ?\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\tmouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2\r\n\t\t\t\t\t) :\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\tmouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t\t{\r\n\t\t\t\t// past first invert threshold, do not restrict inverted threshold to dragEl shadow\r\n\t\t\t\tpastFirstInvertThresh = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (!pastFirstInvertThresh) {\r\n\t\t\t\t// dragEl shadow (target move distance shadow)\r\n\t\t\t\tif (\r\n\t\t\t\t\tlastDirection === 1 ?\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\tmouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\r\n\t\t\t\t\t) :\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\tmouseOnAxis > targetS2 - targetMoveDistance\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn -lastDirection;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tinvert = true;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// Regular\r\n\t\t\tif (\r\n\t\t\t\tmouseOnAxis > targetS1 + (targetLength * (1 - swapThreshold) / 2) &&\r\n\t\t\t\tmouseOnAxis < targetS2 - (targetLength * (1 - swapThreshold) / 2)\r\n\t\t\t) {\r\n\t\t\t\treturn _getInsertDirection(target);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tinvert = invert || invertSwap;\r\n\r\n\tif (invert) {\r\n\t\t// Invert of regular\r\n\t\tif (\r\n\t\t\tmouseOnAxis < targetS1 + (targetLength * invertedSwapThreshold / 2) ||\r\n\t\t\tmouseOnAxis > targetS2 - (targetLength * invertedSwapThreshold / 2)\r\n\t\t)\r\n\t\t{\r\n\t\t\treturn ((mouseOnAxis > targetS1 + targetLength / 2) ? 1 : -1);\r\n\t\t}\r\n\t}\r\n\r\n\treturn 0;\r\n}\r\n\r\n/**\r\n * Gets the direction dragEl must be swapped relative to target in order to make it\r\n * seem that dragEl has been \"inserted\" into that element's position\r\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\r\n * @return {Number}                   Direction dragEl must be swapped\r\n */\r\nfunction _getInsertDirection(target) {\r\n\tif (index(dragEl) < index(target)) {\r\n\t\treturn 1;\r\n\t} else {\r\n\t\treturn -1;\r\n\t}\r\n}\r\n\r\n\r\n/**\r\n * Generate id\r\n * @param   {HTMLElement} el\r\n * @returns {String}\r\n * @private\r\n */\r\nfunction _generateId(el) {\r\n\tlet str = el.tagName + el.className + el.src + el.href + el.textContent,\r\n\t\ti = str.length,\r\n\t\tsum = 0;\r\n\r\n\twhile (i--) {\r\n\t\tsum += str.charCodeAt(i);\r\n\t}\r\n\r\n\treturn sum.toString(36);\r\n}\r\n\r\nfunction _saveInputCheckedState(root) {\r\n\tsavedInputChecked.length = 0;\r\n\r\n\tlet inputs = root.getElementsByTagName('input');\r\n\tlet idx = inputs.length;\r\n\r\n\twhile (idx--) {\r\n\t\tlet el = inputs[idx];\r\n\t\tel.checked && savedInputChecked.push(el);\r\n\t}\r\n}\r\n\r\nfunction _nextTick(fn) {\r\n\treturn setTimeout(fn, 0);\r\n}\r\n\r\nfunction _cancelNextTick(id) {\r\n\treturn clearTimeout(id);\r\n}\r\n\r\n// Fixed #973:\r\nif (documentExists) {\r\n\ton(document, 'touchmove', function(evt) {\r\n\t\tif ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\r\n\t\t\tevt.preventDefault();\r\n\t\t}\r\n\t});\r\n}\r\n\r\n\r\n// Export utils\r\nSortable.utils = {\r\n\ton,\r\n\toff,\r\n\tcss,\r\n\tfind,\r\n\tis: function (el, selector) {\r\n\t\treturn !!closest(el, selector, el, false);\r\n\t},\r\n\textend,\r\n\tthrottle,\r\n\tclosest,\r\n\ttoggleClass,\r\n\tclone,\r\n\tindex,\r\n\tnextTick: _nextTick,\r\n\tcancelNextTick: _cancelNextTick,\r\n\tdetectDirection: _detectDirection,\r\n\tgetChild,\r\n\texpando\r\n};\r\n\r\n\r\n/**\r\n * Get the Sortable instance of an element\r\n * @param  {HTMLElement} element The element\r\n * @return {Sortable|undefined}         The instance of Sortable\r\n */\r\nSortable.get = function(element) {\r\n\treturn element[expando];\r\n};\r\n\r\n/**\r\n * Mount a plugin to Sortable\r\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\r\n */\r\nSortable.mount = function(...plugins) {\r\n\tif (plugins[0].constructor === Array) plugins = plugins[0];\r\n\r\n\tplugins.forEach((plugin) => {\r\n\t\tif (!plugin.prototype || !plugin.prototype.constructor) {\r\n\t\t\tthrow `Sortable: Mounted plugin must be a constructor function, not ${ {}.toString.call(plugin) }`;\r\n\t\t}\r\n\t\tif (plugin.utils) Sortable.utils = { ...Sortable.utils, ...plugin.utils };\r\n\r\n\t\tPluginManager.mount(plugin);\r\n\t});\r\n};\r\n\r\n\r\n\r\n/**\r\n * Create sortable instance\r\n * @param {HTMLElement}  el\r\n * @param {Object}      [options]\r\n */\r\nSortable.create = function (el, options) {\r\n\treturn new Sortable(el, options);\r\n};\r\n\r\n\r\n// Export\r\nSortable.version = version;\r\n\r\n\r\nexport default Sortable;\r\n","import { IE11OrLess } from './BrowserInfo.js';\r\nimport Sortable from './Sortable.js';\r\n\r\nconst captureMode = {\r\n\tcapture: false,\r\n\tpassive: false\r\n};\r\n\r\nfunction on(el, event, fn) {\r\n\tel.addEventListener(event, fn, !IE11OrLess && captureMode);\r\n}\r\n\r\n\r\nfunction off(el, event, fn) {\r\n\tel.removeEventListener(event, fn, !IE11OrLess && captureMode);\r\n}\r\n\r\nfunction matches(/**HTMLElement*/el, /**String*/selector) {\r\n\tif (!selector) return;\r\n\r\n\tselector[0] === '>' && (selector = selector.substring(1));\r\n\r\n\tif (el) {\r\n\t\ttry {\r\n\t\t\tif (el.matches) {\r\n\t\t\t\treturn el.matches(selector);\r\n\t\t\t} else if (el.msMatchesSelector) {\r\n\t\t\t\treturn el.msMatchesSelector(selector);\r\n\t\t\t} else if (el.webkitMatchesSelector) {\r\n\t\t\t\treturn el.webkitMatchesSelector(selector);\r\n\t\t\t}\r\n\t\t} catch(_) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\treturn false;\r\n}\r\n\r\nfunction getParentOrHost(el) {\r\n\treturn (el.host && el !== document && el.host.nodeType)\r\n\t\t? el.host\r\n\t\t: el.parentNode;\r\n}\r\n\r\nfunction closest(/**HTMLElement*/el, /**String*/selector, /**HTMLElement*/ctx, includeCTX) {\r\n\tif (el) {\r\n\t\tctx = ctx || document;\r\n\r\n\t\tdo {\r\n\t\t\tif (\r\n\t\t\t\tselector != null &&\r\n\t\t\t\t(\r\n\t\t\t\t\tselector[0] === '>' ?\r\n\t\t\t\t\tel.parentNode === ctx && matches(el, selector) :\r\n\t\t\t\t\tmatches(el, selector)\r\n\t\t\t\t) ||\r\n\t\t\t\tincludeCTX && el === ctx\r\n\t\t\t) {\r\n\t\t\t\treturn el;\r\n\t\t\t}\r\n\r\n\t\t\tif (el === ctx) break;\r\n\t\t\t/* jshint boss:true */\r\n\t\t} while (el = getParentOrHost(el));\r\n\t}\r\n\r\n\treturn null;\r\n}\r\n\r\nconst R_SPACE = /\\s+/g;\r\n\r\nfunction toggleClass(el, name, state) {\r\n\tif (el && name) {\r\n\t\tif (el.classList) {\r\n\t\t\tel.classList[state ? 'add' : 'remove'](name);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlet className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\r\n\t\t\tel.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nfunction css(el, prop, val) {\r\n\tlet style = el && el.style;\r\n\r\n\tif (style) {\r\n\t\tif (val === void 0) {\r\n\t\t\tif (document.defaultView && document.defaultView.getComputedStyle) {\r\n\t\t\t\tval = document.defaultView.getComputedStyle(el, '');\r\n\t\t\t}\r\n\t\t\telse if (el.currentStyle) {\r\n\t\t\t\tval = el.currentStyle;\r\n\t\t\t}\r\n\r\n\t\t\treturn prop === void 0 ? val : val[prop];\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (!(prop in style) && prop.indexOf('webkit') === -1) {\r\n\t\t\t\tprop = '-webkit-' + prop;\r\n\t\t\t}\r\n\r\n\t\t\tstyle[prop] = val + (typeof val === 'string' ? '' : 'px');\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction matrix(el, selfOnly) {\r\n\tlet appliedTransforms = '';\r\n\tif (typeof(el) === 'string') {\r\n\t\tappliedTransforms = el;\r\n\t} else {\r\n\t\tdo {\r\n\t\t\tlet transform = css(el, 'transform');\r\n\r\n\t\t\tif (transform && transform !== 'none') {\r\n\t\t\t\tappliedTransforms = transform + ' ' + appliedTransforms;\r\n\t\t\t}\r\n\t\t\t/* jshint boss:true */\r\n\t\t} while (!selfOnly && (el = el.parentNode));\r\n\t}\r\n\r\n\tconst matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\r\n\t/*jshint -W056 */\r\n\treturn matrixFn && (new matrixFn(appliedTransforms));\r\n}\r\n\r\n\r\nfunction find(ctx, tagName, iterator) {\r\n\tif (ctx) {\r\n\t\tlet list = ctx.getElementsByTagName(tagName), i = 0, n = list.length;\r\n\r\n\t\tif (iterator) {\r\n\t\t\tfor (; i < n; i++) {\r\n\t\t\t\titerator(list[i], i);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn list;\r\n\t}\r\n\r\n\treturn [];\r\n}\r\n\r\n\r\n\r\nfunction getWindowScrollingElement() {\r\n\tlet scrollingElement = document.scrollingElement;\r\n\r\n\tif (scrollingElement) {\r\n\t\treturn scrollingElement\r\n\t} else {\r\n\t\treturn document.documentElement\r\n\t}\r\n}\r\n\r\n\r\n/**\r\n * Returns the \"bounding client rect\" of given element\r\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\r\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\r\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\r\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\r\n * @param  {[HTMLElement]} container              The parent the element will be placed in\r\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\r\n */\r\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\r\n\tif (!el.getBoundingClientRect && el !== window) return;\r\n\r\n\tlet elRect,\r\n\t\ttop,\r\n\t\tleft,\r\n\t\tbottom,\r\n\t\tright,\r\n\t\theight,\r\n\t\twidth;\r\n\r\n\tif (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\r\n\t\telRect = el.getBoundingClientRect();\r\n\t\ttop = elRect.top;\r\n\t\tleft = elRect.left;\r\n\t\tbottom = elRect.bottom;\r\n\t\tright = elRect.right;\r\n\t\theight = elRect.height;\r\n\t\twidth = elRect.width;\r\n\t} else {\r\n\t\ttop = 0;\r\n\t\tleft = 0;\r\n\t\tbottom = window.innerHeight;\r\n\t\tright = window.innerWidth;\r\n\t\theight = window.innerHeight;\r\n\t\twidth = window.innerWidth;\r\n\t}\r\n\r\n\tif ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\r\n\t\t// Adjust for translate()\r\n\t\tcontainer = container || el.parentNode;\r\n\r\n\t\t// solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\r\n\t\t// Not needed on <= IE11\r\n\t\tif (!IE11OrLess) {\r\n\t\t\tdo {\r\n\t\t\t\tif (\r\n\t\t\t\t\tcontainer &&\r\n\t\t\t\t\tcontainer.getBoundingClientRect &&\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\tcss(container, 'transform') !== 'none' ||\r\n\t\t\t\t\t\trelativeToNonStaticParent &&\r\n\t\t\t\t\t\tcss(container, 'position') !== 'static'\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\tlet containerRect = container.getBoundingClientRect();\r\n\r\n\t\t\t\t\t// Set relative to edges of padding box of container\r\n\t\t\t\t\ttop -= containerRect.top + parseInt(css(container, 'border-top-width'));\r\n\t\t\t\t\tleft -= containerRect.left + parseInt(css(container, 'border-left-width'));\r\n\t\t\t\t\tbottom = top + elRect.height;\r\n\t\t\t\t\tright = left + elRect.width;\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t/* jshint boss:true */\r\n\t\t\t} while (container = container.parentNode);\r\n\t\t}\r\n\t}\r\n\r\n\tif (undoScale && el !== window) {\r\n\t\t// Adjust for scale()\r\n\t\tlet elMatrix = matrix(container || el),\r\n\t\t\tscaleX = elMatrix && elMatrix.a,\r\n\t\t\tscaleY = elMatrix && elMatrix.d;\r\n\r\n\t\tif (elMatrix) {\r\n\t\t\ttop /= scaleY;\r\n\t\t\tleft /= scaleX;\r\n\r\n\t\t\twidth /= scaleX;\r\n\t\t\theight /= scaleY;\r\n\r\n\t\t\tbottom = top + height;\r\n\t\t\tright = left + width;\r\n\t\t}\r\n\t}\r\n\r\n\treturn {\r\n\t\ttop: top,\r\n\t\tleft: left,\r\n\t\tbottom: bottom,\r\n\t\tright: right,\r\n\t\twidth: width,\r\n\t\theight: height\r\n\t};\r\n}\r\n\r\n/**\r\n * Returns the content rect of the element (bounding rect minus border and padding)\r\n * @param {HTMLElement} el \r\n */\r\nfunction getContentRect(el) {\r\n\tlet rect = getRect(el);\r\n\tconst paddingLeft = parseInt(css(el, 'padding-left')),\r\n\t\tpaddingTop = parseInt(css(el, 'padding-top')),\r\n\t\tpaddingRight = parseInt(css(el, 'padding-right')),\r\n\t\tpaddingBottom = parseInt(css(el, 'padding-bottom'));\r\n\trect.top += paddingTop + parseInt(css(el, 'border-top-width'));\r\n\trect.left += paddingLeft + parseInt(css(el, 'border-left-width'));\r\n\t// Client Width/Height includes padding only\r\n\trect.width = el.clientWidth - paddingLeft - paddingRight;\r\n\trect.height = el.clientHeight - paddingTop - paddingBottom;\r\n\trect.bottom = rect.top + rect.height;\r\n\trect.right = rect.left + rect.width;\r\n\treturn rect;\r\n}\r\n\r\n/**\r\n * Checks if a side of an element is scrolled past a side of its parents\r\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\r\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\r\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\r\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\r\n */\r\nfunction isScrolledPast(el, elSide, parentSide) {\r\n\tlet parent = getParentAutoScrollElement(el, true),\r\n\t\telSideVal = getRect(el)[elSide];\r\n\r\n\t/* jshint boss:true */\r\n\twhile (parent) {\r\n\t\tlet parentSideVal = getRect(parent)[parentSide],\r\n\t\t\tvisible;\r\n\r\n\t\tif (parentSide === 'top' || parentSide === 'left') {\r\n\t\t\tvisible = elSideVal >= parentSideVal;\r\n\t\t} else {\r\n\t\t\tvisible = elSideVal <= parentSideVal;\r\n\t\t}\r\n\r\n\t\tif (!visible) return parent;\r\n\r\n\t\tif (parent === getWindowScrollingElement()) break;\r\n\r\n\t\tparent = getParentAutoScrollElement(parent, false);\r\n\t}\r\n\r\n\treturn false;\r\n}\r\n\r\n\r\n\r\n/**\r\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\r\n * and non-draggable elements\r\n * @param  {HTMLElement} el       The parent element\r\n * @param  {Number} childNum      The index of the child\r\n * @param  {Object} options       Parent Sortable's options\r\n * @return {HTMLElement}          The child at index childNum, or null if not found\r\n */\r\nfunction getChild(el, childNum, options, includeDragEl) {\r\n\tlet currentChild = 0,\r\n\t\ti = 0,\r\n\t\tchildren = el.children;\r\n\r\n\twhile (i < children.length) {\r\n\t\tif (\r\n\t\t\tchildren[i].style.display !== 'none' &&\r\n\t\t\tchildren[i] !== Sortable.ghost &&\r\n\t\t\t(includeDragEl || children[i] !== Sortable.dragged) &&\r\n\t\t\tclosest(children[i], options.draggable, el, false)\r\n\t\t) {\r\n\t\t\tif (currentChild === childNum) {\r\n\t\t\t\treturn children[i];\r\n\t\t\t}\r\n\t\t\tcurrentChild++;\r\n\t\t}\r\n\r\n\t\ti++;\r\n\t}\r\n\treturn null;\r\n}\r\n\r\n/**\r\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\r\n * @param  {HTMLElement} el       Parent element\r\n * @param  {selector} selector    Any other elements that should be ignored\r\n * @return {HTMLElement}          The last child, ignoring ghostEl\r\n */\r\nfunction lastChild(el, selector) {\r\n\tlet last = el.lastElementChild;\r\n\r\n\twhile (\r\n\t\tlast &&\r\n\t\t(\r\n\t\t\tlast === Sortable.ghost ||\r\n\t\t\tcss(last, 'display') === 'none' ||\r\n\t\t\tselector && !matches(last, selector)\r\n\t\t)\r\n\t) {\r\n\t\tlast = last.previousElementSibling;\r\n\t}\r\n\r\n\treturn last || null;\r\n}\r\n\r\n\r\n/**\r\n * Returns the index of an element within its parent for a selected set of\r\n * elements\r\n * @param  {HTMLElement} el\r\n * @param  {selector} selector\r\n * @return {number}\r\n */\r\nfunction index(el, selector) {\r\n\tlet index = 0;\r\n\r\n\tif (!el || !el.parentNode) {\r\n\t\treturn -1;\r\n\t}\r\n\r\n\t/* jshint boss:true */\r\n\twhile (el = el.previousElementSibling) {\r\n\t\tif ((el.nodeName.toUpperCase() !== 'TEMPLATE') && el !== Sortable.clone && (!selector || matches(el, selector))) {\r\n\t\t\tindex++;\r\n\t\t}\r\n\t}\r\n\r\n\treturn index;\r\n}\r\n\r\n/**\r\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\r\n * The value is returned in real pixels.\r\n * @param  {HTMLElement} el\r\n * @return {Array}             Offsets in the format of [left, top]\r\n */\r\nfunction getRelativeScrollOffset(el) {\r\n\tlet offsetLeft = 0,\r\n\t\toffsetTop = 0,\r\n\t\twinScroller = getWindowScrollingElement();\r\n\r\n\tif (el) {\r\n\t\tdo {\r\n\t\t\tlet elMatrix = matrix(el),\r\n\t\t\t\tscaleX = elMatrix.a,\r\n\t\t\t\tscaleY = elMatrix.d;\r\n\r\n\t\t\toffsetLeft += el.scrollLeft * scaleX;\r\n\t\t\toffsetTop += el.scrollTop * scaleY;\r\n\t\t} while (el !== winScroller && (el = el.parentNode));\r\n\t}\r\n\r\n\treturn [offsetLeft, offsetTop];\r\n}\r\n\r\n/**\r\n * Returns the index of the object within the given array\r\n * @param  {Array} arr   Array that may or may not hold the object\r\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\r\n * @return {Number}      The index of the object in the array, or -1\r\n */\r\nfunction indexOfObject(arr, obj) {\r\n\tfor (let i in arr) {\r\n\t\tif (!arr.hasOwnProperty(i)) continue;\r\n\t\tfor (let key in obj) {\r\n\t\t\tif (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\r\n\t\t}\r\n\t}\r\n\treturn -1;\r\n}\r\n\r\n\r\nfunction getParentAutoScrollElement(el, includeSelf) {\r\n\t// skip to window\r\n\tif (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\r\n\r\n\tlet elem = el;\r\n\tlet gotSelf = false;\r\n\tdo {\r\n\t\t// we don't need to get elem css if it isn't even overflowing in the first place (performance)\r\n\t\tif (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\r\n\t\t\tlet elemCSS = css(elem);\r\n\t\t\tif (\r\n\t\t\t\telem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') ||\r\n\t\t\t\telem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')\r\n\t\t\t) {\r\n\t\t\t\tif (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\r\n\r\n\t\t\t\tif (gotSelf || includeSelf) return elem;\r\n\t\t\t\tgotSelf = true;\r\n\t\t\t}\r\n\t\t}\r\n\t/* jshint boss:true */\r\n\t} while (elem = elem.parentNode);\r\n\r\n\treturn getWindowScrollingElement();\r\n}\r\n\r\nfunction extend(dst, src) {\r\n\tif (dst && src) {\r\n\t\tfor (let key in src) {\r\n\t\t\tif (src.hasOwnProperty(key)) {\r\n\t\t\t\tdst[key] = src[key];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn dst;\r\n}\r\n\r\n\r\nfunction isRectEqual(rect1, rect2) {\r\n\treturn Math.round(rect1.top) === Math.round(rect2.top) &&\r\n\t\tMath.round(rect1.left) === Math.round(rect2.left) &&\r\n\t\tMath.round(rect1.height) === Math.round(rect2.height) &&\r\n\t\tMath.round(rect1.width) === Math.round(rect2.width);\r\n}\r\n\r\n\r\nlet _throttleTimeout;\r\nfunction throttle(callback, ms) {\r\n\treturn function () {\r\n\t\tif (!_throttleTimeout) {\r\n\t\t\tlet args = arguments,\r\n\t\t\t\t_this = this;\r\n\r\n\t\t\tif (args.length === 1) {\r\n\t\t\t\tcallback.call(_this, args[0]);\r\n\t\t\t} else {\r\n\t\t\t\tcallback.apply(_this, args);\r\n\t\t\t}\r\n\r\n\t\t\t_throttleTimeout = setTimeout(function () {\r\n\t\t\t\t_throttleTimeout = void 0;\r\n\t\t\t}, ms);\r\n\t\t}\r\n\t};\r\n}\r\n\r\n\r\nfunction cancelThrottle() {\r\n\tclearTimeout(_throttleTimeout);\r\n\t_throttleTimeout = void 0;\r\n}\r\n\r\n\r\nfunction scrollBy(el, x, y) {\r\n\tel.scrollLeft += x;\r\n\tel.scrollTop += y;\r\n}\r\n\r\n\r\nfunction clone(el) {\r\n\tlet Polymer = window.Polymer;\r\n\tlet $ = window.jQuery || window.Zepto;\r\n\r\n\tif (Polymer && Polymer.dom) {\r\n\t\treturn Polymer.dom(el).cloneNode(true);\r\n\t}\r\n\telse if ($) {\r\n\t\treturn $(el).clone(true)[0];\r\n\t}\r\n\telse {\r\n\t\treturn el.cloneNode(true);\r\n\t}\r\n}\r\n\r\n\r\nfunction setRect(el, rect) {\r\n\tcss(el, 'position', 'absolute');\r\n\tcss(el, 'top', rect.top);\r\n\tcss(el, 'left', rect.left);\r\n\tcss(el, 'width', rect.width);\r\n\tcss(el, 'height', rect.height);\r\n}\r\n\r\nfunction unsetRect(el) {\r\n\tcss(el, 'position', '');\r\n\tcss(el, 'top', '');\r\n\tcss(el, 'left', '');\r\n\tcss(el, 'width', '');\r\n\tcss(el, 'height', '');\r\n}\r\n\r\nfunction getChildContainingRectFromElement(container, options, ghostEl) {\r\n    const rect = {};\r\n\r\n\tArray.from(container.children).forEach(child => {\r\n\t\tif (!closest(child, options.draggable, container, false) || child.animated || child === ghostEl) return;\r\n\t\tconst childRect = getRect(child);\r\n\t\trect.left = Math.min(rect.left ?? Infinity, childRect.left);\r\n\t\trect.top = Math.min(rect.top ?? Infinity, childRect.top);\r\n\t\trect.right = Math.max(rect.right ?? -Infinity, childRect.right);\r\n\t\trect.bottom = Math.max(rect.bottom ?? -Infinity, childRect.bottom);\r\n\t});\r\n\trect.width = rect.right - rect.left;\r\n\trect.height = rect.bottom - rect.top;\r\n\trect.x = rect.left;\r\n\trect.y = rect.top;\r\n    return rect;\r\n}\r\n\r\nconst expando = 'Sortable' + (new Date).getTime();\r\n\r\n\r\nexport {\r\n\ton,\r\n\toff,\r\n\tmatches,\r\n\tgetParentOrHost,\r\n\tclosest,\r\n\ttoggleClass,\r\n\tcss,\r\n\tmatrix,\r\n\tfind,\r\n\tgetWindowScrollingElement,\r\n\tgetRect,\r\n\tisScrolledPast,\r\n\tgetChild,\r\n\tlastChild,\r\n\tindex,\r\n\tgetRelativeScrollOffset,\r\n\tindexOfObject,\r\n\tgetParentAutoScrollElement,\r\n\textend,\r\n\tisRectEqual,\r\n\tthrottle,\r\n\tcancelThrottle,\r\n\tscrollBy,\r\n\tclone,\r\n\tsetRect,\r\n\tunsetRect,\r\n\tgetContentRect,\r\n\tgetChildContainingRectFromElement,\r\n\texpando\r\n};\r\n","import { IE11OrLess, Edge } from './BrowserInfo.js';\r\nimport { expando } from './utils.js';\r\nimport PluginManager from './PluginManager.js';\r\n\r\nexport default function dispatchEvent(\r\n\t{\r\n\t\tsortable, rootEl, name,\r\n\t\ttargetEl, cloneEl, toEl, fromEl,\r\n\t\toldIndex, newIndex,\r\n\t\toldDraggableIndex, newDraggableIndex,\r\n\t\toriginalEvent, putSortable, extraEventProperties\r\n\t}\r\n) {\r\n\tsortable = (sortable || (rootEl && rootEl[expando]));\r\n\tif (!sortable) return;\r\n\r\n\tlet evt,\r\n\t\toptions = sortable.options,\r\n\t\tonName = 'on' + name.charAt(0).toUpperCase() + name.substr(1);\r\n\t// Support for new CustomEvent feature\r\n\tif (window.CustomEvent && !IE11OrLess && !Edge) {\r\n\t\tevt = new CustomEvent(name, {\r\n\t\t\tbubbles: true,\r\n\t\t\tcancelable: true\r\n\t\t});\r\n\t} else {\r\n\t\tevt = document.createEvent('Event');\r\n\t\tevt.initEvent(name, true, true);\r\n\t}\r\n\r\n\tevt.to = toEl || rootEl;\r\n\tevt.from = fromEl || rootEl;\r\n\tevt.item = targetEl || rootEl;\r\n\tevt.clone = cloneEl;\r\n\r\n\tevt.oldIndex = oldIndex;\r\n\tevt.newIndex = newIndex;\r\n\r\n\tevt.oldDraggableIndex = oldDraggableIndex;\r\n\tevt.newDraggableIndex = newDraggableIndex;\r\n\r\n\tevt.originalEvent = originalEvent;\r\n\tevt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\r\n\r\n\tlet allEventProperties = { ...extraEventProperties, ...PluginManager.getEventProperties(name, sortable) };\r\n\tfor (let option in allEventProperties) {\r\n\t\tevt[option] = allEventProperties[option];\r\n\t}\r\n\r\n\tif (rootEl) {\r\n\t\trootEl.dispatchEvent(evt);\r\n\t}\r\n\r\n\tif (options[onName]) {\r\n\t\toptions[onName].call(sortable, evt);\r\n\t}\r\n}\r\n","import {$, fragmentDate} from '../../common'\r\nimport './date.scss'\r\nimport {ael} from \"@src/constants.js\";\r\nimport dispatchEvent from \"sortablejs/src/EventDispatcher.js\";\r\n\r\nconst dates = $('[custom-date]')\r\n\r\nif (dates) {\r\n   for (let date of dates) {\r\n      date[ael]('change', onChange)\r\n   }\r\n\r\n   function onChange({target}) {\r\n      const {yyyy, mm, dd} = fragmentDate(target.value)\r\n      const formated = `${yyyy}-${mm}-${dd}`\r\n      target.setAttribute('data-value', formated)\r\n      const customEvent =\r\n         new CustomEvent('date.changed',\r\n            {bubbles: true, cancelable: true, detail: {value: formated}}\r\n         )\r\n      target.dispatchEvent(customEvent)\r\n   }\r\n}\r\n","import {$, post} from \"../../common\";\r\n\r\nexport class Sync {\r\n  constructor($sync) {\r\n    this.$sync = $sync;\r\n    this.$log_content = $($sync).find('#log_content');\r\n    this.$sync.onclick = this.handleClick.bind(this)\r\n  }\r\n\r\n  async handleClick({target}) {\r\n    if (target.classList.contains('button')) {\r\n      let res = await post(`/adminsc/sync/${target.id}`);\r\n      if (res?.arr?.success) {\r\n        this.$log_content.innerText = res.arr?.content\r\n      }\r\n    } else {\r\n    }\r\n  }\r\n\r\n\r\n\r\n}\r\n","import './sync1c.scss'\r\nimport {Sync} from './Sync'\r\nimport {$} from '../../common'\r\n\r\nlet $sync = $('.sync').first();\r\nif ($sync) {\r\n  new Sync($sync)\r\n}\r\n","import {$} from \"../../common.js\";\r\n\r\nexport default function navigate(str) {\r\n\r\n   if (/\\/adminsc\\/settings/.test(str)\r\n      || /\\/adminsc\\/right\\/list/.test(str)\r\n      || /\\/adminsc\\/post\\/list/.test(str) ||\r\n      /\\/adminsc\\/todo\\/list/.test(str)) {\r\n      // rights()\r\n      $(\"[settings]\").addClass('current')\r\n\r\n\r\n   } else if (/\\/auth\\/profile/.test(str)) {\r\n      // user()\r\n   } else if (/\\/adminsc\\/crm/.test(str)) {\r\n      $(\"[crm]\").addClass('current')\r\n\r\n\r\n   } else if (/\\/adminsc\\/planning/.test(str)) {\r\n      $(\"[plan]\").addClass('current')\r\n\r\n   } else if (\r\n      /\\/adminsc\\/category/.test(str) ||\r\n      /\\/adminsc\\/product/.test(str)\r\n   ) {\r\n      $(\"[catalog]\").addClass('current')\r\n\r\n   } else if (\r\n      /\\/test/.test(str)\r\n      || /\\/opentest/.test(str)\r\n      || /\\/adminsc\\/opentest/.test(str)\r\n      || /\\/adminsc\\/test/.test(str)) {\r\n      $(\"[test]\").addClass('current')\r\n\r\n   } else {\r\n      $(\"[href='/adminsc']\").addClass('current')\r\n   }\r\n\r\n}","export default class DTO {\r\n   constructor(id = 0, target = null) {\r\n      this.id = id ?? 0\r\n      this.fields = {\r\n         [target?.dataset?.field]: target?.dataset?.value ?? target.innerText ?? target.checked\r\n      }\r\n      const relFields = target?.dataset?.field\r\n      const fields = relFields ? {[relFields]: target?.dataset?.value ?? target.innerText ?? target.checked} : {}\r\n      this.relation = {\r\n         name: target?.dataset?.relation ?? '',\r\n         id: target?.dataset?.value ?? 0,\r\n         fields,\r\n         pivot: {\r\n            field: target?.dataset?.pivotField,\r\n            value: target?.dataset?.pivotValue\r\n         }\r\n      }\r\n   }\r\n}","import './table.scss';\r\nimport {$, debounce, post} from '../../common';\r\nimport {ael} from \"@src/constants.js\";\r\nimport DTO from \"@src/Admin/DTO.js\";\r\nimport Select from \"@src/components/select/SelectNew.js\";\r\n\r\n\r\nexport default class Table {\r\n   constructor(table) {\r\n      this.table = table;\r\n      this.model = table.dataset.model ?? table.closest('[data-model]')?.dataset.model;\r\n      this.modelId = table.dataset.id ?? table.closest('[data-model]')?.dataset.id;\r\n      this.relation = table.dataset.relation ?? null;\r\n      this.relationModel = table.dataset.relationmodel ?? null;\r\n      this.updateOrCreateUrl = `/adminsc/${this.model}/updateOrCreate`\r\n      this.headers = $('.head');\r\n      this.inputs = $('[data-search]');\r\n      this.hidden = $('[hidden]');\r\n\r\n      this.table[ael]('click', this.handleClick.bind(this));\r\n      this.table[ael]('keyup', debounce(this.handleKeyup.bind(this)).bind(this));\r\n      this.table[ael]('paste', this.handlePaste.bind(this));\r\n      if (!this.relation) {\r\n         this.table[ael]('customSelect.changed', this.selectChange.bind(this));\r\n         this.table[ael]('checkbox.changed', this.checkboxChange.bind(this));\r\n         this.setSortables()\r\n         this.setSelects()\r\n         this.setCheckboxes()\r\n      }\r\n      this.setSortables()\r\n   }\r\n\r\n   async checkboxChange({target, detail}) {\r\n      const dto = new DTO(this.modelId, target)\r\n      await post(this.updateOrCreateUrl, dto)\r\n   }\r\n\r\n   async selectChange(detail) {\r\n      const target = detail.target\r\n      const modelId = target.parentNode?.dataset?.id\r\n      this.update(modelId, detail.target)\r\n   }\r\n   async update(modelId, target) {\r\n      const dto = new DTO(modelId, target)\r\n      const res = await post(`/adminsc/${this.model}/updateorcreate`, dto)\r\n   }\r\n   async handleClick(e) {\r\n      const target = e.target;\r\n\r\n      /// create\r\n      if (target.className === 'add-model') {\r\n         this.updateOrcreate(target)\r\n\r\n         /// edit\r\n      } else if (target.classList.contains('edit')) {\r\n         this.edit(target)\r\n\r\n         /// delete\r\n      } else if (\r\n         target.classList.contains('del') && !target.classList.contains('head')) {\r\n         this.modelDel(target)\r\n\r\n         // checkbox\r\n      } else if (target.type === 'checkbox') {\r\n\r\n         /// sort\r\n      } else if (target.classList.contains('head')\r\n         || target.classList.contains('icon')) {\r\n         const header = target.closest('.head');\r\n         if (header.hasAttribute('data-sort')) {\r\n            const index = [].findIndex.call(this.sortables, (el, i, inputs) => {\r\n               return el === header\r\n            });\r\n            this.sortColumn(index)\r\n         }\r\n      }\r\n   }\r\n\r\n   edit(target) {\r\n      if (target.classList.contains('head')) return false\r\n      const model = this.relation ? this.relationModel : this.model;\r\n      const id = this.relation ? target.dataset.id : this.modelId ?? target.dataset.id;\r\n      window.location = `/adminsc/${model}/edit/${id}`;\r\n   }\r\n\r\n   getIds() {\r\n      const els = $(this.table)[0].querySelectorAll('[data-id]');\r\n      return [].filter.call(els, function (el) {\r\n         return el.dataset.id !== '0'\r\n      })\r\n   }\r\n\r\n   handlePaste(e) {\r\n      e.target.innerText = e.clipboardData.getData('text/plain');\r\n      this.handleInput(e.target);\r\n      e.target.innerText = ''\r\n   }\r\n\r\n   handleKeyUp(e) {\r\n      e.cancelBubble = true;\r\n      const target = e.target;\r\n\r\n      // contenteditable\r\n      if (target.hasAttribute('contenteditable')) {\r\n         this.debouncedInput(target)\r\n\r\n         /// search\r\n      } else if (target.hasAttribute('data-search')) {\r\n         const header = target.closest('.head');\r\n         const index = [].findIndex.call(this.headers, (el, i, inputs) => {\r\n            return el === header\r\n         });\r\n         this.search(target, index)\r\n      }\r\n   }\r\n\r\n/// INPUT\r\n   async handleKeyup({target}) {\r\n      if (target.hasAttribute('data-search')) {\r\n         this.search(target)\r\n      } else if (target.hasAttribute('contenteditable')) {\r\n         // this.debouncedInput(target)\r\n         const res = await post(this.updateOrCreateUrl, this.DTO(target));\r\n         if (res?.arr?.id) {\r\n            this.newRow(res?.arr.id)\r\n         }\r\n      }\r\n   }\r\n\r\n   // DELETE\r\n   async modelDel(target) {\r\n      if (!confirm('?')) return;\r\n      const id = target.dataset['id'];\r\n      const res = await post(`/adminsc/${this.model}/delete`, {id});\r\n      if (res) {\r\n         this.delRow(id)\r\n      }\r\n   }\r\n\r\n   // UPDATE OR CREATE\r\n   async updateOrcreate(target) {\r\n      const res = await post(this.updateOrCreateUrl, this.DTO(target))\r\n      if (res.arr.id) {\r\n         this.newRow(res?.arr.id)\r\n      }\r\n   }\r\n\r\n\r\n   newRow(id) {\r\n      [].forEach.call(this.hidden, function (el) {\r\n            const newEl = el.cloneNode(true);\r\n            newEl.removeAttribute('hidden');\r\n\r\n            const tableContent = $(this.table).find('.custom-table');\r\n            tableContent.appendChild(newEl);\r\n            if (['id'].includes(newEl.dataset.field)) {\r\n               newEl.innerText = id\r\n            } else if (\r\n               !(\r\n                  ['del', 'edit', 'save'].includes(newEl.className) ||\r\n                  newEl.hasChildNodes('select')\r\n               )\r\n            ) {\r\n               newEl.innerText = ''\r\n            }\r\n            newEl.dataset['id'] = id\r\n\r\n         }.bind(this)\r\n      );\r\n   }\r\n\r\n\r\n/// SEARCH\r\n   search(target, iddex) {\r\n      const rows = this.fillRows();\r\n      [].forEach.call(rows, (row) => {\r\n         [].forEach.call(row, el => el.style.display = 'flex')\r\n      });\r\n\r\n      [].forEach.call(this.inputs, (input) => {\r\n         if (input !== target) input.value = ''\r\n      });\r\n      const targetHead = target.closest('.head')\r\n      const index = [].findIndex.call(this.headers, (el) => {\r\n         return el === targetHead\r\n      });\r\n      [].forEach.call(rows, function (row) {\r\n         const str = row[index].innerText;\r\n         const regexp = new RegExp(`${target.value}`, 'gi');\r\n         if (!str.match(regexp)) {\r\n            [].forEach.call(row, el => {\r\n               el.style.display = 'none'\r\n            })\r\n         }\r\n      });\r\n   }\r\n\r\n   fillRows() {\r\n      const rows = [];\r\n      const ids = this.getIds()\r\n      for (let i = 0; i < ids.length; i++) {\r\n         let id = ids[i].dataset.id;\r\n         let row = $(this.table)[0].querySelectorAll(`[data-id='${id}']`);\r\n         rows.push(row)\r\n      }\r\n      return rows\r\n   }\r\n\r\n// SORT\r\n   sortColumn(index) {\r\n      const rows = this.fillRows();\r\n      const direction = this.directions[index] || 'asc';\r\n      const multiplier = (direction === 'asc') ? 1 : -1;\r\n      const newRows = Array.from(rows);\r\n\r\n      newRows.sort(function (rowA, rowB) {\r\n         const cellA = rowA[index].innerHTML;\r\n         const cellB = rowB[index].innerHTML;\r\n\r\n         const a = this.transform(index, cellA);\r\n         const b = this.transform(index, cellB);\r\n\r\n         switch (true) {\r\n            case a > b:\r\n               return 1 * multiplier;\r\n            case a < b:\r\n               return -1 * multiplier;\r\n            case a === b:\r\n               return 0;\r\n         }\r\n      }.bind(this));\r\n\r\n      //   \r\n      [].forEach.call(rows, function (nodeList) {\r\n         [].forEach.call(nodeList, el => {\r\n            el.remove()\r\n         })\r\n      });\r\n\r\n      //  \r\n      this.directions[index] = direction === 'asc' ? 'desc' : 'asc';\r\n\r\n      //   \r\n      newRows.forEach(function (newRow) {\r\n         newRow = Array.from(newRow);\r\n         newRow.reverse();\r\n         [].forEach.call(newRow, el => {\r\n            this.headers[this.headers.length - 1].after(el)\r\n         })\r\n      }.bind(this));\r\n   }\r\n\r\n   transform(index, content) {//       \r\n      if (!this.sortables[index]) return;\r\n      const type = this.sortables[index].getAttribute('data-type');\r\n      return type === 'number' ? parseFloat(content) : content\r\n   }\r\n\r\n   delRow(id) {\r\n      const cells = $(`[data-id='${id}']`);\r\n      [].forEach.call(cells, function (cell) {\r\n         cell.remove()\r\n      })\r\n   }\r\n\r\n\r\n   setSortables() {\r\n      this.sortables = $('[data-sort]');\r\n      this.directions = Array.from(this.sortables)\r\n         .map(function (sortable) {\r\n            return ''\r\n         });\r\n   }\r\n   setSelects() {\r\n      const selects = $('[custom-select]');\r\n      [].forEach.call(selects, (select) => {\r\n         new Select(select)\r\n      });\r\n   }\r\n\r\n   setCheckboxes() {\r\n      const checkboxes = $('[my-checkbox]');\r\n      [].forEach.call(checkboxes, (checkbox) => {\r\n         checkbox[ael]('change', this.checkboxChange.bind(this))\r\n      });\r\n   }\r\n}\r\n\r\nconst tables = $('[custom-table]');\r\nif (tables) {\r\n   [].forEach.call(tables, function (table) {\r\n      new Table(table)\r\n   })\r\n}","import {$} from \"../../common.js\";\r\nexport default function adminScroll() {\r\n\r\n   const adminPanel = $('.admin-panel').first()\r\n\r\n   document.addEventListener(\r\n      'scroll',\r\n      handle.bind(adminPanel),\r\n      {passive: true}\r\n   );\r\n\r\n   function handle(){\r\n      if (adminPanel)\r\n         window.scrollY > 40 ? adminPanel.classList.add('fixed') : adminPanel.classList.remove('fixed')\r\n   }\r\n}\r\n","import './pages.scss'\r\nimport MyQuill from \"@src/components/quill/MyQuill.js\";\r\nimport {$} from \"@src/common.js\";\r\n\r\nexport default class Pages {\r\n   constructor() {\r\n      this.setTabs()\r\n      this.setPages()\r\n      this.setQuils()\r\n\r\n   }\r\n\r\n   setTabs() {\r\n      const tabs = $('.tab');\r\n      tabs[0].classList.add('active');\r\n      [].forEach.call(tabs, (tab) => {\r\n         tab.addEventListener('click', (e) => {\r\n            const id = e.target.dataset.id;\r\n            $(`.page.active`).first().classList.remove('active')\r\n            $(`.page[data-id='${id}']`).first().classList.add('active')\r\n            $('.tab.active').first().classList.remove('active');\r\n            e.target.classList.add('active');\r\n         })\r\n      })\r\n   }\r\n\r\n   setPages() {\r\n      const pages = $('.page')\r\n      pages[0].classList.add('active')\r\n   }\r\n\r\n   setQuils() {\r\n      const quils = $(\".quill[data-id]\");\r\n      quils[0].classList.add('active');\r\n      [].forEach.call(quils, (quil) => {\r\n         this.id = quil.dataset.id;\r\n         new MyQuill(`.quill[data-id='${this.id}']`, true, true, true, 'snow', this.dto.bind(this));\r\n      })\r\n   }\r\n\r\n   dto(change) {\r\n      return {\r\n         id: this.id,\r\n         model: \"pages\",\r\n         fields: {\r\n            \"content\": change,\r\n         }\r\n      }\r\n   }\r\n}","import './users.scss'\r\nimport {$, post} from \"@src/common.js\";\r\nimport Select from \"@src/components/select/SelectNew.js\";\r\nimport {ael} from \"@src/constants.js\";\r\nimport DTO from \"@src/Admin/DTO.js\";\r\n\r\nexport default class Users {\r\n   constructor() {\r\n      const table = $(`[data-model='user']`)[0]\r\n      table[ael]('customSelect.changed',this.selectChange.bind(this))\r\n      this.setSelects()\r\n   }\r\n\r\n   setSelects() {\r\n   const selects = $('[custom-select]');\r\n      [].forEach.call(selects,select=>{\r\n         new Select(select)\r\n      })\r\n   }\r\n   selectChange(e){\r\n      const role_id =  e.detail.next.value\r\n      const user_id =  e.detail.target.parentNode.dataset.id\r\n      const dto = new DTO()\r\n      dto.id = user_id\r\n      dto.relation.name = e.detail.target?.dataset?.relation\r\n      dto.relation.fields = {\r\n         // user_id,\r\n         role_id,\r\n      }\r\n      const res = post('/adminsc/user/changeRole',dto)\r\n\r\n\r\n   }\r\n}\r\n\r\n\r\n","import './users.scss'\r\n\r\nimport {$} from '../../common'\r\nimport Select from \"@src/components/select/SelectNew.js\";\r\n\r\nexport default class User {\r\n   constructor() {\r\n      const item = $('[data-model=\"user\"]')[0]\r\n      if (!item) return false\r\n      this.setSelects()\r\n   }\r\n\r\n   setSelects() {\r\n      const selects = $(' [custom-select]');\r\n      [].forEach.call(selects, (select) => {\r\n         new Select(select)\r\n      })\r\n   }\r\n   setRights()\r\n   {\r\n      let str = rights().replace(/,$/, \"\")\r\n      let tab = $(`[data-field='rights']`)[0]\r\n      tab.dataset.value = str\r\n   }\r\n\r\n   rights()\r\n   {\r\n      let right = $('.right:checked')\r\n      let rights = '';\r\n      [].map.call(right, (r) => {\r\n         let str = r.previousElementSibling.innerText + ','\r\n         rights += str\r\n      }, rights)\r\n      return rights\r\n   }\r\n\r\n   confirm()\r\n   {\r\n      const confirm = $('#conf option')\r\n      for (let f of confirm) {\r\n         if (f.selected) {\r\n            return f.value\r\n         }\r\n      }\r\n      return '0'\r\n\r\n   }\r\n}\r\n// async handleClick({target}) {\r\n//    if (!!target.closest('#save')) {\r\n//\r\n//       let wrapper = $('.user-item')[0]\r\n//       let data = getModel(wrapper)\r\n//\r\n//       let res = await post('/adminsc/user/update', data)\r\n//\r\n//    } else if (target.classList.contains('right')) {\r\n//       let rights = $('input.right:checked')\r\n//       let str = '';\r\n//       [].map.call(rights, function (right) {\r\n//          let s = right.previousElementSibling.innerText\r\n//          str += s + ','\r\n//       })\r\n//       let tab = target.closest('[data-tab]')\r\n//       tab.dataset.value = str\r\n//    }\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import {$} from \"../common.js\"\r\nimport {qs} from '../constants'\r\nimport '../components/footer/footer.scss'\r\nimport '../components/popup.scss'\r\nimport './admin.scss'\r\n\r\nimport './model/cache.js';\r\nimport '../components/accordion/accordion.js'\r\nimport '../components/date/date.js'\r\n\r\nimport './sync1c/sync1c.js'\r\nimport './Planning/planning.js'\r\nimport './Settings/settings.js'\r\nimport './Videoinstructions/videoinstructions.js'\r\nimport './ProductFilter/ProductFilter'\r\nimport './Category/Category.js'\r\n\r\nimport Promotion from \"../Promotions/Promotion.js\"\r\n\r\nimport Search from \"../components/search/search.js\"\r\nimport Navigate from \"./components/Navigate.js\";\r\nimport '../components/table/table.js'\r\nimport adminScroll from  '../share/scroll/adminScroll.js'\r\n\r\nimport AdminHeader from \"../components/header/header-adm.js\";\r\nimport Pages from \"@src/Admin/Pages/pages.js\";\r\nimport Users from \"@src/Admin/User/users.js\";\r\nimport User from \"@src/Admin/User/user.js\";\r\n\r\n\r\n\r\n$(document).ready(async function () {\r\n\r\n   if (window.location.pathname === '/adminsc/pages') {\r\n      new Pages\r\n   }\r\n   else if (window.location.pathname === '/adminsc/user'){\r\n      new Users\r\n   }\r\n   else if (window.location.pathname.startsWith('/adminsc/user/edit')){\r\n      new User\r\n   }\r\n   const cardPanel = document[qs](`.card-panel`)\r\n   if (cardPanel) {\r\n      const {default: Card_panel} = await import(\"./../share/card_panel/card_panel\")\r\n      new Card_panel()\r\n   }\r\n\r\n   adminScroll()\r\n   const admin = window.location.pathname.includes('adminsc')\r\n   if (!admin) return false\r\n\r\n   // new AdminHeader()\r\n\r\n\r\n   // const test = window.location.href.includes(\"/test\")\r\n   // if (test){\r\n   //    const {default:Test} = await import('./Test/index.js')\r\n   // }\r\n\r\n   const AdminSidebar = $('.sidebar').first()\r\n   if (AdminSidebar){\r\n      const {default: Accordion} = await import('../Admin/components/AdminSidebar/AdminSidebar.js')\r\n      new Accordion(AdminSidebar)\r\n   }\r\n\r\n   const product = document[qs](`.item-wrap[data-model='product']`)\r\n   if (product) {\r\n      const {default: Product} = await import('./Product/Product.js')\r\n      new Product();\r\n   }\r\n   const catalogItem = document[qs]('.item-wrap')\r\n   if (catalogItem) {\r\n      const {default: CatalogItem} = await import('./components/catalog-item/catalog-item.js')\r\n      new CatalogItem(catalogItem)\r\n   }\r\n\r\n   if (document[qs]('.order-edit')) {\r\n      const {default: Order} = await import('./Order/order.js')\r\n      new Order()\r\n   }\r\n\r\n   if (document[qs]('.modal')) {\r\n      const {default: Modal} = await import(\"../components/Modal/modal.js\")\r\n      new Modal\r\n   }\r\n\r\n   const category = document[qs](`.item-wrap[data-model='category']`)\r\n   if (category) {\r\n      const {default: Category} = await import('./Category/Category.js')\r\n      new Category(category)\r\n   }\r\n   new Promotion();\r\n   new Search(true);\r\n\r\n\r\n   Navigate(window.location.pathname);\r\n\r\n   const chart = document.getElementById('income')\r\n   if (chart){\r\n      const {default: MyChart} = await import('./chartjs/chartjs.js')\r\n   }\r\n});\r\n\r\n\r\n\r\n"],"file":"assets/admin-kImGN_0D.js"}
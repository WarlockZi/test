{"version":3,"file":"Props-CPRaJmtp.js","sources":["../../src/Admin/Product/Props.js"],"sourcesContent":["import './values.scss'\r\nimport {$, post} from '../../common.js'\r\nimport SelectNew from \"../../components/select/SelectNew\";\r\n\r\nexport default class Props {\r\n  constructor($product) {\r\n    this.$product = $product;\r\n    this.properties = $($product).find('.values');\r\n    this.values = this.properties.querySelectorAll('.value');\r\n    this.properties.addEventListener('customSelect.changed', this.selectChanged.bind(this));\r\n    this.values.forEach((value) => {\r\n      new SelectNew(value)\r\n    })\r\n  }\r\n\r\n  dto() {\r\n    return {\r\n      product_id: this.$product.dataset.id,\r\n      morphed: {\r\n        old_id: 0,\r\n        new_id: 0\r\n      }\r\n    }\r\n  }\r\n\r\n  async selectChanged(obj) {\r\n    let data = this.dto();\r\n    data.morphed.old_id = obj.detail.prev.value;\r\n    data.morphed.new_id = obj.detail.next.value;\r\n    let res = await post(`/adminsc/product/changeVal`, data)\r\n  }\r\n}\r\n\r\n"],"names":["Props","$product","$","value","SelectNew","obj","data","post"],"mappings":"4KAIe,MAAMA,CAAM,CACzB,YAAYC,EAAU,CACpB,KAAK,SAAWA,EAChB,KAAK,WAAaC,EAAED,CAAQ,EAAE,KAAK,SAAS,EAC5C,KAAK,OAAS,KAAK,WAAW,iBAAiB,QAAQ,EACvD,KAAK,WAAW,iBAAiB,uBAAwB,KAAK,cAAc,KAAK,IAAI,CAAC,EACtF,KAAK,OAAO,QAASE,GAAU,CAC7B,IAAIC,EAAUD,CAAK,CACzB,CAAK,CACF,CAED,KAAM,CACJ,MAAO,CACL,WAAY,KAAK,SAAS,QAAQ,GAClC,QAAS,CACP,OAAQ,EACR,OAAQ,CACT,CACF,CACF,CAED,MAAM,cAAcE,EAAK,CACvB,IAAIC,EAAO,KAAK,MAChBA,EAAK,QAAQ,OAASD,EAAI,OAAO,KAAK,MACtCC,EAAK,QAAQ,OAASD,EAAI,OAAO,KAAK,MAC5B,MAAME,EAAK,6BAA8BD,CAAI,CACxD,CACH"}